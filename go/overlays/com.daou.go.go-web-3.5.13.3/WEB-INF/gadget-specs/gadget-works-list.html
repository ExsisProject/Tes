<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <title>Works app - 목록형</title>
    <meta name = "gadget:name-ko" content="Works app - 목록형" />
    <meta name = "gadget:name-en" content="Works app - Type list" />
    <meta name = "gadget:name-ja" content="Works app - リスト型" />
    <meta name = "gadget:name-zhcn" content="Works app - 目录型" />
    <meta name = "gadget:name-zhtw" content="Works app - 目錄型" />
    <meta name = "gadget:name-vi" content="Ứng dụng Works - Dạng mục lục" />
    <meta name = "gadget:description" content="Works 앱의 목록을 보여주는 가젯입니다." />
    <meta name = "gadget:version" content="2.3.2" />
    <meta name = "gadget:app-dependency" content="WORKS" />
    <meta name = "gadget:thumbnail" content="gadget_works_list.png" />

    <!-- 테스트 할 로케일은 여기에 설정하세요.-->
    <meta name = "locale" content="ko" />

    <!-- 컨텍스트 루트는 여기서 설정하세요 -->
    <meta name = "contextRoot" content="/" />

    <link rel="stylesheet" href="css/go-gadget-standalone.css" media="screen, print" />
    <script type="text/javascript" src="js/go-gadget-standalone.js"></script>

    <script type="text/javascript" id="go-gadget-script">

    gadget.load({

        highlightable : true,

        refreshable: true,

        langs: {

            //셋팅 화면
            "title_app": "앱 선택",
            "title_label": "가젯 제목",
            "title_filter": "필터 선택",
            "app_name_default": "앱명",
            "all": "전체",
            "title_select_column": "표시할 항목",
            "title_detail_filter": "필터 상세",
            "basic_filter": "기본 필터",
			"personal_filter": "개인 필터",

            //validate message
            "select_app_default": "선택하세요.",
            "message_select_applet": "앱을 선택해 주세요.",
            "message_select_filter": "필터를 선택해 주세요.",
            "app_empty_label": "앱이 존재하지 않습니다.",
            "no_filter": "필터가 존재하지 않습니다.",
            "title_size_limit":"가젯제목은 2~20자 까지만 입력할 수 있습니다.",
            "error":"요청하신 내용을 불러오지 못했습니다. 오류가 지속될 경우, 문의해 주십시오.",
            "initialLabel":"'WORKs App'가젯은 사용자에 맞게 설정을 해야 합니다. [대시보드]편집 모드에서 설정 값을 변경하세요.",

            "en": {
                //셋팅 화면
                "title_app": "Select Apps",
                "title_label": "Gadget Title",
                "title_filter": "Select Filter",
                "add": "Add",
                "app_name_default": "App's name",
                "all": "All",
                "title_select_column": "Items to be marked",
                "title_detail_filter": "필터 상세",
                "basic_filter": "Basic Filter",
    			"personal_filter": "Personal Filter",

                //validate message
                "select_app_default": "Please select.",
                "message_select_applet": "Please select apps.",
                "message_select_filter": "Please select filter.",
                "app_empty_label": "There's no app",
                "no_filter": "There's no filter.",
                "title_size_limit":"You can enter 2 characters or more and 20 characters or less.",
                "error":"Fail to import the file. If the error hold out, pleas ask.",
                "initialLabel":"The gadget 'WORKs App', should be personalized. Change the setpoint in Editor of [Dashboard].",
            },

            "ja": {
                //셋팅 화면
                "title_app": "アプリ選択",
                "title_label": "ガジェット件名",
                "title_filter": "フィルタ選択",
                "add": "追加",
                "app_name_default": "アプリ名",
                "all": "全体",
                "title_select_column": "表示する項目",
                "title_detail_filter": "필터 상세",
                "basic_filter": "基本フィルタ",
    			"personal_filter": "個人フィルタ",

                //validate message
                "select_app_default": "選択してください。",
                "message_select_applet": "アプリを選択してください。",
                "message_select_filter": "フィルタを選択してください。",
                "app_empty_label": "アプリが存在しません。",
                "no_filter": "フィルタが存在しません。",
                "title_size_limit":"カジェット件名は2～20文字まで入力することができます。",
                "error":"要請した内容をインポートできませんでした。エラーが継続して発生する場合はお問い合わせください。",
                "initialLabel":"'WORKs App'ガジェットはユーザに合わせて設定する必要があります。[ダッシュボード]編集モードで設定値を変更してください。",
            },

            "zh_CN": {
                //셋팅 화면
                "title_app": "选择APP",
                "title_label": "小工具主题",
                "title_filter": "选择过滤器",
                "add": "追加",
                "app_name_default": "APP名",
                "all": "全体",
                "title_select_column": "显示的项目",
                "title_detail_filter": "필터 상세",
                "basic_filter": "基本过滤器",
    			"personal_filter": "个人过滤器",

                //validate message
                "select_app_default": "请选择。",
                "message_select_applet": "请选择APP。",
                "message_select_filter": "请选择过滤器。",
                "app_empty_label": "APP不存在。",
                "no_filter": "过滤器不存在。",
                "title_size_limit":"小工具的主题可以输入2～20个字符。",
                "error":"无法导入请求的内容。持续发生错误时，请与管理员联系。",
                "initialLabel":"'WORKs App'必须根据用户设置。请在[仪表盘]的编辑模式里更改设定值。",
            },

            "zh_TW": {
                //셋팅 화면
                "title_app": "選擇APP",
                "title_label": "小工具主題",
                "title_filter": "選擇過濾器",
                "add": "追加",
                "app_name_default": "APP名",
                "all": "全體",
                "title_select_column": "顯示的項目",
                "title_detail_filter": "필터 상세",
                "basic_filter": "基本過濾器",
    			"personal_filter": "個人過濾器",

                //validate message
                "select_app_default": "請選擇。",
                "message_select_applet": "請選擇APP。",
                "message_select_filter": "請選擇過濾器。",
                "app_empty_label": "APP不存在。",
                "no_filter": "過濾器不存在。",
                "title_size_limit":"小工具的主題可以輸入2～20個字符。",
                "error":"無法導入請求的內容。持續發生錯誤時，請與管理員聯繫。",
                "initialLabel":"'WORKs App'必鬚根據用戶設置。請在[儀錶盤]的編輯模式裡更改設定值。",
            },
            "vi": {
            	//셋팅 화면
                "title_app": "Chọn ứng dụng",
                "title_label": "Tiêu đề gadget",
                "title_filter": "Chọn filter",
                "app_name_default": "Tên ứng dụng",
                "all": "Toàn bộ",
                "title_select_column": "Hạng mục sẽ hiển thị",
                "title_detail_filter": "필터 상세",
                "basic_filter": "Filter cơ sở",
    			"personal_filter": "Filter cá nhân",

                //validate message
                "select_app_default": "Vui lòng chọn.",
                "message_select_applet": "Vui lòng chọn ứng dụng.",
                "message_select_filter": "Vui lòng chọn filter.",
                "app_empty_label": "Không tồn tại ứng dụng.",
                "no_filter": "Không tồn tại filter.",
                "title_size_limit":"Có thể nhập tiêu đề gadget từ 2~20 ký tự.",
                "error":"Không gọi được nội dung đã yêu cầu. Vui lòng liên hệ trong trường hợp liên tục phát sinh lỗi.",
                "initialLabel":"Phải cài đặt 'ứng dụng WORKs' gadget phù hợp với người sử dụng. Vui lòng đổi giá trị cài đặt tại chế độ biên tập [Bảng điều khiển]."
            }
        },

        defaultOptions: {
        },

        renderConfig: function(el) {
            this.el = el;
            var self = this;
            $(el).append(this._configTemplate());
         	// event binding
            this._bindEvents(el);
            var urlstr = this.contextRoot + "api/works/applets";
            jQuery.ajax({
                url : urlstr,
                type : "GET",
                success : function(resp) {
                    self._appletArrayParsing(el, resp.data);
                }
            });
        },

        _bindEvents: function(el) {
        	var self = this;
        	$(el).find("#id_filter_select").on("change", function(e){
           	 //기존 항목 제거 (필터 상세)
            $(el).find('#id_detail_filter_select option').remove();

    		self._detailFilterArrayParsing(el, $(el).find('#id_applet_select').val(), $(el).find('#id_filter_select').val());
       		});
        },

        onSuccess: function(el, resp) {
            var self = this;
            var savedAppletId = this._getSavedAppletId();
            if(savedAppletId < 0){
                $(el).empty().append(self._contentEmptyTemplate());
                return;
            }
            require([
                "when",
                "works/components/filter/models/filter",
                "works/collections/fields",
                "works/components/list_manager/models/list_setting",
                "works/components/list_manager/collections/list_columns",
                "works/collections/docs",
                "works/components/doc_list/views/doc_list",
                "works/components/filter/collections/filter_conditions"
            ], function(
                when,
                Filter,
                Fields,
                ListSetting,
                Columns,
                Docs,
                DocListView,
                Conditions
            ) {
                var appletId = self._getSavedAppletId();
                var filterId = self._getSavedDetailFilterData();

                if(filterId < 0) {
                    self.filter = new Filter({"appletId" : appletId});
                } else {
                    self.filter = new Filter({"appletId" : appletId, "id" : filterId});
                }
                self.docs = new Docs([], {"appletId" : appletId});

                self._dataFetch(Fields, ListSetting, appletId);
                var fetchOption = {statusCode: {}};


                $.when(self.fieldsFetched, self.settingFetched, self.filter.fetch(fetchOption)).done($.proxy(function() {
                    $(el).empty().append(self._contentListTemplate());

                    self.conditions = new Conditions(self.filter.get("conditions"));
                    self.conditions.mergeFromFields(self.fields.toJSON());
                    self.fields.mergeFromConditions(self.conditions.toJSON());

                    self.columns = new Columns();
                    self.columns.reset(self.setting.get("columns"));
                    self.columns.setTitleColumnByIndex(self.setting.get("titleColumnIndex"));

                    self.docs.queryString = self.filter.getSearchQuery(self.conditions);
                    self.docs.pageNo = 0;
                    self.docs.pageSize = 10;
                    self.docs.navigationSize = 5;
                    self.docs.fetch({
                        error : function() {
                            $(el).empty().append(self._contentEmptyTemplate());
                        }
                    });

                    self.listView = new DocListView({
                        appletId: appletId,
                        checkbox: false,
                        readOnly: true,
                        useToolbar: false,
                        setting: self.setting,
                        collection: self.docs,
                        fields: self.fields,
                        usePageSize: false,
                        buttons: [],
                        gridClass: "gadget_works_list",
                        isContainsTemplate: false
                    });

                    var checkedData = self._getSavedColumnData();
                    var columnArray = _.isArray(checkedData) ? checkedData : [checkedData];
                    var customColumns = [];

                    columnArray.splice(0, 0, self.columns.findWhere({isTitle : true}).toJSON().fieldCid);
                    _.filter(self.fields.toJSON(), function(field){
                        if(_.contains(columnArray, field.cid)){
                            customColumns.push(field);
                        }
                    });
                    self.setting.set("titleColumnIndex", 0);
                    self.listView.setCustomColumns(customColumns);

                    self.listView.dataFetch().done(function() {
                        $(el).find("div .scroll_wrap_x").append(self.listView.render().el);
                        $(el).find(".dataTables_wrapper").find(".tool_bar").first().remove();
                    }, self);

                    self._goToDocDetail(self.listView, appletId);
                }, self)).fail(function(err) {
                    if(err.status == 403){
                        $(el).empty().append(self._contentEmptyTemplate());
                    }else{
                        $(el).empty().append(self._contentErrorTemplate());
                    }
                });
            });
        },

        validate: function(el) {
            var titleValue =  this._selectedGadgetTitle(el);
            var selectedAppletId  = this._selectedAppletId(el);
            var selectedFilterId = this._selectedFilterId(el);
             if(titleValue.length > 20 || titleValue.length < 2) {
                var message = this.i18n.parse('title_size_limit');
                return message;
            }
            if(selectedAppletId == null || selectedAppletId == -1) {
                var message = this.i18n.parse('message_select_applet');
                return message;
            }
            else if(selectedFilterId == "") {
                var message = this.i18n.parse('message_select_filter');
                return message;
            }
            return false;
        },

        _dataFetch: function(Fields, ListSetting, appletId) {
            var self = this;
            if (!self.fields) {
                self.fields = new Fields([], {"appletId" : appletId, "includeProperty": true, type: 'accessible', includeDocNoAndProcess: true});
                self.fieldsFetched = $.Deferred();
                self.fields.fetch({
                    success: function() {
                        self.fieldsFetched.resolve();
                    },
                    statusCode: {}
                });
            }
            if (!self.setting) {
                self.setting = new ListSetting({}, {"appletId" : appletId});
                self.settingFetched = $.Deferred();
                self.setting.fetch({
                    success: function() {
                        self.settingFetched.resolve();
                    },
                    statusCode: {}
                });
            }
        },

        _goToDocDetail: function(listView, appletId) {
            var self = this;
            listView.$el.on("navigate:grid", $.proxy(function(event, docId) {
                GO.router.navigate("works/applet/" + appletId + "/doc/" + docId, true);
            }, self));
        },

        //앱 목록 파싱
        _appletArrayParsing: function(el, appArray) {
            var self = this;
            var appCount = appArray.length == undefined ? 0 : appArray.length;

            if(appCount == 0) {
                $(el).find('#id_applet_select').append('<option value= -1> ' + self.i18n.parse('app_empty_label') + '   </option>');
                $(el).find('#id_filter_select').append('<option value= -1> ' + self.i18n.parse('no_filter') + '   </option>');
            }else{
                $(el).find('#id_applet_select').append('<option value="-1"> ' + self.i18n.parse('select_app_default') + '   </option>');
            }

            var savedAppId = this._getSavedAppletId();

            for (var  i = 0; i < appCount; i++) {
                //앱 타이틀
                var appName = appArray[i].name;
                var appletId = appArray[i].id;
                $(el).find('#id_applet_select').append('<option value=' + appletId +'> ' + appName + '   </option>');
                if(savedAppId == -1){ //저장된 값이 없는 경우.
                    if(i == 0) {
                        $(el).find('#id_applet_select').val(appletId);
                        self._filterArrayParsing(el, appletId);
                        self._columnArrayParsing(el, appletId, false);
                    }
                }else {//저장된 값이 있을 경우
                    if(appletId == savedAppId) {
                        $(el).find('#id_applet_select').val(appletId);
                        self._filterArrayParsing(el, appletId);
                        self._columnArrayParsing(el, appletId, false);
                    }
                }
            }

            // 앱이 변경되는 경우.
            $(el).find("#id_applet_select").on("change",function(e){
                 //기존 항목 제거 (필터)
                $(el).find('#id_filter_select option').remove();

                //기존 항목 제거 (필터 상세)
                $(el).find('#id_detail_filter_select option').remove();
                //기존 항목 제거
                $(el).find('#id_checkbox_area span').remove();

                //항목 다시 설정
                var $target = $(e.target);
                var selectid = $target.val();

                 for (var i = 0; i < appCount; i++) {
                     var appletId = appArray[i].id;
                     if(selectid == appletId) {
                        self._filterArrayParsing(el, appletId);
                        self._columnArrayParsing(el, appletId, true);
                        break;
                     }
                 }
            });
        },

        _getSavedAppletId: function(){
            var savedAppId = -1;
            if(_.has(this.options, 'id_applet_select')){
                savedAppId = this.options.id_applet_select;
            }
            return savedAppId;
        },

        _filterArrayParsing: function(el, appletId) {
        	var self = this;
        	var savedFilterId = this._getSavedFilterData();
            var url = this.contextRoot + "api/works/applets/" + appletId + "/filters/mine";

            $(el).find('#id_filter_select option').remove();
			$(el).find('#id_filter_select').append('<option value="base"> ' + self.i18n.parse('basic_filter') + '</option>');
			$(el).find('#id_filter_select').append('<option value="mine"> ' + self.i18n.parse('personal_filter') + '</option>');

			if(savedFilterId == -1) { //저장된 값이 없는 경우.

        			self._detailFilterArrayParsing(el, appletId, $(el).find('#id_filter_select').val());

            }else {//저장된 값이 있을 경우
                    $(el).find('#id_filter_select').val(savedFilterId);
                    self._detailFilterArrayParsing(el, appletId, $(el).find('#id_filter_select').val());
            }

        },

        _detailFilterArrayParsing: function(el, appletId, filterType){
			var self = this;
			var savedDetailFilterId = this._getSavedDetailFilterData();
			var url = this.contextRoot + "api/works/applets/" + appletId + "/filters/" + filterType;
			jQuery.ajax({
                url : url,
                type : "GET",
                success : function(resp) {
                    var filters = resp.data;
                    $(el).find('#id_detail_filter_select option').remove();

                    if(filterType == "base"){
                    	$(el).find('#id_detail_filter_select').append('<option value= -1>'+ self.i18n.parse('all') +'   </option>');
					}else if(filters.length == 0){
						$(el).find('#id_detail_filter_select').append('<option value= ""> ' + self.i18n.parse('no_filter') + '   </option>');

						return;
					}

                    for(var i = 0; i < filters.length; i++) {
                        var filterId = filters[i].id;
                        var filterName = filters[i].name;
                        $(el).find('#id_detail_filter_select').append('<option value=' + filterId +'>'+ filterName +'</option>');
                        if(savedDetailFilterId == filterId){
							$(el).find('#id_detail_filter_select').val(filterId);
						}
                    }
                }
            });
		},

        _columnArrayParsing: function(el, appletId, refresh) {
            var self = this;
            require([
                "when",
                "works/collections/fields",
                "works/components/list_manager/collections/list_columns",
                "works/components/list_manager/models/list_setting"
            ], function(
                when,
                Fields,
                Columns,
                ListSetting
            ) {

                //대상 칼럼
                self.fields = null;
                self.setting = null;
                self._dataFetch(Fields, ListSetting, appletId);

                $.when(self.fieldsFetched, self.settingFetched).done($.proxy(function() {
                    var checkedData = self._getSavedColumnData();
                    var columnArray = _.isArray(checkedData) ? checkedData : [checkedData];

                    self.columns = new Columns();

                    self.columns.reset(self.setting.get("columns"));
                    self.columns.setTitleColumnByIndex(self.setting.get("titleColumnIndex"));
                    self.columns.setSortColumnByIndex(self.setting.get("sortColumnIndex"), self.setting.get("sortDirection"));
                    self.columns.reset(self.columns.filterByFields(self.fields.toJSON())); // 안쓰이는 데이터 필터링
                    self.columns.mergeFromFields(self.fields.toJSON());

                    self.columnFields = self.fields.getColumnFields();
                    self.columnFields.mergeFromColumns(self.columns.toJSON());

                    var titleColumn = self.columns.findWhere({isTitle : true});
                    var titleColumnCid = ""
                    if(titleColumn) {
                        titleColumnCid = titleColumn.toJSON().fieldCid;
                    }

                    _.each(self.columnFields.models, function(columnField){
                        var field = columnField.toJSON();
                        var label = field.label;
                        var cid = field.cid;
                        var input_id = "id_input_column" + cid;
                        var input_name = "id_input_column";
                        var savedColumnCid = "";
                        var savedColumnCount = columnArray.length;

                        for (var i = 0; i < savedColumnCount; i++) {
                            var item = columnArray[i];
                            if(item == cid){
                                savedColumnCid = item;
                                break;
                            }
                        }

                        var checkedString = "",
                            disabledString = "";
                        if(titleColumnCid == cid) {
                            disabledString = "disabled='true'";
                            checkedString = "checked='checked'";
                        }

                        if(_.contains(columnArray, savedColumnCid) && refresh == false ){
                            checkedString = "checked='checked'";
                        }
                        $(el).find('#id_checkbox_area').append('<span class="wrap_option wrap_label"><input id = '+input_id+' name='+input_name+' type="checkbox" value='+cid+' '+checkedString + disabledString + '><label for= '+input_id+'>'+label+'</label></span>');
                    });
                }, self));
            });
        },

        _getSavedColumnData: function(){
            var columnArray = [];
            if( _.has(this.options, 'id_input_column') ){
                columnArray = this.options.id_input_column;
            }
            return  columnArray;
        },

        _getSavedFilterData: function(){
            var savedFilterId = -1;
            if(_.has(this.options, 'id_filter_select')){
                savedFilterId = this.options.id_filter_select;
            }
            return  savedFilterId;
        },

        _getSavedDetailFilterData: function(){
            var savedFilterId = -1;
            if(_.has(this.options, 'id_detail_filter_select')) {
                savedFilterId = this.options.id_detail_filter_select;
            }
            return  savedFilterId;
        },

        //초기 셋팅화면 구성
        _configTemplate: function() {
            var html = [];
            //가젯 제목
            html.push('<ul class="static_style">');
                html.push('<li>');
                html.push('<ul class="standard_style display-options">');
                    html.push('<p class="title">' + this.i18n.parse('title_label') + '</p>');
                    var title_data = this._getTitleData();
                    html.push('<span class="wrap_txt wrap_label">');
                        html.push('<input class="txt w_max" id="id_gadget_title" type="text" value="'+ title_data +'" name = "id_gadget_title">');
                    html.push('</span>');
                html.push('</ul>');
                html.push('</li>');

                //앱 선택
                html.push('<li>');
                html.push('<ul class="static_style display-options">');
                    html.push('<p class="title">' + this.i18n.parse('title_app') + '</p>');
                    html.push(this._buildSelect("id_applet_select"));
                html.push('</ul>');
                html.push('</li>');

                //필터 선택
                html.push('<li>');
                html.push('<ul class="static_style display-options">');
                    html.push('<p class="title">' + this.i18n.parse('title_filter') + '</p>');
                    html.push(this._buildSelect("id_filter_select"));
                html.push('</ul>');
                html.push('</li>');

              	//필터 상세 선택
				html.push('<li>');
				html.push('<ul class="static_style display-options">');
					html.push('<p class="title">' + this.i18n.parse('title_detail_filter') + '</p>');
					html.push(this._buildSelect("id_detail_filter_select"));
				html.push('</ul>');
				html.push('</li>');

                //표시할 항목 선택
                html.push('<li>');
                html.push('<ul class="static_style display-options">');
                    html.push('<p class="title">' + this.i18n.parse('title_select_column') + '</p>');
                    html.push(this._buildCheckArea('id_checkbox_area'));
                html.push('</ul>');
                html.push('</li>');
            html.push('</ul>');
            return html.join("\n");
        },

        _buildCheckArea: function(id_value) {
            var html = [];
            html.push('<span class="wrap_option wrap_label" id = \"'+ id_value +'\" name = \"'+ id_value +'\"  >');
            html.push('</span>');
            return html.join("\n");
        },

         _getTitleData: function(){
            var title_data = this.i18n.parse('app_name_default');
            if( _.has(this.options, 'id_gadget_title') ){
                title_data = this.options.id_gadget_title;
            }
            return title_data;
        },

        _buildSelect: function(id_value) {
            var html = [];
            html.push(' <select id = {{id}} name = {{id}} > ');
            html.push(' </select>');
            return this.template(html.join("\n"), {
                "id": id_value
            });
        },
        _contentGadgetTemplate: function() {
            var html = [];
            var title_data = this._getTitleData();
            //가젯 제목
            html.push('<div class="go-gadget-header go_gadget_header">');
                    html.push('<div class="gadget_h1">');
                        html.push('<span class="type"><span class="ic_dashboard2 ic_type_todo" title=""></span></span>');
                        html.push('<span class="title">'+title_data+'</span>');
                    html.push('</div>');
            html.push('</div>');
            return html;
        },

        _contentErrorTemplate: function() {
            var html = this._contentGadgetTemplate();
            html.push('<ul class="type_simple_list simple_list_notice">');
                html.push('<li class="null_data">');
                    html.push('<span class="ic_data_type ic_error_page"></span>');
                    html.push('<p class="desc">' + this.i18n.parse('error') + '</p>');
                html.push('</li>');
            html.push('</ul>');
            return this._contentListDecorator(html.join("\n"));
        },

        _contentEmptyTemplate: function() {
            var html = this._contentGadgetTemplate();
            html.push('<ul class="type_simple_list simple_list_notice">');
                html.push('<li class="null_data">');
                    html.push('<span class="ic_data_type ic_error_page"></span>');
                    html.push('<p class="desc">'+ this.i18n.parse('initialLabel') + '</p>');
                html.push('</li>');
            html.push('</ul>');
            return this._contentListDecorator(html.join("\n"));
        },

        _contentListTemplate: function() {
            var html = this._contentGadgetTemplate();
            html.push('<div class="scroll_wrap_x"></div>');
            return this._contentListDecorator(html.join("\n"));
        },

        _contentListDecorator: function(content, tvars) {
            return this.template(
                '<div class="gadget_design_wrap">{{>content}}</div>',
                _.defaults(tvars || {}, { "highlight?": _.has(this.options, 'highlight') }),
                {"content": content}
            );
        },

        _selectedGadgetTitle: function(el) {
            return $(el).find('#id_gadget_title').val();
        },

        _selectedAppletId: function(el) {
            return $(el).find('#id_applet_select').val();
        },

        _selectedFilterId: function(el) {
            return $(el).find('#id_detail_filter_select').val();
        },
    });
    </script>
</head>

<body id="main" class="go_skin_home_default" data-role="main">
    <div class="go-dashboard go-dashboard-editing go_dashboard_3_2">
        <div class="go-gadget-column gadget-col-1" data-columnid="1">
            <!-- empty -->
        </div>
        <div class="gripper"></div>
        <div id="gadget-containter" class="go-gadget-column gadget-col-2" data-columnid="2">
            <!-- empty -->
        </div>
        <div class="gripper"></div>
        <div class="go-gadget-column gadget-col-3" data-columnid="3">
            <!-- empty -->
        </div>
    </div>
</body>
</html>
