define("timeline/models/timeline_group",function(require){var e=require("backbone"),t=require("app"),n=e.Model.extend({initialize:function(){this.id=this.get("id"),this.workingType=this.get("workingType"),this.name=this.get("name"),this.restPeriods=this.get("restperiods"),this.fixedOption=this.get("fixedOption"),this.startTime=this.get("workingStartTime"),this.endTime=this.get("workingEndTime")},isDutyStartTime:function(e,t){if(!this.fixedOption||!this.fixedOption.workTimeRange||!this.fixedOption.workTimeRange.enableDutyTime)return!1;var n=this.fixedOption.workTimeRange.dutyStartTime;return n||(n=this.startTime),this.isTime(e,t,n)},isDutyEndTime:function(e,t){if(!this.fixedOption||!this.fixedOption.workTimeRange||!this.fixedOption.workTimeRange.enableDutyTime)return!1;var n=this.fixedOption.workTimeRange.dutyEndTime;return n||(n=this.endTime),this.isTime(e,t,n)},isRestTime:function(e,t){var n=this,r=!1;return _.forEach(this.restPeriods,function(i){r|=n.isIncludeTime(e,t,i.startTime,i.endTime)}),!!r},isDutyTime:function(e,t){return!this.fixedOption||!this.fixedOption.workTimeRange?!1:this.isIncludeTime(e,t,this.fixedOption.workTimeRange.dutyStartTime,this.fixedOption.workTimeRange.dutyEndTime)},isWorkTime:function(e,t){return!this.fixedOption||!this.fixedOption.workTimeRange?!0:this.isIncludeTime(e,t,this.fixedOption.workTimeRange.workStartTime,this.fixedOption.workTimeRange.workEndTime)},isNightTime:function(e,t){return!this.fixedOption||!this.fixedOption.workTimeRange?!1:this.isIncludeTime(e,t,this.fixedOption.workTimeRange.nightStartTime,this.fixedOption.workTimeRange.nightEndTime)},isTime:function(e,t,n){var r=this.time(e,t,0),i=this.strToTime(n),s=i+6e5;return i<=r&&r<s},isIncludeTime:function(e,t,n,r){var i=this.time(e,t,0),s=this.strToTime(n),o=this.strToTime(r);return s<=i&&i<o},time:function(e,t,n){return e*1e3*60*60+t*1e3*60+n*1e3},strToTime:function(e){return e?this.time(this.hour(e),this.min(e),this.sec(e)):0},hour:function(e){return e.split(":")[0]},min:function(e){return e.split(":")[1]},sec:function(e){return e.split(":")[2]}});return n});