define("timeline/views/dashboard/list/list_row",function(require){var e=require("backbone"),t=require("hgn!timeline/templates/dashboard/list/list_row"),n=require("i18n!timeline/nls/timeline"),r=require("i18n!nls/commons"),i=require("underscore"),s=require("views/profile_card"),o=require("timeline/collections/dashboard_stats"),u=e.View.extend({tagName:"tbody",events:{"click .member":"showProfile","click #sync_btn":"sync","click tr":"popupUserStat"},initialize:function(e){this.baseDate=e.baseDate,this.renderCb=e.renderCb,this.parent=e.self,this.viewList=e.viewList,this.deptId=e.deptId,this.lists=new o(this.baseDate),this.lists.changeParam(e.opt,this.viewList),this.colCnt=5+(i.contains(this.viewList,"absence")?1:0)+(i.contains(this.viewList,"vacation")?1:0)+(i.contains(this.viewList,"unAuthDevice")?1:0)+(i.contains(this.viewList,"extensionWorkingTime")?1:0)+(i.contains(this.viewList,"nightWorkingTime")?1:0)+(i.contains(this.viewList,"holyDayWorkingTime")?1:0)+(i.contains(this.viewList,"etcStatus")?1:0)},popupUserStat:function(e){var t=e.currentTarget,n=$(t).find(".member").attr("data-id");if(!n)return;window.open("/app/ehr/timeline/userstat/"+n,n,"scrollbars=yes,resizable=yes,width=1280,height=640")},showProfile:function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget,n=$(t).attr("data-id");if(!n)return;var r=$(t).find("img");s.render(n,r)},render:function(){return this.lists.fetch({async:!1}),this.$el.html(t({TimelineLang:n,CommonLang:r,models:this.lists.models,isEmpty:this.lists.total<1,colCnt:this.colCnt,viewClockIn:i.contains(this.viewList,"clockIn"),viewClockOut:i.contains(this.viewList,"clockOut"),viewAbsence:i.contains(this.viewList,"absence"),viewTardy:i.contains(this.viewList,"tardy"),viewEarly:i.contains(this.viewList,"early"),viewVacation:i.contains(this.viewList,"vacation"),viewUnAuthDevice:i.contains(this.viewList,"unAuthDevice"),viewAutoClockOut:i.contains(this.viewList,"autoClockOut"),viewExtensionWorkingTime:i.contains(this.viewList,"extensionWorkingTime"),viewNightWorkingTime:i.contains(this.viewList,"nightWorkingTime"),viewHolyDayWorkingTime:i.contains(this.viewList,"holyDayWorkingTime"),viewEtcStatus:i.contains(this.viewList,"etcStatus")})),this.renderCb(this.lists,this.parent),this},changeParam:function(e){this.lists.changeParam(e,this.viewList),this.render()}});return u});