define("timeline/views/mobile/user/summary",function(require){var e=require("backbone"),t=require("app"),n=require("timeline/models/summary"),r=require("hgn!timeline/templates/mobile/user/summary"),i=require("hgn!timeline/templates/mobile/user/selective_type_summary"),s=require("i18n!timeline/nls/timeline"),o=require("i18n!nls/commons"),u=e.View.extend({className:"wrap_statistics",unbindEvent:function(){this.$el.off("vclick","#summaryArrow")},bindEvent:function(){this.$el.on("vclick","#summaryArrow",$.proxy(this.clickSummaryArrow,this))},initialize:function(e){this.options=e,console.log(this.options),this.model=new n(e),this.baseDate=e.baseDate,this.userId=e.userId},render:function(e){this.model.fetch({async:!1}),this.unbindEvent(),this.bindEvent();var t=this.model.month.isSelectiveWorkingType();t?(this.$el.html(i(this.getSelectiveTypeData())),$("#summary").removeClass("wrap_summary")):this.$el.html(r(this.getNonSelectiveTypeData())),this.baseDate=e},clickSummaryArrow:function(e){var t=$(e.currentTarget);t.find("span").removeClass(),$(".expandArea").css("display")==="none"?(t.find("span").addClass("ic_arrow_up1"),$(".expandArea").show()):(t.find("span").addClass("ic_arrow_down1"),$(".expandArea").hide())},getNonSelectiveTypeData:function(){return{CommonLang:o,TimelineLang:s,weekTotalWorkingTime:this.model.getWeekTotalWorkingTime(),weekExtensionWorkingTime:this.model.getWeekExtensionWorkingTime(),weekRestWorkingTime:this.model.getWeekRestWorkingTime(),monthTotalWorkingTime:this.model.getMonthTotalWorkingTime(),monthTotalApprovalTime:this.model.getMonthExtentionWorkingTimeStr(),groupName:this.model.getGroupName(),groupDesc:this.model.getGroupDesc(),restPeriods:this.model.getRestPeriods(),nightWorkingTime:this.model.getNightWorkingTime(),workingTimeRange:this.model.getWorkingTimeRange(),isOverTotalWorkingTime:this.model.isOverTotalWorkingTime(),remainMaximumWorkingTime:this.model.month.selectiveWorkingTime.getRemainingMaximumWorkingTime()}},getSelectiveTypeData:function(){var e=this.model.getSelectiveWorkingTime(),n=this.model.getMonthWorkingTime(),r={"\uc120\ud0dd\uc801\uadfc\ub85c\uc81c \uadfc\ubb34\uac00\ub2a5\uc2dc\uac04 \uc124\uba85":t.i18n(s["\uc120\ud0dd\uc801\uadfc\ub85c\uc81c \uadfc\ubb34\uac00\ub2a5\uc2dc\uac04 \uc124\uba85"],{arg1:e.maximumExtensionWorkingTimeStr}),"\uc624\ub298\ucd5c\uc18c\uadfc\ubb34\uc2dc\uac04 \uc548\ub0b4":t.i18n(s["\uc624\ub298\uae4c\uc9c0\ucd5c\uc18c\uadfc\ubb34\uc2dc\uac04\uc548\ub0b4"],{arg1:e.todayMinimumTotalWorkingTimeStr})};return{CommonLang:o,TimelineLang:s,Lang:r,"\uc6d4":this.model.getMM(),"\ucd1d\uadfc\ubb34Hour":n.totalDetail.hour,"\ucd1d\uadfc\ubb34Min":n.totalDetail.min,"\ucd1d\uadfc\ubb34Sec":n.totalDetail.sec,"\uc6d4\ucd5c\uc18c\uadfc\ubb34\uc2dc\uac04":e.minimumTotalWorkingTimeStr,"\uc6d4\ucd5c\ub300\uadfc\ubb34\uc2dc\uac04":e.maximumTotalWorkingTimeStr,"\uc6d4\uc5f0\uc7a5\ucd5c\ub300\uc2dc\uac04":e.maximumExtensionWorkingTimeStr,"\uc794\uc5ec\uadfc\ubb34\ucd5c\uc18c":e.remainMinimumWorkingTimeStr,"\uc794\uc5ec\uadfc\ubb34\ucd5c\ub300":e.remainMaximumWorkingTimeStr,"\uc794\uc5ec\ud3c9\uade0\uadfc\ubb34":e.averageMinimumWorkingTimeStr,"\uc794\uc5ec\uc5f0\uc7a5\uadfc\ubb34":e.remainExtensionWorkingTimeStr,"\ub0a8\uc740\uadfc\ubb34\uc77c":e.furtureWorkingDayCnt,"\uc120\ud0dd\uadfc\ubb34\uc2dc\uac04":e.normalWorkingTimeStr,"\ucd08\uacfc\uadfc\ubb34\uc2dc\uac04":e.normalOverWorkingTimeStr,"\uc2b9\uc778\uadfc\ubb34\uc2dc\uac04":e.extensionWorkingTimeStr,"\uae08\uc77c\ucd5c\uc18c\uadfc\ubb34\uc728":e.rate.todayMinimumWorkingTimeRate,"\uc6d4\ucd5c\uc18c\uadfc\ubb34\uc728":e.rate.minimumWorkingTimeRate,"\uc120\ud0dd\uadfc\ubb34\uc728":e.rate.tunedNormalWorkingTimeRate,"\ucd08\uacfc\uadfc\ubb34\uc728":e.rate.tunedNormalOverWorkingTimeRate,"\uc2b9\uc778\uadfc\ubb34\uc728":e.rate.tunedExtensionWorkingTimeRate}},changeBaseDate:function(e){this.baseDate=e,this.model.baseDate=moment(this.baseDate,"YYYY-MM-DD").format("YYYY-MM-DD"),this.render()}});return u});