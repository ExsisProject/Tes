define("timeline/views/dashboard/timeline_dashboard",function(require){var e=require("backbone"),t=require("hgn!timeline/templates/dashboard/timeline_dashboard"),n=require("timeline/views/dashboard/timeline_dashboard_summary"),r=require("timeline/views/dashboard/timeline_dashboard_list"),i=require("i18n!timeline/nls/timeline"),s=require("i18n!nls/commons"),o=require("underscore"),u=e.View.extend({className:"go_renew go_ehr_attend_company attend_statistic_co",events:{"click [data-profile]":"showProfile","click .ic_date_prev":"prevMonth","click .ic_date_next":"nextMonth"},initialize:function(e){this.baseDate=new Date,this.companyMode=!0,e&&(this.deptId=e.deptId,this.companyMode=!(this.deptId>0))},refreshCb:function(e){e.render()},render:function(){return this.summary=new n(this.baseDate,this.deptId),this.dataList=new r({baseDate:this.baseDate,refreshCb:this.refreshCb,parent:this,requiredRuleUpdate:this.summary.isRequiredRuleUpdate(),deptId:this.deptId}),this.$el.html(t({TimelineLang:i,CommonLang:s,month:moment(this.baseDate).format("YYYY.MM"),companyMode:this.companyMode})),this.$el.find("#summary").append(this.summary.$el),this.summary.render(),this.$el.find("#data-list").append(this.dataList.$el),this.dataList.render(),this},nextMonth:function(){this.baseDate.setMonth(this.baseDate.getMonth()+1),this.render()},prevMonth:function(){this.baseDate.setMonth(this.baseDate.getMonth()-1),this.render()}});return u});