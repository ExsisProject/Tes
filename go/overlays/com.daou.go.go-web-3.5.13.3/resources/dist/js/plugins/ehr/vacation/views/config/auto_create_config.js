define("vacation/views/config/auto_create_config",function(require){var e=require("backbone"),t=require("app"),n=require("hgn!vacation/templates/config/auto_create_config"),r=require("i18n!vacation/nls/vacation"),i=require("i18n!nls/commons");require("GO.util");var s=e.Model.extend({url:t.contextRoot+"api/ehr/vacation/company/autocreate",isYearBase:function(){return this.get("basePolicy")=="YEAR_BASE"},isHireDateBase:function(){return this.get("basePolicy")=="HIRE_DATE_BASE"},isUseAutoCreate:function(){return this.get("useAutoCreate")}}),o={"\uc5f0\ucc28\uc0dd\uc131 \uae30\uc900":r["\uc5f0\ucc28\uc0dd\uc131 \uae30\uc900"],"\ud68c\uacc4\uc5f0\ub3c4 \uae30\uc900":r["\ud68c\uacc4\uc5f0\ub3c4 \uae30\uc900"],"\uc785\uc0ac\uc77c\uc790 \uae30\uc900":r["\uc785\uc0ac\uc77c\uc790 \uae30\uc900"],"\uae30\uc900\uc77c":r["\uae30\uc900\uc77c"],"\ub0b4\ub144\ud734\uac00 \uc0ac\uc6a9":r["\ub0b4\ub144\ud734\uac00 \uc0ac\uc6a9"],"\uc5f0\ucc28\uc2dc\uc791\ud558\uae30":r["\uc5f0\ucc28\uc2dc\uc791\ud558\uae30"],"\uc218\uc815\ubd88\uac00":r["\uc218\uc815\ubd88\uac00"],"\ud574\ub2f9 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uba74 \uc5f0\ucc28 \uc790\ub3d9 \uc0dd\uc131\uc774 \uc2dc\uc791\ub418\uba70,<br> \ud734\uac00 \ubd80\uc5ec\uae30\uc900\uc740 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":r["\ud574\ub2f9 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uba74 \uc5f0\ucc28 \uc790\ub3d9 \uc0dd\uc131\uc774 \uc2dc\uc791\ub418\uba70,<br> \ud734\uac00 \ubd80\uc5ec\uae30\uc900\uc740 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],"\uc124\uc815\ud55c \uae30\uc900\uc73c\ub85c \uc5f0\ucc28\ub97c \uc2dc\uc791\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":r["\uc124\uc815\ud55c \uae30\uc900\uc73c\ub85c \uc5f0\ucc28\ub97c \uc2dc\uc791\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],"\uc5f0\ucc28\uc0dd\uc131\uae30\uc900\ud0c0\uc774\ud2c0":r["\uc5f0\ucc28\uc0dd\uc131\uae30\uc900\ud0c0\uc774\ud2c0"],"\uc5f0\ucc28\uc2dc\uc791\ud6c4\uc124\uba85":r["\uc5f0\ucc28\uc2dc\uc791\ud6c4\uc124\uba85"],"\uc5f0\ucc28\uc2dc\uc791\uc124\uba85":r["\uc5f0\ucc28\uc2dc\uc791\uc124\uba85"]},u=e.View.extend({events:{"change #base_policy_select":"toggle_base_policy","click #btn_auto_create_config":"autoCreateConfig"},initialize:function(){this.$el.off(),this.model=new s,this.model.fetch(),this.model.on("sync",$.proxy(function(){this.render()},this))},render:function(){var e=this;return this.$el.html(n({lang:o,model:this.model.toJSON(),isYearBase:function(){return e.model.isYearBase()},isHireDateBase:function(){return e.model.isHireDateBase()}})),!_.isUndefined(this.model.get("useAutoCreate"))&&!this.model.isUseAutoCreate()&&this.initDatePicker(),this},autoCreateConfig:function(){function e(){var e=this.$el.find("#base_policy_select").val(),t=this.$el.find("#baseYearDate").val();this.model.save({basePolicy:e,baseYearDate:t}).done($.proxy(function(){$.goMessage(i["\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]),this.model.fetch()},this))}$.goConfirm(o["\uc124\uc815\ud55c \uae30\uc900\uc73c\ub85c \uc5f0\ucc28\ub97c \uc2dc\uc791\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],o["\ud574\ub2f9 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uba74 \uc5f0\ucc28 \uc790\ub3d9 \uc0dd\uc131\uc774 \uc2dc\uc791\ub418\uba70,<br> \ud734\uac00 \ubd80\uc5ec\uae30\uc900\uc740 \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],$.proxy(e,this))},initDatePicker:function(){$("#ui-datepicker-div").remove();var e=this.$el.find("#baseYearDate");$.datepicker.setDefaults($.datepicker.regional[t.config("locale")]),e.datepicker({dateFormat:"mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",onSelect:$.proxy(function(e){},this)})},toggle_base_policy:function(){this.$el.find("#baseYearDateArea").toggle()}});return u});