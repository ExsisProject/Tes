define("timeline/controllers/mobile",function(require){require("ehr/common/components/layoutEventListener");var e=require("views/layouts/mobile_default"),t=require("ehr/common/views/side"),n="ehr",r=function(){function s(e){i.$("#btnHeaderSearch").toggle(e)}function o(){require(["ehr/common/views/mobile/side"],function(e){var t=e.create("ehr");$("body").data("sideApp")!=n&&t.render().done(function(e){var t=i.getSideContentElement().append(e.el);GO.EventEmitter.trigger("common","layout:initSideScroll",this),t.parent().hide()})})}var t=function(){},r=this,i=null;return t.prototype={renderUser:function(t){require(["timeline/views/mobile/user/main"],function(u){var a=GO.session().id;t&&(a=t),i=e.create(),i.render(n).done(function(e){s(!1),o.call(r);var t=new u({userId:a});e.getContentElement().addClass("ehr_attend"),e.$el.addClass("go_skin_attend"),t.render()})})},renderCompany:function(){require(["timeline/views/mobile/company_stat/company_stats"],function(t){i=e.create(),i.render(n).done(function(e){s(!1),o.call(r);var n=new t({range:"COMPANY"});n.render(),e.getContentElement().removeClass("ehr_attend")})})},renderDept:function(t){require(["timeline/views/mobile/company_stat/company_stats"],function(u){i=e.create(),i.render(n).done(function(e){s(!1),o.call(r);var n=new u({range:"DEPARTMENT",deptId:parseInt(t)});n.render(),e.getContentElement().removeClass("ehr_attend")})})},renderCreateHistory:function(t){require(["timeline/views/mobile/user/history"],function(r){t||(t=GO.session().id),i=e.create(),i.render(n).done(function(e){s(!1);var n=new r({targetUserId:t,type:"create"});n.render(),e.getContentElement().removeClass("ehr_attend")})})},renderDetailHistory:function(t,r,o){require(["timeline/views/mobile/user/history"],function(u){i=e.create(),i.render(n).done(function(e){s(!1);var n=new u({historyId:t,targetUserId:r,baseDate:o,type:"view"});n.render(),e.getContentElement().removeClass("ehr_attend")})})},renderUpdateHistory:function(t,r,o){require(["timeline/views/mobile/user/history"],function(u){i=e.create(),i.render(n).done(function(e){s(!1);var n=new u({historyId:t,targetUserId:r,baseDate:o,type:t==="new"?"create":"update"});n.render(),e.getContentElement().removeClass("ehr_attend")})})},renderDeleteHistory:function(t,r,o){require(["timeline/views/mobile/user/history"],function(u){i=e.create(),i.render(n).done(function(e){s(!1);var n=new u({historyId:t,targetUserId:r,baseDate:o,type:"delete"});n.render(),e.getContentElement().removeClass("ehr_attend")})})}},t}();return new r});