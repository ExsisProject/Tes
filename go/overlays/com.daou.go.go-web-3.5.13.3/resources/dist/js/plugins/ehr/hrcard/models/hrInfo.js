define(["backbone","app"],function(e,t){var n=null,r=e.Model.extend({initialize:function(e){this.options=e||{},this.userid=this.options.userid,this.method=this.options.method},url:function(){return[t.contextRoot+"api/ehr/hrcard/info",this.userid].join("/")},setFromFormData:function(e,t){var n={},r={};_.each(e,function(e,t){r[t]=e==""?null:e}),n[t]=r,this.set(n)},validate:function(e){if(e.detail){var n=e.detail;if(n.startDt&&n.endDt&&!t.util.isAfter(n.startDt,n.endDt))return"error"}},isValidation:function(e,n){if(n=="duty"&&e.beginDate&&e.endDate&&!t.util.isAfterOrSameDate(e.beginDate,e.endDate))return!1;if(n=="career"||n=="edu")if(e.fromDate&&e.toDate&&!t.util.isAfterOrSameDate(e.fromDate,e.toDate))return!1;return n=="license"&&e.receiveDate&&e.expirationDate&&!t.util.isAfterOrSameDate(e.receiveDate,e.expirationDate)?!1:n=="military"&&e.joinDate&&e.dischargeDate&&!t.util.isAfterOrSameDate(e.joinDate,e.dischargeDate)?!1:n=="abroad"&&e.startPeriod&&e.endPeriod&&!t.util.isAfterOrSameDate(e.startPeriod,e.endPeriod)?!1:n=="academic"&&e.admissionDate&&e.graduationDate&&!t.util.isAfter(e.admissionDate,e.graduationDate)?!1:!0}});return r});