(function(){define(["backbone","app","hgn!welfare/templates/company_manage_change_popup","i18n!welfare/nls/welfare","i18n!nls/commons"],function(e,t,n,r,i){var s={"\uc120\ud0dd":i["\uc120\ud0dd"],"\ucd94\uac00":i["\ucd94\uac00"],"\uc81c\uc678":r["\uc81c\uc678"],"\uc870\uc815 Point":r["\uc870\uc815 Point"]},o=e.Model.extend({url:function(){return t.contextRoot+"api/ehr/welfare/company/change/point"+this.postfix},initialize:function(e,t){t.type=="company"?(this.postfix="/all",this.set("year",t.year)):(this.postfix="",this.set("welfare",{ids:t.ids}))}}),u=e.View.extend({events:{},initialize:function(){var e=this.options.type,t=this.options.ids,n=this.options.year;this.model=new o({},{type:e,ids:t,year:n})},render:function(){return this.$el.html(n({lang:s})),this},save:function(){var e=this.$el,n=$("#addtionMode").val(),r=Number(this.$el.find("#additionPoint").val()),i=n=="plus"?r:-r;this.model.set({additionPoint:i}),t.EventEmitter.trigger("common","layout:setOverlay","\ub85c\ub529\uc911"),this.model.save({},{method:"PUT",success:$.proxy(function(){this.trigger("save.success")},this),complete:function(){t.EventEmitter.trigger("common","layout:clearOverlay")}})}});return u})})();