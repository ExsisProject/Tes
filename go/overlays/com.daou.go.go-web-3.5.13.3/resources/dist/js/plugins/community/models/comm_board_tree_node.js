define("community/models/comm_board_tree_node",function(require){var e=require("when"),t=require("board/models/board_tree_node"),n=t.Model.extend({communityId:null,urlRoot:function(){return GO.config("contextRoot")+"api/community/"+this.getCommunityId()+"/board/"+this.get("nodeType")},initialize:function(e,n){var r=n||{};t.Collection.prototype.initialize.apply(this,arguments),this.communityId=null,r.hasOwnProperty("communityId")&&this.setCommunityId(r.communityId)},move:function(t,n){var r=this;return e.promise(function(e,i){r.save({seq:t,parentId:n},{url:GO.config("contextRoot")+"api/community/"+r.getCommunityId()+"/board/"+r.getNodeId()+"/move",success:e,error:i})})},getManagerNames:function(){return this.getBoardModel().getManagerNames()},setCommunityId:function(e){this.communityId=e},getCommunityId:function(){return this.communityId}}),r=t.Collection.extend({model:n,communityId:null,initialize:function(e,n){var r=n||{};t.Collection.prototype.initialize.apply(this,arguments),this.communityId=null,r.hasOwnProperty("communityId")&&this.setCommunityId(r.communityId)},url:function(){var e=GO.config("contextRoot")+"api/community/"+this.getCommunityId()+"/boards";if(!this.getCommunityId()){console.error("\ucee4\ubba4\ub2c8\ud2f0 \uc544\uc774\ub514\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");return}return this.getStatus()!=null&&(e+="/"+this.getStatus()),e},setCommunityId:function(e){this.communityId=e},getCommunityId:function(){return this.communityId},create:function(e,n){var r=_.extend({},n||{},{communityId:this.getCommunityId()});t.Collection.prototype.create.call(this,e,r)},set:function(e,n){var r=_.extend({},n||{},{communityId:this.getCommunityId()});t.Collection.prototype.set.call(this,e,r)}});return{STATUS_ACTIVE:t.STATUS_ACTIVE,STATUS_CLOSED:t.STATUS_CLOSED,Model:n,Collection:r}});