define(function(require){var e=require("app"),t=require("board/models/board_tree"),n=require("community/models/comm_board_tree_node"),r=t.Model.extend({initialize:function(e,n){var r=n||{};t.Model.prototype.initialize.apply(this,arguments),r.hasOwnProperty("communtyId")&&this.set("communtyId",r.communtyId)},getBoardTreeNodes:function(){return new n.Collection(this.getBoards())},getCommunityId:function(){return this.get("communityId")},getCommunityName:function(){return this.get("communityName")}}),i=t.Collection.extend({model:r,communityId:null,url:function(){return e.config("contextRoot")+"api/community/"+this.getCommunityId()+"/boards"},initialize:function(e,n){var r=n||{};t.Collection.prototype.initialize.apply(this,arguments),this.communityId=null,r.hasOwnProperty("communityId")&&this.setCommunityId(r.communityId)},setCommunityId:function(e){this.communityId=e},getCommunityId:function(){return this.communityId},create:function(e,n){var r=_.extend({},n||{},{communityId:this.getCommunityId()});t.Collection.prototype.create.call(this,e,r)},set:function(e,n){var r=_.extend({},n||{},{communityId:this.getCommunityId()});t.Collection.prototype.set.call(this,e,r)}});return{Model:r,Collection:i}});