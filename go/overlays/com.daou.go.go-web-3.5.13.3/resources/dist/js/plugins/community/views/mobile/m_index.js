(function(){define(["views/mobile/m_more_list","jquery","backbone","app","views/mobile/header_toolbar","community/collections/myfeeds","hgn!board/templates/mobile/m_home_list_unit","hgn!board/templates/mobile/m_board_list_item","i18n!nls/commons","i18n!community/nls/community","i18n!board/nls/board","jquery.go-grid"],function(e,t,n,r,i,s,o,u,a,f,l){var c={board:a["\uac8c\uc2dc\ud310"],community_posts:f["\ucee4\ubba4\ub2c8\ud2f0 \uae00"],new_post:l["\uc0c8 \uae00 \uc791\uc131\ud558\uae30"],new_board:l["\uac8c\uc2dc\ud310 \ucd94\uac00\ud558\uae30"],board_null:l["\ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],board_null_msg1:l["\ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],joincommunity:f["\uac00\uc785 \ucee4\ubba4\ub2c8\ud2f0"],member_wait:f["\uac00\uc785\ub300\uae30"],community:a["\ucee4\ubba4\ub2c8\ud2f0"],all_post:f["\uc804\uccb4 \uae00 0\uac74"],move_to_home:a["\ud648\uc73c\ub85c \uc774\ub3d9"],recent_post:f["\ucd5c\uadfc\uae00"],post_write:l["\uae00\uc4f0\uae30"],post_null:l["\ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],no_auth:l["\uc5f4\ub78c\uad8c\ud55c\uc774 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4."],view_count:l["\uc870\ud68c"]},h=e.extend({events:{"vclick .home_list li>a":"goPost"},initialize:function(){r.util.appLoading(!0),this.$listEl=null,this.headerToolbarView=i,this.collection=s.create();var e={listFunc:t.proxy(function(e){this.renderList(e)},this)};this.setRenderListFunc(e);var n={};this.setFetchInfo(n,this.collection)},render:function(){return r.util.pageDone(),this.headerToolbarView.render({title:c.recent_post,isList:!0,isSideMenu:!0,isHome:!0,isSearch:!0}),this.$el.html(u({otherClass:"list_board home_list"})),this.$listEl=this.$el.find("ul"),this.dataFetch().done(t.proxy(function(e){this.renderListFunc.listFunc(e),this.scrollToEl()},this)),r.util.appLoading(!1),this.el},renderList:function(e){var n={},i=null,s=e.toJSON(),u=function(){return parseInt(this.recommendCount)==0?"zero":""},a=function(e){return r.util.snsDate(this.createdAt)},f=function(){var e=this.type;return e=="CLASSIC"?!0:!1},l=function(){return r.util.br2nl(r.util.escapeHtml(t.goValidation.charEllipsis(this.summary,40)))},h=function(){return r.util.escapeHtml(this.title)},p=function(){return this.hiddenPost},d=function(){return this.summary==" $$#HIDDEN_POST#$$ "};n={dataSet:s,isZero:u,titleParse:h,contentParse:l,dateParse:a,isClassic:f,lang:c,isPostHidden:p,isTitleHidden:d,hasBoard:!0,isCommunity:!0};var v=o(n);this.$listEl.append(v)},goPost:function(e){this.setSessionInfo(e);var n=t(e.currentTarget),i=n.attr("data-boardType"),s=n.attr("data-boardId"),o=n.attr("data-postId"),u=n.attr("data-hidden"),a=n.attr("data-ownerId");if(u=="true"){alert(l["\uac8c\uc2dc\uae00 \uc5f4\ub78c\ubd88\uac00 \uba54\uc138\uc9c0"]);return}r.router.navigate("community/"+a+"/board/"+s+"/post/"+o,{trigger:!0,pushState:!0})}},{__instance__:null,create:function(){return this.__instance__=new this.prototype.constructor({el:t("#content")}),this.__instance__},render:function(){var e=this.create(),t=arguments.length>0?Array.prototype.slice.call(arguments):[];return this.prototype.render.apply(e,t)}});return h})}).call(this);