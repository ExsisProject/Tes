(function(){define(["jquery","backbone","app","hgn!community/templates/community_user","hgn!community/templates/community_user_null","hgn!community/templates/post_detail","i18n!nls/commons","i18n!community/nls/community","i18n!board/nls/board","jquery.go-grid","jquery.placeholder"],function(e,t,n,r,i,s,o,u,a){var f={joincommunity:u["\uac00\uc785 \ucee4\ubba4\ub2c8\ud2f0"],community_name:u["\ucee4\ubba4\ub2c8\ud2f0 \uba85"],search:o["\uac80\uc0c9"],community:o["\ucee4\ubba4\ub2c8\ud2f0"],all_post:u["\uc804\uccb4 \uae00"],community_member:u["\ud68c\uc6d0\uc218"],new_post:u["\uc0c8 \uae00 \ub4f1\ub85d"],thumnail:u["\ucd08\uc0c1\ud654"],post_null:u["\uc544\uc9c1 \uc791\uc131 \ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],total:u["\ucd1d"],count:a["\uac1c"],not_community:u["\uac00\uc785\ub41c \ucee4\ubba4\ub2c8\ud2f0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."],join_community:u["\uac00\uc785\ud558\uae30"],community_create_at:u["\uac1c\uc124\uc77c"],community_master:u["\ub9c8\uc2a4\ud130"],placeholder_search:o["\ud50c\ub808\uc774\uc2a4\ud640\ub354\uac80\uc0c9"]},l=t.View.extend({el:".tab_contents",events:{},initialize:function(){this.unbindEvent(),this.bindEvent()},bindEvent:function(){},unbindEvent:function(){},render:function(){return this.$el.html(r({lang:f})),this.$el.find("input[placeholder]").placeholder(),this.renderDataTables()},renderDataTables:function(){var t=this,n=e.goGrid({el:"#joinedCommunity",url:GO.contextRoot+"api/community/list/joined",emptyMessage:i({lang:f}),method:"get",defaultSorting:[],params:{property:"createdAt",direction:"desc"},columns:[{mData:"name",bSortable:!0,sClass:"align_l",fnRender:function(e){var t="";e.aData.memberStatus=="WAIT"&&e.aData.status=="ONLINE"&&(t='<span class="btn_state_disable"><span class="txt">'+u["\uac00\uc785\ub300\uae30"]+"</span></span>"),e.aData.memberStatus=="ONLINE"&&e.aData.status=="WAIT"&&(t='<span class="btn_state_disable"><span class="txt">'+u["\uac1c\uc124\ub300\uae30"]+"</span></span>");var n=[t,'&nbsp;<span class="comm" data-id="',e.aData.id,'" data-communityStatus="',e.aData.status,'" data-memberType="',e.aData.memberType,'" data-memberStatus="',e.aData.memberStatus,'" data-publicFlag="',e.aData.publicFlag,'">'+_.escape(e.aData.name)];return e.aData.newCommunity&&n.push('&nbsp;<span class="ic_classic ic_new" title="'+u["\uc0c8\ucee4\ubba4\ub2c8\ud2f0"]+'"></span>'),e.aData.publicFlag||n.push('&nbsp;<span class="ic_classic ic_lock" title="'+o["\ube44\uacf5\uac1c"]+'"></span>'),n.push("</span>"),n.join("")}},{mData:"memberCount",bSortable:!0,sWidth:"80px"},{mData:"postCount",sWidth:"120px",bSortable:!0,fnRender:function(e){return e.aData.newPostCount>0?'<span class="num"><span title="'+o["\uc0c8\uae00"]+'" class="ic_classic ic_new2"></span><strong>'+e.aData.newPostCount+"</strong>/"+e.aData.postCount+"</span>":'<span class="num">'+e.aData.postCount+"</span>"}},{mData:"masterUser",mRender:function(e){return e?e:""},bSortable:!0,sWidth:"120px",fnRender:function(e){return e.aData.masterUser?'<span class="master">'+e.aData.masterUser+"</span></td>":'<span class="master"></span></td>'}}],fnDrawCallback:function(e,n){t.renderToolbar(n._iRecordsTotal)}});return n},renderToolbar:function(t){this.$el.find("#toolBar #communityTotalElements").html(t),this.$el.find(".tool_bar .custom_header").append(this.$el.find("#toolBar").show()),t<1&&e(".table_search").hide()}});return{render:function(){var e=new l;return e.render()}}})}).call(this);