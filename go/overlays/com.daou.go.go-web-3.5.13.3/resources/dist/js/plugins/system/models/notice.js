define(["backbone","app","admin/libs/recurrence_parser","GO.util"],function(e,t,n){var r="YYYY-MM-DD",i=e.Model.extend({urlRoot:t.contextRoot+"ad/api/notice/front",initialize:function(){this.recrurrenceHelper=new n},setInitData:function(){var e=t.util.now().format("YYYY-MM-DD"),n=t.util.now().add("days",7).startOf("days").format("YYYY-MM-DD");this.set({title:"",width:400,height:600,showWeb:!0,showMobile:!0,startTime:e,endTime:n,option:"none",targetAll:!0,wrappedState:!1})},hasRecurrence:function(){return this.get("recurrence")!=undefined&&this.get("recurrence")!=""},hasByMonthDay:function(){return this.hasRecurrence()?this.recrurrenceHelper.parse(this.get("recurrence"))._hasByMonthDay():!1},hasByDay:function(){return this.hasRecurrence()?this.recrurrenceHelper.parse(this.get("recurrence"))._hasByDay():!1},isNormalState:function(){return this.get("state")=="normal"?!0:!1},getConvertStartTime:function(){var e=moment(this.get("startTime"),r);return e.format(r)},getConvertEndTime:function(){var e=moment(this.get("endTime"),r);return e.format(r)},isNoneMode:function(){return this.get("option")=="none"},getFiles:function(){return _.filter(this.getIconAttaches(),function(e){return!t.util.isImage(e.extention)})},getImages:function(){return _.filter(this.getIconAttaches(),function(e){return t.util.isImage(e.extention)})},getIconAttaches:function(){return _.each(this.get("attaches"),function(e){e.icon=t.util.getFileIconStyle(e)})}});return i});