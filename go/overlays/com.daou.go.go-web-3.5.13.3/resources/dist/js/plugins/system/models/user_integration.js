define(["backbone"],function(e){var t=e.Model.extend({defaults:{id:null,users:null},initialize:function(){_.isEmpty(this.get("users"))&&this.set("users",[])},hasCompanyUser:function(e){var t=!1;return _.each(this.get("users"),function(n){!_.isUndefined(n.companyId)&&!_.isUndefined(e)&&String(n["companyId"])==String(e)&&(t=!0)}),t},generateUserListKey:function(){var e=_.map(this.get("users"),function(e){return e.id});return t.generateUserListKey(e)},moveUserTop:function(e){this.removeUser(e,function(e,t,n){e.add(t,{at:0})})},moveUserUp:function(e){this.removeUser(e,function(e,t,n){e.add(t,{at:n==0?0:n-1})})},moveUserDown:function(e){this.removeUser(e,function(e,t,n){e.add(t,{at:n==e.size()?n:n+1})})},moveUserBottom:function(e){this.removeUser(e,function(e,t,n){e.add(t)})},removeUser:function(t,n){var r=new e.Collection(this.get("users")),i=r.get(t),s=r.indexOf(i);return i?(r.remove(i),_.isFunction(n)&&n(r,i,s),this.set("users",r.toJSON()),i):i}},{generateUserListKey:function(e){return e.join("#")}});return t});