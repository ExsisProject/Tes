(function(){define(["jquery","backbone","app","system/models/mail_server","hgn!system/templates/customize_register","i18n!nls/commons","i18n!admin/nls/admin","file_upload","jquery.go-validation","jquery.go-popup","jquery.go-sdk"],function(e,t,n,r,i,s,o,u){var a={title:o["\ucee4\uc2a4\ud130\ub9c8\uc774\uc988 \ub4f1\ub85d"],upload_file:s["\ud30c\uc77c\ucc3e\uae30"],attach_file:s["\ud30c\uc77c\ucca8\ubd80"],server:o["\uc7a5\ube44 \uba85"],start:s["\uc2dc\uc791"],success_msg:s["\uc644\ub8cc"],error_msg:s["500 \uc624\ub958\ud398\uc774\uc9c0 \ub0b4\uc6a9"],file_ext_error:s["\ud655\uc7a5\uc790\uac00 {{arg1}}\uc778 \uac83\ub9cc \ucca8\ubd80\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."],file_empty:s["\ucca8\ubd80\ud30c\uc77c\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694."]},f=n.BaseView.extend({events:{"click #btn_ok":"patch"},initialize:function(){this.mailSevers=r.read()},render:function(){var t=this,n=i({lang:a,data:this.mailSevers.toJSON()});return this.$el.html(n),e(".breadcrumb .path").html(a.title),this.initFileUpload(),this.$el},patch:function(){if(this.$el.find("#fileComplete li:first").size()<1){e.goMessage(a.file_empty);return}var t=n.contextRoot+"ad/api/system/custompatch",r={hostId:this.$el.find("#server_list").val(),path:this.$el.find("#fileComplete li:first").attr("data-path")};e.go(t,JSON.stringify(r),{qryType:"post",async:!1,contentType:"application/json",responseFn:function(){e.goMessage(n.i18n(a.title+" "+a.success_msg)),e("#fileComplete").html("")},error:function(){e.goMessage(a.error_msg)}})},initFileUpload:function(){var t=this,r={el:"#file-control",context_root:n.contextRoot,button_text:"<span class='buttonText'>"+a.attach_file+"</span>",url:"ad/api/file?GOAdminSSOcookie="+e.cookie("GOAdminSSOcookie")};(new u(r)).queue(function(e,t){}).start(function(t,r){var i=new RegExp("tar.gz$","gi");if(!i.test(r.name))return e.goMessage(n.i18n(a.file_ext_error,{arg1:"tar.gz"})),!1}).progress(function(e,t){}).success(function(e,n,r){t.$el.find("#fileComplete").html(r)}).complete(function(e,t){}).error(function(e,t){})}},{__instance__:null});return f})}).call(this);