(function(){define(["jquery","backbone","app","system/models/openapi_config","hgn!system/templates/oauth_client_list","hgn!system/templates/list_empty","i18n!nls/commons","i18n!admin/nls/admin","jquery.go-grid","jquery.go-sdk","GO.util"],function(e,t,n,r,i,s,o,u){var a={"\ud1b5\ud569\uc778\uc99d \ud074\ub77c\uc774\uc5b8\ud2b8":u["\ud1b5\ud569\uc778\uc99d \ud074\ub77c\uc774\uc5b8\ud2b8"],"\ud074\ub77c\uc774\uc5b8\ud2b8 \uc774\ub984":u["\ud074\ub77c\uc774\uc5b8\ud2b8 \uc774\ub984"],"\ub4f1\ub85d\uc77c":u["\ub4f1\ub85d\uc77c"],"\uc11c\ube44\uc2a4 URL":u["\uc11c\ube44\uc2a4 URL"],"\ube44\uace0":u["\ube44\uace0"],"\uba54\ub274":o["\uba54\ub274"],"\uc0ac\uc6a9\uc5ec\ubd80":u["\uc0ac\uc6a9\uc5ec\ubd80"],"\uc0ac\uc6a9":o["\uc0ac\uc6a9"],"\uc0ac\uc6a9\ud558\uc9c0\uc54a\uc74c":o["\uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c"],"\uc800\uc7a5":o["\uc800\uc7a5"]},f=t.View.extend({el:"#layoutContent",events:{"click #btn_openapi_ok":"saveOpenApiConfig"},initialize:function(){this.listEl="#oauthClientList",this.dataTable=null,this.openApiModel=r.get(),this.unbindEvent(),this.bindEvent()},unbindEvent:function(){},bindEvent:function(){},render:function(){e(".breadcrumb .path").html(u["\ud1b5\ud569\uc778\uc99d \ud074\ub77c\uc774\uc5b8\ud2b8"]),this.$el.empty(),this.$el.html(i({lang:a,openApi:this.openApiModel.toJSON()})),this.renderOAuthClientList()},renderOAuthClientList:function(){this.$tableEl=this.$el.find("#oauthClientList"),this.dataTable=e.goGrid({el:this.listEl,method:"GET",url:GO.contextRoot+"ad/api/oauthclient/system/list",emptyMessage:s({label_desc:u["\ud45c\uc2dc\ud560 \ub370\uc774\ud130 \uc5c6\uc74c"]}),pageUse:!0,sDomUse:!0,checkbox:!1,sDomType:"admin",defaultSorting:[[1,"desc"]],displayLength:n.session("adminPageBase"),columns:[{mData:"koName",sWidth:"200px",bSortable:!0,fnRender:function(e){return e.aData.koName}},{mData:"createdAt",sWidth:"150px",bSortable:!0,fnRender:function(e){return GO.util.basicDate(e.aData.createdAt)}},{mData:"clientId",bSortable:!1,fnRender:function(e){return e.aData.clientId}},{mData:"baseUrl",bSortable:!1,fnRender:function(e){return e.aData.baseUrl}},{mData:"redirectUrl",bSortable:!1,fnRender:function(e){return e.aData.redirectUrl}},{mData:"description",bSortable:!1,fnRender:function(e){var t=e.aData.description;return _.isNull(t)||_.isUndefined(t)||_.isEmpty(t)?"-":e.aData.description}}],fnDrawCallback:function(e){}})},saveOpenApiConfig:function(){var t=e("input[name='openApiUse']:checked").val();this.openApiModel.set("openApiUse",t=="on"?!0:!1),this.openApiModel.save({},{success:function(t,n){n.code=="200"&&e.goMessage(o["\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."])},error:function(t,n){e.goAlert(o["\uc2e4\ud328"],o["\uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."])}})}},{__instance__:null});return f})}).call(this);