(function(){define(["jquery","backbone","app","system/models/color_style","hgn!system/templates/color_style","i18n!nls/commons","i18n!admin/nls/admin","jquery.go-validation","jquery.go-popup","jquery.go-sdk"],function(e,t,n,r,i,s,o){var u={label_colorstyle_title:o["color style"],label_colorstyle:o["color style"],label_company_colorstyle_title:o["company color style"],label_confirm:s["\ud655\uc778"],label_sucess:s["\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."],label_fail:s["\uc2e4\ud328"],label_failDesc:s["\uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."],label_edit:s["\uc218\uc815"],label_ok:s["\uc800\uc7a5"],label_cancel:s["\ucde8\uc18c"],label_validate:o["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],label_close:s["\ub2eb\uae30"]},a=t.View.extend({events:{"click span#btn_color_ok":"colorStyleSave","click span#btn_color_cancel":"colorStyleCancel","click span.btn_box[data-btntype='changeform']":"changeModifyForm","click span.edit_data":"changeModifyForm","submit form":"formSubmit"},initialize:function(){},formSubmit:function(e){e.preventDefault();return},changeModifyForm:function(t){var n=e(t.currentTarget).parent();n&&n.attr("data-formname")&&(e(t.currentTarget).hide(),n.html(['<input type="input" name="',n.attr("data-formname"),'" class="input w_mini" value="',n.attr("data-value"),'" />'].join("")).find("input").focusin())},render:function(){this.model=r.read();var t=this;this.$el.empty();var n=this.model.toJSON(),s=i({lang:u,dataset:n});return this.$el.html(s),this.$el.find('[name="formBaseConfig"] tr:last-child').addClass("last"),e(".breadcrumb .path").html(o["color style \uad00\ub9ac"]),this.$el},colorStyleSave:function(){var t=this,n=e('input[name="colorStyle"]').val();n==undefined&&(n=e("#systemColorStyle").attr("data-value"));var r=e('input[name="companyColorStyle"]'),i=!0,o=[];console.log(n);if(n==undefined&&r.length==0)return i=!1,e("#webTitle").focus(),this.$el.find("#colorStyleValidate").html(s["\ubaa8\ub4e0 \ud56d\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694."]),!1;n==undefined?t.model.set("systemColorStyle",e('[data-formname="colorStyle"]').attr("data-value")):t.model.set("systemColorStyle",n),e.each(e('[data-formname="companyColorStyle"]'),function(t,n){var r=e(n).find('[name="companyColorStyle"]').val();r==undefined&&(r=e(n).attr("data-value"));var i={companyId:parseInt(e(n).attr("data-id")),companyName:e(n).attr("data-name"),companyColor:r};o.push(i)}),t.model.set("companyColorStyleList",o);if(!i)return!1;t.model.save({},{success:function(n,r){r.code=="200"&&(e.goMessage(u.label_sucess),t.render())},error:function(t,n){e.goAlert(u.label_fail,u.label_failDesc)}})},colorStyleCancel:function(){var t=this;e.goCaution(u.label_cancel,s["\ubcc0\uacbd\ud55c \ub0b4\uc6a9\uc744 \ucde8\uc18c\ud569\ub2c8\ub2e4."],function(){t.render(),e.goMessage(s["\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."])},u.label_confirm)}},{__instance__:null});return a})}).call(this);