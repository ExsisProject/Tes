define("works/models/applet_activity",function(require){var e=require("backbone"),t=require("app"),n=e.Model.extend({initialize:function(e){this.appletId=e.appletId,this.id=e.activityId||e.id||null,this.docId=e.docId},defaults:{commentCount:0},url:function(){return this.isNew()?"/api/works/applets/"+this.get("appletId")+"/docs/"+this.get("docId")+"/activity":"/api/works/applets/"+this.get("appletId")+"/docs/"+this.get("docId")+"/activity/"+this.id},setAppletId:function(e){this.appletId=e},commentPresent:function(){return this.get("commentCount")>0},createdAt:function(){return t.util.basicDate3(this.get("createdAt"))},isModify:function(){return this.get("createdAt")!=this.get("updatedAt")},modifyTime:function(){return this.isModify()?this.get("updatedAt"):this.get("createdAt")},hasAttach:function(){return this.has("attaches")&&this.get("attaches").length>0},hasMobileContent:function(){return this.mobileContent()===""?!1:!0},mobileContent:function(){var e=this.get("content").replace(/[<][^>]*[>]/gi,"").replace(/&nbsp;/gi,"").trim();return e},hasMoreComment:function(){return this.get("commentCount")>this.get("comments").length}});return n});