define("works/views/app/report/report_item_text",function(require){var e=require("works/views/app/report/report_item"),t=require("works/views/app/report/report_text_view"),n=require("works/views/app/report/report_text_editor");return e.extend({initialize:function(t){e.prototype.initialize.call(this,t),this.textView=null,this.editMode=!1,this.type="text",this.appletId=t.appletId,this.content=t.content||"",this.contentWrap=$(t.contentWrap),this.render()},render:function(){this._initTextView()},renderAfter:function(){DEXT5.config.ToolBar1=1,DEXT5.config.StatusBarItem="design",$("#editor").goWebEditor({contextRoot:GO.config("contextRoot"),lang:GO.session("locale"),editorValue:this.textView.getContent(),onLoad:function(){$("#editor").trigger("edit:complete")}})},reload_setting:function(){return this.editMode&&GO.Editor.getInstance("editor")&&(this.content=GO.Editor.getInstance("editor").getContent()),this._initTextView(),!0},reload_filter:function(){},getSettingTmpl:function(){this.editMode=!0;var e=this.textView.getContent(),t=new n({content:e||""});return t.render().el},getFilterTmpl:function(){return{}},_initTextView:function(){this.editMode=!1,this.textView=new t({content:this.content,rid:this.rid}),this.contentWrap.empty(),this.contentWrap.append(this.textView.el),this.textView.render()},getRid:function(){if(this.rid)return this.rid},toJSON:function(){var e=this.content||"";return e=e.split("line-height: 150%").join("line-height: 1.5"),{type:this.type,content:e}},toObject:function(e){e&&e.data&&(this.content=e.data.content)}})});