define("works/components/report/view/card_preview",function(require){var e=require("backbone"),t=require("hgn!works/components/report/template/card_preview"),n=require("hgn!works/components/report/template/item_empty_preview"),r=require("i18n!works/nls/works"),i=require("i18n!nls/commons"),s=require("i18n!admin/nls/admin"),o={DONE:i["\uc0ac\uc6a9\uc548\ud568"],ONE_YEAR_AGO:r["\uc774\uc804 \uc5f0\ub3c4"],ONE_DAY_AGO:r["\uc9c1\uc804\uc77c"],SAME_DAY:r["\uc9c1\uc804 \ub3d9\uc77c \uae30\uac04"],CUSTOM:s["\uc0ac\uc6a9\uc790 \uc124\uc815"],ALL:r["\uc804\uccb4\uae30\uac04"],COUNT:r["\uac1c\uc218"],SUM:r["\ud569\uacc4"],AVG:r["\ud3c9\uade0"],MAX:r["\ucd5c\ub300\uac12"],MIN:r["\ucd5c\uc18c\uac12"],"\ub300\ube44":r["\ub300\ube44"],"\uae30\uac04":i["\uae30\uac04"],"\ub9ac\ud3ec\ud2b8 \uc544\uc774\ud15c \ucef4\ud3ec\ub10c\ud2b8 \uc0ad\uc81c \uacbd\uace0":r["\ub9ac\ud3ec\ud2b8 \uc544\uc774\ud15c \ucef4\ud3ec\ub10c\ud2b8 \uc0ad\uc81c \uacbd\uace0"]};return e.View.extend({initialize:function(e){this.options=e||{},this.model=e.model,this.selectField=e.selectField},render:function(e){return e?(this._renderEmptyPreview(),this):(this._renderPreview(),this)},_renderPreview:function(){var e=this.model.get("compareRangeOption"),n=this.model.get("compareValueSubtract"),r=this.model.get("compareValuePercent"),i="red";n<0?i="blue":n==0&&(i="#999"),this.$el.append(t({lang:o,title:this.model.get("title"),aggDate:this.model.getAggDate(),color:this.getColorByCode(this.model.get("color")),aggValue:GO.util.formatNumber(this.model.get("aggValue")),unitText:this._getUnitText(),isDone:"DONE"==e,isCustom:"CUSTOM"==e,compareRangeOption:o[e],compareValue:GO.util.formatNumber(this.model.get("compareValue")),compareValueSubtract:(n>0?"+":"")+GO.util.formatNumber(n),compareValuePercent:(r>0?"+":"")+r,compareColor:i,compareDate:this.model.get("compareDate")}))},_renderEmptyPreview:function(){this.$el.append(n({lang:o}))},_getUnitText:function(){if("COUNT"===this.model.get("method"))return i["\uac1c"];if(!this.selectField)return"";var e=this.selectField.properties;return e?e.unitText:""},getColorByCode:function(e){return 2==e?"#d06b64":3==e?"#d75269":4==e?"#fa573c":5==e?"#ff7537":6==e?"#ffad46":7==e?"#42d692":8==e?"#16a765":9==e?"#7bd148":10==e?"#b3dc6c":11==e?"#fbe983":12==e?"#fad165":13==e?"#f691b2":14==e?"#cd74e6":15==e?"#9a9cff":16==e?"#b99aff":17==e?"#6691e5":18==e?"#000000":"#905341"}})});