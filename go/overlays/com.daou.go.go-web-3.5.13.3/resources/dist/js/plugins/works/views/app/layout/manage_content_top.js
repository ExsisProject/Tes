define("works/views/app/layout/manage_content_top",function(require){var e=require("backbone"),t=require("components/backdrop/backdrop"),n=require("hgn!works/templates/app/manage_content_top"),r=require("works/libs/util"),i=require("i18n!works/nls/works");require("jquery.go-popup");var s={appIcon:i["\uc571 \uc544\uc774\ucf58"],operator:i["\uc6b4\uc601\uc790"],showAppDesc:i["\uc571 \uc124\uba85 \ubcf4\uae30"],gotoSettingsHome:i["\uad00\ub9ac \ud648\uc73c\ub85c \uac00\uae30"],"\uac00\uc774\ub4dc\ud234\ud301":i["\uc571 \uc6b4\uc601\uad00\ub9ac 1\ubd84\uc774\uba74 \ucda9\ubd84\ud569\ub2c8\ub2e4."]},o=e.View.extend({tagName:"header",className:"content_top works_tit",baseConfigModel:null,pageName:null,useActionButton:!0,events:{"click .btn-goto-settings-home":"_goToSettingsHome","click #applet-info-desc":"_toggleDesc","click .btn-goto-app-home":"_goToAppHome","click .btn-goto-app-intro":"_goToAppInto"},initialize:function(e){e=e||{},this.baseConfigModel=null,this.pageName=null,e.hasOwnProperty("baseConfigModel")&&(this.baseConfigModel=e.baseConfigModel),e.hasOwnProperty("pageName")&&this.setPageName(e.pageName),this.useActionButton=!0,e.hasOwnProperty("useActionButton")&&(this.useActionButton=e.useActionButton),this.infoDesc="",e.hasOwnProperty("infoDesc")&&(this.infoDesc=e.infoDesc),this.isAppNamePrefixed=!0,e.hasOwnProperty("isAppNamePrefixed")&&(this.isAppNamePrefixed=e.isAppNamePrefixed),this.showOperatorList=!1,e.hasOwnProperty("showOperatorList")&&(this.showOperatorList=e.showOperatorList)},render:function(){this.$el.html(n({config:this.baseConfigModel.toJSON(),pageTitle:this._makePageTitle(),operatorList:this._makeOperatorList(),showOperatorList:this.showOperatorList,useActionButton:this.useActionButton,infoDesc:this.infoDesc,isAdmin:this.baseConfigModel.isAdmin(GO.session("id")),lang:s}))},setPageName:function(e){this.pageName=e,this.render()},_makeOperatorList:function(){var e=[];return _.each(this.baseConfigModel.get("admins"),function(t){e.push(t.name+(t.position?" "+t.position:""))}),e.join(", ")},_makePageTitle:function(){return this.isAppNamePrefixed?'<a class="btn-goto-app-home"> '+this.baseConfigModel.get("name")+"</a>"+" > "+'<a class="btn-goto-settings-home">'+i["\uad00\ub9ac"]+"</a>"+(this.pageName?" > "+this.pageName:""):this.pageName},_toggleDesc:function(){this.backdropView||(this.backdropView=new t,this.backdropView.backdropToggleEl=this.$("span[el-backdrop]"),this.backdropView.linkBackdrop(this.$("span[el-backdrop-link]")))},_goToSettingsHome:function(e){e.preventDefault(),GO.router.navigate("works/applet/"+this.baseConfigModel.get("id")+"/settings/home",{trigger:!0})},_goToAppHome:function(e){r.goAppHome(this.baseConfigModel.get("id"))},_goToAppInto:function(e){e.preventDefault(),r.goCreateAppIntro()}});return o});