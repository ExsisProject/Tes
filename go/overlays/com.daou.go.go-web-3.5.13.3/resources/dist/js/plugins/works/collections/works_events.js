(function(){define(["jquery","underscore","backbone","moment","app"],function(e,t,n,r,i){var s="YYYY-MM-DDThh:mm:ssZZ",o=i.util.toMoment,u=i.util.now(),a=u.clone().startOf("day").format(s),f=u.clone().endOf("day").format(s),l=i.BaseCollection.extend({periodId:-1,conditions:{timeMin:a,timeMax:f,maxResult:1e3},initialize:function(){this.resetConditions()},getPeriodId:function(){return this.periodId},setPeriodId:function(e){if(e<0)throw new Error("Invalid Period ID");return this.periodId=e,this},setBoundaryTime:function(e,t){return this.setTimeMin(e),this.setTimeMax(t),this},setTimeMin:function(e){return this.conditions.timeMin=o(e),this},setTimeMax:function(e){return this.conditions.timeMax=o(e),this},setMaxResult:function(e){return this.conditions.maxResult=e,this},resetConditions:function(){this.periodId=-1,this.__needFetch__=!1,this.conditions={timeMin:a,timeMax:f,maxResult:1e3}}},{__instance__:null});return l})}).call(this);