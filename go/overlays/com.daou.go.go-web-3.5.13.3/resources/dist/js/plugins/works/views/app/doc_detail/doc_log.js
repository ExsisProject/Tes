define("works/views/app/doc_detail/doc_log",function(require){function s(){var e=this.$("#logList");_.each(this.logs.models,function(n){var r=new t(n);e.append(r.render().el)},this),this.$("#logCount").text(this.logs.page.total),o.call(this)&&this.$("#moreLog").hide()}function o(){return this.$("#logList").find("li").length==this.logs.page.total}var e=require("works/models/applet_doc_logs"),t=require("works/views/app/doc_detail/doc_log_item"),n=require("hgn!works/templates/app/doc_detail/doc_log"),r=require("i18n!task/nls/task"),i={history:r["\ubcc0\uacbd\uc774\ub825"],showMore:r["\ub354 \ubcf4\uae30"]};return Backbone.View.extend({events:{"click #moreLog":"moreLog"},initialize:function(t){this.options=t||{},this.docId=t.docId,this.appletId=t.appletId,this.mainForm=t.mainForm,this.logs=new e({appletId:this.appletId,docId:this.docId,mainForm:this.mainForm})},moreLog:function(){var e=this,t=this.logs.page.page;this.logs.setPage(t+1),this.logs.fetch({success:function(){s.call(e)}})},render:function(){var e=this;return this.logs.fetch({success:function(){e.$el.html(n({count:e.logs.models.length,lang:i})),s.call(e)}}),this}})});