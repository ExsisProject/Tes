define("works/models/applet_doc",function(require){var e=require("models/base_model"),t=require("app");return e.extend({param:{},urlRoot:function(){var e=this.get("appletId");return t.config("contextRoot")+"api/works/applets/"+e+"/docs"+this._makeParam()},initialize:function(t,n){e.prototype.initialize.call(this),t&&t.hasOwnProperty("values")?this.attributes.values=t.values:this.attributes.hasOwnProperty("values")||(this.attributes.values={})},fetch:function(n){n=n||{},n=_.extend({error:function(e,n){if(t.util.isMobile())t.util.linkToErrorPage(n);else{var r=JSON.parse(n.responseText);t.util.error(r.code,r.code==="500"?{}:{msgCode:"400-works"})}}},n);var r=this.get("subFormId");return t.util.isValidValue(r)&&(n.url=this.url()+"?subFormId="+r),e.prototype.fetch.call(this,n)},parse:function(e){return e.data?_.extend(e.data,e.data.values):_.extend(e,e.values)},setValue:function(e,t){var n=this.get("values");_.isObject(e)?_.extend(n,e):_.isString(e)&&(n[e]=t),this.set("values",n)},getValue:function(e){return this.get("values")[e]},setAppletId:function(e){this.appletId=e},getAppletId:function(){return this.appletId},isCreator:function(e){var t=this.getValue("creator");return t&&t.id===e},isPrivate:function(){return this.get("privateFlag")},isNew:function(){return this.get("id")?!1:!0},setParam:function(e){this.param=e},_makeParam:function(){return _.isEmpty(this.param)?"":"?"+$.param(this.param)},setSubFormId:function(e){this.set("subFormId",e)}})});