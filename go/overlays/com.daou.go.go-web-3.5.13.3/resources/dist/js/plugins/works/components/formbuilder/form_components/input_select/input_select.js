define("works/components/formbuilder/form_components/input_select/input_select",function(require){var e=require("app"),t=require("works/component_type"),n=require("works/components/formbuilder/core/form_component"),r=require("works/components/formbuilder/core/component_registry"),i=require("works/components/formbuilder/core/views/base_form"),s=require("works/components/formbuilder/core/views/base_detail"),o=require("works/components/formbuilder/core/views/base_option"),u=require("works/components/formbuilder/core/views/option_list_setting"),a=require("works/components/formbuilder/form_components/input_select/input_select_validator"),f=require("hgn!works/components/formbuilder/form_components/input_select/form"),l=require("hgn!works/components/formbuilder/form_components/input_select/detail"),c=require("hgn!works/components/formbuilder/form_components/input_select/option"),h=require("i18n!works/nls/works"),p=require("i18n!nls/commons"),d=require("works/constants/works"),v=d.WORKS_COMPONENTS.WORKS_REQUIRED_VAL,m={"\uc774\ub984":p["\uc774\ub984"],"\uc124\uba85":h["\uc124\uba85"],"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":h["\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."],"\uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":h["\uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."],"\ud234\ud301\uc73c\ub85c \ud45c\ud604":h["\ud234\ud301\uc73c\ub85c \ud45c\ud604"],"\ud544\uc218 \uc785\ub825 \ucef4\ud3ec\ub10c\ud2b8":h["\ud544\uc218 \uc785\ub825 \ucef4\ud3ec\ub10c\ud2b8"],"\uae30\ubcf8\uac12":h["\uae30\ubcf8\uac12"],"\uc138\ubd80\ud56d\ubaa9":h["\uc138\ubd80\ud56d\ubaa9"],"\ucd94\uac00":p["\ucd94\uac00"],"\uc0ad\uc81c":p["\uc0ad\uc81c"],"\uc774\ub984\uc228\uae30\uae30":h["\uc774\ub984\uc228\uae30\uae30"]},g=o.extend({customEvents:{"click span#add_option":"_addOptionItem","click input#required":"_checkRequireOptionItem"},renderBody:function(){this.$el.html(c({lang:m,model:this.model.toJSON()})),this._attachOptionListItemView()},remove:function(){o.prototype.remove.apply(this,arguments),this.optionListSettingView&&this.optionListSettingView.remove()},_attachOptionListItemView:function(){this.optionListSettingView=new u({model:this.model}),this.$(".option-item-list").append(this.optionListSettingView.el),this.optionListSettingView.render()},_addOptionItem:function(){this.optionListSettingView&&this.optionListSettingView.addOptionItem()},_checkRequireOptionItem:function(e){this.optionListSettingView&&this.optionListSettingView.checkRequireOptionItem($(e.currentTarget).is(":checked"))}}),y=i.extend({events:{"change select":"_onChange"},initialize:function(){i.prototype.initialize.apply(this,arguments),this.validator=new a},render:function(){var t=this.appletDocModel.get(this.clientId);(_.isUndefined(t)||_.isNull(t))&&!this.isEditable()&&!this.appletDocModel.id&&this.isShow()&&(t=this.model.get("defaultValue")),this.$body.html(f({model:this.model.toJSON(),label:e.util.escapeHtml(this.model.get("label")),isDisabled:this.isEditable()})),!_.isUndefined(t)&&!this.isEditable()&&this.$("select").val(t),_.isUndefined(t)&&this.appletDocModel.id&&this.$("select").prepend('<option value="-1">---</option>').val(-1),this.appletDocModel.set(this.clientId,t),this.isShow()&&this._onChange()},_onChange:function(){this.$('option[value="-1"]').remove(),this._changeValue.call(this,this._getValue()),this.appletDocModel.set(this.getDataFromView())},_getValue:function(){var e=[];return this.isMultiple()?(e=[],e.push(this.getSubmitValue()),_.each(this.getMultipleViews(),function(t){e.push(t.getSubmitValue())})):e=this.getSubmitValue(),e},validate:function(){var e=this.$("select"),t=this.validator.validate({value:e.val()},this.model.toJSON());return t.isValid||this.printErrorTo(e,t.message),t.isValid},getFormData:function(){return this.isMultiple()&&this.appletDocModel.set(this.clientId,this._getMultipleData()),this.appletDocModel.toJSON()},getDataFromView:function(){var e={};return e[this.getCid()]=this._getValue(),e},getSubmitValue:function(){return this.$("select").val()}}),b=s.extend({render:function(){var t=this.model.get("items"),n=this.appletDocModel.get(this.clientId),r="";$.each(t,function(e,t){t.value==n&&(r=t.displayText)}),this.$body.html(l({model:this.model.toJSON(),label:e.util.escapeHtml(this.model.get("label")),userData:r}))},getTitle:function(){var e=this.model.get("items"),t=this.appletDocModel.get(this.clientId),n="";return $.each(e,function(e,r){r.value==t&&(n=r.displayText)}),n}}),w=n.define(t.Select,{name:h["\ub4dc\ub86d \ubc15\uc2a4"],valueType:"SELECT",group:"basic",properties:{label:{defaultValue:h["\ub4dc\ub86d \ubc15\uc2a4"]},hideLabel:{defaultValue:!1},guide:{defaultValue:""},guideAsTooltip:{defaultValue:!0},required:{defaultValue:!1},defaultValue:{defaultValue:"0"},items:{defaultValue:[{value:v,displayText:h["\uc120\ud0dd\uc548\ud568"],selected:!1,isDisabled:!0},{value:"0",displayText:h["\uc635\uc1581"],selected:!0},{value:"1",displayText:h["\uc635\uc1582"],selected:!1},{value:"2",displayText:h["\uc635\uc1583"],selected:!1}]}},OptionView:g,FormView:y,DetailView:b});r.addComponent(w)});