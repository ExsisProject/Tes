define("works/views/app/workflow_flow_item",function(require){var e=require("i18n!admin/nls/admin"),t=require("i18n!nls/commons"),n=require("i18n!works/nls/works"),r=require("hgn!works/templates/app/workflow_flow_item"),i={"\uc0c1\ud0dc\ubcc0\uacbd \ubc84\ud2bc\uba85":n["\uc0c1\ud0dc\ubcc0\uacbd \ubc84\ud2bc\uba85"],"\uc0c1\ud0dc \ubcc0\uacbd\uc790":e["\uc0c1\ud0dc \ubcc0\uacbd\uc790"],"\uc0c1\ud0dc \ubcc0\uacbd \uc54c\ub9bc\ub300\uc0c1":e["\uc0c1\ud0dc \ubcc0\uacbd \uc54c\ub9bc\ub300\uc0c1"],"\ucd5c\ucd08\ub4f1\ub85d":e["\ucd5c\ucd08\ub4f1\ub85d"],"\uc120\ud0dd":t["\uc120\ud0dd"],"\ucd94\uac00":t["\ucd94\uac00"],"\uc0ad\uc81c":t["\uc0ad\uc81c"],"\uc0c9\uc0c1 \ubcc0\uacbd":t["\uc0c9\uc0c1 \ubcc0\uacbd"],"\uc0c1\ud0dc\ubcc0\uacbd":n["\uc0c1\ud0dc\ubcc0\uacbd"]},s=Backbone.View.extend({initialize:function(e){this.options=e||{},this.model=e.model,this.collection=e.collection,GO.EventEmitter.on("works","change:workflowStat",function(e){this.renderStats(e)},this),this.isFirst=e.isFirst?!0:!1,this.roles=e.roles,this.lang=e.lang},events:{"change select":"changeStat","click input[type=checkbox]":"setRoles","focusout input[type=text]":"setActionName"},changeStat:function(e){var t=$(e.currentTarget),n=t.attr("data-type");t.removeClass("pause"),this.model[n+"Status"]=t.val()},setRoles:function(e){var t=$(e.currentTarget).closest("td[data-type]"),n=t.attr("data-type"),r=[];_.each(t.find("input[type=checkbox]:checked"),function(e){r.push(e.getAttribute("value"))}),this.model[n+"Roles"]=r},setActionName:function(e){var t=$(e.currentTarget).val();if(t.length<2||100<t.length)return;this.model.actionName=t},render:function(){return this.$el.html(r({lang:i,model:this.model,roles:this.roles,isFirst:this.isFirst,cid:this.cid})),this.renderRoles(),this.$el.attr("data-type","flow"),this},renderStats:function(e){_.each(["before","next"],function(t){var n=this.model[t+"Status"],r=this.$("select[data-type="+t+"]");r.find("option:gt(0)").remove();var i=e.isDelete(n);i?r.val(""):r.val(n),r.toggleClass("pause",i)},this)},renderRoles:function(){_.each(["action","push"],function(e){var t=this.$("div[data-type="+e+"]"),n=this.model[e+"Roles"];if(!n)return;n.forEach(function(e){t.find("input[value="+e+"]").attr("checked",!0)})},this)}});return s});