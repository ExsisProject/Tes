define("works/components/formbuilder/form_components/input_textarea/input_textarea",function(require){var e=require("app"),t=require("works/component_type"),n=require("works/components/formbuilder/core/form_component"),r=require("works/components/formbuilder/core/component_registry"),i=require("works/components/formbuilder/core/views/base_form"),s=require("works/components/formbuilder/core/views/base_detail"),o=require("works/components/formbuilder/core/views/base_option"),u=require("works/components/formbuilder/form_components/input_textarea/input_textarea_validator"),a=require("hgn!works/components/formbuilder/form_components/input_textarea/form"),f=require("hgn!works/components/formbuilder/form_components/input_textarea/detail"),l=require("hgn!works/components/formbuilder/form_components/input_textarea/option"),c=require("i18n!works/nls/works"),h=require("i18n!nls/commons"),p={"\uc774\ub984":h["\uc774\ub984"],"\uc124\uba85":c["\uc124\uba85"],"\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":c["\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."],"\uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":c["\uc124\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."],"\ud234\ud301\uc73c\ub85c \ud45c\ud604":c["\ud234\ud301\uc73c\ub85c \ud45c\ud604"],"\ud544\uc218 \uc785\ub825 \ucef4\ud3ec\ub10c\ud2b8":c["\ud544\uc218 \uc785\ub825 \ucef4\ud3ec\ub10c\ud2b8"],"\uae30\ubcf8\uac12":c["\uae30\ubcf8\uac12"],"\ucd5c\uc18c \uc785\ub825 \uc218":c["\ucd5c\uc18c \uc785\ub825 \uc218"],"\ucd5c\ub300 \uc785\ub825 \uc218":c["\ucd5c\ub300 \uc785\ub825 \uc218"],"\uc785\ub825 \ub108\ube44 \uc870\uc808":c["\uc785\ub825 \ub108\ube44 \uc870\uc808"],"\ud37c\uc13c\ud2b8\uc124\uba85":c["\ud37c\uc13c\ud2b8\uc124\uba85"],"\uc785\ub825 \ub192\uc774 \uc870\uc808":c["\uc785\ub825 \ub192\uc774 \uc870\uc808"],"\uc904":c["\uc904"],"\uc774\ub984\uc228\uae30\uae30":c["\uc774\ub984\uc228\uae30\uae30"]},d={width:100,widthUnit:"percent",rows:10},v=o.extend({customEvents:{"blur input[name=rows], input[name=width]":"_checkOptionValidate"},renderBody:function(){this.$el.html(l({lang:p,model:this.model.toJSON(),isWidthUnitPx:this.model.get("widthUnit")==="px"}))},_checkOptionValidate:function(e){var t=$(e.currentTarget),n=t.attr("name"),r=t.val();r==""&&_.has(d,n)&&(t.val(d[n]),this.model.set(n,d[n]))}}),m=i.extend({events:{"change textarea":"_onChange"},initialize:function(){i.prototype.initialize.apply(this,arguments),this.validator=new u},render:function(){var t=this.appletDocModel.get(this.clientId);if(!t){var n=this.model.get("defaultValue");n&&this.appletDocModel.set(this.clientId,n)}this.$body.html(a({model:this.model.toJSON(),label:e.util.escapeHtml(this.model.get("label")),clientId:this.clientId,inputValue:this._getInputValue(),isReadonly:this.isEditable(),"editable?":this.isEditable()})),this.resizeWidth(this.model.get("width"),this.model.get("widthUnit")==="percent"?"%":this.model.get("widthUnit"))},getDataFromView:function(){var e={};return e[this.clientId]=this._getInputElement().val(),e},validate:function(){var e=this.$("textarea"),t=e.val(),n=this.validator.validate({value:t},this.model.toJSON());return n.isValid||this._printErrorTo(n.message),n.isValid},resizeWidth:function(e,t){this._getInputElement().outerWidth(e+t)},_onChange:function(){this.appletDocModel.set(this.getDataFromView())},_printErrorTo:function(e){var t=this.$("textarea");t.trigger("focus"),this.printErrorTo(t,e)},_getInputElement:function(){return this.$("textarea")},_getInputValue:function(){var e=this.appletDocModel.get(this.clientId),t=this.appletDocModel.id?e:this.model.get("defaultValue");return e&&e.toString().length>0&&(t=e),t}}),g=s.extend({render:function(){var t=this._convertTitleFormat();this.$body.html(f({model:this.model.toJSON(),label:e.util.escapeHtml(this.model.get("label")),userData:t})),this.resizeWidth(this.model.get("width"),this.model.get("widthUnit")==="percent"?"%":this.model.get("widthUnit"))},getTitle:function(){return this._convertTitleFormat()},resizeWidth:function(e,t){this._getInputElement().outerWidth(e+t)},_convertTitleFormat:function(t){var n=e.util.textToHtml(this.appletDocModel.get(this.clientId));return n},_getInputElement:function(){return this.$("textarea")}}),y=n.define(t.Textarea,{name:c["\uba40\ud2f0 \ud14d\uc2a4\ud2b8"],valueType:"TEXT",group:"basic",properties:{label:{defaultValue:c["\uba40\ud2f0 \ud14d\uc2a4\ud2b8"]},hideLabel:{defaultValue:!1},guide:{defaultValue:""},guideAsTooltip:{defaultValue:!0},required:{defaultValue:!1},defaultValue:{defaultValue:""},width:{defaultValue:d.width},widthUnit:{defaultValue:d.widthUnit},rows:{defaultValue:d.rows}},OptionView:v,FormView:m,DetailView:g});r.addComponent(y)});