define("works/views/app/report/app_report_list",function(require){var e=require("works/views/app/base_applet"),t=require("works/models/applet_baseconfig"),n=require("works/components/report/models/report_list"),r=require("works/components/report/view/app_report_list_item"),i=require("i18n!works/nls/works"),s=require("i18n!nls/commons"),o=require("i18n!report/nls/report"),u={"\ub4f1\ub85d":s["\ub4f1\ub85d"],"\uc0ad\uc81c":s["\uc0ad\uc81c"],"\ubcf5\uc0ac":s["\ubcf5\uc0ac"],"\ubcf4\uace0\uc11c":o["\ubcf4\uace0\uc11c"],"\ubcf4\uace0\uc11c \uc0dd\uc131":o["\ubcf4\uace0\uc11c \uc0dd\uc131"],"\ub9ac\ud3ec\ud2b8 \ubaa9\ub85d":i["\ub9ac\ud3ec\ud2b8 \ubaa9\ub85d"],"\uc990\uaca8\ucc3e\ub294 \ub9ac\ud3ec\ud2b8":i["\uc990\uaca8\ucc3e\ub294 \ub9ac\ud3ec\ud2b8"],"\ub9ac\ud3ec\ud2b8 \uacf5\ubc31 \ubb38\uad6c PC":i["\ub9ac\ud3ec\ud2b8 \uacf5\ubc31 \ubb38\uad6c PC"],"\ub9ac\ud3ec\ud2b8 \uacf5\ubc31 \ubb38\uad6c \uc0ac\uc6a9\uc790 \ubc84\uc804":i["\ub9ac\ud3ec\ud2b8 \uacf5\ubc31 \ubb38\uad6c \uc0ac\uc6a9\uc790 \ubc84\uc804"],"\ub9ac\ud3ec\ud2b8 \ub9cc\ub4e4\uae30":i["\ub9ac\ud3ec\ud2b8 \ub9cc\ub4e4\uae30"]},a=require("hgn!works/components/report/template/report_list"),f=Hogan.compile(['<div id="report_empty_wrap" class="content_page" style="height:847px;display:none;">\n<div class="report_nulldata">\n<span class="img_nulldata"></span>\n<p class="desc go_admin_comment">{{{\ub9ac\ud3ec\ud2b8 \uacf5\ubc31 \ubb38\uad6c PC}}}</p>\n<p class="desc go_user_comment">{{{\ub9ac\ud3ec\ud2b8 \uacf5\ubc31 \ubb38\uad6c \uc0ac\uc6a9\uc790 \ubc84\uc804}}}</p>\n<a class="btn_major" data-role="button" el-create><span class="txt">{{\ub9ac\ud3ec\ud2b8 \ub9cc\ub4e4\uae30}}</span></a>\n</div>\n</div>\n'].join(""));return e.extend({events:{"click a[el-create]":"_reportCreate","refresh a[el-create]":"_reportLoad"},initialize:function(r){e.prototype.initialize.apply(this,arguments),this.appletId=r.appletId,this.reports=new n({appletId:this.appletId}),this.baseConfigModel=new t({id:r.appletId,access:!0})},render:function(){e.prototype.render.apply(this,arguments);if(this.accessibleForms.length<1){this._renderNoExistForm(this.$el);return}this.$el.append(a({lang:u})),$.when(this.baseConfigModel.fetch()).then($.proxy(function(){this.isAdmin=this.baseConfigModel.isAdmin(GO.session("id")),this.isAdmin||this.$el.find("a[el-create]").hide(),this._reportLoad()},this))},_reportLoad:function(){this.reports.clear(),$.when(this.reports.fetch()).then($.proxy(function(){if(this.reports.isEmpty()){this.$el.append(f.render(u)),this.$el.find("#reports_wrap").hide(),this.$el.find("#report_empty_wrap").show(),this.isAdmin?this.$el.find("p.go_user_comment").hide():(this.$el.find("a[el-create]").hide(),this.$el.find("p.go_admin_comment").hide());return}this.$el.find("#reports_wrap").show(),this.$el.find("#report_empty_wrap").hide(),this.$el.find(".all_wrap").empty(),this.$el.find(".favorite_wrap").empty(),_.forEach(this.reports.getAll(),function(e){var t=new r({appletId:this.appletId,isAdmin:this.isAdmin,item:e,content:this.$(".all_wrap")});t.render()},this);var e=this.reports.getFavorites();if(e.length==0){this.$el.find(".container_report_favor").hide();return}this.$el.find(".container_report_favor").show(),_.forEach(e,function(e){var t=new r({appletId:this.appletId,isAdmin:this.isAdmin,item:e,content:this.$(".favorite_wrap")});t.render()},this)},this))},_reportCreate:function(){GO.router.navigate("works/applet/"+this.appletId+"/report/create",!0)}})});