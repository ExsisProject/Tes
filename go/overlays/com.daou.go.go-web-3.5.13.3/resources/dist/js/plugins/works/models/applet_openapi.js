define(function(require){var e=Backbone.Model.extend({initialize:function(e){e=e||{},this.appletId=e.appletId},url:function(){return GO.config("contextRoot")+"api/works/applets/"+this.appletId+"/openapi"},validate:function(e){var t=/^[a-zA-Z0-9-_]*$/,n=e.fieldParamMap;if(e.useApi){if(_.isEmpty(e.apiKey))return{name:"apiKey",message:"validate.empty.token"};if(_.size(n)==0)return{name:"fieldParam",message:"validate.check.field"}}var r=[];_.each(n,function(e,n){if(_.isEmpty(e))return r.push({name:"fieldParam",item:!0,cid:n,message:"validate.empty.field"}),!0;if(!t.test(e))return r.push({name:"fieldParam",item:!0,cid:n,message:"validate.invalid.field"}),!0;if(e.length>20)return r.push({name:"fieldParam",item:!0,cid:n,message:"validate.field.length"}),!0});if(!_.isEmpty(r))return r;if(e.useUpdate){if(_.isEmpty(e.updateFieidCid))return{name:"updateFieidCid",message:"validate.empty.update"};var i=!1;_.each(n,function(t,n){if(e.updateFieidCid==n)return i=!0,!1});if(!i)return{name:"updateFieidCid",message:"validate.notmatch.update"}}}});return e});