define("works/components/filter/models/filter_manager",function(require){var e=require("works/components/filter/collections/filters");return Backbone.Model.extend({baseFilters:null,mineFilters:null,initialize:function(t){this.appletId=t.appletId,this.baseFilters=new e([],{appletId:this.appletId,type:"base"}),this.mineFilters=new e([],{appletId:this.appletId}),this.listenTo(this.baseFilters,"changeFilter.filters",this._onChangeFilter),this.listenTo(this.mineFilters,"changeFilter.filters",this._onChangeFilter),this.listenTo(this.baseFilters,"change:name",this._onChangeFilterName),this.listenTo(this.mineFilters,"change:name",this._onChangeFilterName)},fetch:function(){var e=$.Deferred();return $.when(this.baseFilters.fetch(),this.mineFilters.fetch()).then(function(){e.resolve()}),e},getBaseFilters:function(){return this.baseFilters},getMineFilters:function(){return this.mineFilters},findWhere:function(e){return this.baseFilters.findWhere(e)||this.mineFilters.findWhere(e)},remove:function(e){this.baseFilters.remove(e),this.mineFilters.remove(e)},_onChangeFilter:function(e,t){this.trigger("changeFilter.filters",e,t)},_onChangeFilterName:function(e){this.trigger("change:name",e)}})});