define("works/components/chart/views/presentation",function(require){var e=require("hgn!works/components/chart/templates/presentation"),t=require("works/components/chart/views/chart");return Backbone.View.extend({className:"layer_normal layer_present_mode",events:{"click [data-el-chart-presentation-close]":"_onClickClose"},initialize:function(e){e=e||{},this.charts=e.charts,this.appletId=e.appletId,this.chartFields=e.chartFields,this.numberFields=e.numberFields,this.$el.on("navigateChart",_.bind(this._navigateChart,this))},render:function(){return this.$el.html(e({title:this.model.get("title")})),this._renderChart(),this._renderCharts(),this},_renderChart:function(){var e=new t({isPresentation:!0,model:this.model,appletId:this.appletId,chartFields:this.chartFields,numberFields:this.numberFields});this.$(".content").html(e.render().el),e.fetchChartDatas()},_renderCharts:function(){this.charts.each(function(e){var n=new t({model:e,appletId:this.appletId,chartFields:this.chartFields,numberFields:this.numberFields,isThumbnail:!0});this.$(".chart_list").append(n.render().el),n.fetchChartDatas()},this)},_onClickClose:function(){this.$el.remove()},_navigateChart:function(e,t){this.model=t,this._renderChart()}})});