define("store/views/home",function(require){var e=require("backbone"),t=require("app"),n=require("jquery"),r=require("hgn!store/templates/home"),i=require("store/views/active_tab"),s=require("store/views/all_tab"),o=require("store/collections/configs"),u=require("store/views/detail"),a=require("store/views/registration"),f=require("i18n!store/nls/store"),l=e.View.extend({events:{"click #activeTab":"goToMyTab","click #allTab":"renderAllTab","click #linkHome":"linkHome"},initialize:function(){this.configs=new o},validateTermsAdConfig:function(){if(this.configs.length===0)return!1;var e=this.configs.getConfigByName("termsAdvertisement");return e&&e.configValue==="true"},checkConfig:function(){this.configs.fetch().done(n.proxy(function(){var e=this.validateTermsAdConfig();e||this.goToAgreement()},this))},renderActiveTab:function(){return this.checkConfig(),this.renderTabBar(),this.activeTabView=new i,n("#activeTab").addClass("on"),n("#allTab").removeClass("on"),this.activeTabView.render(),this},renderAllTab:function(){return this.checkConfig(),this.renderTabBar(),this.allTabView=new s,n("#allTab").addClass("on"),n("#activeTab").removeClass("on"),this.allTabView.render(),this},linkHome:function(){t.router.navigate(t.contextRoot+"store/",!0)},goToAgreement:function(){t.router.navigate("store/agreement",!0)},renderTabBar:function(){this.$el.html(r({lang:f}))},renderDetail:function(e){this.checkConfig(),this.renderTabBar();var t="hgn!store/templates/details/"+e;require([t],function(t){var n=new u({tmpl:t,code:e});n.render()})},renderRegistration:function(e){this.checkConfig(),this.renderTabBar();var t=new a(e);t.render()},goToMyTab:function(){t.router.navigate("store/my",!0)}});return l});