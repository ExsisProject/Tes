(function(){define(["backbone","app","GO.util"],function(e,t){var n=e.Model.extend({url:function(){var e=["/api/board",this.get("boardId"),"post",this.get("postId"),this.type||""];return!this.type&&this.get("writeType")=="reply"&&e.push("reply"),e.join("/").replace("//","/")},setURL:function(){this.get("isStream")||this.get("boardType")=="STREAM"?this.type="stream":this.get("readOnly")?this.type="":this.type="classic"},isClassic:function(){return this.get("type")=="CLASSIC"},summarizedFlag:function(){var e=t.util.escapeHtml(this.get("content")||this.get("summary"));if(t.util.ckeckBrCnt(e)>8||this.get("summarizedFlag"))return!0},dateParse:function(){return t.util.snsDate(this.get("createdAt"))},commentCheck:function(){return parseInt(this.get("commentsCount"))<4?"none":""},isRecommend:function(){return this.get("recommend")?"on":""},isZero:function(){return parseInt(this.get("recommendCount"))==0},hasComment:function(){return this.get("commentsCount")>0},detailContent:function(){var e=this.get("content");return e||(e=this.get("summary")),t.util.escapeHtmlWithHyperLink(e)},simpleContent:function(){var e=t.util.textToHtmlWithHyperLink(this.get("content")||this.get("summary"));return t.util.ckeckBrCnt(e)>8?t.util.splitBrContent(e):e},hasAttach:function(){return this.get("attaches").length>0},getMoreContent:function(e){var n=this;$.ajax({type:"GET",async:!1,url:t.contextRoot+"api/board/"+this.get("boardId")+"/post/"+this.id+"/content",success:function(e){n.moreContent=e.data.content}})},checkEditAuth:function(e){var t=this.get("actions");return t.updatable},getAuthorizedUser:function(){return this.attributes.authorizedUsers},isDuplicatedAuthUser:function(e){return _.any(this.getAuthorizedUser(),function(t){return t.userId==e})},addAuthorizedUser:function(e,t){this.isDuplicatedAuthUser(e)||this.attributes.authorizedUsers.push({userId:e,displayName:t})},isHiddenPost:function(){return!!this.get("hiddenPost")}});return n})}).call(this);