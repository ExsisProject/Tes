define(function(require){var e=require("jquery"),t=require("backbone"),n=require("hgn!board/templates/side_favorite"),r=require("hgn!board/templates/side_favorite_modify"),i=require("i18n!nls/commons");require("jquery.ui");var s={favorite:i["\uad00\uc2ec"],favorite_title:i["\uc990\uaca8\ucc3e\uae30"],favorite_edit:i["\ud3b8\uc9d1"],favorite_edit_title:i["\uc990\uaca8\ucc3e\uae30 \ud3b8\uc9d1"],save:i["\uc218\uc815\uc644\ub8cc"],collapse:i["\uc811\uae30"],expand:i["\ud3bc\uce58\uae30"],cancel:i["\ucde8\uc18c"]},o=t.View.extend({el:"#favoriteSide",events:{"click span.ic_list_reorder":"favoriteSortable","click span#reorderCancel":"reorderCancel","mouseover ul>li ":"dragOver","mouseout ul>li":"dragOut"},initialize:function(e){this.options=e||{}},render:function(e){if(this.options.data&&this.options.data.length){var t=e?r:n;this.$el.html(t({data:this.options.data,isOpen:this.options.isOpen,lang:s})).show()}else this.$el.hide()},favoriteSortable:function(){this.render(!0),this.$el.addClass("lnb_edit").sortable({items:"li",opacity:"1",delay:100,cursor:"move",hoverClass:"move",containment:"#favoriteSide",forceHelperSize:"true",helper:"clone",placeholder:"ui-sortable-placeholder"}).sortable("enable")},reorderCancel:function(){this.$el.removeClass("lnb_edit").sortable("disable"),this.render()},dragOver:function(t){e(t.currentTarget).addClass("move")},dragOut:function(t){e(t.currentTarget).removeClass("move")}}),u=null;return{render:function(e){return u=new o(e),u.render()},attachTo:function(e,t){var n=new o(t);return n.setElement(e),n.render(),u=n,n},getReorderIds:function(){var t=[];return u.$el.find("li").each(function(n,r){t.push(e(r).attr("data-id"))}),t},destroySortable:function(){u.$el.removeClass("lnb_edit").sortable("destroy")}}});