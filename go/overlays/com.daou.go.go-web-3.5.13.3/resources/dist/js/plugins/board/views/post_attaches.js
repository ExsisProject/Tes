(function(){define(["jquery","backbone","i18n!nls/commons","i18n!board/nls/board","app","hgn!board/templates/post_attaches"],function(e,t,n,r,i,s){var o=null,u={save:n["\uc800\uc7a5"],preview:n["\ubbf8\ub9ac\ubcf4\uae30"],download:n["\ub2e4\uc6b4\ub85c\ub4dc"]},a=t.View.extend({initialize:function(e){this.options=e||{},this.options.el||(this.tagName="div"),this.attaches=this.options.attaches,this.boardId=this.options.boardId,this.postId=this.options.postId,this.images=[],this.files=[]},events:{},render:function(){var t=this,n="length_",r=0;return e.each(this.attaches,function(e,n){n.humanSize=GO.util.getHumanizedFileSize(n.size),n.thumbSmall?t.images.push(n):(GO.util.fileExtentionCheck(n.extention)||(n.extention="def"),t.files.push(n))}),this.$el.html(s({lang:u,hasFiles:this.files.length?!0:!1,files:this.files,contextRoot:GO.contextRoot,hasImages:this.images.length?!0:!1,getImageClass:function(){return t.images.length<=4?n+t.images.length:t.images.length==5?n+3:t.images.length==6?n+3:n+4},largeImageSize:function(){return t.images.length==1?!0:!1},midImageSize:function(){return t.images.length==2||t.images.length==3?!0:!1},smallImageSize:function(){return t.images.length>3?!0:!1},reoffsetImg:function(){return t.images.length==1?!1:"if($(this).parents('li').height() > this.height) { this.style.marginTop = ($(this).parents('li').height()-this.height)/2 + 'px'; } "},isGif:function(){return this.extention.toLowerCase()=="gif"?!0:!1},images:this.images,postId:this.postId,boardId:this.boardId})),this.$el.html()},preview:function(t){var n=e(t.currentTarget);return GO.util.preview(n.attr("data-id")),!1},resize:function(t){if(!t)return!1;var n=t.find(".feed_img:not(.length_1)>li[data-resize!=true]"),r=this,i=e(n[0]).width();n.length&&e(n).each(function(t,n){var i=e(n);i.height(r.firstImgWidth).attr("data-resize",!0)})}});return{render:function(e){return o=new a(e),o.render()},resize:function(e){o&&o.resize(e)}}})}).call(this);