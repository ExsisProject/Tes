define("board/components/board_tree/views/board_tree_menu",function(require){var e=require("app"),t=require("board/models/board_tree_node"),n=require("board/components/board_tree/views/base_board_tree_menu"),r=require("text!board/components/board_tree/templates/board_tree_menu.html"),i=require("i18n!nls/commons"),s=require("i18n!board/nls/board");require("jquery.go-popup");var o=e.session("loginId")+".board.side.closedNodes",u={confirm:i["\ud655\uc778"],input_placeholder:s["\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ubd80\uc11c\uc6d0\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694."],alert_check_editor:s["\ud604\uc7ac \uc791\uc131\uc911\uc778 \ub0b4\uc6a9\uc774 \uc788\uc2b5\ub2c8\ub2e4.<br>\ud654\uba74 \uc774\ub3d9 \uc2dc \uc791\uc131 \uc911\uc778 \ub0b4\uc6a9\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.<br>\uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],cancel:i["\ucde8\uc18c"]},a=n.extend({template:r,events:{"click .btnToggleNode":"_onClickToggleNode","click a.node-value":"_clickAnchorNodeValueHandler"},getTemplateVars:function(e,t){var r=n.prototype.getTemplateVars.apply(this,arguments);if(e.isBoardNode()||e.isCompanyShareNode())r.nodeId=e.getBoardId();return r},getLinkUrl:function(e){var t="#";if(e.isBoardNode()||e.isCompanyShareNode())t="board/"+e.getBoardId();return t},_onClickToggleNode:function(e){var t=$(e.currentTarget),n=t.closest("li");e.stopImmediatePropagation(),this.toggleNode(n)},_clickAnchorNodeValueHandler:function(n){var r=$(n.currentTarget),i=r.closest("li"),s=r.closest("section.lnb"),o=i.data("type"),a=r.attr("href").replace(e.config("root"),"");n.preventDefault(),n.stopImmediatePropagation();switch(o){case t.NODETYPE_FOLDER:this.toggleNode(i);break;case t.NODETYPE_COMPANY_SHARE:case t.NODETYPE_BOARD:e.util.hasActiveEditor()?e.util.editorConfirm(function(){e.router.navigate(a,{trigger:!0,pushState:!0})}):$("#feedContent").val()&&$("#feedContent").val()!=u.input_placeholder?$.goPopup({title:"",message:u.alert_check_editor,modal:!0,buttons:[{btext:u.confirm,btype:"confirm",callback:function(){e.router.navigate(a,{trigger:!0,pushState:!0})}},{btext:u.cancel,btype:"normal"}]}):e.router.navigate(a,{trigger:!0,pushState:!0});break;case t.NODETYPE_SEPERATOR:default:}return!1}});return a});