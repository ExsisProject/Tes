(function(){define(["jquery","backbone","app","board/models/board_config","views/mobile/header_toolbar","board/views/mobile/m_post_info","hgn!board/templates/mobile/m_post_comments","i18n!board/nls/board","i18n!nls/commons","m_comment","GO.util","jquery.go-validation"],function(e,t,n,r,i,s,o,u,a,f){var l={reply:u["\ub313\uae00"],save:a["\uc800\uc7a5"],cancel:a["\ucde8\uc18c"],modify:a["\uc218\uc815"],"delete":a["\uc0ad\uc81c"],comment_delete_msg:u["\ub313\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],comment_has_reply:u["\ub313\uae00\uc774 \ub4f1\ub85d\ub41c \uae00\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."],alert_length:u["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],comment_save:u["\ub313\uae00 \uc791\uc131"],comment_modify:u["\ub313\uae00 \uc218\uc815"],comment_placeholder:u["\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."]},c=t.View.extend({events:{"a#btnPostComment":"actionPostComment"},initialize:function(){this.options=this.options||{},this.boardId=this.options.boardId,this.postId=this.options.postId,this.boardModel=r.get(this.boardId),this.postInfoView=s.render(this.options),this.postModel=this.postInfoView.postModel,n.EventEmitter.off("change:comment"),n.EventEmitter.on("common","change:comment",_.bind(function(e){this.$el.find("header span.num").text("( "+e+" )")},this))},render:function(){var e=this;this.renderTitleToolbar(),this.$el.html(o()),this.renderPostInfo();var t=f.create({el:"#comment_list",type:"board/"+this.boardId+"/post",typeId:this.postId,isReply:this.postModel.isClassic(),useCreateForm:this.boardModel.get("commentFlag"),boardModel:this.boardModel})},renderTitleToolbar:function(){var e=this;this.boardType=this.boardModel.get("type"),this.boardName=this.boardModel.get("name"),i.render({isClose:!0})},renderPostInfo:function(){var e=this.postInfoView.$el;this.$el.find("."+e.className).remove(),this.$el.find(".classic_detail").prepend(e)},actionPostComment:function(e){console.info("actionPostComment :: call!!")}},{create:function(t){var n=e.extend({},t,{el:e("#content")});return new c(n)},render:function(e){var t=this.create(e);return t.render()}});return c})}).call(this);