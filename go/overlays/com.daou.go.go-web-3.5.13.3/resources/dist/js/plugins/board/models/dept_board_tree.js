define(function(require){var e=require("app"),t=require("board/models/board_tree"),n=require("board/models/dept_board_tree_node"),r=t.Model.extend({getBoardTreeNodes:function(){return new n.Collection(this.getBoards())},getDeptId:function(){return this.get("deptId")},getDeptName:function(){return this.get("deptName")},isDeleted:function(){return this.get("deleted")||!1},isManagable:function(){return this.get("managable")||!1},isAccessibleSubDeptBoards:function(){return!!this.get("containsLowRank")}}),i=t.Collection.extend({model:r,url:function(){return e.config("contextRoot")+"api/department/boards"},isAccessableSubDeptBoards:function(){var t=!1;return e.session("useOrg")?(this.each(function(e){e.isManagable()&&e.isAccessibleSubDeptBoards()&&(t=!0)}),t):t}});return{Model:r,Collection:i}});