define(["backbone","board/models/post","collections/paginated_collection"],function(e,t,n){var r=n.extend({model:t,url:function(){var e=GO.contextRoot+"api/board/"+this.boardId+"/posts/"+this.boardType;return this.searchType?e+="/search":this.isNoticeType&&(e+="/notice"),e+="?"+this.makeParam(),e},setHeaderId:function(e){this.headerId=e},setDuration:function(e,t){t||(t={});var n=e||"";if(n=="period")this.fromDate=GO.util.toISO8601(t.fromDate),this.toDate=GO.util.searchEndDate(t.toDate);else if(n!=""&&n!="all"){var r=GO.util.shortDate(new Date),i=GO.util.calDate(r,"months",n);this.fromDate=GO.util.toISO8601(i),this.toDate=GO.util.searchEndDate(r)}else this.fromDate=null,this.toDate=null;this.duration=n},makeParam:function(){var e={},t=$.param({page:this.pageNo});return this.pageSize&&!this.isNoticeType&&(e.offset=this.pageSize),this.keyword&&(t+="&keyword="+encodeURIComponent(this.keyword)),this.property&&(e.property=this.property),this.direction&&(e.direction=this.direction),this.searchType?(e.searchType=this.searchType,e.sorts="createdAt desc"):e.sorts="sortCriteria desc,threadRootCode desc,threadCode asc",this.headerId&&(e.headerId=this.headerId),this.fromDate&&(e.fromDate=this.fromDate),this.toDate&&(e.toDate=this.toDate),this.duration&&(e.duration=this.duration),_.isEmpty(e)||(t+="&"+$.param(e)),t},_getParam:function(){var e={pageNo:this.pageNo,pageSize:this.pageSize,keyword:this.keyword,sorts:this.searchType?"createdAt desc":"sortCriteria desc,threadRootCode desc,threadCode asc",property:this.property,direction:this.direction,searchType:this.searchType,headerId:this.headerId,fromDate:this.fromDate,toDate:this.toDate,duration:this.duration};return e}});return r});