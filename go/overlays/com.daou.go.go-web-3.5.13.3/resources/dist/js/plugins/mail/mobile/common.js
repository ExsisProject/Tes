function makeTopMenuTitle(e){jQuery("#top_menu_title").text(e)}function initLayoutSize(){var e=jQuery(window).height(),t=jQuery(document).height(),n=jQuery("header.go_header div.nav").height();jQuery("#go_body").css({height:"auto","min-height":e-n});var e=jQuery(window).height(),n=jQuery("header.go_header div.nav").height();if(MOBILE_WEB){var r=jQuery("footer").height();e=isAndroid()?e-r-n:e-n,jQuery("#mail_folder_side").css({top:n+"px",height:e+"px"})}else jQuery("#mail_folder_side").css({top:n+"px",height:t-n-1+"px"});jQuery("#top_menu_title").on("click",function(){gotoMailHome()})}function isAndroid(){return checkOS()=="android"}function isIphone(){return checkOS()=="iphone"}function isIpad(){return checkOS()=="ipad"}function checkOS(){var e=window.navigator.userAgent.toLowerCase();return e.indexOf("android")>-1?"android":e.indexOf("iphone")>-1?"iphone":e.indexOf("ipad")>-1?"ipad":-1}function isAndroidApp(){return isMobileApp()&&checkOS()=="android"}function isIphoneApp(){return isMobileApp()&&(checkOS()=="iphone"||checkOS()=="ipad")}function isMobileApp(){var e=sessionStorage.getItem("GO-Agent-mail");return e=="GO-Android"||e=="GO-iPhone"}var HistoryControl=function(e){this.historyIdx=0,this.History=window.History,this.History.Adapter.bind(window,"statechange",function(){e(this.History.getState())}),this.setHistory=function(e){e.state=this.historyIdx,this.historyIdx++,this.History.pushState(e,TITLENAME,"?state="+this.historyIdx)},this.getHistoryIndex=function(){return this.historyIdx}},ActionLoader={};ActionLoader.postLoadAction=function(e,t,n,r){jQuery.post(e,t,function(e,t){n(e,t)},r)},ActionLoader.getLoadAction=function(e,t,n,r){jQuery.get(e,t,function(e,t){n(e,t)},r)},ActionLoader.requestGoLoadAction=function(e,t,n,r,i,s,o,u){ActionLoader.isloadAction=!0,jQuery.ajax({type:e,contentType:t,url:r,data:i,async:n,success:function(e){s(e.data)},error:function(e){var t=JSON.parse(e.responseText);if(t.code=="401")if(BASECONFIG.data.useOtp||BASECONFIG.data.useCert){var n=e.getResponseHeader("Location");n==null?window.location=window.location.href:window.location=n}else window.location="/";else u?u(t):alert(t.message)},dataType:o})};var formContentType="application/x-www-form-urlencoded; charset=UTF-8",jsonContentType="application/json; charset=UTF-8";ActionLoader.getGoLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("GET",formContentType,!0,e,t,n,r,i)},ActionLoader.getSyncGoLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("GET",formContentType,!1,e,t,n,r,i)},ActionLoader.postGoLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("POST",formContentType,!0,e,t,n,r,i)},ActionLoader.postGoJsonLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("POST",jsonContentType,!0,e,JSON.stringify(t),n,r,i)},ActionLoader.postSyncGoLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("POST",formContentType,!1,e,t,n,r,i)},ActionLoader.postSyncGoJsonLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("POST",jsonContentType,!1,e,JSON.stringify(t),n,r,i)},ActionLoader.putGoJsonLoadAction=function(e,t,n,r,i){ActionLoader.requestGoLoadAction("PUT",jsonContentType,!0,e,JSON.stringify(t),n,r,i)};var IscrollControl=function(e,t){var n=this;this.topOffset=t.topOffset?t.topOffset:0,this.mainTop=t.mainTop?t.mainTop:88,this.pullUpDownUse=t.pullUpDownUse?t.pullUpDownUse:!1,this.bounce=t.bounceBlock?!1:!0,this.clickStyle=t.clickStyle?!0:!1,this.zoom=t.zoom?!0:!1,this.$obj=jQuery("#"+e),this.myScroll=null,this.pullUpEl=null,this.pullDownEl=null,this.pullDownOffset=0,this.pullUpOffset=0,this.makeIscroll=function(){n.destroyIscroll(),n.$obj.css({position:"absolute",top:n.mainTop+"px",bottom:"15px",left:"0","padding-bottom":"10px",width:"100%",overflow:"hidden"}),this.makePullUpDownTmpl(),this.myScroll=new iScroll(e,{useTransition:!0,topOffset:n.topOffset||0,bounce:n.bounce,clickStyle:n.clickStyle,zoom:n.zoom,onBeforeScrollStart:function(e){var t=e.target;while(t.nodeType!=1)t=t.parentNode;t.tagName!="SELECT"&&t.tagName!="INPUT"&&t.tagName!="TEXTAREA"&&e.preventDefault()},onRefresh:function(){n.pullUpDownUse&&n.pullUpEl.hasClass("loading")&&(n.pullUpEl.removeClass("loading"),n.pullUpEl.find("span.pullUpLabel").text(mailMsg.mail_mobile_pullup_touchstart))},onScrollMove:function(){n.pullUpDownUse&&(this.y<this.maxScrollY-5&&!n.pullUpEl.hasClass("flip")?(n.pullUpEl.addClass("flip"),n.pullUpEl.find("span.pullUpLabel").text(mailMsg.mail_mobile_pullup_touchend),this.maxScrollY=this.maxScrollY):this.y>this.maxScrollY+5&&n.pullUpEl.hasClass("flip")&&(n.pullUpEl.removeClass("flip"),n.pullUpEl.find("span.pullUpLabel").text(mailMsg.mail_mobile_pullup_touchstart),this.maxScrollY=n.pullUpOffset))},onScrollEnd:function(){n.pullUpDownUse&&n.pullUpEl.hasClass("flip")&&(n.pullUpEl.removeClass("flip").addClass("loading"),n.pullUpEl.find("span.pullUpLabel").text(mailMsg.mail_mobile_loading),t.upAction&&t.upAction())}}),document.addEventListener("touchmove",function(e){e.preventDefault()},!1)},this.scrollToTop=function(){this.myScroll&&this.myScroll.scrollTo(0,0,0)},this.scrollToBottom=function(){this.myScroll&&this.myScroll.scrollTo(0,this.myScroll.maxScrollY,0)},this.refreshIscroll=function(){this.myScroll?(this.makePullUpDownTmpl(),this.myScroll.refresh()):this.makeIscroll()},this.destroyIscroll=function(){this.myScroll&&(this.myScroll.destroy(),this.myScroll=null,jQuery("#"+e+"_pullUp").remove(),n.$obj.removeAttr("style"))},this.getIscrollObj=function(){return this.myScroll},this.getPullUpObj=function(){return jQuery("#"+e+"_pullUp")},this.makePullUpDownTmpl=function(){n.pullUpDownUse&&(jQuery("#"+e+"_pullUp").length||n.$obj.find("div.iscroll").append('<div id="'+e+'_pullUp" class="pullUp" style="display:none"><span class="pullDownIcon"><span class="pullUpIcon"></span><span class="pullUpLabel">'+mailMsg.mail_mobile_pullup_touchstart+"</span></div>"),n.pullUpEl=jQuery("#"+e+"_pullUp"),n.pullUpOffset=n.pullUpEl&&n.pullUpEl.length>0?n.pullUpEl[0].offsetHeight:0)}};jQuery.fn.refreshIscroll=function(e){if(e)e.refresh();else{var t=jQuery(this).data("opt");e=jQuery(this).makeIscroll(t)}return e};