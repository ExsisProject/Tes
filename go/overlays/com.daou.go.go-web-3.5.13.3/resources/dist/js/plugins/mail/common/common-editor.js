var SmartEditorControl=function(e,t,n){function o(e){this.options=e,this.oEditor=null,this.templateManager=null}function u(e){return!n.Editor.isIE()&&n.Editor.isActiveXType(e)?s:e}function a(e){return e===i.editorName.SmartEditor}function f(){return"/smarteditor/mail-skin?mode="+(this.options.simpleMode?"simple":"")}var r={},i={editorName:{SmartEditor:"SmartEditor",ActiveDesigner:"ActiveDesigner"}},s=i.editorName.SmartEditor;return o.prototype.makeEditor=function(e){var r=BASECONFIG.data.editorConfig,i=u(r&&r.editorName?r.editorName:s),o={lang:this.options.locale,onLoad:e||function(){},useImage:this.options.useImage,height:"600px"};a(i)&&(o.sSkinURI=f.call(this)),this.oEditor=n.Editor.create(i,t("#"+this.options.id),o)},o.prototype.getEditor=function(){return this.oEditor},o.prototype.setEditorText=function(e){this.oEditor.setContent(e)},o.prototype.addEditorText=function(e){this.oEditor.setContent(e,!0)},o.prototype.getEditorText=function(){return this.oEditor.getContent()},o.prototype.getHTMLContent=function(){return this.oEditor.getHTMLContent()},o.prototype.setSignData=function(e){this.oEditor.setSignature(e)},o.prototype.makeLetterLayout=function(e,t,r){var i=this;this.templateManager=new n.Editor.TemplateManager({header:e,footer:r,backgroundImg:t}),this.oEditor.applyTemplate(this.templateManager)},o.prototype.cancelLetterLayout=function(){this.oEditor.removeTemplate(this.templateManager),r={}},o.prototype.destroy=function(){this.oEditor.destroy()},o.prototype.showWriteTemplateSelectLink=function(){var e=BASECONFIG.data.editorConfig,t=u(e&&e.editorName?e.editorName:s);a(t)&&this.oEditor.editorWrapContent.find("#writeTemplateSelect").show()},o.prototype.setFocus=function(){this.oEditor.focus()},o.prototype.isAccessible=function(){this.oEditor.isAccessible()},o.prototype.isAccessible=function(){this.oEditor.isAccessible()},o}(this,jQuery,GO);