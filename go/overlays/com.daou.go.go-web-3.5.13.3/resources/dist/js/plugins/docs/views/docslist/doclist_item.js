define("docs/views/docslist/doclist_item",function(require){var e=require("backbone"),t=require("docs/views/docs_attach"),n=require("views/profile_card"),r=require("hgn!docs/templates/docslist/doclist_item"),i=require("i18n!docs/nls/docs"),s={},o=e.View.extend({tagName:"tr",events:{"click td[data-id]":"showUrl","click a#attach":"showAttach","click a#writer span.txt":"showUserProfile"},initialize:function(e){this.options=e||{},this.columns=this.options.columns,this.model=this.options.model,this.isCheckboxVisible=_.isBoolean(this.options.isCheckboxVisible)?this.options.isCheckboxVisible:!1},render:function(){var e={id:this.model.getDocsId(),docsInfoId:this.model.getDocsInfoId(),docsId:this.model.getDocsId(),folderId:this.model.getFolderId(),title:this.model.getTitle(),writer:this.model.getCreatorName(),writerId:this.model.getCreatorId(),writerPositionName:this.model.getCreatorPositionName(),writeDate:this.model.getRequestDate(),state:this.model.getDocsStatus(),stateName:this.model.getDocsStatusName(),statusClass:this.model.getDocsStatusClass(),folderPath:this.model.getFolderPath(),readDate:this.model.getReadDate(),completDate:this.model.getCompleteDate(),hasAttach:this.model.hasAttach(),attachCount:this.model.getAttachCount(),folderName:this.model.getFolderName(),commentCount:this.model.getCommentCount(),hasComment:this.model.hasComment(),docNum:this.model.getDocNum()},t=this.model.get("completDate")?GO.util.isCurrentDate(this.model.get("completDate"),1):!1,n=this.model.folderType;n=="registwaiting"&&e.state=="APPROVEWAITING"&&(this.isCheckboxVisible=!1);var i=r({doc:e,columns:this.columns,isCheckboxVisible:this.isCheckboxVisible,isNew:t});return this.$el.html(i),this.$el.css("cursor","pointer"),this},showUrl:function(e){var t=$(e.currentTarget).attr("data-id"),n=$(e.currentTarget).parent().find(".state").text();sessionStorage.setItem("list-folderType",undefined);if(t&&n==i["\uc784\uc2dc\uc800\uc7a5"]){var r="docs/edit/"+t;GO.router.navigate(r,!0)}else{var s=GO.router.getUrl(),o=s.substring(0,s.indexOf("?"));sessionStorage.setItem("list-history-baseUrl",o),sessionStorage.setItem("list-history-pageNo",GO.router.getSearch().page?GO.router.getSearch().page:0),sessionStorage.setItem("list-history-pageSize",GO.router.getSearch().offset?GO.router.getSearch().offset:20),sessionStorage.setItem("list-history-property",GO.router.getSearch().property?GO.router.getSearch().property:""),sessionStorage.setItem("list-history-direction",GO.router.getSearch().direction?GO.router.getSearch().direction:""),sessionStorage.setItem("list-history-searchtype",GO.router.getSearch().searchtype?GO.router.getSearch().searchtype:""),sessionStorage.setItem("list-history-keyword",GO.router.getSearch().keyword?GO.router.getSearch().keyword:""),sessionStorage.setItem("list-history-duration",GO.router.getSearch().duration?GO.router.getSearch().duration:""),sessionStorage.setItem("list-history-fromDate",GO.router.getSearch().fromDate?GO.router.getSearch().fromDate:""),sessionStorage.setItem("list-history-toDate",GO.router.getSearch().toDate?GO.router.getSearch().toDate:""),sessionStorage.setItem("list-folderType",this.model.folderType);var u=$.param(GO.router.getSearch()),a="docs/detail/"+t+(u?"?"+u:"");GO.router.navigate(a,!0)}console.log(u)},showAttach:function(e){e.stopPropagation();var n=new t({docId:this.model.getDocsId()});n.render()},showUserProfile:function(e){e.stopPropagation(),e.preventDefault();var t=this.model.getCreatorId();t&&n.render(t,e.currentTarget)}});return o});