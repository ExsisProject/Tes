define("docs/views/mobile/docs_version",function(require){var e=require("backbone"),t=require("docs/models/docs_doc_item"),n=require("views/mobile/header_toolbar"),r=require("i18n!docs/nls/docs"),i=require("hgn!docs/templates/mobile/docs_version"),s=require("hgn!docs/templates/mobile/docs_version_item"),o=e.Collection.extend({model:t,initialize:function(e){this.docsId=e.docsId},url:function(){return GO.contextRoot+"api/docs/"+this.docsId+"/versions"}}),u=e.View.extend({el:"#content",events:{"click li.docsVersion":"moveDocs"},initialize:function(e){this.options=e,this.docsId=this.options.docsId},dataFetch:function(){var e=$.Deferred();return this.versionCollection=new o({docsId:this.docsId}),this.versionCollection.fetch({statusCode:{400:function(){GO.util.error("404",{msgCode:"400-common"})},403:function(){GO.util.error("403",{msgCode:"400-common"})},404:function(){GO.util.error("404",{msgCode:"400-common"})},500:function(){GO.util.error("500")}},success:function(){e.resolve()}}),e},render:function(){var e=this;n.render({title:r["\ubc84\uc804"],isClose:!0}),this.$el.html(i()),this.versionCollection.each(function(t){e.$el.find("#versionWrap").append(s({current:e.docsId==t.id,version:"VER "+t.getVersion(),docsId:t.id,reason:t.getReason(),thumbnail:t.getThumbnail(),creatorName:t.getCreatorName(),creatorPosition:t.getCreatorPosition(),completeDate:t.getCompleteDate()}))})},moveDocs:function(e){var t=$(e.currentTarget).attr("data-id");t&&t!=this.docsId&&GO.router.navigate("docs/detail/"+t,!0)}});return u});