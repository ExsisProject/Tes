define("docs/views/docslist/latest_read",function(require){var e=require("jquery"),t=require("underscore"),n=require("backbone"),r=require("when"),i=require("app"),s=require("docs/views/docslist/doclist_item"),o=require("docs/views/base_docs"),u=require("docs/views/docslist/base_docs_list"),a=require("docs/collections/docs_base_list"),f=require("docs/models/docs_doc_item"),l=require("hgn!docs/templates/docslist/base_docslist"),c=require("hgn!docs/templates/docslist/docslist_empty"),h=require("i18n!nls/commons"),p=require("i18n!docs/nls/docs"),d=require("i18n!approval/nls/approval"),v={"\uc81c\ubaa9":p["\uc81c\ubaa9"],"\ub0b4\uc6a9":h["\ub0b4\uc6a9"],"\ub4f1\ub85d\uc790":p["\ub4f1\ub85d\uc790"],"\uac80\uc0c9":h["\uac80\uc0c9"],placeholder_search:h["\ud50c\ub808\uc774\uc2a4\ud640\ub354\uac80\uc0c9"],search_all:d["\uc804\uccb4\uae30\uac04"],search_month:d["\uac1c\uc6d4"],search_year:d["\ub144"],search_input:d["\uae30\uac04\uc785\ub825"]},m=a.extend({initialize:function(e){a.prototype.initialize.apply(this,arguments),this.folderType=e.folderType},model:f,url:function(){return"/api/docs/folder/latestread?"+this._makeParam()}});return o.extend({initialize:function(e){this.initProperty="updatedAt",this.initDirection="desc",this.collection=new m({folderType:"latestread"}),this.collection.setPageSize(50),this.collection.setSort(this.initProperty,this.initDirection);var t=sessionStorage.getItem("list-history-baseUrl"),n=new RegExp("(#)?docs/folder/latestread$");t&&n.test(t)?(this.initProperty=sessionStorage.getItem("list-history-property"),this.initDirection=sessionStorage.getItem("list-history-direction"),this.initSearchtype=sessionStorage.getItem("list-history-searchtype"),this.ckeyword=sessionStorage.getItem("list-history-keyword").replace(/\+/gi," "),this.duration=sessionStorage.getItem("list-history-duration"),this.fromDate=sessionStorage.getItem("list-history-fromDate"),this.toDate=sessionStorage.getItem("list-history-toDate"),this.collection.setListParam()):(this.collection.pageSize=this.initPage,this.collection.setDuration(),this.collection.setSort(this.initProperty,this.initDirection)),sessionStorage.clear(),this.collection.bind("reset",this.resetList,this),o.prototype.initialize.apply(this,arguments)},columns:{"\uc5f4\ub78c\uc77c":p["\ucd5c\uadfc \uc5f4\ub78c\uc77c"],"\ub4f1\ub85d\uc77c":h["\ub4f1\ub85d\uc77c"],"\uc81c\ubaa9":p["\uc81c\ubaa9"],"\ucca8\ubd80":p["\ucca8\ubd80"],"\ubb38\uc11c\uc704\uce58":p["\uc704\uce58"],"\ub4f1\ub85d\uc790":p["\ub4f1\ub85d\uc790"],"\ubb38\uc11c\ubc88\ud638":p["\ubb38\uc11c\ubc88\ud638"],count:7},sorts:{"\uc5f4\ub78c\uc77c":"updatedAt"},render:function(){return o.prototype.render.apply(this,arguments),e("#content header h1").text(p["\ucd5c\uadfc \uc5f4\ub78c \ubb38\uc11c"]),this.$el.html(l({lang:v,usePage:!1})),this._renderLatestReadList(),this},_renderLatestReadList:function(){var e=new u({collection:this.collection,columns:this.columns,sorts:this.sorts,usePage:!1,usePeriod:!1});this.$el.find("#base_doclist").append(e.render().el),e.setInitSort(),this._bindEvent(e)},resetList:function(t){var n=this.collection.url().replace("/api/",""),r=i.router.getUrl().replace("#","");r.indexOf("?")<0?i.router.navigate(n,{replace:!0}):r!=n&&i.router.navigate(n,{trigger:!1,pushState:!0}),e(".list_docs > tbody").empty();var o=this.columns,u="docs",a=this;t.each(function(t){t.folderType=a.collection.folderType;var n=new s({model:t,listType:u,columns:o,isCheckboxVisible:!0});e(".list_docs > tbody").append(n.render().el)}),t.length==0&&e(".list_docs > tbody").html(c({columns:o,lang:{doclist_empty:p["\ubb38\uc11c\uc5c6\uc74c"]}}))},_bindEvent:function(e){this.$el.find("input#keyword").keydown(function(t){e.searchByEnter(t)}),this.$el.find(".btn_search2").click(function(t){e.search()})}})});