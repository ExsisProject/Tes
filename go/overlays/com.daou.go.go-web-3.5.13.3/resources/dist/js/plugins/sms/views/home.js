define("sms/views/home",function(require){var e=require("app"),t=require("grid"),n=require("i18n!nls/commons"),r=require("i18n!sms/nls/sms"),i=require("sms/views/base_sms"),s=require("hgn!sms/templates/home"),o=require("sms/collections/sms_infos"),u={SMS:n.SMS},a=i.extend({events:{"click a[data-type=sms]":"goSmsDetail"},initialize:function(e){i.prototype.initialize.apply(this,arguments),this.smsInfos=new o([],{type:"user"}),this.smsInfos.setDuration()},render:function(){return i.prototype.render.apply(this,arguments),this.$el.html(s({})),this._renderDataTables(),this},_renderDataTables:function(){var e=this;this.gridView=new t({el:"#smsListWapper",collection:this.smsInfos,tableClass:"type_normal tb_message_list",checkbox:!1,usePeriod:!0,useToolbar:!0,columns:[{name:"sendDate",className:"date",label:r["\ubc1c\uc1a1\uc77c"],sortable:!0,render:function(e){return GO.util.basicDate3(e.get("sendDate"))}},{name:"subject",className:"subject sorting_disabled",label:n["\uc81c\ubaa9"],render:function(e){var t=e.get("subject")?e.get("subject"):n["\uc81c\ubaa9\uc5c6\uc74c"],r='<a data-move data-type="sms" data-id="'+e.id+'">'+'<span class="txt">'+t+"</span>"+"</a>";return r}},{name:"count",className:"num sorting_disabled",label:r["\ucd1d \uc694\uccad \uac74\uc218"],render:function(e){return e.get("count")}},{name:"doneCount",className:"num sorting_disabled",label:r["\uc131\uacf5"],render:function(e){return e.get("doneCount")}},{name:"errorCount",className:"num sorting_disabled",label:r["\uc2e4\ud328"],render:function(e){return e.get("errorCount")}},{name:"status",className:"type sorting_disabled",label:r["\ud604\ud669"],render:function(e){var t=e.get("doneCount"),n=e.get("errorCount"),i=e.get("count");return i>t+n?r["\ubc1c\uc1a1\uc911"]:r["\ubc1c\uc1a1 \uc644\ub8cc"]}},{name:"messageType",className:"type",label:r["\ubd84\ub958"],sortable:!0,render:function(e){var t=e.get("messageType");return t?t:"-"}}],drawCallback:function(e){},searchOptions:[{value:"subject",label:n["\uc81c\ubaa9"]},{value:"content",label:n["\ub0b4\uc6a9"]}]}),this.gridView.render(),this.smsInfos.fetch()},goSmsDetail:function(t){var n=t.currentTarget.getAttribute("data-id");e.router.navigate("sms/"+n+"/detail",!0)}});return a});