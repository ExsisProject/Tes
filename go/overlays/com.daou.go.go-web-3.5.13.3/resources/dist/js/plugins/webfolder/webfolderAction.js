function initWebFolderFunction(){webfolderControl=new WebfolderControl}function initService(){webfolderControl.loadWebfolderList(),webfolderControl.loadShareWebfolderList(),webfolderControl.loadPublicWebfolderList();var e={path:"/",fullPath:"/",currentPage:"1",offset:20};sideTop==="company"&&(e.type="public"),sideTop==="private"&&(e.type="user"),searchFolder=="user"&&delete e.type,type=="share"&&(e.type=type,e.sroot=sroot,e.userSeq=userSeq,e.fullPath=fullPath,e.path=path),webfolderControl.loadViewWebFolder(e),webfolderControl.makeLeftEvent(),webfolderControl.makeContentEvent(),webfolderControl.makeSearchEvent(),initWebfolderDisplay(),jQuery("#webfolderInput").placeholder()}function initWebfolderDisplay(){var e=getCookie("PRW");e=e?e:"show",toggleWebfolderList("webfolderLeft",e);var t=getCookie("PUW");t=t?t:"show",toggleWebfolderList("publicFolderLeft",t)}function toggleWebfolderList(e,t){var n="show",r=jQuery("a[type='"+e+"']"),i=jQuery("ul."+e);r.closest("h1").hasClass("folded")||t&&t=="show"?(i.slideDown(),r.closest("h1").removeClass("folded").attr("title",mailMsg.common_menu_hide)):(i.slideUp(),r.closest("h1").addClass("folded").attr("title",mailMsg.common_menu_show),n="hide"),setWebfolderListCookie(e,n)}function setWebfolderListCookie(e,t){var n="PRW";e.indexOf("public")>-1&&(n="PUW"),setCookie(n,t,365)}function goFolder(e){function t(){return e.fullPath.substring(14)}e.fullPath&&(e.path=t()),webfolderControl.loadViewWebFolder(e)}function previewFile(e){e.action="webfolderPreviewFile",POPUPDATA=e,window.open("/app/webfolder/popup","","resizable=yes,scrollbars=yes,status=yes,width=800,height=640")}function toggleDetailSearchLayer(){jQuery("#detailSearchLayerWrap").css("display")=="none"?makeDetailUnifiedSearchLayer():closeDetailSearchLayer()}function makeDetailUnifiedSearchLayer(){webfolderControl.getUnifiedSearchFolderList();var e=webfolderControl.isMailAttachSearch();e&&jQuery("#searchAttachContentsWrap").parents("div.vertical_wrap").show(),jQuery("#detailSearchLayerWrap").on("click","input,span,a",function(e){var t=jQuery(this).attr("evt-rol");if(!t)return;var n=jQuery("input:radio[name='searchPeriod']:checked").val(),r=moment(new Date).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),i=moment("1970/01/01").format("YYYY-MM-DDTHH:mm:ss.SSSZ"),s=moment(new Date).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),o="all";n=="-1"?(i=moment(moment(r).clone().add("weeks",n)).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),o="1w"):n=="-2"?(i=moment(moment(r).clone().add("weeks",n)).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),o="2w"):n=="month"?(i=moment(moment(r).clone().add("months",-1)).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),o="1w"):n=="directly"&&(i=moment(jQuery("#fromDate").val()).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),s=moment(moment(jQuery("#toDate").val()).clone().add("days",1).subtract("seconds",1)).format("YYYY-MM-DDTHH:mm:ss.SSSZ"),o="");if(t=="search-period")jQuery("#fromDate").attr("disabled",!0),jQuery("#toDate").attr("disabled",!0);else if(t=="search-directly")jQuery("#fromDate").attr("disabled",!1),jQuery("#toDate").attr("disabled",!1);else if(t=="close-unified-search-folder")closeDetailSearchLayer();else if(t=="detail-unified-search"){var u=jQuery.trim(jQuery("#keyword").val());if(u=="")return jQuery.goSlideMessage(mailMsg.alert_search_nostr,"caution"),!1;if(!validateInputValue(jQuery("#keyword"),2,64,"searchMail"))return!1;if(jQuery("#fromDate").val()!=""||jQuery("#toDate").val()!=="")if(!checkDatePeriod(jQuery("#fromDate").val(),jQuery("#toDate").val()))return!1;window.top.window.location="/app/"+(isMsie8?"#":"")+"unified/search?offset=5&page=0&stype=detail&keyword="+encodeURIComponent(jQuery("#keyword").val())+"&searchAttachContents="+jQuery("#searchAttachContents").is(":checked")+"&fromDate="+i+"&toDate="+s+"&searchTerm="+o,jQuery("#searchType").val("appSearch"),jQuery("#keyword").val("")}}),jQuery("#detailSearchLayerWrap").on("change","select",function(e){var t=jQuery(this).attr("evt-rol");if(t=="select-search-folder"){var n=jQuery(this).val();n=="all"?jQuery("#searchIncludeExtFolderWrap").show():(jQuery("#searchIncludeExtFolderWrap").hide(),jQuery("#searchIncludeExtFolder").attr("checked",!1))}}),jQuery("#detailSearchLayerWrap").on("keypress","input",function(e){e.which==13&&adSearchMessage()}),makeProcessLoader("mask")}function closeDetailSearchLayer(){ocxUploadVisible(!0),jQuery("#detailSearchLayerWrap").hide(),jQuery("#detailSearchLayerWrap").off(),removeProcessLoader()}function toggleSearchType(){var e=jQuery("#searchType").val();e=="appSearch"?jQuery("#fileDetailSearchBtn").hide():jQuery("#fileDetailSearchBtn").show()}function setWebfolderAppName(){jQuery("#webfolderAppNameLink").text(currentAppName)};