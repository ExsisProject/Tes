define("todo/views/menus/category_action",["components/history_menu/main","hgn!todo/templates/menus/menu_items_menu","todo/views/menus/remove_confirm","todo/views/menus/move_column","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s){var o,u=e.HistoriableMenuView,a=[];return a.push({classname:"add-card",next_view:"",menu_name:i["\uce74\ub4dc \ucd94\uac00"],icon_class:!1,has_child:!1}),a.push({classname:"move-column",next_view:"",menu_name:s["\uc774\ub3d9"],icon_class:!1,has_child:!1}),a.push({classname:"remove-column",next_view:"",menu_name:i["\uc774 \uce7c\ub7fc\uc744 \uc0ad\uc81c"],icon_class:!1,has_child:!1}),o=u.extend({id:"column-action-menu",className:"content",name:"column-action-menu",title:i["\uce7c\ub7fc \uba54\ub274"],template:t,columnView:null,events:{"click .add-card a":"_callAddCardForm","click .remove-column a":"_callRemoveConfirmMenu","click .move-column a":"_callMoveColumnMenu"},initialize:function(e){e=e||{},this.columnView=e.columnView,this.model=this.columnView.model,this.todoModel=this.columnView.todoModel,u.prototype.initialize.call(this,e),this.setMenuClass("layer_todo_board")},render:function(){this.$el.empty().append(this.template({menulist:a}))},_callAddCardForm:function(e){e.preventDefault(),this.columnView.$el.find(".ui-add-card").css("display")!="none"&&this.columnView.$el.find(".btn-add-card").trigger("click"),this.close()},_callRemoveConfirmMenu:function(e){var t=this;e.preventDefault(),this.forward(new n({subject:i["\uce7c\ub7fc \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:i["\uce7c\ub7fc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=t.todoModel,n=t.model;e.removeCategory(n.id).then(function(e){t.close(),t.columnView.remove()})}}))},_callMoveColumnMenu:function(e){var t=this;e.preventDefault(),this.forward(new r({columnView:this.columnView}))}}),o});