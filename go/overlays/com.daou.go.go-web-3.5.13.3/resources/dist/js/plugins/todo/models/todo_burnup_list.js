define("todo/models/todo_burnup_list",["backbone","moment","when","app"],function(e,t,n,r){var i,s="YYYY-MM-DDT";return i=e.Collection.extend({fetchLock:!1,url:function(){return r.config("contextRoot")+"api/todo/"+this.todoId+"/burnup"},initialize:function(e){e=e||{},this.todoId=e.todoId},getFilteredData:function(e,t,i){var s=n.defer(),o=this,e=r.util.toISO8601(r.util.toMoment(e).startOf("day")),t=r.util.toISO8601(r.util.toMoment(t).endOf("day")),u={startDate:e,endDate:t,ids:i||[]};return this.fetchLock?s.promise:(this.fetch({type:"POST",contentType:"application/json",data:JSON.stringify(u),beforeSend:function(){o.fetchLock=!0},success:s.resolve,error:function(e,t,n){s.reject(t)},complete:function(){o.fetchLock=!1}}),s.promise)}}),i});