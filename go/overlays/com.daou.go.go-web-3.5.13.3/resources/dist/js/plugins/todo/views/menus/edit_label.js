define("todo/views/menus/edit_label",["components/history_menu/main","hgn!todo/templates/menus/edit_label_menu","text!todo/templates/partials/_confirm_button.html","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i){var s,o=e.HistoriableMenuView;return s=o.extend({id:"edit-label-menu",className:"content",name:"edit-label-menu",title:r["\ub77c\ubca8\uc774\ub984 \ubcc0\uacbd"],template:t,events:{"click .btn-confirm":"_save","click .btn-cancel":"_cancel"},initialize:function(e){this.before=e.before,e=e||{},o.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({labels:this.model.get("labels"),label:{confirm:i["\uc800\uc7a5"],cancel:i["\ucde8\uc18c"]}},{_confirm_button:n})),this.setMenuClass("layer_label")},_save:function(e){var t=[],n=this,r=!0;e.preventDefault(),this.$el.find(".input-labelname").each(function(e,n){var s=$(n).data("labelid"),o=$(n).val();$.goValidation.isCheckLength(0,255,o)?t.push({id:s,title:o}):($.goSlideMessage(GO.i18n(i["\ucd5c\ub300 {{arg1}}\uc790 \uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."],{arg1:"255"}),"caution"),r=!1)}),r&&this.model.updateLabels(t).then(function(e){n.back()}).otherwise(function(e){console.log(e.stack)})},_cancel:function(e){e.preventDefault(),this.back()}}),s});