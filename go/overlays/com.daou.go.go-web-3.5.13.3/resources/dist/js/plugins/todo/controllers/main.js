/*
 * jQuery Iframe Transport Plugin 1.7
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/*
 * jQuery UI Widget 1.10.3+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */

/*
 * jQuery File Upload Plugin 5.32.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */

/**
 * Copyright 2013 Craig Campbell
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Mousetrap is a simple keyboard shortcut library for Javascript with
 * no external dependencies
 *
 * @version 1.4.6
 * @url craig.is/killing/mice
 */

(function(){(function(e,t,n,r,i){var s=t(),o=typeof define=="function"&&define.amd,u=typeof module!="undefined"&&module.exports;if(o)define("libs/go-utils",s);else if(u)module.exports=s;else{var a=null,f=e.split("."),l=this;for(var c=0,h=f.length;c<h;c++){var p=f[c];a&&c==h-1?a[p]=s:typeof l[p]=="undefined"&&(l[p]={}),a=l[p]}}})("GO.utils",function(){var e=window.jQuery,t={};return t.deepClone=function(t){return e.extend(!0,{},t)},t.escapeString=function(e){return e?(e=e.replace(/</gi,"&lt;"),e=e.replace(/>/gi,"&gt;"),e):e},t.stripTags=function(e){return e?e.replace(/<([^>]+)>/gi,""):e},t.stripIllegalTags=function(e){return e?(e=e.replace(/[java|vb]*script\:/gi,"x-script:"),e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),e=e.replace(/<marquee\b[^<]*(?:(?!<\/marquee>)<[^<]*)*<\/marquee>/gi,""),e):e},t.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.escapeRegExChars=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.nl2br=function(e){var t=""+e;return t.replace(/\n/gi,"<br />")},t.isImage=function(e){var t=/(\.jpg|\.jpeg|\.bmp|\.gif|\.png)$/i;return t.test(e)},t.getHumanizedFileSize=function(e){var t=parseInt(e)||0,n={B:1,K:1024,M:1048576,G:10737e5,T:10995e8},r=0,i="B";return t>n.T?(r=n.T,i="T"+i):t>n.G?(r=n.G,i="G"+i):t>n.M?(r=n.M,i="M"+i):t>n.K?(r=n.K,i="K"+i):(r=n.B,i="Byte"),(t/r).toFixed(1)+i},window.amplify&&(t.store=function(e){function t(t){var n=t||"local",r=Array.prototype.slice.apply(arguments),i=r.slice(1),s=n!=="session"||!window.sessionStorage||typeof e.store.sessionStorage!="function"?e.store:e.store.sessionStorage;return s.apply(e,i)}return{get:function(e){return t("local",e)||t("session",e)},set:function(e,n,r){var i=_.defaults(r||{},{type:"local"});return t(i.type,e,n,_.omit(i,"type"))}}}(amplify)),t},window,document),define("todo/models/base",["backbone","moment","app","libs/go-utils"],function(e,t,n,r){function u(){r.store.set(o,n.util.toISO8601(new Date),{type:"session"})}function a(e){e=e||{};if(e.success){var t=e.success;e.success=function(e){u(),t.apply(this,arguments)}}return e}var i,s,o=n.session("id")+"-todo-lastupdated";return i=e.Model.extend({lockFlag:!1,fetch:function(t){return e.Model.prototype.fetch.call(this,a(t))},save:function(){var t=[].slice.call(arguments),n=t.length>1?t[1]:{},r,s;if(i.__lockFlag__){this.trigger("locking");return}return r=n.hasOwnProperty("beforeSend")?n.beforeSend:function(){},s=n.hasOwnProperty("complete")?n.complete:function(){},n.beforeSend=function(){r.apply(undefined,arguments),i.__lockFlag__=!0},n.complete=function(){s.apply(undefined,arguments),i.__lockFlag__=!1},e.Model.prototype.save.call(this,t[0],n)}},{__lockFlag__:!1}),s=e.Collection.extend({fetch:function(t){return e.Collection.prototype.fetch.call(this,a(t))},updateModel:function(e){return _.map(this.models,function(t){t.id===e.id&&(t=e)}),this}}),{Model:i,Collection:s}}),define("json!lang/ko/todo.json",function(){return{"\uc0c8\ubcf4\ub4dc \ub9cc\ub4e4\uae30":"\uc0c8 \ubcf4\ub4dc \ub9cc\ub4e4\uae30","\ubcf4\ub4dc \ube44\uacf5\uac1c \uc548\ub0b4\uba54\uc2dc\uc9c0":"\ucd08\ub300\ub41c \uba64\ubc84\ub9cc \ube44\uacf5\uac1c \ubcf4\ub4dc\uc5d0 \uc811\uadfc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ubcf4\ub4dc \uacf5\uac1c \uc548\ub0b4\uba54\uc2dc\uc9c0":"\uacf5\uac1c \ubcf4\ub4dc\ub294 \ub204\uad6c\ub098 \ubcfc\uc218 \uc788\uace0 \ub313\uae00\uc744 \ub2ec \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc990\uaca8\ucc3e\ub294 \ubcf4\ub4dc":"\uc990\uaca8\ucc3e\ub294 \ubcf4\ub4dc","\ub0b4 \ubcf4\ub4dc":"\ub0b4 \ubcf4\ub4dc","\ubcf4\ub4dc \ucd94\uac00":"\ubcf4\ub4dc \ucd94\uac00","ToDO+ \ud648":"ToDO+ \ud648","\uce7c\ub7fc \ucd94\uac00":"\uce7c\ub7fc \ucd94\uac00","\uacf5\uc720 \uc124\uc815":"\uacf5\uc720 \uc124\uc815","\ubcf4\ub4dc \uc0ad\uc81c":"\ubcf4\ub4dc \uc0ad\uc81c","\ubcf4\ub4dc\uc5d0\uc11c \ub098\uac00\uae30":"\ubcf4\ub4dc\uc5d0\uc11c \ub098\uac00\uae30","\uce74\ub4dc \ucd94\uac00":"\uce74\ub4dc \ucd94\uac00","\uc774 \uce7c\ub7fc\uc744 \uc0ad\uc81c":"\uc774 \uce7c\ub7fc\uc744 \uc0ad\uc81c","\uce7c\ub7fc":"\uce7c\ub7fc","\uba64\ubc84":"\uba64\ubc84","\ub77c\ubca8":"\ub77c\ubca8","\uc774 \uce74\ub4dc\ub97c \uc0ad\uc81c":"\uc774 \uce74\ub4dc\ub97c \uc0ad\uc81c","\ubcf4\ub4dc \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\ubcf4\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ubcf4\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\ubcf4\ub4dc\ub97c \uc0ad\uc81c\ud558\uba74 \ubcf4\ub4dc\ub0b4 \uce74\ub4dc\ub3c4 \ud568\uaed8 \uc0ac\ub77c\uc9c0\uba70 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uce7c\ub7fc \uc0ad\uc81c":"\uce7c\ub7fc \uc0ad\uc81c","\uce7c\ub7fc \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\uc774 \uce7c\ub7fc\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uce7c\ub7fc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\uce7c\ub7fc\uc744 \uc0ad\uc81c\ud558\uba74 \ud574\ub2f9 \uce7c\ub7fc\uc758 \uce74\ub4dc\ub3c4 \ud568\uaed8 \uc0ac\ub77c\uc9c0\uba70 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uce74\ub4dc \uc0ad\uc81c":"\uce74\ub4dc \uc0ad\uc81c","\uce74\ub4dc \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\uc774 \uce74\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uce74\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\uce74\ub4dc\ub97c \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c","\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8\ub97c \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc990\uaca8\ucc3e\uae30 \ucd94\uac00":"\uc990\uaca8\ucc3e\uae30 \ucd94\uac00","\uc990\uaca8\ucc3e\uae30 \ud574\uc81c":"\uc990\uaca8\ucc3e\uae30 \ud574\uc81c","\ud0c0\uc784\ub77c\uc778":"\ud0c0\uc784\ub77c\uc778","\uacf5\uac1c\ubc94\uc704 \ubcc0\uacbd":"\uacf5\uac1c\ubc94\uc704 \ubcc0\uacbd","\ubcf4\ub4dc\uc774\ub984 \ubcc0\uacbd":"\ubcf4\ub4dc\uc774\ub984 \ubcc0\uacbd","\uce7c\ub7fc \uba54\ub274":"\uce7c\ub7fc \uba54\ub274","\uba64\ubc84 \ucd94\uac00":"\uba64\ubc84 \ucd94\uac00","\ubcf4\ub4dc \uba54\ub274":"\ubcf4\ub4dc \uba54\ub274","\ubcf4\ub4dc \uacf5\uc720":"\ubcf4\ub4dc \uacf5\uc720","\ubcf4\ub4dc\ub098\uac00\uae30 \ud0c0\uc774\ud2c0":"\ubcf4\ub4dc \uba64\ubc84\uc5d0\uc11c \ub098\uac00\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ubcf4\ub4dc\ub098\uac00\uae30 \ud655\uc778 \uba54\uc2dc\uc9c0":"[\ub098\uac00\uae30]\ub97c \ud074\ub9ad\ud558\uba74 \ubcf4\ub4dc \uba64\ubc84\uc5d0\uc11c \ube60\uc9c0\uac8c \ub429\ub2c8\ub2e4.","\uce74\ub4dc \uc561\uc158":"\uce74\ub4dc \uc561\uc158","\ub77c\ubca8\uc774\ub984 \ubcc0\uacbd":"\ub77c\ubca8\uc774\ub984 \ubcc0\uacbd","\uce74\ub4dc \uc774\ub3d9":"\uce74\ub4dc \uc774\ub3d9","\uce7c\ub7fc \uc774\ub3d9":"\uce7c\ub7fc \uc774\ub3d9","\uae30\ud55c\uc77c":"\uae30\ud55c\uc77c","\uba64\ubc84 \uac80\uc0c9":"\uba64\ubc84 \uac80\uc0c9","\uc138\ubd80\uc791\uc5c5":"\uccb4\ud06c\ub9ac\uc2a4\ud2b8","\ud30c\uc77c \ucca8\ubd80":"\ud30c\uc77c \ucca8\ubd80","\uc0c1\uc138\ub0b4\uc6a9 \uc785\ub825":"\uc124\uba85","\uc6b4\uc601\uc790\ub85c \uc9c0\uc815":"\uc6b4\uc601\uc790\ub85c \uc9c0\uc815","\uc774 \uba64\ubc84\ub97c \ubcf4\ub4dc\uc5d0\uc11c \uc81c\uc678":"\uc774 \uba64\ubc84\ub97c \ubcf4\ub4dc\uc5d0\uc11c \uc81c\uc678","\uc774 \uba64\ubc84\ub97c \uce74\ub4dc\uc5d0\uc11c \uc81c\uc678":"\uc774 \uba64\ubc84\ub97c \uce74\ub4dc\uc5d0\uc11c \uc81c\uc678","\uc561\uc158":"\uc561\uc158","\uae30\ud55c\uc77c \uc9c0\uc815":"\uc9c0\uc815","\uae30\ud55c\uc77c \ud574\uc81c":"\ubbf8\uc9c0\uc815","\uae30\ud55c\uc77c \ud3ec\ub9f7":"MM\uc6d4 DD\uc77c","\uae30\ud55c\uc77c\uc2dc \ud3ec\ub9f7":"MM\uc6d4 DD\uc77c HH:mm","\uae30\ud55c\ub144\uc6d4\uc77c\uc2dc \ud3ec\ub9f7":"YYYY\ub144 MM\uc6d4 DD\uc77c HH:mm","\ub313\uae00 \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\ub313\uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub313\uae00 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\ub313\uae00\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\ud0c0\uc784\ub77c\uc778 \ub2eb\uae30":"\ud0c0\uc784\ub77c\uc778 \ub2eb\uae30","\ud0c0\uc784\ub77c\uc778 \uc5c6\uc74c \uba54\uc2dc\uc9c0":"\ucd5c\uadfc \uc54c\ub9bc\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\ucca8\ubd80\uc774\ubbf8\uc9c0":"\ucca8\ubd80\uc774\ubbf8\uc9c0","\ud30c\uc77c \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\ucca8\ubd80\ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud30c\uc77c \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\ucca8\ubd80\ud30c\uc77c\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\ubcf4\ub4dc \uba64\ubc84 \uc0ad\uc81c \ud0c0\uc774\ud2c0":"\uc774 \uba64\ubc84\ub97c \uc81c\uc678\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ubcf4\ub4dc \uba64\ubc84 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\uba64\ubc84\ub97c \uc81c\uc678\ud55c \ud6c4\uc5d0\ub3c4 \ub2e4\uc2dc \ucd08\ub300\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc6b4\uc601\uc790 \ubcc0\uacbd \ud0c0\uc774\ud2c0":"\uc6b4\uc601\uc790\ub97c \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc6b4\uc601\uc790 \ubcc0\uacbd \ud655\uc778 \uba54\uc2dc\uc9c0":"\uc6b4\uc601\uc790\ub97c \ubcc0\uacbd\ud558\uba74 \uc77c\ubc18 \uba64\ubc84\ub85c \ubcc0\uacbd\ub429\ub2c8\ub2e4.","\ud1b5\uacc4":"\ud1b5\uacc4","\ub098\uac00\uae30":"\ub098\uac00\uae30","\uc804\uccb4\uce74\ub4dc\uc218":"\uc804\uccb4\uce74\ub4dc\uc218","\uc120\ud0dd\ud55c \uce7c\ub7fc\uc758 \uce74\ub4dc \uc218":"\uc120\ud0dd\ud55c \uce7c\ub7fc\uc758 \uce74\ub4dc \uc218","\uc81c\uc678":"\uc81c\uc678","\ub2f4\ub2f9\uc790":"\ub2f4\ub2f9\uc790","\ub2f4\ub2f9\uc790 \uc9c0\uc815":"\ub2f4\ub2f9\uc790 \uc9c0\uc815","\uce74\ub4dc \uc0c1\uc138\ub0b4\uc6a9 \uc0ad\uc81c \ud655\uc778 \ud0c0\uc774\ud2c0":"\uc785\ub825\ud55c \ub0b4\uc6a9\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uce74\ub4dc \uc0c1\uc138\ub0b4\uc6a9 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\ud574\ub2f9 \ub0b4\uc6a9\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc0c1\uc138\ub0b4\uc6a9 \ubcf4\uae30":"\uc0c1\uc138\ub0b4\uc6a9 \ubcf4\uae30","\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc11c\uc220\uc2dd \ud45c\ud604":"\uccb4\ud06c \ud56d\ubaa9 {{arg1}}\uac1c \uc911 {{arg2}}\uac1c \uc644\ub8cc","\ub4f1\ub85d\ub41c \uce74\ub4dc \uc5c6\uc74c":"\ub4f1\ub85d\ub41c \uce74\ub4dc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\ud56d\ubaa9 \ucd94\uac00":"\ud56d\ubaa9 \ucd94\uac00","\ub313\uae00\uac1c\uc218 \uc11c\uc220\uc2dd \ud45c\ud604":"\ub313\uae00 {{arg1}}\uac1c","\uae30\ud55c\uc77c \uc11c\uc220\uc2dd \ud45c\ud604":"{{arg1}} \uae4c\uc9c0","\ud56d\ubaa9 \uc785\ub825":"\ud56d\ubaa9 \uc785\ub825","\ud30c\uc77c\uac1c\uc218 \uc11c\uc220\uc2dd \ud45c\ud604":"\ucca8\ubd80\ub41c \ud30c\uc77c {{arg1}}\uac1c","\ubc29\uae08 \uc804":"\ubc29\uae08 \uc804","\ub313\uae00 \uc5c6\uc74c \uba54\uc2dc\uc9c0":"\uc774\uc804 \ub313\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}}),define("todo/nls/todo",["require","json!lang/ko/todo.json","json!lang/ko/custom.json"],function(require){var e=require("json!lang/ko/todo.json"),t=require("json!lang/ko/custom.json");return{root:_.extend(e,t.todo||{}),en:!0,ja:!0,zh_CN:!0,zh_TW:!0,vi:!0}}),define("todo/libs/util",["backbone","when","moment","i18n!todo/nls/todo"],function(e,t,n,r){var i;return i={createResponseError:function(e,t,n){return{status:e,statusText:t,responseText:n||""}},promiseAsync:function(e,n){var r=n||{},i=t.defer(),s=this,o={type:"GET",dataType:"json",contentType:"application/json",success:function(e){e.hasOwnProperty("__go_checksum__")?i.resolve(e.data):(e.code==404&&e.name=="todo.not.found.element"&&$.goSlideMessage(e.message,"caution"),i.reject(s.createResponseError(500,"Internal Server Error")))},error:function(e,t,n){e.responseJSON.code==404&&e.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(e.responseJSON.message,"caution"),i.reject(n)}};return r.hasOwnProperty("data")&&_.isObject(r.data)&&(r.data=JSON.stringify(r.data)),$.ajax(e,_.extend({},o,r)),i.promise},promiseModelSave:function(e,n){var r=t.defer();return e.save(n,{success:r.resolve,error:function(e,t,n){r.reject(t),t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution")}}),r.promise},promiseFetch:function(n,r){var i=t.defer();return n instanceof e.Model||n instanceof e.Collection?n.fetch(_.extend({success:i.resolve,error:function(e,t,n){i.reject(t)}},r||{})):i.reject(this.createResponseError(400,"Bad Request")),i.promise},reqReorderList:function(e,t){return this.promiseAsync(e,{type:"PUT",data:{ids:t}})},convertArrayToCollection:function(t,n){var r;return n&&(r={model:n}),new e.Collection(t,r)},reorderList:function(e,t,n){var r=t-n,i=[];return _.each(e,function(e,s){var o=0;if(!e.hasOwnProperty("seq"))return new Error("seq \uc18d\uc131\uc744 \uac00\uc9c0\uace0 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4.");o=e.seq,e.seq===t?e.seq=n:r>0&&n<=o&&o<t?e.seq=++o:r<0&&t<=o&&o<n&&(e.seq=--o),i.push(e)}),_.sortBy(i,function(e){return e.seq})},deepClone:function(e){return $.extend(!0,{},e)},toStreamDate:function(e){var t=""+e,i;return mDate=n(t),mDate.isBefore(n().startOf("y"))?i=mDate.format("YYYY-MM-DD(dd) HH:mm"):mDate.isBefore(n().subtract("hour",12))?i=mDate.format("MM-DD(dd) HH:mm"):mDate.isAfter(n().subtract("second",60))||mDate.isAfter(new Date)?i=r["\ubc29\uae08 \uc804"]:i=mDate.fromNow(),i},callActionForMember:function(e,t,n){return e.isMember(GO.session("id"))?n.call(this,t):!1},callActionForOwner:function(e,t,n){return e.isOwner(GO.session("id"))?n.call(this,t):!1},searchCardSeq:function(e,t){var n=0;return e.each(function(e,r){if($(r).data("itemid")===t){n=e;return}}),n},syncCardSeqs:function(e){e.each(function(e,t){var n=$(t).data("view");n.setSequence(e)})},parseDuedate:function(e){var e=n(e),t;return e.isSame(new Date,"y")?t=e.format(r["\uae30\ud55c\uc77c\uc2dc \ud3ec\ub9f7"]):t=e.format(r["\uae30\ud55c\ub144\uc6d4\uc77c\uc2dc \ud3ec\ub9f7"]),t}},i}),define("todo/models/todo_activity",["when","app","todo/models/base","todo/libs/util"],function(e,t,n,r){var i={comment:"comment",action:"action"},s,o;return s=n.Model.extend({targetModel:null,set:function(){var e=[].slice.call(arguments);return _.isString(e[0])&&e[0]==="activityType"?this:(_.isObject(e[0])&&(e[0]=_.omit(e[0],"activityType")),n.Model.prototype.set.apply(this,e))},_set:function(){return n.Model.prototype.set.apply(this,arguments)},isCommentType:function(){return this.get("activityType")===i.comment},isActionType:function(){return this.get("activityType")===i.action}},{newForTodoItem:function(e,t,n){var r=new this.prototype.constructor(t,n);return r.targetModel=e,r}}),o=s.extend({save:function(){},destory:function(){}}),TodoItemCommentModel=s.extend({urlRoot:function(){var e=[t.config("contextRoot")+"api/todo",this.targetModel.get("todoId"),"item",this.targetModel.id,"comment"].join("/");return e},initialize:function(e,t){s.prototype.initialize.call(this,arguments),this._set("activityType",i.comment)},updateContent:function(e){return r.promiseModelSave(this,{content:e})},remove:function(){var t=e.defer();return this.destroy({success:t.resolve,error:function(e,n,r){t.reject(n)}}),t.promise}},{createForTodoItem:function(e,t){var n=this.newForTodoItem(e);return n.updateContent(t)}}),{ACTIVITY_TYPE:i,TodoItemActivityModel:o,TodoItemCommentModel:TodoItemCommentModel,newComment:function(e,t,n){return TodoItemCommentModel.newForTodoItem(e,t,n)},createComment:function(e,t){return TodoItemCommentModel.createForTodoItem(e,t)}}}),define("todo/models/todo_activities",["when","app","todo/models/base","todo/models/todo_activity","todo/libs/util"],function(e,t,n,r,i){function p(e,t,n,r){var i={todo:c,todoItem:h}[e],s;return i?(s=new i(n,r),s.targetModel=t,s):new Error("Invalid Model Type")}var s=1,o=20,u="comments",a=r.TodoItemActivityModel,f=r.TodoItemCommentModel,l,c,h;return l=n.Collection.extend({targetModel:null,page:s,offset:o,initialize:function(e,t){var n,r;n=t.page||s,r=t.pageSize||o,this.setPageOption(n,r)},setPageOption:function(e,t){var n=0;return e=e||s,pageSize=t||o,e>0&&(this.page=e-1,this.offset=pageSize),this},getPageList:function(t,n){var r=e.defer();try{this.setPageOption(t,n).fetch({success:r.resolve,error:function(e,t,n){r.reject(t)}})}catch(i){r.reject(i)}return r.promise}}),c=l.extend({url:function(){return[t.config("contextRoot")+"api/todo",this.targetModel.id,"activity?page="+this.page+"&offset="+this.offset].join("/")}}),h=l.extend({activityType:u,initialize:function(e){e=e||{},l.prototype.initialize.apply(this,arguments),this.activityType=e.activityType||u},model:function(e,t){var n={comment:f,action:a}[e.activityType];return n.newForTodoItem(t.collection.targetModel,e,t)},url:function(){return[t.config("contextRoot")+"api/todo",this.targetModel.get("todoId"),"item",this.targetModel.id,this.activityType+"?page="+this.page+"&offset="+this.offset].join("/")},setActivityType:function(e){return this.activityType=e,this},isActivated:function(e){return this.activityType===e},createComment:function(t){var n=this;return r.createComment(this.targetModel,t).then(function(t){return n.add(t),e.resolve(n)},e.reject)},updateComment:function(t,n){var r=this.get(t),s=this,o;return r?o=r.updateContent(n).then(function(t){return s.set([t]),e.resolve(t)},e.resolve):o=e.reject(i.createResponseError(404,"Not Fount")),o},removeComment:function(t){var n=this.get(t),r=this,s;return n?s=n.remove().then(function(){return r.remove(t),e.resolve()},e.resolve):s=e.reject(i.createResponseError(404,"Not Fount")),s}}),{TodoActivities:c,TodoItemActivities:h,newForTodo:function(e,t,n){return p("todo",e,t,n)},newForTodoItem:function(e,t,n){return p("todoItem",e,t,n)}}}),define("todo/models/todo_category",["when","app","todo/models/base"],function(e,t,n){var r;return r=n.Model.extend({urlRoot:function(){return t.config("contextRoot")+"api/todo/"+this.get("todoId")+"/category"}},{createfromTodo:function(t,n){var i=t.id,s=t.getCategories().length,o=e.defer(),u;return u=new r({todoId:t.id,seq:s,title:n}),u.save(null,{success:o.resolve,error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),o.reject(t)}}),o.promise}}),r}),define("todo/models/todo_label",["app","todo/models/base"],function(e,t){var n;return n=t.Model.extend({urlRoot:function(){return e.config("contextRoot")+"api/todo/"+this.get("todoId")+"/label"}}),n}),define("todo/models/todo",["when","app","todo/models/base","todo/models/todo_activities","todo/models/todo_category","todo/models/todo_label","todo/libs/util","libs/go-utils"],function(e,t,n,r,i,s,o,u){function c(e,t){return o.convertArrayToCollection(e,t)}function h(e){return e&&e[0]==="/"&&(e=e.slice(1)),[_.result(this,"urlRoot"),this.id,"category",e].join("/")}function p(e){return e&&e[0]==="/"&&(e=e.slice(1)),[_.result(this,"urlRoot"),this.id,"owner",e].join("/")}function d(t){var n=e.defer();return this.save(t,{success:n.resolve,error:function(){n.reject(o.createResponseError(500,"Internal Server Error",""))}}),n.promise}function v(n){var r=e.defer();return!this.isNew()&&!this.isOwner(t.session("id"))?e.reject(o.createResponseError(404,"Not Found","")):d.call(this,n)}function m(t){var n=e.defer(),r=this.get("members"),i=this;return this.isOwner(t)?e.reject("owner of board can't leave"):(this.isMember(t)?this.save(null,{type:"DELETE",url:[_.result(this,"urlRoot"),this.id,"member",t].join("/"),success:function(e){i.set("members",_.filter(r,function(e){return e.id!==t})),n.resolve(i)},error:function(){n.reject(o.createResponseError(500,"Internal Server Error"))}}):n.reject(o.createResponseError(404,"Not Found","")),n.promise)}function g(t){var n=this,r=e.defer(),i={add:f,remove:l}[t];return i?this.save({},{url:[_.result(this,"urlRoot"),this.id,"favorite",t].join("/"),success:function(e){n.set("favoriteFlag",i),r.resolve.apply(r,arguments)},error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),r.reject(t)}}):r.reject(o.createResponseError(400,"Parse Error","")),r.promise}var a,f="Y",l="N";return a=n.Model.extend({__items__:[],defaults:{publicFlag:l},initialize:function(e,t){this.__items__=[],n.Model.prototype.initialize.apply(this,arguments)},urlRoot:function(){return t.config("contextRoot")+"api/todo"},remove:function(){var t=e.defer();return this.destroy({success:t.resolve,error:function(e,n,r){t.reject(n)}}),t.promise},getActivities:function(t,n){var i=r.newForTodo(this,t,n),s=e.defer();return i.fetch({success:s.resolve,fail:function(e,t,n){s.reject(t)}}),s.promise},getCategories:function(){return this.get("categories")||[]},getCategory:function(e){return _.findWhere(this.get("categories"),{id:e})},getLabels:function(){return this.get("labels")||[]},getLabel:function(e){return _.findWhere(this.get("labels"),{id:e})},getMember:function(e){return _.findWhere(this.get("members")||[],{id:e})},addFavorite:function(){return g.call(this,"add")},removeFavorite:function(){return g.call(this,"remove")},addMember:function(t){var n=e.defer(),r=[_.result(this,"urlRoot"),this.id,"members"].join("/"),i=this.get("members"),s=this,u=0;_.each(t,function(e){this.isMember(e.id)&&u++},this);if(t.length==1&&u)return e.reject(o.createResponseError(400,"Already Exists",""));var a=_.map(t,function(e){return e.id}),f=_.map(this.get("members"),function(e){return e.id}),l=_.uniq(_.difference(a,f));return o.promiseAsync(r,{type:"POST",data:JSON.stringify({ids:l})}).then(function(t){return _.each(t,function(e){i.push(e),s.set("members",i)}),s.trigger("change:members"),e.resolve(s)})},leaveMember:function(e){return m.call(this,e)},removeMember:function(n){return this.isOwner(t.session("id"))?m.call(this,n):e.reject(o.createResponseError(403,"Not Authorized",""))},setPublic:function(){this.set("publicFlag",f)},setPrivate:function(){this.set("publicFlag",l)},updateTitle:function(e){return v.call(this,{title:u.escapeString(e)})},updatePublic:function(){return v.call(this,{publicFlag:f})},updatePrivate:function(){return v.call(this,{publicFlag:l})},addCategory:function(t){var n=this,r=this.getCategories();return i.createfromTodo(this,t).then(function(t){return r.push(t.toJSON()),n.set("categories",r),e.resolve(t)},e.reject)},updateCategory:function(t,n){var r=this.getCategories(),s=e.defer(),u=this;if(!this.getCategory(t))return e.reject(o.createResponseError(404,"Not Found",""));var a=new i(this.getCategory(t));return a.save(n,{success:function(e){var t=[];_.each(r,function(n){e.id===n.id?t.push(e.toJSON()):t.push(n)}),u.set("categories",t),s.resolve(e)},error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),s.reject(t)}}),s.promise},updateCategoryTitle:function(e,t){return this.updateCategory(e,{title:u.escapeString(t)})},reorderCategories:function(t){var n=h.call(this,"move"),r=_.pluck(this.getCategories(),"id"),i=this;return _.isEqual(r,t)?e.resolve(this):o.reqReorderList(n,t).then(function(t){return i.set("categories",t),e.resolve(i)})},removeCategory:function(t){var n=c(this.getCategories(),i),r=n.get(t),s=e.defer(),o=this;return r.destroy({success:function(e){n.remove(t),o.set("categories",n.toJSON()),s.resolve(o)},error:function(e,t,n){s.reject(t)}}),s.promise},updateLabel:function(t,n){var r=c(this.getLabels(),s),i=r.get(t),u=e.defer(),a=this;return i?(i.save(n,{success:function(e){r.set([e]),a.set("labels",r.toJSON()),a.trigger("change:labels"),u.resolve(e)},error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),u.reject(t)}}),u.promise):e.reject(o.createResponseError(404,"Not Found",""))},updateLabelTitle:function(e,t){return this.updateLabel(e,{title:u.escapeString(t)})},updateLabels:function(n){var r=[t.config("contextRoot")+"api/todo",this.id,"label"].join("/"),i=this;return o.promiseAsync(r,{type:"PUT",data:n}).then(function(t){return i.set("labels",t),i.trigger("change:labels"),e.resolve(i)})},updateOwner:function(t){var n=e.defer();return this.isMember(t)?this.save(null,{url:p.call(this,t),success:n.resolve,error:function(e,t,r){n.reject(t)}}):n.reject(o.createResponseError(400,"Bad Request","Only member can be owner.")),n.promise},getNextItemSeq:function(e){return _.where(this.__items__,{todoCategoryId:e}).length},addItem:function(t,n){var r=this;return TodoItemModel.createfromTodo(this,t,u.escapeString(n)).then(function(t){return r.__items__.push(t.toJSON()),e.resolve(t)},e.reject)},isFavorite:function(){return this.get("favoriteFlag")===f},isArchived:function(){return this.get("deleteFlag")===f},isPublic:function(){return this.get("publicFlag")===f},isPrivate:function(){return this.get("publicFlag")===l},isOwner:function(e){return this.get("owner").id===e},isMember:function(e){return _.where(this.get("members")||[],{id:e}).length>0}},{newBoard:function(e,t){return new a({title:u.escapeString(e),publicFlag:t||l})},createBoard:function(e,t){var n=this.newBoard(e,t);return d.call(n)},getBoard:function(t){var n=e.defer(),r=new a({id:t});return r.fetch({success:n.resolve,error:function(e,t,r){n.reject(t)}}),n.promise}}),a}),define("todo/models/todos",["when","app","todo/models/base","todo/models/todo","todo/libs/util"],function(e,t,n,r,i){function f(e){var n=t.config("contextRoot")+"api/todo",r=a[e];return[n,r||a.my].join("/")}function l(t){var n=new TodoList,r=e.defer();return n.url=f(t),n.fetch({success:r.resolve,error:r.reject}),r.promise}function c(e,t,n){var r={my:o,favorite:u}[e],i;return r&&(i=new r(t||[],n||{}),i.modelType=e),i}function h(t){var n=c(t),r=e.defer();return n.fetch({success:r.resolve,error:function(e,t,n){r.reject(t)}}),r.promise}var s,o,u,a={my:"my",favorite:"favorite"};return s=n.Collection.extend({model:r,modelType:a.my,comparator:"seq",reorder:function(){}}),o=s.extend({url:function(){return f(a.my)}}),u=s.extend({url:function(){return f(a.favorite)},reorder:function(n){var r=this,s=e.defer();return i.reqReorderList(t.config("contextRoot")+"api/todo/favorite/move",n).then(function(e){_.map(n,function(e,t){var n=r.get(e);n.set("seq",t)}),r.sort(),s.resolve(r)},s.reject),s.promise}}),{MyTodoList:o,FavoriteTodoList:u,createForMyBoard:function(){var e=Array.prototype.slice.call(arguments);return e.unshift(a.my),c.apply(undefined,e)},createForFavorite:function(){var e=Array.prototype.slice.call(arguments);return e.unshift(a.favorite),c.apply(undefined,e)},getMyBoards:function(){return h(a.my)},getFavoriteBoards:function(){return h(a.favorite)},fetchCollections:function(){var e={};return h(a.my).then(function(t){return e[a.my]=t,e.myTodoList=t,h(a.favorite)}).then(function(t){return e[a.favorite]=t,e.favoriteTodoList=t,e})}}}),define("hgn!templates/content_top",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<h1></h1>\r"),r.b("\n"+n),r.s(r.f("use_search?",e,t,1),e,t,0,27,755,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<section class="combine_search">\r'),r.b("\n"+n),r.b('	<div class="c_search_wrap'),r.s(r.f("has_keyword?",e,t,1),e,t,0,106,119,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" search_focus")}),e.pop()),r.b('"><!--focus\ub418\uba74 "search_focus" multi class\ub85c \ucd94\uac00\ud574\uc8fc\uc138\uc694.-->\r'),r.b("\n"+n),r.b('		<select class="search_op" id="searchType">\r'),r.b("\n"+n),r.b('			<option value="appSearch"></option>\r'),r.b("\n"+n),r.b('			<option value="totalSearch">'),r.b(r.v(r.f("unified_search",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b("		</select>\r"),r.b("\n"+n),r.b('		<input class="c_search" type="text" id="search-keyword" name="search_keyword" value="'),r.b(r.v(r.f("keyword",e,t,0))),r.b('" placeholder="'),r.b(r.v(r.f("search",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('		<a class="c_btn_detail" id="btn_DetailSearch" title="'),r.b(r.v(r.f("power_search",e,t,0))),r.b('"><span class="txt">'),r.b(r.v(r.f("detail",e,t,0))),r.b('</span><span class="ic ic_cs_detail_arrow  "></span></a>\r'),r.b("\n"+n),r.b('		<input class="btn_c_search" type="button"id="btn-search" value="'),r.b(r.v(r.f("search",e,t,0))),r.b('" title="'),r.b(r.v(r.f("search",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n),r.b("</section>\r"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("json!lang/ko/dashboard.json",function(){return{"\ud3b8\uc9d1\ud654\uba74 \ub2eb\uae30":"\ud3b8\uc9d1\ud654\uba74 \ub2eb\uae30","\uc2e0\uccad\ud558\uae30":"\uc2e0\uccad\ud558\uae30","\ud574\uc9c0\ud558\uae30":"\ud574\uc9c0\ud558\uae30","\uac00\uc82f\ucd94\uac00":"\uac00\uc82f\ucd94\uac00","\uac00\uc82f \uc0ad\uc81c \ud0c0\uc774\ud2c0":"'{{gadget_name}}'\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac00\uc82f \uc0ad\uc81c \uba54\uc2dc\uc9c0":"'\uc0ad\uc81c'\ub97c \ud074\ub9ad\ud558\uba74 \uc0ac\uc6a9\uc790 \ud654\uba74\uc5d0\uc11c \uac00\uc82f\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac00\uc82f \ub85c\ub4dc \uc624\ub958 \uba54\uc2dc\uc9c0":"\uc694\uccad\ud558\uc2e0 \ub0b4\uc6a9\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.<br />\uc624\ub958\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0, \uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud574 \uc8fc\uc2ed\uc2dc\uc624.","\uac00\uc82f \uc124\uc815\uc800\uc7a5 \uc624\ub958 \uba54\uc2dc\uc9c0":"\uac00\uc82f \uc124\uc815 \uc800\uc7a5\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.","\uac00\uc82f \uc0ad\uc81c \uc624\ub958 \uba54\uc2dc\uc9c0":"\uac00\uc82f \uc0ad\uc81c\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.","\uac00\uc82f \uc774\ub3d9 \uc624\ub958 \uba54\uc2dc\uc9c0":"\uac00\uc82f \uc774\ub3d9\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.","\uac00\uc82f \uc5c6\uc74c \uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uac00\uc82f\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. <br>\uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud574 \uc8fc\uc138\uc694.","\uc0c8\ub85c\uace0\uce68 \uc548\ud568":"\uc548\ud568","\ubd84\ub2e8\uc704 \uc2dc\uac04 \ud45c\uc2dc":"{{time}}\ubd84","\uc2dc\ub2e8\uc704 \uc2dc\uac04 \ud45c\uc2dc":"{{time}}\uc2dc\uac04","\ub808\uc774\uc544\uc6c3 \uc124\uc815":"\ub808\uc774\uc544\uc6c3 \uc124\uc815","2\ub2e8 \ub808\uc774\uc544\uc6c3":"2\ub2e8 + \uc0ac\uc774\ub4dc","3\ub2e8 \ub808\uc774\uc544\uc6c3":"3\ub2e8","\ub300\uc2dc\ubcf4\ub4dc \uad00\ub9ac":"\ub300\uc2dc\ubcf4\ub4dc \uad00\ub9ac","\ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00":"\ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00","\ub300\uc2dc\ubcf4\ub4dc \ucd5c\ub300\uac2f\uc218 \ucd08\uacfc\uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\ub294 5\uac1c\uae4c\uc9c0 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ub300\uc2dc\ubcf4\ub4dc \uc804\ud658 \uc548\ub0b4":"\ub300\uc2dc\ubcf4\ub4dc \uc804\ud658 \uc548\ub0b4","\ub300\uc2dc\ubcf4\ub4dc \uc804\ud658 \ud655\uc778 \uba54\uc2dc\uc9c0":"\ud3b8\uc9d1\ud654\uba74\uc5d0\uc11c \ub300\uc2dc\ubcf4\ub4dc\ub97c \uc804\ud658\ud558\uba74 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \uc124\uc815\ub0b4\uc6a9\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \ub300\uc2dc\ubcf4\ub4dc\ub97c \uc804\ud658\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub300\uc2dc\ubcf4\ub4dc \uc0ad\uc81c \uc548\ub0b4":"\ub300\uc2dc\ubcf4\ub4dc \uc0ad\uc81c \uc548\ub0b4","\ub300\uc2dc\ubcf4\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uc9c0\uc815\ub41c \uac00\uc82f\uc815\ubcf4\uac00 \ubaa8\ub450 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \ub300\uc2dc\ubcf4\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub808\uc774\uc544\uc6c3":"\ub808\uc774\uc544\uc6c3","\uc77c\ubc18\uc124\uc815":"\uc77c\ubc18\uc124\uc815","\ud3b8\uc9d1\ub2eb\uae30":"\ud3b8\uc9d1\ub2eb\uae30","\uac00\uc82f \ucd94\uac00 \ud5c8\uc6a9":"\uac00\uc82f \ucd94\uac00 \ud5c8\uc6a9","\uac00\uc82f \ucd94\uac00 \ud5c8\uc6a9 \uc124\uba85":"\uc804\uc0ac \ub300\uc2dc\ubcf4\ub4dc \uc6b4\uc601\uc790\uac00 \uc544\ub2c8\uc5b4\ub3c4, <br>\ub204\uad6c\ub098 \uc804\uc0ac \ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uac00\uc82f\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac1c\uc778 \ub300\uc2dc\ubcf4\ub4dc \uac00\uc82f \uc5c6\uc74c \uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uac00\uc82f\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. <br>\uac00\uc82f\uc744 \ucd94\uac00\ud574 \uc8fc\uc138\uc694.","\ub808\uc774\uc544\uc6c3 \ubcc0\uacbd \uc548\ub0b4":"\ub808\uc774\uc544\uc6c3 \ubcc0\uacbd \uc548\ub0b4","\ub808\uc774\uc544\uc6c3 \ubcc0\uacbd \ud655\uc778 \uba54\uc2dc\uc9c0":"\ub808\uc774\uc544\uc6c3\uc774 \ubcc0\uacbd\ub418\uba74 \uc124\uc815\ub41c \uc77c\ubd80 \uac00\uc82f\uc774 \uc0ac\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.<br />\ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ucd94\uac00":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ucd94\uac00","\uac1c\uc778\ud654":"\uac1c\uc778\ud654","\ud3b8\uc9d1 \uac00\ub2a5":"\ud3b8\uc9d1 \uac00\ub2a5","\uc0ad\uc81c \uac00\ub2a5":"\uc0ad\uc81c \uac00\ub2a5","\uac00\uc82f \ud14c\ub450\ub9ac":"\uac00\uc82f \ud14c\ub450\ub9ac","\uac00\uc82f \ud14c\ub450\ub9ac \uac15\uc870":"\uac15\uc870","\ub300\uc2dc\ubcf4\ub4dc \ubbf8\uc800\uc7a5 \uac00\uc82f \uc548\ub0b4":"\uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \uac00\uc82f\uc774 \uc788\uc2b5\ub2c8\ub2e4.","\ub300\uc2dc\ubcf4\ub4dc \ubbf8\uc800\uc7a5 \uac00\uc82f \ud655\uc778 \uba54\uc2dc\uc9c0":"\uc0c8\ub85c \ucd94\uac00\ub41c \uac00\uc82f\uc758 \uacbd\uc6b0 \uc800\uc7a5\uc744 \ud558\uc9c0 \uc54a\uc73c\uba74 \uc720\uc2e4\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub300\uc2dc\ubcf4\ub4dc \ud3b8\uc9d1\uc744 \uc885\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac00\uc82f \uc774\ub3d9 \uc911 \uba54\uc2dc\uc9c0":"<strong>\uac00\uc82f\uc774 \uc774\ub3d9 \uc911\uc785\ub2c8\ub2e4.</strong><br />\uac00\uc82f \uc774\ub3d9 \uc911\uc5d0\ub294 \ube0c\ub77c\uc6b0\uc800\uc5d0 \ub530\ub77c \uc2a4\ud06c\ub864 \uc9c0\uc6d0\uc774 \uc548\ub418\uac70\ub098 \ubd80\uc790\uc5f0\uc2a4\ub7ec\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac15\uc870":"\uac15\uc870","\uac00\uc82f \ud3b8\uc9d1":"\uac00\uc82f \ud3b8\uc9d1","\uac00\uc82f \ucd94\uac00 \uba54\uc2dc\uc9c0":"[{{gadget_name}}] \uac00\uc82f\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc804\uc0ac\ub300\uc2dc\ubcf4\ub4dc \uc124\uc815 \uc811\uadfc\uc624\ub958 \uba54\uc2dc\uc9c0":"\uc811\uadfc\ud560 \uc218 \uc5c6\ub294 \uba54\ub274 \uc785\ub2c8\ub2e4.","\uba85\uc138\uc11c \ud30c\uc77c \ub3d9\uae30\ud654":"\uba85\uc138\uc11c \ud30c\uc77c \ub3d9\uae30\ud654","\ub3d9\uae30\ud654 \uc2dc\uc791":"\ub3d9\uae30\ud654 \uc2dc\uc791","\ub3d9\uae30\ud654\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.":"\ub3d9\uae30\ud654\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.","\ub3d9\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.":"\ub3d9\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","\ud1b5\ud569\uac80\uc0c9":"\ud1b5\ud569\uac80\uc0c9","\uae30\uac04\uc804\uccb4":"\uae30\uac04\uc804\uccb4","\ucd5c\uadfc 1\uc8fc\uc77c":"\ucd5c\uadfc 1\uc8fc\uc77c","\ucd5c\uadfc 2\uc8fc\uc77c":"\ucd5c\uadfc 2\uc8fc\uc77c","\ucd5c\uadfc 1\uac1c\uc6d4":"\ucd5c\uadfc 1\uac1c\uc6d4","\uc9c1\uc811\uc120\ud0dd":"\uc9c1\uc811\uc120\ud0dd","\ucca8\ubd80\ud30c\uc77c\ub0b4\uc6a9 \uac80\uc0c9":"\ucca8\ubd80\ud30c\uc77c\ub0b4\uc6a9 \uac80\uc0c9","'\uac80\uc0c9\uc5b4' \uc5d0 \ub300\ud55c \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"'{{arg1}}' \uc5d0 \ub300\ud55c \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","- \ub354 \ub9ce\uc740 \uac80\uc0c9\uacb0\uacfc\ub97c \uc6d0\ud558\uc2e0\ub2e4\uba74?":"- \ub354 \ub9ce\uc740 \uac80\uc0c9\uacb0\uacfc\ub97c \uc6d0\ud558\uc2e0\ub2e4\uba74?","- \ub2e8\uc5b4\uc758 \ucca0\uc790\uac00 \uc815\ud655\ud55c\uc9c0 \ud655\uc778\ud574 \ubcf4\uc138\uc694.":"- \ub2e8\uc5b4\uc758 \ucca0\uc790\uac00 \uc815\ud655\ud55c\uc9c0 \ud655\uc778\ud574 \ubcf4\uc138\uc694.","- \uac80\uc0c9\uc5b4\uc758 \ub2e8\uc5b4 \uc218\ub97c \uc904\uc774\uac70\ub098, \ub2e4\ub978 \ub2e8\uc5b4\ub85c \uac80\uc0c9\ud574 \ubcf4\uc138\uc694.":"- \uac80\uc0c9\uc5b4\uc758 \ub2e8\uc5b4 \uc218\ub97c \uc904\uc774\uac70\ub098, \ub2e4\ub978 \ub2e8\uc5b4\ub85c \uac80\uc0c9\ud574 \ubcf4\uc138\uc694.","- \ub450\ub2e8\uc5b4 \uc774\uc0c1\uc778 \uacbd\uc6b0, \ub744\uc5b4\uc4f0\uae30\ub97c \ud655\uc778\ud574 \ubcf4\uc138\uc694":"- \ub450 \ub2e8\uc5b4 \uc774\uc0c1\uc778 \uacbd\uc6b0, \ub744\uc5b4\uc4f0\uae30\ub97c \ud655\uc778\ud574 \ubcf4\uc138\uc694","\ud1b5\ud569\uac80\uc0c9 \uacb0\uacfc\ubcf4\uae30":"\ud1b5\ud569\uac80\uc0c9 \uacb0\uacfc\ubcf4\uae30","msg-can't-put-script-tags":"\ud3b8\uc9d1\uae30\uc5d0 \uc2a4\ud06c\ub9bd\ud2b8 \ud0dc\uadf8\ub97c \ub123\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}}),define("dashboard/nls/dashboard",["require","json!lang/ko/dashboard.json","json!lang/ko/custom.json"],function(require){var e=require("json!lang/ko/dashboard.json"),t=require("json!lang/ko/custom.json");return{root:_.extend(e,t.dashboard||{}),en:!0,ja:!0,zh_CN:!0,zh_TW:!0,vi:!0}}),define("hgn!dashboard/templates/search/detail_search_popup",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<fieldset>\r"),r.b("\n"+n),r.b('	<table class="form_type">\r'),r.b("\n"+n),r.b("		<colgroup>\r"),r.b("\n"+n),r.b('			<col width="70px">\r'),r.b("\n"+n),r.b('			<col width="*">\r'),r.b("\n"+n),r.b("		</colgroup>\r"),r.b("\n"+n),r.b("		<tbody>\r"),r.b("\n"+n),r.b("		<tr>\r"),r.b("\n"+n),r.b("			<th>\r"),r.b("\n"+n),r.b('				<span class="title">'),r.b(r.v(r.d("lang.keyword",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("			</th>\r"),r.b("\n"+n),r.b("			<td>\r"),r.b("\n"+n),r.b('				<input id="keyword" name="keyword" class="txt_mini w_max" type="text">\r'),r.b("\n"+n),r.b("				\r"),r.b("\n"+n),r.b('				<span class="vertical_option" style="display:none;">\r'),r.b("\n"+n),r.b('					<span class="wrap_option"><input id="searchAttachContents" name="searchAttachContents" type="checkbox"><label for="searchAttachContents">'),r.b(r.v(r.d("lang.content_search",e,t,0))),r.b("</label></span>\r"),r.b("\n"+n),r.b("				</span>\r"),r.b("\n"+n),r.b("			</td>\r"),r.b("\n"+n),r.b("		</tr>\r"),r.b("\n"+n),r.b("		<tr>\r"),r.b("\n"+n),r.b('			<th><span class="title">'),r.b(r.v(r.d("lang.period",e,t,0))),r.b("</span></th>\r"),r.b("\n"+n),r.b('			<td class="last">\r'),r.b("\n"+n),r.b('				<ul class="select_option">\r'),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input id="radioAll" name="term" type="radio" checked="" value="all">\r'),r.b("\n"+n),r.b('							<label for="radioAll">'),r.b(r.v(r.d("lang.all",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input id="radio1Week" name="term" type="radio" value="-1">\r'),r.b("\n"+n),r.b('							<label for="radio1Week">'),r.b(r.v(r.d("lang.aweek",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input type="radio" id="radio2Week" name="term" value="-2">\r'),r.b("\n"+n),r.b('							<label for="radio2Week">'),r.b(r.v(r.d("lang.twoweeks",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input type="radio" id="radio1Month" name="term" value="month">\r'),r.b("\n"+n),r.b('							<label for="radio1Month">'),r.b(r.v(r.d("lang.amonth",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input type="radio" id="radioDirectly" name="term" value="directly">\r'),r.b("\n"+n),r.b('							<label for="radioDirectly">'),r.b(r.v(r.d("lang.directly",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b('						<span class="noti_date_wrap option_wrap">\r'),r.b("\n"+n),r.b('							<input name="fromDate" data-type="datepicker" id="fromDate" class="input wfix_medium" type="text" disabled="disabled">\r'),r.b("\n"+n),r.b('							<span class="ic ic_calendar"></span>\r'),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("						~\r"),r.b("\n"+n),r.b('						<span class="noti_date_wrap option_wrap">\r'),r.b("\n"+n),r.b('							<input name="toDate" data-type="datepicker" id="toDate" class="input wfix_medium" type="text" disabled="disabled">\r'),r.b("\n"+n),r.b('							<span class="ic ic_calendar"></span>\r'),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("				</ul>\r"),r.b("\n"+n),r.b("			</td>	\r"),r.b("\n"+n),r.b("		</tr>							\r"),r.b("\n"+n),r.b("		</tbody>\r"),r.b("\n"+n),r.b("	</table>						\r"),r.b("\n"+n),r.b("</fieldset>\r"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("dashboard/views/search/detail_search_popup",["backbone","app","i18n!nls/commons","i18n!dashboard/nls/dashboard","hgn!dashboard/templates/search/detail_search_popup","jquery.go-validation","jquery.go-sdk"],function(e,t,n,r,i){var s={keyword:n["\uac80\uc0c9\uc5b4"],period:n["\uae30\uac04"],all:n["\uc804\uccb4"],aweek:r["\ucd5c\uadfc 1\uc8fc\uc77c"],twoweeks:r["\ucd5c\uadfc 2\uc8fc\uc77c"],amonth:r["\ucd5c\uadfc 1\uac1c\uc6d4"],directly:r["\uc9c1\uc811\uc120\ud0dd"],content_search:n["\ucca8\ubd80\ud30c\uc77c\ub0b4\uc6a9 \uac80\uc0c9"]};return e.View.extend({tagName:"form",events:{"change input[type=radio]":"changeTerm"},render:function(){this.$el.html(i({lang:s,isMailAttachSearch:this.getMailAttachSearch()})),$.datepicker.setDefaults($.datepicker.regional[GO.config("locale")]),this.renderDatePicker(),this.getMailAttachSearch()},renderDatePicker:function(){this.$("#fromDate").datepicker({yearSuffix:"",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}),this.$("#toDate").datepicker({yearSuffix:"",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0})},renderFolders:function(e){this.$("#folders").empty(),this.$("#folders").append("<option value='all'>"+n["\uc804\uccb4"]+"</option>"),_.each(e,function(e){var t="<option value='"+e.id+"'>"+e.name+"</option>";this.$("#folders").append(t)},this)},renderStatus:function(e){this.$("#status").empty(),this.$("#status").append("<option value=''>"+n["\uc804\uccb4"]+"</option>"),_.each(e,function(e){var t="<option value='"+e+"'>"+e+"</option>";this.$("#status").append(t)},this)},changeTerm:function(e){var t=$(e.currentTarget).attr("id")=="radioDirectly";this.$("input[data-type=datepicker]").prop("disabled",!t),this.renderDatePicker(),t&&this.$("input[data-type=datepicker]").val(GO.util.shortDate(new Date))},getSearchParam:function(){var e=this.$("#keyword").val();e=$.trim(e);if(e==""){$.goError(n["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."]),e.focus();return}if(!$.goValidation.isCheckLength(2,64,e)){$.goMessage(t.i18n(n["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:"2",arg2:"64"})),e.focus();return}if($.goValidation.isInValidEmailChar(e)){$.goMessage(n["\uba54\uc77c \uc0ac\uc6a9 \ubd88\uac00 \ubb38\uc790"]),e.focus();return}var r=this.getSearchTerm();return{stype:"detail",keyword:e,searchAttachContents:this.$("#searchAttachContents").is(":checked"),fromDate:r.fromDate,toDate:r.toDate,searchTerm:r.searchTerm,page:0,offset:5,sdate:this.convertTime(r.fromDate)+"-00-00-00",edate:this.convertTime(r.toDate)+"-23-59-59",adv:"on"}},getSearchTerm:function(){var e=this.$el.find("input[type=radio]:checked").val(),t=GO.util.shortDate(new Date),n=GO.util.toISO8601("1970/01/01"),r=GO.util.toISO8601(new Date),i="all";return e=="-1"?(n=GO.util.calDate(t,"weeks",e),i="1w"):e=="-2"?(n=GO.util.calDate(t,"weeks",e),i="2w"):e=="month"?(n=GO.util.calDate(t,"months",-1),i="1m"):e=="directly"&&(i="",n=GO.util.toISO8601($("#fromDate").val()),r=GO.util.searchEndDate($("#toDate").val())),{fromDate:n,toDate:r,searchTerm:i}},validate:function(){var e=0,t=["keyword"];return _.each(t,function(t){var r=this.$("#"+t);r.val().length>64&&($.goError(GO.i18n(n["\ucd5c\ub300 {{arg1}}\uc790 \uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."],{arg1:64}),r,!1,!0),e+=1)},this),e==0},convertTime:function(e){var t=e.split("T");return t[0]},getMailAttachSearch:function(){$.go(GO.contextRoot+"api/system/mailattachsearch","",{qryType:"GET",sync:!1,responseFn:function(e){e.code==200&&e.data&&$("#searchAttachContents").parents("span.vertical_option").show()},error:function(e){}})}})}),define("views/content_top",["backbone","app","hgn!templates/content_top","dashboard/views/search/detail_search_popup","i18n!nls/commons","jquery.go-popup","jquery.placeholder","jquery.go-validation"],function(e,t,n,r,i){var s=2,o=64,u={search:i["\uac80\uc0c9"],power_search:i["\uc0c1\uc138\uac80\uc0c9"],app_search:i["\uc571\uac80\uc0c9"],unified_search:i["\ud1b5\ud569\uac80\uc0c9"],detail:i["\uc0c1\uc138"],"use_search?":!0};return e.View.extend({tagName:"header",className:"content_top",title:"",searchUrl:"",rendered:!1,events:{"click #btn-search":"search","keydown #search-keyword":"bindKeyboardEvent","click #btn_DetailSearch":"showDetailSearch"},initialize:function(e){this.options=e||{},this.rendered=!1,this.options.title&&this.setTitle(this.options.title),this.options.hasOwnProperty("use_search")||(this.options.use_search=!0)},render:function(){var e=t.router.getSearch("keyword")||"";return this.$el.html(n(_.defaults({keyword:e,maxlength:o,"has_keyword?":!!e,"use_search?":this.options.use_search},u))),this.$el.find("input[placeholder]").placeholder(),this.renderTitle(),this.rendered=!0,this.setAppSearchTitle(),this.el},setTitle:function(e){return this.title=e,this.rendered&&this.renderTitle(),this},renderTitle:function(){var e=this.title;return typeof e=="object"?/\[object HTML[a-zA-Z\-_]+Element\]/.test(e.toString())?this.$el.find("h1").empty().append(e):"render"in e&&e[render].call(obj):typeof e=="string"&&this.$el.find("h1").empty().html(e),this},search:function(){if(!this.searchUrl)throw new Error("serachUrl\uc774 \uc9c0\uc815\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4.");var e=this.$el.find("#searchType").val(),n=this.$el.find("#search-keyword"),r=n.val(),i={stype:"simple",keyword:r};return this.validate(r)?(e=="totalSearch"&&(this.searchUrl="unified/search",i.offset=5,i.searchTerm="all"),t.router.navigate(this.searchUrl+"?"+t.util.jsonToQueryString(i),!0),this):this},bindKeyboardEvent:function(e){return e.which===13&&this.search(),this},validate:function(e){return e=""+$.trim(e),e?e.length<s||e.length>o?($.goMessage(t.i18n(i["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:s,arg2:o})),this.$el.find("#search-keyword").focus(),!1):$.goValidation.isInValidEmailChar(e)?($.goMessage(i["\uba54\uc77c \uc0ac\uc6a9 \ubd88\uac00 \ubb38\uc790"]),!1):!0:($.goSlideMessage(i["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."],"caution"),this.$el.find("#search-keyword").focus(),!1)},detailPopup:function(e){var n=new r,s=$(e.currentTarget).offset();this.searchPopup=$.goSearch({modal:!0,header:i["\uc0c1\uc138\uac80\uc0c9"],offset:{top:parseInt(s.top+30,10),right:7},callback:function(){if(n.validate()){var e=["unified/search","?",t.util.jsonToQueryString(n.getSearchParam())].join("");t.router.navigate(e,{trigger:!0,pushState:!0})}}}),this.searchPopup.find(".content").html(n.el),n.render()},showDetailSearch:function(e){},setAppSearchTitle:function(){}})}),define("components/history_menu/views/historiable_menu",["backbone"],function(e){var t;return t=e.View.extend({name:null,title:"Menu",__historyMenu__:null,__rendered__:!1,__menuClasses__:"",connectWith:null,initialize:function(e){e=e||{},this.connectWith=e.connectWith||null},activate:function(){this.delegateEvents(),this.render()},deactivate:function(){this.off(),this.undelegateEvents(),this.stopListening()},forward:function(e){this.__historyMenu__&&this.__historyMenu__.forward(e)},back:function(){this.__historyMenu__&&this.__historyMenu__.back()},close:function(){this.__historyMenu__&&this.__historyMenu__.close()},setMenuClass:function(e){this.__menuClasses__=e}}),t}),define("hgn!components/history_menu/templates/main",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<header>\r"),r.b("\n"+n),r.b('    <a class="btn-history-back btn_layer_back" style="display:none" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.f("back",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("    <h1></h1>\r"),r.b("\n"+n),r.b('    <a class="btn-close btn_layer_x" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.f("close",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("</header>\r"),r.b("\n"+n),r.b('<div class="ui-menu-container container"></div>\r'),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("components/history_menu/main",["backbone","when","app","components/history_menu/views/historiable_menu","hgn!components/history_menu/templates/main","i18n!nls/commons"],function(e,t,n,r,i,s){function f(e){this.offset=e.offset(),this.width=e.width(),this.height=e.height(),this.outerWidth=e.outerWidth(),this.outerHeight=e.outerHeight()}function l(){setTimeout(_.bind(function(){var e=this;$(document).on("go.todo.clearmenu",function(t){var n=$(t.relatedTarget),r=p.call(e);if(n.closest(e.$el).length>0)return;if(r.connectWith&&n.closest(r.connectWith).length>0)return;e.$el.is(":visible")&&e.close()})},this),300)}function c(e){var t=this,n=$('<div class="ui-backdrop"></div>');return n.css({position:"absolute",left:0,top:0,width:$(window).width(),height:$(window).height(),"z-index":t.zIndex-1,"overflow-y":"auto"}).append(e).appendTo("body").show(),n}function h(){_.each(this.__historyQueue__,function(e){g.call(this)},this)}function p(){return _.last(this.__historyQueue__)}function d(e){var t=this.$el.find(a.container);v.call(this),this.setTitle(e.title),t.append(e.el),e.activate(),e.__menuClasses__&&this.addClass(e.__menuClasses__),this.__historyQueue__.length>1?this.$el.find(a.back_btn).show():this.$el.find(a.back_btn).hide(),y.call(this)}function v(){this.$el.removeClass(function(){return $(this).attr("class")}).addClass(this.className)}function m(){var e=p.call(this);return e&&(e.deactivate(),e.remove()),e}function g(){if(m.call(this)){var e=this.__historyQueue__.pop();delete e}}function y(){n.util.isMobile()?w.call(this):b.call(this)}function b(){var e=this.dimensionHelper.offset.left,t=this.dimensionHelper.offset.top,r=e+this.$el.outerWidth(),i=t+this.$el.outerHeight()+this.dimensionHelper.outerHeight,s=$(window).width(),o=$(window).height(),u={},a=n.session("theme")==="THEME_ADVANCED";if(r>s)u.left=s-this.$el.outerWidth();else{var f=0;a&&(f=$("header.go_header_advanced").width()),u.left=e-f}if(o>this.$el.outerHeight()&&i>o)u.top=o-this.$el.outerHeight()-10;else{var f=-12;a&&(f=31),u.top=t+f}this.$el.css(u)}function w(){var e=0,t=0,n=0;e=this.$el.outerWidth(),t=($(window).width()-e)/2,this.$el.css({left:t,top:n})}var o,u,a={title:"header > h1",container:".ui-menu-container",content:".ui-menu-content",back_btn:".btn-history-back"};return o=e.View.extend({className:"history-menu layer_transition",attributes:{"data-target":"historymenu"},__historyQueue__:[],template:i,connectWith:null,dimensionHelper:null,$caller:null,events:{"click .btn-history-back":"back","click .btn-close":"close"},initialize:function(e){var t=e||{};this.zIndex=e.zIndex||100,this.__historyQueue__=[],this.$el.css({"z-index":this.zIndex}),this.$el.attr("data-cid",this.cid),this.$el.data("go.historymenu",this),this.$caller=t.$caller||$(document),this.dimensionHelper=new f(this.$caller),n.EventEmitter.on("todo","close:cardColumnMenu",this.close,this)},render:function(){var e=this.cid,t=this;this.$el.append(this.template({back:s["\uc774\uc804"],close:s["\ub2eb\uae30"]})),n.util.isMobile()?c(this.$el):l.call(this)},remove:function(){e.View.prototype.remove.apply(this,arguments),$(document).off("go.todo.clearmenu")},add:function(e){this.__historyQueue__.push(e),e.__historyMenu__=this},forward:function(e){m.call(this),this.add(e),d.call(this,e)},back:function(){this.__historyQueue__.length>1?(g.call(this),d.call(this,p.call(this))):this.close()},close:function(){h.call(this),$(".ui-backdrop").remove(),$(document).off(".go.todo.backdrop"),this.remove()},setTitle:function(e){return this.$el.find(a.title).empty().html(e),this},getContainerEl:function(){return this.$el.find(a.container)},getTitleEl:function(){return this.$el.find(a.title)},addClass:function(e){this.$el.addClass(e)}}),{HistoryMenuView:o,HistoriableMenuView:r,SELECTORS:a,create:function(e){var t=new o;return t.render(),t.forward(e),t},attachTo:function(e,t){var r,i=n.util.isMobile()?"body":".go_body";return $(document).trigger("go.todo.clearmenu"),r=new o({$caller:e}),$(i).append(r.el),r.render(),r.forward(t),r}}}),define("hgn!todo/templates/menus/menu_items_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("menulist",e,t,1),e,t,0,13,781,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="row_wrap menuitem'),r.s(r.f("classname",e,t,1),e,t,0,58,72,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.v(n.f("classname",e,t,0)))}),e.pop()),r.s(r.f("has_child",e,t,1),e,t,0,100,109,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" foldable")}),e.pop()),r.b('"'),r.s(r.f("has_child",e,t,1),e,t,0,138,159,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' style="display:none"')}),e.pop()),r.s(r.f("extAttrs",e,t,1),e,t,0,186,201,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.t(n.f("extAttrs",e,t,0)))}),e.pop()),r.b(">\r"),r.b("\n"+n),r.b('    <div class="menuitem-title row_tit">\r'),r.b("\n"+n),r.b('        <a href="#" class="row" data-next="'),r.b(r.v(r.f("next_view",e,t,0))),r.b('" data-bypass>\r'),r.b("\n"+n),r.s(r.f("icon_class",e,t,1),e,t,0,358,431,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <span class="ic_board '),r.b(r.v(r.f("icon_class",e,t,0))),r.b('"></span>\r'),r.b("\n"+n)}),e.pop()),r.b('            <span class="txt">'),r.b(r.v(r.f("menu_name",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n),r.s(r.f("has_child",e,t,1),e,t,0,536,661,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="btn_wrap"><span class="btn-arrow ic_board ic_hide_up" title="'),r.b(r.v(r.d("label.close",e,t,0))),r.b('"></span></span>\r'),r.b("\n"+n)}),e.pop()),r.b("    </div>\r"),r.b("\n"+n),r.s(r.f("has_child",e,t,1),e,t,0,707,749,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <ul class="submenu-list"></ul>\r'),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"+n),r.b("<hr />\r"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!todo/templates/partials/_submenu_item",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li class="link-board-url" data-todoid="'),r.b(r.v(r.d("model.id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('    <a href="'),r.b(r.v(r.f("board_url",e,t,0))),r.b('" data-bypass>\r'),r.b("\n"+n),r.b('        <span class="txt">'),r.b(r.t(r.d("model.title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </a>\r"),r.b("\n"+n),r.b("</li>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!todo/templates/menus/create_todo_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static">'),r.b("\n"+n),r.b(r.rp("<_input_board_title0",e,t,"    ")),r.b("</form>"),r.b("\n"+n),r.b(r.rp("<_confirm_button1",e,t,"")),r.fl()},partials:{"<_input_board_title0":{name:"_input_board_title",partials:{},subs:{}},"<_confirm_button1":{name:"_confirm_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("text!todo/templates/partials/_input_board_title.html",[],function(){return'<div class="form_static_wrap">\r\n    <p class="title">{{label.name}}</p>\r\n    <span class="wrap_txt w_max"><input class="txt w_max" type="text" name="title" value="{{label.input_title_value}}"></span>\r\n</div>'}),define("text!todo/templates/partials/_select_public_option.html",[],function(){return'<div class="public-option-select form_static_option"{{#public_option_hide?}} style="display:none"{{/public_option_hide?}}>\r\n    <a href="#" class="option-private opt_public{{#private?}} select{{/private?}}" data-bypass>\r\n        <span class="ic_board ic_private"></span><span class="txt">{{label.private}}</span><span class="ic_board ic_check"></span>\r\n        <span class="desc">{{msg.about_private}}</span>\r\n    </a>\r\n    <hr>\r\n    <a href="#" class="option-public opt_public{{^private?}} select{{/private?}}" data-bypass>\r\n        <span class="ic_board ic_public"></span><span class="txt">{{label.public}}</span><span class="ic_board ic_check"></span>\r\n        <span class="desc">{{msg.about_public}}</span>\r\n    </a>\r\n</div>'}),define("text!todo/templates/partials/_confirm_button.html",[],function(){return'<footer class="btn_layer_wrap">\r\n    <a class="btn-confirm btn_major_s" data-bypass><span class="txt">{{label.confirm}}</span></a>\r\n    <a class="btn-cancel btn_minor_s" data-bypass><span class="txt">{{label.cancel}}</span></a>\r\n</footer>'}),define("todo/views/menus/create_todo",["app","components/history_menu/main","hgn!todo/templates/menus/create_todo_menu","text!todo/templates/partials/_input_board_title.html","text!todo/templates/partials/_select_public_option.html","text!todo/templates/partials/_confirm_button.html","todo/models/todo","todo/libs/util","i18n!todo/nls/todo","i18n!nls/commons","jquery.go-validation","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f){function p(){this.$el.find(h.icon_public_status).removeClass("ic_public").addClass("ic_private"),this.$el.find(h.public_status_text).text(f["\ube44\uacf5\uac1c"]),this.$el.find(".public-option-select a").removeClass("select"),this.$el.find(h.option_private).addClass("select")}function d(){this.$el.find(h.icon_public_status).removeClass("ic_private").addClass("ic_public"),this.$el.find(h.public_status_text).text(f["\uacf5\uac1c"]),this.$el.find(".public-option-select a").removeClass("select"),this.$el.find(h.option_public).addClass("select")}function v(){var e=this.model.isPublic()?d:p;return e.call(this)}var l,c=t.HistoriableMenuView,h={public_option_status:".public-option-status",public_option_select:".public-option-select",option_public:".option-public",option_private:".option-private",icon_public_status:".icon-public-status",public_status_text:".public-status-text"};return l=c.extend({id:"create-todo-menu",className:"content layer_new_board",name:"create-todo-menu",title:a["\uc0c8\ubcf4\ub4dc \ub9cc\ub4e4\uae30"],template:n,myTodoList:null,events:{"click .btn-modify":"_modifyPublicOption","click .option-private":"_setPrivateOption","click .option-public":"_setPublicOption","click .btn-confirm":"_confirm","click .btn-cancel":"_cancel","submit form":"_confirm"},initialize:function(e){e=e||{},this.model||(this.model=new o),e.myTodoList&&(this.myTodoList=e.myTodoList),c.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({"private?":this.model.isPrivate(),"public_option_hide?":!0,label:{name:f["\uc774\ub984"],input_title_value:a["\uc0c8\ubcf4\ub4dc \ub9cc\ub4e4\uae30"],"private":f["\ube44\uacf5\uac1c"],"public":f["\uacf5\uac1c"],confirm:f["\ud655\uc778"],cancel:f["\ucde8\uc18c"],modify:f["\ubcc0\uacbd\ud558\uae30"]},msg:{about_private:a["\ubcf4\ub4dc \ube44\uacf5\uac1c \uc548\ub0b4\uba54\uc2dc\uc9c0"],about_public:a["\ubcf4\ub4dc \uacf5\uac1c \uc548\ub0b4\uba54\uc2dc\uc9c0"]}},{_input_board_title:r,_select_public_option:i,_confirm_button:s})),v.call(this)},_modifyPublicOption:function(e){this.$el.find(h.public_option_status).hide(),this.$el.find(h.public_option_select).show()},_setPrivateOption:function(e){e.preventDefault(),p.call(this),this.model.setPrivate()},_setPublicOption:function(e){e.preventDefault(),d.call(this),this.model.setPublic()},_confirm:function(t){var n=this.$el.find("input[name=title]").val(),r=this;if(!$.goValidation.isCheckLength(1,1e3,n))return $.goMessage(e.i18n(f["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),r.$el.find("input[name=title]").focus(),!1;t.preventDefault(),u.promiseModelSave(this.model,{title:n}).then(function(t){r.myTodoList&&r.myTodoList.add(t),r.close(),e.router.navigate("todo/"+t.id,{trigger:!0,pushState:!0})})},_cancel:function(e){e.preventDefault(),this.back()}},{SELECTORS:h}),l}),define("todo/views/menus/todo_list",["app","todo/models/todos","components/history_menu/main","hgn!todo/templates/menus/menu_items_menu","hgn!todo/templates/partials/_submenu_item","todo/views/menus/create_todo","todo/libs/util","libs/go-utils","i18n!todo/nls/todo","jquery.ui"],function(e,t,n,r,i,s,o,u,a){function g(e){this.myTodoList=e.myTodoList||t.createForMyBoard(),this.favoriteTodoList=e.favoriteTodoList||t.createForFavorite(),this.listenTo(this.myTodoList,"add",this._reloadMyTodoList),this.listenTo(this.myTodoList,"remove",this._reloadMyTodoList),this.listenTo(this.favoriteTodoList,"add",this._reloadFavoriteTodoList),this.listenTo(this.favoriteTodoList,"remove",this._reloadFavoriteTodoList),this.listenTo(this.favoriteTodoList,"resort",this._reloadFavoriteTodoList)}function y(){E("favorite",this.$el.find(p.favorite_list),this.favoriteTodoList),E("my",this.$el.find(p.my_todo_list),this.myTodoList),b.call(this)}function b(){var e=this;this.$el.find(".favorite-list .submenu-list").sortable({items:"li",containment:"#todo-list-menu",stop:function(t,n){var r=n.item.parent(),i=[];r.find("li").each(function(e,t){var n=$(t).data("todoid");i.push(n)}),e.favoriteTodoList.reorder(i).then(function(t){e.favoriteTodoList.trigger("resort")}).otherwise(function(e){console.log(e)})}})}function w(e){var t={my:p.my_todo_list,favorite:p.favorite_list}[e],n={my:this.myTodoList,favorite:this.favoriteTodoList}[e];E(e,this.$el.find(t),n)}function E(e,t,n){var r=t.find(".submenu-list");N(e)==="Y"?S(t):x(t),n.length>0?(t.data("type",e),r.empty(),n.each(function(e){r.append(L(e))}),t.show()):t.hide()}function S(e){var t=e.find(".submenu-list");t.hide(),e.find(".btn-arrow").removeClass("ic_hide_up").addClass("ic_hide_down")}function x(e){var t=e.find(".submenu-list");t.show(),e.find(".btn-arrow").removeClass("ic_hide_down").addClass("ic_hide_up")}function T(e){var t=e.closest(p.foldable),n=t.find(p.submenu_list),r=t.data("type");n.is(":visible")?(S(t),k(r,v.folded)):(x(t),k(r,v.unfolded))}function N(e){var t=h.get(C(e));return t||(k(e,m),t=m),t}function C(e){return d+"-todolist-"+e+"-folded"}function k(e,t){h.set(C(e),t)}function L(e){return i({model:e.toJSON(),board_url:"todo/"+e.id})}var f,l=n.HistoriableMenuView,c=[],h=u.store,p={menuitem:".menuitem",foldable:".foldable",submenu_list:".submenu-list",favorite_list:".favorite-list",my_todo_list:".my-todo-list"},d=e.session("id"),v={folded:"Y",unfolded:"N"},m=v.unfolded;return c.push({classname:"create-todo",next_view:"create_todo",menu_name:a["\uc0c8\ubcf4\ub4dc \ub9cc\ub4e4\uae30"],icon_class:"ic_plus",has_child:!1}),c.push({classname:"goto-dashboard",next_view:"",menu_name:a["ToDO+ \ud648"],icon_class:"ic_home",has_child:!1}),c.push({classname:"favorite-list",next_view:"",menu_name:a["\uc990\uaca8\ucc3e\ub294 \ubcf4\ub4dc"],icon_class:"ic_star",has_child:!0}),c.push({classname:"my-todo-list",next_view:"",menu_name:a["\ub0b4 \ubcf4\ub4dc"],icon_class:"ic_myboard",has_child:!0}),f=l.extend({id:"todo-list-menu",className:"content",name:"todo-list-menu",title:"Board",template:r,myTodoList:null,favoriteTodoList:null,events:{"click .create-todo a":"_callCreateTodoMenuView","click .menuitem-title":"_toggleSubmenu","click .link-board-url":"_navigate","click .goto-dashboard":"_goToDashboard"},initialize:function(e){e=e||{},g.call(this,e),l.prototype.initialize.call(this,e)},render:function(){var e=this.template({menulist:c});this.$el.empty().append(e),this.setMenuClass("layer_todo_board"),y.call(this)},_reloadMyTodoList:function(){w.call(this,"my")},_reloadFavoriteTodoList:function(){w.call(this,"favorite")},_toggleSubmenu:function(e){e.preventDefault(),T($(e.currentTarget))},_callCreateTodoMenuView:function(e){var t=new s({myTodoList:this.myTodoList});e.preventDefault(),this.forward(t)},_navigate:function(t){var n=$(t.currentTarget).find("a").attr("href");t.preventDefault(),e.router.navigate(n,{pushState:!0,trigger:!0}),this.close()},_goToDashboard:function(t){t.preventDefault(),e.router.navigate("todo",{pushState:!0,trigger:!0}),this.close()}},{create:function(e,t,n){return new f(_.extend({myTodoList:e,favoriteTodoList:t},n||{}))}}),f}),define("hgn!todo/templates/menus/add_member_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<!-- \ucd94\uac00 \ub41c \uba64\ubc84 -->\r"),r.b("\n"+n),r.b('<ul class="ui-shared-members list_share">\r'),r.b("\n"+n),r.s(r.d("model.members",e,t,1),e,t,0,83,140,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li>\r"),r.b("\n"+n),r.b(r.rp("<_member_button0",e,t,"        ")),r.b("    </li>\r"),r.b("\n"+n)}),e.pop()),r.b("</ul>\r"),r.b("\n"+n),r.b('<div class="btn_func">\r'),r.b("\n"+n),r.b('    <a href="#" class="btn-add-member btn_style1" data-bypass><span class="ic_board ic_plus"></span><span class="txt">'),r.b(r.v(r.d("label.add_member",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{"<_member_button0":{name:"_member_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("text!todo/templates/partials/_member_button.html",[],function(){return'<a href="#" class="ui-user-photo member photo_s" data-userid="{{id}}" data-bypass>\r\n    {{> _user_thumbnail}}\r\n</a>'}),define("text!todo/templates/partials/_user_thumbnail.html",[],function(){return'<img title="{{name}}{{#position}} {{position}}{{/position}}" alt="{{name}}{{#position}} {{position}}{{/position}}" src="{{thumbnail}}" data-userid="{{id}}" style="width:30px">'}),define("hgn!todo/templates/menus/member_profile_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="member_wrap">\r'),r.b("\n"+n),r.b('    <span class="photo">\r'),r.b("\n"+n),r.b('        <span class="showProfilePhoto">\r'),r.b("\n"+n),r.b('            <img alt="'),r.b(r.v(r.d("member.name",e,t,0))),r.s(r.d("member.position",e,t,1),e,t,0,151,171,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.v(n.d("member.position",e,t,0)))}),e.pop()),r.b('" title="'),r.b(r.v(r.d("member.name",e,t,0))),r.s(r.d("member.position",e,t,1),e,t,0,235,255,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" "),n.b(n.v(n.d("member.position",e,t,0)))}),e.pop()),r.b('" src="'),r.b(r.v(r.d("member.thumbnail",e,t,0))),r.b('" data-userid="'),r.b(r.v(r.d("member.id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("        </span>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n),r.b('    <div class="info">\r'),r.b("\n"+n),r.b('        <div class="name">'),r.b(r.v(r.d("member.name",e,t,0))),r.b("</div>\r"),r.b("\n"+n),r.s(r.d("member.position",e,t,1),e,t,0,465,532,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <div class="position">'),r.b(r.v(r.d("member.position",e,t,0))),r.b("</div>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("mailExposure",e,t,1),e,t,0,579,693,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.d("member.email",e,t,1),e,t,0,606,666,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <div class="mail">'),r.b(r.v(r.d("member.email",e,t,0))),r.b("</div>\r"),r.b("\n"+n)}),e.pop())}),e.pop()),r.b("    </div>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b(r.rp("<menu_items_menu0",e,t,"")),r.fl()},partials:{"<menu_items_menu0":{name:"menu_items_menu",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("text!todo/templates/menus/menu_items_menu.html",[],function(){return'{{#menulist}}\r\n<div class="row_wrap menuitem{{#classname}} {{classname}}{{/classname}}{{#has_child}} foldable{{/has_child}}"{{#has_child}} style="display:none"{{/has_child}}{{#extAttrs}} {{{extAttrs}}}{{/extAttrs}}>\r\n    <div class="menuitem-title row_tit">\r\n        <a href="#" class="row" data-next="{{next_view}}" data-bypass>\r\n            {{#icon_class}}\r\n            <span class="ic_board {{icon_class}}"></span>\r\n            {{/icon_class}}\r\n            <span class="txt">{{menu_name}}</span>\r\n        </a>\r\n        {{#has_child}}\r\n        <span class="btn_wrap"><span class="btn-arrow ic_board ic_hide_up" title="{{label.close}}"></span></span>\r\n        {{/has_child}}\r\n    </div>\r\n    {{#has_child}}\r\n    <ul class="submenu-list"></ul>\r\n    {{/has_child}}\r\n</div>\r\n<hr />\r\n{{/menulist}}'}),define("hgn!todo/templates/menus/remove_confirm_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="ment">\r'),r.b("\n"+n),r.b('    <p class="tit">'),r.b(r.v(r.f("subject",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b('    <p class="txt">'),r.b(r.v(r.f("description",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b('<footer class="btn_layer_wrap">\r'),r.b("\n"+n),r.b('    <a href="#" class="btn-remove btn_major_s" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.f("remove",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b('    <a href="#" class="btn-cancel btn_minor_s" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.f("cancel",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("</footer>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/remove_confirm",["components/history_menu/main","hgn!todo/templates/menus/remove_confirm_menu","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r){var i,s=e.HistoriableMenuView;return i=s.extend({id:"remove-confirm-menu",className:"content",name:"remove-confirm-menu",title:r["\uc0ad\uc81c"],template:t,subject:"",description:"",afterClick:function(){},events:{"click .btn-remove":"_callAfterClick","click .btn-cancel":"_cancel"},initialize:function(e){e=e||{},this.subject=e.subject||r["\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],this.description=e.description||n["\uce74\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],this.buttonText=e.buttonText||r["\uc0ad\uc81c"],this.afterClick=e.afterClick||function(){},s.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({subject:this.subject,description:this.description,remove:this.buttonText,cancel:r["\ucde8\uc18c"]}))},_callAfterClick:function(e){e.preventDefault(),this.afterClick.call(this,e)},_cancel:function(e){e.preventDefault(),this.back()}}),i}),define("todo/views/menus/member_profile",["components/history_menu/main","hgn!todo/templates/menus/member_profile_menu","text!todo/templates/menus/menu_items_menu.html","todo/views/menus/remove_confirm","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s){function l(e){return{board:c.call(this),card:h.call(this)}[e]}function c(){var e=[],t=this.todoModel;return t.isOwner(GO.session("id"))?GO.session("id")!==this.userId&&(e.push({classname:"change-owner",next_view:"",menu_name:i["\uc6b4\uc601\uc790\ub85c \uc9c0\uc815"],icon_class:!1,has_child:!1}),e.push({classname:"remove-member",next_view:"",menu_name:i["\uc774 \uba64\ubc84\ub97c \ubcf4\ub4dc\uc5d0\uc11c \uc81c\uc678"],icon_class:!1,has_child:!1})):GO.session("id")===this.userId&&e.push({classname:"leave-board",next_view:"",menu_name:i["\ubcf4\ub4dc\uc5d0\uc11c \ub098\uac00\uae30"],icon_class:!1,has_child:!1}),e}function h(){var e=[];return e.push({classname:"remove-member",next_view:"",menu_name:i["\uc774 \uba64\ubc84\ub97c \uce74\ub4dc\uc5d0\uc11c \uc81c\uc678"],icon_class:!1,has_child:!1}),e}var o,u,a,f=e.HistoriableMenuView;return o=f.extend({id:"member-profile-menu",className:"content",template:t,name:"member-profile-menu",title:i["\uba64\ubc84"],menuList:[],initialize:function(e){e=e||{},this.userId=e.userId,this.todoModel=e.todoModel,this.memberInfo=this.todoModel.getMember(this.userId),this.menuList=l.call(this,this.type||"board"),f.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({member:this.memberInfo,menulist:this.menuList,mailExposure:GO.config("mailExposure")},{menu_items_menu:n})),this.setMenuClass("layer_new_board")}}),u=o.extend({type:"board",events:{"click .change-owner a":"_changeOwner","click .remove-member a":"_callRemoveMemberConfirmMenu","click .leave-board a":"_callLeaveConfirmMenu"},initialize:function(e){e=e||{},o.prototype.initialize.call(this,e)},_changeOwner:function(e){var t=this,n=GO.session("id"),o=this.userId;if(!this.todoModel.isOwner(n))return!1;e.preventDefault(),this.forward(new r({subject:i["\uc6b4\uc601\uc790 \ubcc0\uacbd \ud0c0\uc774\ud2c0"],description:i["\uc6b4\uc601\uc790 \ubcc0\uacbd \ud655\uc778 \uba54\uc2dc\uc9c0"],buttonText:s["\ubcc0\uacbd"],afterClick:function(){t.todoModel.updateOwner(o).then(function(e){t.close()})}}))},_callRemoveMemberConfirmMenu:function(e){var t=this,n=GO.session("id"),s=this.userId;if(!this.todoModel.isOwner(n))return!1;e.preventDefault(),this.forward(new r({subject:i["\ubcf4\ub4dc \uba64\ubc84 \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:i["\ubcf4\ub4dc \uba64\ubc84 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],buttonText:i["\uc81c\uc678"],afterClick:function(){t.todoModel.removeMember(s).then(function(e){t.back(2),t.close()})}}))},_callLeaveConfirmMenu:function(e){var t=this,n=GO.session("id");if(this.todoModel.isOwner(n)||!this.todoModel.isMember(n))return!1;e.preventDefault(),this.forward(new r({subject:i["\ubcf4\ub4dc\ub098\uac00\uae30 \ud0c0\uc774\ud2c0"],description:i["\ubcf4\ub4dc\ub098\uac00\uae30 \ud655\uc778 \uba54\uc2dc\uc9c0"],buttonText:i["\ub098\uac00\uae30"],afterClick:function(){t.todoModel.leaveMember(n).then(function(e){t.close(),GO.router.navigate("todo",{pushState:!0,trigger:!0})})}}))}}),a=o.extend({type:"card",events:{"click .remove-member":"_removeMember"},initialize:function(e){e=e||{},this.todoItemModel=e.todoItemModel,o.prototype.initialize.call(this,e)},_removeMember:function(e){var t=$(e.currentTarget),n=this.memberInfo.id,r=this;e.preventDefault(),this.todoItemModel.removeMember(n).then(function(e){r.close()})}}),{BoardMemberProfileMenuView:u,CardMemberProfileMenuView:a}}),function(e){var t=Array.prototype.slice,n=e.goOrgSlide=function(){if(arguments[0]==="close")return n.close();var e=t.call(arguments);return n.initialize.apply(n,e)};e.fn.imitateKeyEvent=function(){return this.each(function(){var e=function(e){this._o=e,this._value=e.value,this._bindEvents()};e.prototype._bindEvents=function(){var e=this,t=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)};t(this._o,"focus",function(){e._timer&&clearInterval(e._timer),e._timer=setInterval(function(){e._value!=e._o.value&&(e._value=e._o.value,e._fireEvent())},50)}),t(this._o,"blur",function(){e._timer&&clearInterval(e._timer),e._timer=null})},e.prototype._fireEvent=function(){if(document.createEvent){var e;window.KeyEvent?(e=document.createEvent("KeyEvents"),e.initKeyEvent("keyup",!0,!0,window,!1,!1,!1,!1,65,0)):(e=document.createEvent("UIEvents"),e.initUIEvent("keyup",!0,!0,window,1),e.keyCode=65),this._o.dispatchEvent(e)}else{var e=document.createEventObject();e.keyCode=65,this._o.fireEvent("onkeyup",e)}},new e(this)})},e.extend(n,{version:"0.0.1",popupEl:null,keyword:null,callback:null,contextRoot:null,eventTime:null,eventId:null,defaultLocale:"ko",lang:{ko:{"\ud655\uc778":"\ud655\uc778","\ub2eb\uae30":"\ub2eb\uae30","\uc120\ud0dd":"\uc120\ud0dd","\uc774\ub984, \uc544\uc774\ub514":"\uc774\ub984, \uc544\uc774\ub514","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514","\uac80\uc0c9":"\uac80\uc0c9","\ub354\ubcf4\uae30":"\ub354\ubcf4\uae30","\uc870\uc9c1\uc21c":"\uc870\uc9c1\uc21c","\uac00\ub098\ub2e4\uc21c":"\uac00\ub098\ub2e4\uc21c","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.","\uc774\ub984":"\uc774\ub984","\ubd80\uc11c":"\ubd80\uc11c","\uc544\uc774\ub514":"\uc544\uc774\ub514","\uc804\ud654\ubc88\ud638":"\uc804\ud654","\uc9c1\uc704":"\uc9c1\uc704","\uc9c1\ucc45":"\uc9c1\ucc45","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694."},ja:{"\ud655\uc778":"\u78ba\u8a8d","\ub2eb\uae30":"\u9589\u3058\u308b","\uc120\ud0dd":"\u9078\u629e","\uc774\ub984, \uc544\uc774\ub514":"\u540d\u524d\u3001ID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\u540d\u524d\u3001\u90e8\u7f72\u540d\u3001ID","\uac80\uc0c9":"\u691c\u7d22","\ub354\ubcf4\uae30":"\u3082\u3063\u3068\u898b\u308b","\uc870\uc9c1\uc21c":"\u7d44\u7e54\u9806","\uac00\ub098\ub2e4\uc21c":"abc\u9806","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u30e1\u30f3\u30d0\u30fc\u304c\u3042\u308a\u307e\u305b\u3093\u3002","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u691c\u7d22\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\u7d50\u679c\u5024\u304c\u591a\u3044\u3067\u3059\u3002\u691c\u7d22\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002","\uc774\ub984":"\u540d\u524d","\ubd80\uc11c":"\u90e8\u7f72","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"\u96fb\u8a71","\uc9c1\uc704":"\u8077\u4f4d","\uc9c1\ucc45":"\u5f79\u8077","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\u5148\u306b\u7d44\u7e54\u56f3\u3067\u9805\u76ee\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},en:{"\ud655\uc778":"OK","\ub2eb\uae30":"Close","\uc120\ud0dd":"Select","\uc774\ub984, \uc544\uc774\ub514":"Name, ID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"Name, Department, ID","\uac80\uc0c9":"Search","\ub354\ubcf4\uae30":"View More","\uc870\uc9c1\uc21c":"By Organization","\uac00\ub098\ub2e4\uc21c":"By Alphabet","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"No Member","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"No Result","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"There are too many results. Please use the search function.","\uc774\ub984":"Name","\ubd80\uc11c":"Department","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"Phone","\uc9c1\uc704":"Position","\uc9c1\ucc45":"Title","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"Select Item on the Organization "},zh_CN:{"\ud655\uc778":"\u786e\u8ba4","\ub2eb\uae30":"\u5173\u95ed","\uc120\ud0dd":"\u9009\u62e9","\uc774\ub984, \uc544\uc774\ub514":"\u540d\u5b57\uff0cID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\u540d\u5b57\uff0c\u90e8\u95e8\u540d\u79f0\uff0cID","\uac80\uc0c9":"\u641c\u7d22","\ub354\ubcf4\uae30":"\u67e5\u770b\u66f4\u591a","\uc870\uc9c1\uc21c":"\u7ec4\u7ec7\u987a\u5e8f","\uac00\ub098\ub2e4\uc21c":"abc\u987a\u5e8f","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6ca1\u6709\u4f1a\u5458","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6ca1\u6709\u641c\u7d22\u7ed3\u679c\u3002","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\u7ed3\u679c\u592a\u591a\u3002\u8bf7\u4f7f\u7528\u641c\u7d22\u529f\u80fd\u3002","\uc774\ub984":"\u540d\u5b57","\ubd80\uc11c":"\u90e8\u95e8","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"\u7535\u8bdd","\uc9c1\uc704":"\u804c\u79f0","\uc9c1\ucc45":"\u804c\u4f4d","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\u9996\u5148\u8bf7\u5728\u7ec4\u7ec7\u673a\u6784\u56fe\u9009\u62e9\u9879\u76ee\u3002"},zh_TW:{"\ud655\uc778":"\u78ba\u8a8d","\ub2eb\uae30":"\u95dc\u9589","\uc120\ud0dd":"\u9078\u64c7","\uc774\ub984, \uc544\uc774\ub514":"\u540d\u5b57\uff0cID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\u540d\u5b57\uff0c\u90e8\u9580\u540d\u7a31\uff0cID","\uac80\uc0c9":"\u641c\u7d22","\ub354\ubcf4\uae30":"\u67e5\u770b\u66f4\u591a","\uc870\uc9c1\uc21c":"\u7d44\u7e54\u9806\u5e8f","\uac00\ub098\ub2e4\uc21c":"abc\u9806\u5e8f","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6c92\u6709\u6703\u54e1","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6c92\u6709\u641c\u7d22\u7d50\u679c\u3002","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\u7d50\u679c\u592a\u591a\u3002\u8acb\u4f7f\u7528\u641c\u7d22\u529f\u80fd\u3002","\uc774\ub984":"\u540d\u5b57","\ubd80\uc11c":"\u90e8\u9580","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"\u96fb\u8a71","\uc9c1\uc704":"\u8077\u7a31","\uc9c1\ucc45":"\u8077\u4f4d","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\u9996\u5148\u8acb\u5728\u7d44\u7e54\u6a5f\u69cb\u5716\u9078\u64c7\u9805\u76ee\u3002"},vi:{"\ud655\uc778":"OK","\ub2eb\uae30":"\u0110\u00f3ng","\uc120\ud0dd":"Ch\u1ecdn","\uc774\ub984, \uc544\uc774\ub514":"H\u1ecd t\u00ean, t\u00e0i kho\u1ea3n","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"H\u1ecd t\u00ean, t\u00ean ph\u00f2ng ban, t\u00e0i kho\u1ea3n","\uac80\uc0c9":"T\u00ecm ki\u1ebfm","\ub354\ubcf4\uae30":"Xem th\u00eam","\uc870\uc9c1\uc21c":"Theo t\u1ed5 ch\u1ee9c","\uac00\ub098\ub2e4\uc21c":"Theo Alphabet","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"Kh\u00f4ng c\u00f3 th\u00e0nh vi\u00ean.","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"Kh\u00f4ng c\u00f3 K\u1ebft qu\u1ea3 t\u00ecm ki\u1ebfm.","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"C\u00f3 nhi\u1ec1u gi\u00e1 tr\u1ecb k\u1ebft qu\u1ea3. Vui l\u00f2ng s\u1eed d\u1ee5ng t\u00ecm ki\u1ebfm.","\uc774\ub984":"H\u1ecd t\u00ean","\ubd80\uc11c":"Ph\u00f2ng ban","\uc544\uc774\ub514":"H\u1ecd t\u00ean","\uc804\ud654\ubc88\ud638":"tho\u1ea1i nh\u00e0","\uc9c1\uc704":"Ch\u1ee9c v\u1ee5","\uc9c1\ucc45":"Ch\u1ee9c tr\u00e1ch","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"Select Item on the Organization "}},i18n:{},defaults:{id:"gpopupLayer",treeId:"orgTree",type:"list",isAdmin:!1,isMyDeptOpened:!0,companyIds:null,multiCompanyVisible:!1,selectedMember:null,tpl:{wrap:['<div class="layer_side layer_organogram" id="{popupId}" data-layer><aside class="go_organogram">','<header><h1><ins class="ic"></ins><span class="txt">{header}</span></h1>','<a class="btn_layer_x" data-bypass title="{msg_close}"><span class="ic"></span><span class="txt"></span></a></header>',"{tagWrap}",'<div class="vertical_wrap"><p class="desc">{desc}</p><p class="desc headerOption" style="display:block;">{headerOption}</p></div>',"{searchForm}","{contents}",'<section class="extra_content"></section>','<footer class="btn_layer_wrap">','<a class="btn_minor_s" data-bypass><span class="txt">{msg_close}</span></a>',"</footer>","</aside></div>"],searchForm:['<div class="search_wrap"><form onSubmit="return false;">','<input class="search" type="text" placeholder="{msg_search_placeholder}" title="{msg_search_placeholder}">','<input class="btn_search" type="submit" value="{msg_search}" title="{msg_search}"></form>',"</div>"],contentsTab:['<div class="tab_wrap" id="orgTabs">','<div id="orgTree" class="content_tab_wrap" style="height:100%;"><div></div></div>','<div id="memberList" class="content_tab_wrap xhidden" style="display:none"></div></div>'],tagWrap:['<div class="data_result" id="orgTagWrap">','<ul class="name_tag"></ul>',"</div>"],tagItem:['<li data-id="{id}" data-type="{type}"><span class="name">{name} {position}</span><span class="btn_wrap"><span class="ic_classic ic_del" title="\uc0ad\uc81c"></span></span></li>']}},template:function(e,t){return e.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""})},getPopupEl:function(){return this.popupEl||e("#"+n.defaults.id)},getHeaderHeight:function(){return e(this.isAdmin?".admin_header":".go_header").height()},close:function(){var t=this.getPopupEl();return t.find("#orgTabs").empty(),t.remove(),e(document).trigger("hideLayer.goLayer"),!1},popupOffset:function(t,r){var i=t||null,s=0,o=0,u=n.getPopupEl(),a=200;contentMaxHeight=e(window).height()-500,contentHeight=0,r==1&&(contentHeight=parseInt(e(window).innerHeight()-u.find(".content_wrap:eq(0), .content_tab_wrap:eq(0)").offset().top-120,10),contentHeight<a&&(contentHeight=a),u.find(".content_wrap, .content_tab_wrap").css({minHeight:a,maxHeight:contentMaxHeight<a?a:contentMaxHeight})),i!=null&&i.hasOwnProperty("currentTarget")?(s=e(i.currentTarget).offset().top-30,s<50&&(s=50),e(window).innerHeight()-s<u.height()?u.css({position:"absolute",bottom:40,right:10,top:"auto"}):u.css({position:"absolute",top:s,right:10})):u.css({position:"fixed",top:60,right:10})},initialize:function(t){this.isAjaxDouble=!1,this.options=e.extend(!0,{},this.defaults,t),this.selectedMember=[],this.options.isAdmin||(this.options.displayFormats=this._getDisplayFormats()),t.useTag&&(this.originalCallback=t.callback);if(this.options.lang&&this.lang.hasOwnProperty(this.options.lang))this.i18n=this.lang[this.options.lang];else{var n=e('meta[name="locale"]').attr("content");n=="jp"&&(n="ja"),n&&this.lang.hasOwnProperty(n)?this.i18n=this.lang[n]:this.i18n=this.lang[this.defaultLocale]}return this.render(),this},render:function(){var t=this,r=this.options,i=r.header||this.i18n["\uc120\ud0dd"],s=r.headerOption||"",o=r.desc||"",u=n.defaults.tpl.contentsTab,a="",f="",l=r.searchPlaceHolder||this.i18n["\uc774\ub984"]+"/"+this.i18n["\uc544\uc774\ub514"]+"/"+this.i18n["\ubd80\uc11c"]+"/"+this.i18n["\uc9c1\uc704"]+"/"+this.i18n["\uc9c1\ucc45"]+"/"+this.i18n["\uc804\ud654\ubc88\ud638"];this.circle=r.circle||null,this.popupEl=this.popupEl||null,this.companyIds=r.companyIds||[],this.loadId=r.loadId||"",this.includeLoadIds=r.includeLoadIds||[],this.depts=r.depts||[],this.domainCodeIds=r.domainCodeIds||[],this.userIds=r.userIds||[],this.type=r.type||this.defaults.type,this.callback=r.callback||"",this.contextRoot=r.contextRoot||"",this.isAdmin=r.isAdmin||this.defaults.isAdmin,this.buttons=r.buttons||null,this.hideOrg=r.hasOwnProperty("hideOrg")?r.hideOrg:this.loadId?!0:!1,this.searchUse=this.type!="deleteDept",this.target=r.target||null,this.isOrgServiceOn=this.getOrgUse(r),this.searchPlaceHolder=this.isOrgServiceOn?l:this.i18n["\uc774\ub984, \uc544\uc774\ub514"],this.zIndex=r.zIndex,this.method=r.method||"GET",this.externalLang=r.externalLang||null,this.isOnlyOneMember=r.isOnlyOneMember||!1,this.memberTypeLabel=r.memberTypeLabel||"",this.isCustomType=r.isCustomType||!1,this.isBatchAdd=r.isBatchAdd||!1,this.useTag=r.useTag||!1,this.useApprReception=r.useApprReception||!1,this.useApprReference=r.useApprReference||!1,this.useDisableNodeStyle=r.useDisableNodeStyle||!1,this.multiCompanyVisible=r.multiCompanyVisible||!1,this.popupEl&&(n.close(),n.keyword=null),n.defaults.tpl[this.type]&&(u=n.defaults.tpl[this.type]);if(this.searchUse){if(this.loadId||this.type=="circle")this.searchPlaceHolder=this.i18n["\uc774\ub984, \uc544\uc774\ub514"];a=n.template(n.defaults.tpl.searchForm.join(""),{msg_search_placeholder:this.searchPlaceHolder,msg_search:this.i18n["\uac80\uc0c9"]})}this.useTag&&(f=n.template(n.defaults.tpl.tagWrap.join(""))),this.popupEl=e(n.template(n.defaults.tpl.wrap.join(""),{msg_close:this.i18n["\ub2eb\uae30"],tagWrap:f,contents:u.join(""),searchForm:a,popupId:n.defaults.id,header:i,headerOption:s,desc:o})).appendTo("body"),e(document).trigger("showLayer.goLayer"),this.popupEl.off(),this.searchUse&&this.popupEl.find("input[placeholder]").placeholder(),!this.isOrgServiceOn&&this.type!="circle"||this.type=="community"||this.type=="domaincode"||this.type=="deleteDept"||this.type=="complex"?this._renderNodeList():this._renderNodeTree(r);if(this.searchUse){var c=this.popupEl.find("input.search");(e.browser.mozilla||e.browser.opera)&&c.imitateKeyEvent();var h;c.bind("keyup",function(r){return r.keyCode==13?(e(r.currentTarget).focus(),!1):(clearTimeout(this.clearTimeOut),this.clearTimeOut=setTimeout(function(){if(r){var i=e.trim(e(r.currentTarget).val());i!=""&&n.keyword!=i&&e.proxy(n._renderNodeList()),n.keyword=i,i==""&&(t.render(),t.nodeTree.deferred.done(function(){t.popupEl.find("input.search").focus()}))}},500),!1)})}this.useTag&&(this.selectedMember=_.isArray(this.selectedMember)?this.selectedMember:[],this.callback=e.proxy(this._onAddMemberToTag,this),this.options.callback=e.proxy(this._onAddMemberToTag,this),this.popupEl.find("footer").prepend('<a class="btn_major_s" data-bypass id="btnConfirmCallback"><span class="txt">'+this.i18n["\ud655\uc778"]+"</span></a>").bind("click.org",e.proxy(function(){this.callback=this.originalCallback,this.options.callback=this.originalCallback,this.callback(this._getTagItems()),n.close()},this)),this.popupEl.find("ul.name_tag").on("click.org","span.ic_del",function(){t._removeSelectedMember(this)}),this._renderTag());if(this.buttons!=null){var p=this.popupEl.find(".btn_layer_wrap");e.each(this.buttons,function(e,r){p.prepend('<a id="customButtons'+e+'" class="'+(r.bclass||"btn_major_s")+'" data-bypass=""><span class="txt">'+r.btext+"</span></a> "),p.find("#customButtons"+e).bind("click.org",function(){if(typeof r.callback=="function"){var e=t._getSelectedData();r.callback(e)}r.autoClose&&n.close()})})}this.popupEl.find("a.btn_layer_x, a.btn_minor_s").bind("click.org",function(){n.close()}),this.popupEl.on("data:success",function(){n.popupOffset(t.target,!0)}),this.popupEl.draggable({handle:"header, footer",containment:"parent",scroll:!1,opacity:.9,start:function(){},drag:function(e,t){}}),this.zIndex&&this.popupEl.css("z-index",this.zIndex);return},_getDisplayFormats:function(){var e={};return _.isFunction(GO.config)?(e.orgTreeModeratorFormat=this.convertDisplayFormat(GO.config("orgTreeModeratorFormat")),e.orgTreeMemberFormat=this.convertDisplayFormat(GO.config("orgTreeMemberFormat")),e.orgTreeMasterFormat=this.convertDisplayFormat(GO.config("orgTreeMasterFormat"))):_.isUndefined(BASECONFIG)||(e.orgTreeModeratorFormat=this.convertDisplayFormat(BASECONFIG.data.displayConfigModel.orgTreeModeratorFormat),e.orgTreeMemberFormat=this.convertDisplayFormat(BASECONFIG.data.displayConfigModel.orgTreeMemberFormat),e.orgTreeMasterFormat=this.convertDisplayFormat(BASECONFIG.data.displayConfigModel.orgTreeMasterFormat)),e},_onAddMemberToTag:function(t){var n=this,r=e.isArray(t)?t:e.isPlainObject(t)?new Array(t):[],i=_.pluck(this._getTagItems(),"id"),s=_.filter(r,function(e){return _.indexOf(i,e.id)==-1});_.each(s,function(e){n.selectedMember.push(e)}),this._renderTag()},_renderTag:function(){e("#"+n.defaults.id).find("ul.name_tag").empty(),e.each(this.selectedMember,function(t,r){e("#"+n.defaults.id).find("ul.name_tag").append(n.template(n.defaults.tpl.tagItem.join(""),{id:this.id,name:this.name,position:this.position?this.position:"",type:this.type}))})},_getTagItems:function(){return this.selectedMember},_removeSelectedMember:function(t){var n=e(t).closest("li"),r=n.data("id");n.remove();var i;_.each(this.selectedMember,function(e,t){if(e.id==r)return i=t,!1}),this.selectedMember.splice(i,1)},_getSelectedData:function(){if(n.type=="department"){var t=this.nodeTree.$el.find("a.jstree-clicked").length==0,r=!this.nodeList||this.nodeList.$el.find("a.jstree-clicked").length===0;if(!t||!r)return this.nodeTree.getSelectedData().name?this.nodeTree.getSelectedData():this.nodeList.getSelectedData();e.goSlideMessage(this.i18n["\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694."])}},_renderNodeTree:function(t){this.nodeTree=e.goNodeTree({el:"#"+n.defaults.treeId+">div",url:[this.contextRoot,this.isAdmin?"ad/":"","api/organization/"],companyIds:t.companyIds,loadId:t.loadId,includeLoadIds:t.includeLoadIds||[],type:t.type||this.defaults.type,i18n:this.i18n||{},contextRoot:t.contextRoot||"",isMyDeptOpened:t.loadId==undefined?t.isMyDeptOpened:!1,isAdmin:t.isAdmin||this.defaults.isAdmin,hideOrg:t.hasOwnProperty("hideOrg")?t.hideOrg:this.loadId?!0:!1,target:t.target||null,circle:t.circle||null,method:t.method||"GET",depts:t.depts||[],userIds:t.userIds||[],externalLang:t.externalLang||null,isOnlyOneMember:t.isOnlyOneMember||!1,memberTypeLabel:t.memberTypeLabel||"",isCustomType:t.isCustomType||!1,isBatchAdd:t.isBatchAdd||!1,multiCompanyVisible:this.multiCompanyVisible,useApprReception:t.useApprReception,useApprReference:t.useApprReference,useDisableNodeStyle:t.useDisableNodeStyle,callback:e.proxy(function(n,r){(r.type==="click"||r.type==="select_node")&&e.isFunction(t.callback)&&t.callback(n)},this),displayFormats:t.displayFormats})},_renderNodeList:function(t){var r=n.popupEl.find("input.search"),i=e.trim(r.attr("placeholder")==r.val()?"":r.val());if(!i&&this.type!="community"&&this.type!="domaincode"&&this.type!="deleteDept"&&this.type!="complex"&&this.isOrgServiceOn)return this.popupEl.find("input.search").val(""),this.popupEl.find("#memberList").hide(),this.popupEl.find("#orgTree").show(),!1;this.popupEl.find("#orgTree").hide(),e("#memberList").empty(),this.nodeList=e.goNodeList({i18n:this.i18n,circle:this.circle,type:this.type,companyIds:this.companyIds,isAdmin:this.isAdmin,parentNodeId:this.loadId,parentNodeIds:this.includeLoadIds,depts:this.depts||[],userIds:this.userIds||[],multiCompanyVisible:this.options.multiCompanyVisible,selectQuery:"#memberList",keyword:i,isOrgServiceOn:this.isOrgServiceOn,contextRoot:this.contextRoot,isBatchAdd:this.isBatchAdd||!1,externalLang:this.externalLang,isOnlyOneMember:this.isOnlyOneMember,memberTypeLabel:this.memberTypeLabel,isCustomType:this.isCustomType,useApprReception:this.useApprReception,useApprReference:this.useApprReference,useDisableNodeStyle:this.useDisableNodeStyle,method:this.method||"GET",multiCompanyVisible:this.multiCompanyVisible,hideOrg:this.hideOrg,callback:e.proxy(function(t,n){(n.type==="click"||n.type==="select_node")&&e.isFunction(this.callback)&&this.callback(t)},this),displayFormats:this.displayFormats}),this.nodeList.$el.show()},getOrgUse:function(e){var t=!0;return e.isOrgServiceOn!=undefined?t=e.isOrgServiceOn:this.isAdmin?t=GO.util.isUseOrgService(this.isAdmin):t=GO.session("useOrgAccess"),t},convertDisplayFormat:function(e){var t=e||"";return t=t.replace(/\{\{/g,"{"),t=t.replace(/\}\}/g,"}"),t}})}(jQuery),define("jquery.go-orgslide",function(){}),define("todo/views/menus/add_member",["components/history_menu/main","hgn!todo/templates/menus/add_member_menu","text!todo/templates/partials/_member_button.html","text!todo/templates/partials/_user_thumbnail.html","todo/models/todo","todo/views/menus/member_profile","i18n!todo/nls/todo","i18n!nls/commons","jquery.go-orgslide"],function(e,t,n,r,i,s,o,u){var a,f=e.HistoriableMenuView;return a=f.extend({id:"add-member-menu",className:"content",name:"add-member-menu",title:o["\ubcf4\ub4dc \uacf5\uc720"],template:t,afterSave:function(){},events:{"click .btn-add-member":"_callOrganogram","click .ui-user-photo":"_callMemberProfileMenu"},initialize:function(e){e=e||{},this.model||(this.model=new i),this.afterSave=e.afterSave||function(){},f.prototype.initialize.call(this,e),this.setMenuClass("layer_share"),this.listenTo(this.model,"change:members",this.render),this.connectWith=".layer_organogram"},render:function(){this.$el.empty().append(this.template({model:this.model.toJSON(),label:{add_member:o["\uba64\ubc84 \ucd94\uac00"]}},{_member_button:n,_user_thumbnail:r}))},remove:function(){f.prototype.remove.apply(this,arguments),this.connectWith&&$(this.connectWith).remove()},_callOrganogram:function(e){e.preventDefault();var t=$.goOrgSlide({header:o["\uba64\ubc84 \ucd94\uac00"],type:"node",contextRoot:GO.config("contextRoot"),callback:_.bind(this._addMember,this),zIndex:200,externalLang:u,memberTypeLabel:o["\uba64\ubc84"],isBatchAdd:!0});return t},_addMember:function(e){var t=_.isArray(e)?e:[e],n=this;if(t[0].type==="org")return;this.model.addMember(t)},_callMemberProfileMenu:function(e){var t=$(e.currentTarget),n;if(!this.model.isMember(GO.session("id")))return!1;e.preventDefault(),this.forward(new s.BoardMemberProfileMenuView({todoModel:this.model,userId:parseInt(t.data("userid"))}))}}),a}),define("todo/views/menus/todo_action",["app","components/history_menu/main","hgn!todo/templates/menus/menu_items_menu","todo/views/menus/add_member","todo/views/menus/remove_confirm","i18n!todo/nls/todo"],function(e,t,n,r,i,s){function a(){var t=[];return t.push({classname:"share-board",next_view:"",menu_name:s["\uacf5\uc720 \uc124\uc815"],icon_class:!1,has_child:!1}),this.model.isOwner(e.session("id"))?t.push({classname:"remove-board",next_view:"",menu_name:s["\ubcf4\ub4dc \uc0ad\uc81c"],icon_class:!1,has_child:!1}):this.model.isMember(e.session("id"))&&t.push({classname:"leave-board",next_view:"",menu_name:s["\ubcf4\ub4dc\uc5d0\uc11c \ub098\uac00\uae30"],icon_class:!1,has_child:!1}),t}var o,u=t.HistoriableMenuView;return o=u.extend({id:"board-action-menu",className:"content",template:n,name:"board-action-menu",title:s["\ubcf4\ub4dc \uba54\ub274"],events:{"click .share-board a":"_callAddMemberMenu","click .remove-board a":"_callRemoveConfirmMenu","click .leave-board a":"_callLeaveConfirmMenu"},initialize:function(e){e=e||{},u.prototype.initialize.call(this,e),this.setMenuClass("layer_todo_board")},render:function(){this.$el.empty().append(this.template({menulist:a.call(this)}))},_callAddMemberMenu:function(t){var n;t.preventDefault(),this.model.isMember(e.session("id"))&&(n=new r({model:this.model}),this.forward(n))},_callRemoveConfirmMenu:function(t){var n=this;if(!this.model.isOwner(e.session("id")))return!1;t.preventDefault(),this.forward(new i({subject:s["\ubcf4\ub4dc \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:s["\ubcf4\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){n.model.remove().then(function(t){n.close(),e.router.navigate("todo",{pushState:!0,trigger:!0})})}}))},_callLeaveConfirmMenu:function(t){var n=this,r=e.session("id");if(this.model.isOwner(r)||!this.model.isMember(r))return!1;t.preventDefault(),this.forward(new i({subject:s["\ubcf4\ub4dc\ub098\uac00\uae30 \ud0c0\uc774\ud2c0"],description:s["\ubcf4\ub4dc\ub098\uac00\uae30 \ud655\uc778 \uba54\uc2dc\uc9c0"],buttonText:s["\ub098\uac00\uae30"],afterClick:function(){n.model.leaveMember(r).then(function(t){n.close(),e.router.navigate("todo",{pushState:!0,trigger:!0})})}}))}}),o}),define("hgn!todo/templates/menus/move_column_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static">\r'),r.b("\n"+n),r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <p class="title">'),r.b(r.v(r.d("label.position",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b('        <select name="select_position" class="select-column-seq w_max">\r'),r.b("\n"+n),r.s(r.f("columns",e,t,1),e,t,0,210,284,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <option value="'),r.b(r.v(r.f("seq",e,t,0))),r.b('">'),r.b(r.v(r.f("disp_text",e,t,0))),r.b("</option>\r"),r.b("\n"+n)}),e.pop()),r.b("        </select>\r"),r.b("\n"+n),r.b("    </div>\r"
),r.b("\n"+n),r.b("</form>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b(r.rp("<_confirm_button0",e,t,"")),r.fl()},partials:{"<_confirm_button0":{name:"_confirm_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/move_column",["components/history_menu/main","hgn!todo/templates/menus/move_column_menu","text!todo/templates/partials/_confirm_button.html","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i){function u(){var e=this.model.get("seq"),t=parseInt(this.$el.find("select[name=select_position]").val()),n=$($(".ui-todocolumn").get(t)),r=this.columnView.$el,i;if(t<e)i="before";else{if(!(t>e))return!1;i="after"}return n[i].call(n,r),!0}var s,o=e.HistoriableMenuView;return s=o.extend({id:"move-column-menu",className:"content",name:"move-column-menu",title:r["\uce7c\ub7fc \uc774\ub3d9"],template:t,columnView:null,todoModel:null,events:{"click .btn-confirm":"_move","click .btn-cancel":"_cancel"},initialize:function(e){e=e||{},this.columnView=e.columnView,this.model=this.columnView.model,this.todoModel=this.columnView.todoModel,o.prototype.initialize.call(this,e)},render:function(){var e=this.todoModel.getCategories();_.map(e,function(e){e.disp_text=e.seq+1}),this.$el.empty().append(this.template({columns:e,label:{position:i["\uc704\uce58"],confirm:i["\uc774\ub3d9"],cancel:i["\ucde8\uc18c"]}},{_confirm_button:n})),this.setCurrentPosition(),this.setMenuClass("layer_move")},setCurrentPosition:function(){this.$el.find(".select-column-seq").val(this.model.get("seq"))},_move:function(e){var t=this,n=[];e.preventDefault(),u.call(this)&&($(".ui-todocolumn").each(function(e,t){var r=$(t),i=r.data("categoryid"),s=r.data("view");s.reorder(e),n.push(i)}),this.todoModel.reorderCategories(n).then(function(e){t.close()}).otherwise(function(e){window.location.reload()}))},_cancel:function(e){e.preventDefault(),this.back()}}),s}),define("todo/views/menus/category_action",["components/history_menu/main","hgn!todo/templates/menus/menu_items_menu","todo/views/menus/remove_confirm","todo/views/menus/move_column","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s){var o,u=e.HistoriableMenuView,a=[];return a.push({classname:"add-card",next_view:"",menu_name:i["\uce74\ub4dc \ucd94\uac00"],icon_class:!1,has_child:!1}),a.push({classname:"move-column",next_view:"",menu_name:s["\uc774\ub3d9"],icon_class:!1,has_child:!1}),a.push({classname:"remove-column",next_view:"",menu_name:i["\uc774 \uce7c\ub7fc\uc744 \uc0ad\uc81c"],icon_class:!1,has_child:!1}),o=u.extend({id:"column-action-menu",className:"content",name:"column-action-menu",title:i["\uce7c\ub7fc \uba54\ub274"],template:t,columnView:null,events:{"click .add-card a":"_callAddCardForm","click .remove-column a":"_callRemoveConfirmMenu","click .move-column a":"_callMoveColumnMenu"},initialize:function(e){e=e||{},this.columnView=e.columnView,this.model=this.columnView.model,this.todoModel=this.columnView.todoModel,u.prototype.initialize.call(this,e),this.setMenuClass("layer_todo_board")},render:function(){this.$el.empty().append(this.template({menulist:a}))},_callAddCardForm:function(e){e.preventDefault(),this.columnView.$el.find(".ui-add-card").css("display")!="none"&&this.columnView.$el.find(".btn-add-card").trigger("click"),this.close()},_callRemoveConfirmMenu:function(e){var t=this;e.preventDefault(),this.forward(new n({subject:i["\uce7c\ub7fc \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:i["\uce7c\ub7fc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=t.todoModel,n=t.model;e.removeCategory(n.id).then(function(e){t.close(),t.columnView.remove()})}}))},_callMoveColumnMenu:function(e){var t=this;e.preventDefault(),this.forward(new r({columnView:this.columnView}))}}),o}),define("hgn!todo/templates/menus/search_member_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static" onsubmit="return false;">\r'),r.b("\n"+n),r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <span class="wrap_txt w_max"><label></label><input class="txt w_max" type="text" name="query" value="" placeholder="'),r.b(r.v(r.d("label.search_member",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</form>\r"),r.b("\n"+n),r.b('<div class="list_member_wrap div_scroll">\r'),r.b("\n"+n),r.b('    <ul class="ui-member-list list_default list_member">\r'),r.b("\n"+n),r.s(r.f("members",e,t,1),e,t,0,389,434,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<_search_member_list0",e,t,"        "))}),e.pop()),r.b("    </ul>\r"),r.b("\n"+n),r.b("</div>  \r"),r.b("\n"),r.fl()},partials:{"<_search_member_list0":{name:"_search_member_list",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("text!todo/templates/partials/_search_member_list.html",[],function(){return'<li>\r\n    <a href="#" class="btn-memberinfo{{#selected}} select{{/selected}}" data-userid="{{id}}"data-bypass>\r\n        <span class="photo_s">{{> _user_thumbnail}}</span>\r\n        <span class="ic_board ic_check"></span>\r\n        <span class="info"><span class="name txt_ellipsis">{{name}}{{#position}} {{position}}{{/position}}</span></span>\r\n    </a>\r\n</li>'}),define("todo/views/menus/search_member",["underscore","hogan","components/history_menu/main","hgn!todo/templates/menus/search_member_menu","text!todo/templates/partials/_search_member_list.html","text!todo/templates/partials/_user_thumbnail.html","i18n!todo/nls/todo","i18n!nls/commons","libs/go-utils"],function(e,t,n,r,i,s,o,u,a){function d(t){var n=[],r=e.pluck(this.model.get("members"),"id");return e.map(t||[],function(t){var i=e.contains(r,t.id);n.push(e.extend(t,{selected:i}))}),t}function v(t){var n=this.todoModel.get("members"),r=a.escapeRegExChars(a.normalizeQuery(t)),i=new RegExp("(?:"+r+")","i");return e.filter(n,function(e){var t=e.name+(e.position?" "+e.position:"");return i.exec(t)})}var f,l=n.HistoriableMenuView,c=!1,h=500,p=function(){var e=Hogan.compile(i);return e.render.apply(e,arguments)};return f=l.extend({id:"search-member-menu",className:"content",name:"search-member-menu",title:o["\ub2f4\ub2f9\uc790"],template:r,todoModel:null,events:{"click .btn-memberinfo":"_toggle","keyup input[name=query]":"_resetHint"},initialize:function(e){e=e||{},this.todoModel=e.todoModel,l.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({members:d.call(this,this.todoModel.get("members")),label:{search_member:o["\uba64\ubc84 \uac80\uc0c9"]}},{_search_member_list:i,_user_thumbnail:s})),this.setMenuClass("layer_new_board")},_resetHint:function(){c||(c=!0,setTimeout(e.bind(function(){var t=this.$el.find("input[name=query]").val(),n=this.$el.find(".ui-member-list"),r=v.call(this,t),i=[];e.each(d.call(this,r),function(e){i.push(p(e,{_user_thumbnail:s}))},this),n.empty().append.apply(n,i),c=!1},this),h))},_toggle:function(e){var t=$(e.currentTarget),n=t.data("userid"),r=t.hasClass("select")?"removeMember":"addMember",i=t.hasClass("select")?"removeClass":"addClass";e.preventDefault(),this.model[r].call(this.model,n).then(function(e){return t[i].call(t,"select"),when.resolve(e)})}}),f}),define("hgn!todo/templates/menus/select_label_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<ul class="list_label">\r'),r.b("\n"+n),r.s(r.f("labels",e,t,1),e,t,0,40,310,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("    <li>\r"),r.b("\n"+n),r.b('        <a href="#" class="ui-label card_label" style="background:'),r.b(r.v(r.f("color",e,t,0))),r.b('" data-labelid="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-bypass>\r'),r.b("\n"+n),r.b('            <span class="txt txt_ellipsis">'),r.b(r.v(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('            <span class="ic_board ic_checked"></span>\r'),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n),r.b("    </li>\r"),r.b("\n"+n)}),e.pop()),r.b("</ul>\r"),r.b("\n"+n),r.b("<hr>\r"),r.b("\n"+n),r.b('<div class="row_wrap">\r'),r.b("\n"+n),r.b('    <div class="row_tit">\r'),r.b("\n"+n),r.b('        <a href="#" class="btn-modify-labelname row" data-bypass><span class="txt">'),r.b(r.v(r.d("label.modify_name",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!todo/templates/menus/edit_label_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static">\r'),r.b("\n"+n),r.s(r.f("labels",e,t,1),e,t,0,43,296,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <span class="card_label" style="background:'),r.b(r.v(r.f("color",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b('        <input class="input-labelname txt w_max" name="label_name_'),r.b(r.v(r.f("id",e,t,0))),r.b('" type="text" value="'),r.b(r.v(r.f("title",e,t,0))),r.b('" data-labelid="'),r.b(r.v(r.f("id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n)}),e.pop()),r.b("</form>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b(r.rp("<_confirm_button0",e,t,"")),r.fl()},partials:{"<_confirm_button0":{name:"_confirm_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/edit_label",["components/history_menu/main","hgn!todo/templates/menus/edit_label_menu","text!todo/templates/partials/_confirm_button.html","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i){var s,o=e.HistoriableMenuView;return s=o.extend({id:"edit-label-menu",className:"content",name:"edit-label-menu",title:r["\ub77c\ubca8\uc774\ub984 \ubcc0\uacbd"],template:t,events:{"click .btn-confirm":"_save","click .btn-cancel":"_cancel"},initialize:function(e){this.before=e.before,e=e||{},o.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({labels:this.model.get("labels"),label:{confirm:i["\uc800\uc7a5"],cancel:i["\ucde8\uc18c"]}},{_confirm_button:n})),this.setMenuClass("layer_label")},_save:function(e){var t=[],n=this,r=!0;e.preventDefault(),this.$el.find(".input-labelname").each(function(e,n){var s=$(n).data("labelid"),o=$(n).val();$.goValidation.isCheckLength(0,255,o)?t.push({id:s,title:o}):($.goSlideMessage(GO.i18n(i["\ucd5c\ub300 {{arg1}}\uc790 \uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."],{arg1:"255"}),"caution"),r=!1)}),r&&this.model.updateLabels(t).then(function(e){n.back()}).otherwise(function(e){console.log(e.stack)})},_cancel:function(e){e.preventDefault(),this.back()}}),s}),define("todo/views/menus/select_label",["components/history_menu/main","hgn!todo/templates/menus/select_label_menu","todo/views/menus/edit_label","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i){function u(){var e=this,t=this.model.get("labels");this.$el.find(".ui-label").each(function(t,n){var r=$(n).data("labelid"),i=e.model.hasLabel(r);i&&$(n).addClass("select")})}function a(e){e.hasClass("select")?e.removeClass("select"):e.addClass("select")}var s,o=e.HistoriableMenuView;return s=o.extend({id:"select-label-menu",className:"content",name:"select-label-menu",title:r["\ub77c\ubca8"],template:t,todoModel:null,events:{"click .ui-label":"_toggleSelectLabel","click .btn-modify-labelname":"_callEditLabelMenu"},initialize:function(e){e=e||{},this.todoModel=e.todoModel,o.prototype.initialize.call(this,e),this.todoModel.on("change:labels",this.render,this)},render:function(){this.$el.empty().append(this.template({labels:this.todoModel.get("labels"),label:{modify_name:r["\ub77c\ubca8\uc774\ub984 \ubcc0\uacbd"]}})),this.setMenuClass("layer_label"),u.call(this)},_toggleSelectLabel:function(e){var t=$(e.currentTarget),n=t.data("labelid"),r=this.model.get("labels"),i=t.hasClass("select")?"removeLabel":"addLabel";e.preventDefault(),this.model[i].call(this.model,n).then(function(e){a(t)})},_callEditLabelMenu:function(e){var t;e.preventDefault(),t=new n({model:this.todoModel}),this.forward(t)}}),s}),define("hgn!todo/templates/menus/move_card_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static">\r'),r.b("\n"+n),r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <p class="title">'),r.b(r.v(r.d("label.column",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b('        <select name="select_column" class="select-column-seq w_max">\r'),r.b("\n"+n),r.s(r.f("columns",e,t,1),e,t,0,206,275,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <option value="'),r.b(r.v(r.f("id",e,t,0))),r.b('">'),r.b(r.v(r.f("title",e,t,0))),r.b("</option>\r"),r.b("\n"+n)}),e.pop()),r.b("        </select>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <p class="title">'),r.b(r.v(r.d("label.position",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b('        <select name="select_position" class="select-card-seq w_max"></select>\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</form>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b(r.rp("<_confirm_button0",e,t,"")),r.fl()},partials:{"<_confirm_button0":{name:"_confirm_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/move_card",["components/history_menu/main","hgn!todo/templates/menus/move_card_menu","text!todo/templates/partials/_confirm_button.html","todo/libs/util","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s){function a(){this.$el.find("select[name=select_column]").val(this.model.get("todoCategoryId")),f.call(this)}function f(){var e=parseInt(this.$el.find("select[name=select_column]").val()),t=this.$el.find("select[name=select_position]"),n=$("#column-container-"+e).find(".ui-todocard"),i=n.length,s=[];e===this.model.get("todoCategoryId")&&(i-=1),t.empty();if(i>0)for(var o=0;o<=i;o++){var u=o+1;s.push('<option value="'+o+'">'+u+"</option>")}else s.push('<option value="0">1</option>');$.fn.append.apply(t,s),t.val(r.searchCardSeq(n,this.model.id))}var o,u=e.HistoriableMenuView;return o=u.extend({id:"move-card-menu",className:"content",name:"move-card-menu",title:i["\uce74\ub4dc \uc774\ub3d9"],template:t,todoModel:null,events:{"change select[name=select_column]":"_changeColumn","click .btn-confirm":"_move","click .btn-cancel":"_cancel"},initialize:function(e){e=e||{},this.todoModel=e.todoModel,u.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({columns:this.todoModel.getCategories(),label:{column:i["\uce7c\ub7fc"],position:s["\uc704\uce58"],confirm:s["\uc774\ub3d9"],cancel:s["\ucde8\uc18c"]}},{_confirm_button:n})),this.setMenuClass("layer_move"),a.call(this)},_changeColumn:function(e){f.call(this)},_move:function(e){var t=this,n,r;e.preventDefault(),n=parseInt(this.$el.find("select[name=select_column]").val()),r=parseInt(this.$el.find("select[name=select_position]").val()),this.model.move(n,r).then(function(){t.model.trigger("moved",n,r),GO.EventEmitter.trigger("todo","resize:column"),t.close()})},_cancel:function(e){e.preventDefault(),this.back()}}),o}),define("hgn!todo/templates/menus/duedate_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static">\r'),r.b("\n"+n),r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <span class="wrap_date"><input class="txt wfix_small" type="text" name="date" value="'),r.b(r.v(r.f("date",e,t,0))),r.b('"><!-- <span class="ic_board ic_calendar"></span> --></span>\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b('    <div class="form_static_wrap">\r'),r.b("\n"+n),r.b('        <span class="wrap_date"><input class="txt wfix_small" type="text" name="time" value="'),r.b(r.v(r.f("time",e,t,0))),r.b('"><!-- <span class="ic_board ic_time"></span> --></span>\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</form>\r"),r.b("\n"+n),r.b('<div class="ui-datepicker-container ui-datepicker"></div>\r'),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<footer class="btn_layer_wrap">\r'),r.b("\n"+n),r.b('    <a class="btn-confirm btn_major_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.confirm",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.s(r.f("hasDuedate?",e,t,1),e,t,0,668,771,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <a class="btn-cancel btn_minor_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.cancel",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n)}),e.pop()),r.b("</footer>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/duedate",["components/history_menu/main","hgn!todo/templates/menus/duedate_menu","i18n!todo/nls/todo","i18n!nls/commons","jquery.ui"],function(e,t,n,r){function f(){var e=this.model.get("dueDate"),t;return e?t=moment(this.model.get("dueDate")):t=l(),t}function l(){var e=moment().format("YYYY-MM-DDT")+"12:00:00",t;return moment().isBefore(e)?t=e:t=moment().format("YYYY-MM-DDT")+"23:59:00",moment(t)}function c(e){var t,n=/^([1-3][0-9]{3})[\-\/\.](1[012]|0?[1-9])[\-\/\.]([123][0-9]|0?[1-9])/,r=/^([1-3][0-9]{3})(0[1-9]|1[012])(0[1-9]|[1-3][0-9])/;return n.test(e)&&moment(e).isValid()?t=moment(e):r.test(e)&&moment(e,"YYYYMMDD").isValid()?t=moment(e,"YYYYMMDD"):t=l(),t.format(o)}function h(e){var t;return moment(e,"HH:mm").isValid()?t=moment(e,"HH:mm"):moment(e,"H:m").isValid()?t=moment(e,"H:m"):moment(e,"HH:m").isValid()?t=moment(e,"HH:m"):moment(e,"H:mm").isValid()?t=moment(e,"H:mm"):moment(e,"Hm").isValid()?t=moment(e,"Hm"):moment(e,"Hmm").isValid()?t=moment(e,"Hmm"):moment(e,"HHm").isValid()?t=moment(e,"HHm"):moment(e,"HHmm").isValid()?t=moment(e,"HHmm"):t=l(),t.format(u)}function p(){var e=this.$el.find("input[name=date]");$.datepicker.setDefaults($.datepicker.regional[GO.config("locale")]),this.$el.find(".ui-datepicker-container").datepicker({defaultDate:f.call(this).toDate(),changeMonth:!0,changeYear:!0,yearSuffix:"",onSelect:function(t){e.val(t)}})}var i,s=e.HistoriableMenuView,o="YYYY-MM-DD",u="HH:mm",a="12:00";return i=s.extend({id:"duedate-menu",className:"content",name:"duedate-menu",title:n["\uae30\ud55c\uc77c"],template:t,events:{"click .btn-confirm":"_save","click .btn-cancel":"_remove","keypress input[name=date]":"_getValidDate","keypress input[name=time]":"_getValidTime"},initialize:function(e){e=e||{},s.prototype.initialize.call(this,e)},render:function(){var e=f.call(this);this.$el.empty().append(this.template({date:e.format(o),time:e.format(u),"hasDuedate?":this.model.hasDuedate(),label:{confirm:n["\uae30\ud55c\uc77c \uc9c0\uc815"],cancel:n["\uae30\ud55c\uc77c \ud574\uc81c"]}})),this.setMenuClass("layer_calendar_mini"),this.$el.find(".ui-datepicker-container").show(),p.call(this)},_save:function(e){var t=c(this.$el.find("input[name=date]").val()),n=h(this.$el.find("input[name=time]").val()),r=t+"T"+n+":00",i=this;e.preventDefault(),this.model.updateDueDate(r).then(function(e){i.back()})},_remove:function(e){var t=this;e.preventDefault(),this.model.removeDueDate().then(function(e){t.back()})},_getValidDate:function(e){var t=$(e.currentTarget);e.which==13&&t.val(c(t.val()))},_getValidTime:function(e){var t=$(e.currentTarget);e.which==13&&t.val(h(t.val()))}}),i}),function(e){typeof define=="function"&&define.amd?define("jquery.iframe-transport",["jquery"],e):e(window.jQuery)}(function(e){var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r,i,s;return{send:function(o,u){r=e('<form style="display:none;"></form>'),r.attr("accept-charset",n.formAcceptCharset),s=/\?/.test(n.url)?"&":"?",n.type==="DELETE"?(n.url=n.url+s+"_method=DELETE",n.type="POST"):n.type==="PUT"?(n.url=n.url+s+"_method=PUT",n.type="POST"):n.type==="PATCH"&&(n.url=n.url+s+"_method=PATCH",n.type="POST"),t+=1,i=e('<iframe src="javascript:false;" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,s=e.isArray(n.paramName)?n.paramName:[n.paramName];i.unbind("load").bind("load",function(){var t;try{t=i.contents();if(!t.length||!t[0].firstChild)throw new Error}catch(n){t=undefined}u(200,"success",{iframe:t}),e('<iframe src="javascript:false;"></iframe>').appendTo(r),window.setTimeout(function(){r.remove()},0)}),r.prop("target",i.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(r)}),n.fileInput&&n.fileInput.length&&n.type==="POST"&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",s[t]||n.paramName)}),r.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),r.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")),i.replaceWith(r)})}),r.append(i).appendTo(document.body)},abort:function(){i&&i.unbind("load").prop("src","javascript".concat(":false;")),r&&r.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){typeof define=="function"&&define.amd?define("jquery.ui.widget",["jquery"],e):e(jQuery)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}),function(e){typeof define=="function"&&define.amd?define("jquery.fileupload",["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent)&&!e('<input type="file">').prop("disabled"),e.support.xhrFileUpload=!!window.XMLHttpRequestUpload&&!!window.FileReader,e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;if(!this.bitrate||!n||r>n)this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e;return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return typeof t.formData=="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:e.type(t.formData)==="object"?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(e,t){if(e.lengthComputable){var n=Date.now?Date.now():(new Date).getTime(),r;if(t._time&&t.progressInterval&&n-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=n,r=Math.floor(e.loaded/e.total*(t.chunkSize||t._progress.total))+(t.uploadedBytes||0),this._progress.loaded+=r-t._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(n,this._progress.loaded,t.bitrateInterval),t._progress.loaded=t.loaded=r,t._progress.bitrate=t.bitrate=t._bitrateTimer.getBitrate(n,r,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n=this,r,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o=t.paramName[0];t.headers=t.headers||{},t.contentRange&&(t.headers["Content-Range"]=t.contentRange);if(!s||t.blob||!this._isInstanceOf("File",i))t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"';s?e.support.xhrFormDataFileUpload&&(t.postMessage?(r=this._getFormData(t),t.blob?r.push({name:o,value:t.blob}):e.each(t.files,function(e,n){r.push({name:t.paramName[e]||o,value:n})})):(n._isInstanceOf("FormData",t.formData)?r=t.formData:(r=new FormData,e.each(this._getFormData(t),function(e,t){r.append(t.name,t.value)})),t.blob?r.append(o,t.blob,i.name):e.each(t.files,function(e,i){(n._isInstanceOf("File",i)||n._isInstanceOf("Blob",i))&&r.append(t.paramName[e]||o,i,i.name)})),t.data=r):(t.contentType=i.type,t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;while(i)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){if(!t.form||!t.form.length)t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")));t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,[t]).promise()};n.process=function(e,t){if(e||t)n._processQueue=this._processQueue=(this._processQueue||i(this)).pipe(e,t);return this._processQueue||i(this)},n.submit=function(){return this.state()!=="pending"&&(n.jqXHR=this.jqXHR=r._trigger("submit",t,this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():r._getXHRPromise()},n.state=function(){if(this.jqXHR)return r._getDeferredState(this.jqXHR);if(this._processQueue)return r._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r=this,i=t.files[0],s=i.size,o=t.uploadedBytes,u=t.maxChunkSize||s,a=this._blobSlice,f=e.Deferred(),l=f.promise(),c,h;return!(this._isXHRUpload(t)&&a&&(o||u<s))||t.data?!1:n?!0:o>=s?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(h=function(){var n=e.extend({},t),l=n._progress.loaded;n.blob=a.call(i,o,o+u,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+o+"-"+(o+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),c=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,u,a){o=r._getUploadedBytes(a)||o+n.chunkSize,l+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o-n.uploadedBytes,total:o-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=o,n.result=i,n.textStatus=u,n.jqXHR=a,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),o<s?h():f.resolveWith(n.context,[i,u,a])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),f.rejectWith(n.context,[e,t,i])})},this._enhancePromise(l),l.abort=function(){return c.abort()},h(),l)},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var s=i._progress.total,o=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),o.result=i.result=t,o.textStatus=i.textStatus=n,o.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r=this,i,s,o,u,a=r._getAJAXSettings(n),f=function(){return r._sending+=1,a._bitrateTimer=new r._BitrateTimer,i=i||((s||r._trigger("send",t,a)===!1)&&r._getXHRPromise(!1,a.context,s)||r._chunkedUpload(a)||e.ajax(a)).done(function(e,t,n){r._onDone(e,t,n,a)}).fail(function(e,t,n){r._onFail(e,t,n,a)}).always(function(e,t,n){r._onAlways(e,t,n,a),r._sending-=1,r._active-=1;if(a.limitConcurrentUploads&&a.limitConcurrentUploads>r._sending){var i=r._slots.shift();while(i){if(r._getDeferredState(i)==="pending"){i.resolve();break}i=r._slots.shift()}}r._active===0&&r._trigger("stop")}),i};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),u=o.pipe(f)):(this._sequence=this._sequence.pipe(f,f),u=this._sequence),u.abort=function(){return s=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,s),f())},this._enhancePromise(u)):f()},_onAdd:function(t,n){var r=this,i=!0,s=e.extend({},this.options,n),o=s.limitMultiFileUploads,u=this._getParamName(s),a,f,l,c;if(!s.singleFileUploads&&!o||!this._isXHRUpload(s))l=[n.files],a=[u];else if(!s.singleFileUploads&&o){l=[],a=[];for(c=0;c<n.files.length;c+=o)l.push(n.files.slice(c,c+o)),f=u.slice(c,c+o),f.length||(f=u),a.push(f)}else a=u;return n.originalFiles=n.files,e.each(l||n.files,function(s,o){var u=e.extend({},n);return u.files=l?o:[o],u.paramName=a[s],r._initResponseObject(u),r._initProgressObject(u),r._addConvenienceMethods(t,u),i=r._trigger("add",t,u),i}),i},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,r){return r===t[0]?n[0]:r}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var r=this,i=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},o;return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},s):t.isDirectory?(o=t.createReader(),o.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(s)},s)):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop("webkitEntries")||t.prop("entries"),r,i;if(n&&n.length)return this._handleFileTreeEntries(n);r=e.makeArray(t.prop("files"));if(!r.length){i=t.prop("value");if(!i)return e.Deferred().resolve([]).promise();r=[{name:i.replace(/^.*\\/,"")}]}else r[0].name===undefined&&r[0].fileName&&e.each(r,function(e,t){t.name=t.fileName,t.size=t.fileSize});return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(e){r.files=e,n.options.replaceFileInput&&n._replaceFileInput(r.fileInput),n._trigger("change",t,r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};if(n&&n.length){e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)});if(this._trigger("paste",t,r)===!1||this._onAdd(t,r)===!1)return!1}},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var t=this,n=e.dataTransfer,r={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){r.files=n,t._trigger("drop",e,r)!==!1&&t._onAdd(e,r)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=t.dataTransfer;if(n){if(this._trigger("dragover",t)===!1)return!1;e.inArray("Files",n.types)!==-1&&(n.dropEffect="copy",t.preventDefault())}},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return t!=="url"&&e.type(n)==="string"&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),function(e,r){t._isRegExpOption(e,r)&&(r=t._getRegExp(r)),n[e]=r})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;if(!t||this.options.disabled)return;t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,r=e.Deferred(),i=r.promise(),s,o;return i.abort=function(){return o=!0,s?s.abort():(r.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always(function(e){if(o)return;t.files=e,s=n._onSend(null,t).then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}),this._enhancePromise(i)}t.files=e.makeArray(t.files);if(t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),define("components/go-fileuploader/main",["jquery","underscore","app","i18n!nls/commons","browser","jquery.progressbar","jquery.fileupload"],function(e,t,n,r,i){function s(s,o){o=o||{};var u=e('<input class="go-fileupload" type="file" name="file" title="'+r["\ud30c\uc77c\uc120\ud0dd"]+'" alt="'+r["\ud30c\uc77c\uc120\ud0dd"]+'" style="cursor:pointer">'),a={"font-size":0,position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",opacity:0},f={};f=t.extend({},{url:s.data("url")||n.config("contextRoot")+"api/file",attachType:""+s.data("attachtype")||"file",success:function(){},error:function(){}},o||{}),i.msie&&i.version<11&&t.extend(a,{"font-size":"999px"}),u.css(a),f.isWorks?s.css({overflow:"hidden"}).append(u):s.css({position:"relative",overflow:"hidden"}).append(u);var l=0,c=0,h=this;this.progressEl=f.progressEl?e(f.progressEl):e("div.progress"),this.progressBarOpt={boxImage:n.config("contextRoot")+"resources/images/progressbar.gif",barImage:n.config("contextRoot")+"resources/images/progressbg_green_100.gif",width:200,max:100},this.progressEl.hide(),this.progressEl.progressBar(0,this.progressBarOpt),this.progressEl.find("span:first").css("vertical-align","top"),this.progressEl.append("<a><span class='ic_classic ic_del' title='"+r["\uc0ad\uc81c"]+"'></span><a>"),this.progressEl.find("span.ic_del").on("click",function(){h.XHR.abort()}),u.fileupload({url:f.url+"?GOSSOcookie="+e.cookie("GOSSOcookie"),autoUpload:!0,dropZone:f.dropZone,progressEl:this.progressEl,pasteZone:null,add:function(t,i){if(f.validateFileType){var s=new RegExp("("+f.validateFileType+")","gi"),o=i.files[0].name,u=o.substring(o.lastIndexOf(".")+1).toLowerCase();if(!s.test(u))return e.goSlideMessage(f.validateFileTypeMessage),!1}if(!n.config("attachFileUpload"))return e.goAlert(r["\ud30c\uc77c\ucca8\ubd80\uc6a9\ub7c9\ucd08\uacfc"]),e("#dropZone").removeClass("drag_file"),!1;h.XHR=i;if(n.session().brandName=="DO_SAAS"){var a=parseInt(n.config("commonAttachConfig").maxAttachSize),p=a*1024*1024;if(p<i.files[0].size)return e.goMessage(n.i18n(r["\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 0MB \uc785\ub2c8\ub2e4."],"arg1",a)),e("#dropZone").removeClass("drag_file"),!1;l+=i.files[0].size;var d=f.totalAttachCount+c+1,v=parseInt(n.config("commonAttachConfig").maxAttachNumber);if(v<d)return e.goMessage(n.i18n(r["\ucd5c\ub300 \ucca8\ubd80 \uac2f\uc218\ub294 0\uac1c \uc785\ub2c8\ub2e4."],"arg1",v)),e("#dropZone").removeClass("drag_file"),!1;c++}i.submit()},progress:function(e,t){h.progressEl.show();var n=t.files[0],r={name:n.name,type:"."+n.name.split(".")[1],loadedSize:t.loaded,totalSize:t.total},i=Math.ceil(r.loadedSize/r.totalSize*100);i>99&&(i=100),h.progressEl.progressBar(i,h.progressBarOpt),f.isWorks&&f.progress()},fail:function(e,t){t.jqXHR&&t.jqXHR.statusText=="abort"?f.error(r["\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]):f.error(r["\uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."])},success:function(t,n){var r;e.browser.msie&&Number(e.browser.version)<10?r=e.parseJSON(e("pre",t).text()):r=e.parseJSON(t),f.isWorks?f.success(r):f.success(r.data)},always:function(){h.progressEl.hide(),h.progressEl.progressBar(0,h.progressBarOpt),l=0,c=0}})}return{bind:function(t,n){n=n||{},e(t).each(function(t,r){new s(e(r),n)})}}}),define("views/mobile/m_more_list",["require","underscore","backbone","app"],function(require){var e=require("underscore"),t=require("backbone"),n=require("app"),r=t.View.extend({initialize:function(){},render:function(){},setFetchInfo:function(e,t){this.offScrollEvent(),this.onScrollEvent(),this.dataSet=e,this.collection=t,this.offset=n.config("mobileListOffset")||20,n.router.getUrl()===sessionStorage.getItem(n.constant("navigator","BASE-URL"))?(this.selectedDocId=sessionStorage.getItem(n.constant("navigator","SELECTED-DOC-ID")),this.pageNo=sessionStorage.getItem(n.constant("navigator","PAGE-NO"))):(this.selectedDocId=null,this.pageNo=0),this.pageNo>=1?(this.dataSet.offset=this.offset*(parseInt(this.pageNo)+1),this.pageNo=0):this.dataSet.offset=this.offset,sessionStorage.removeItem(n.constant("navigator","SELECTED-DOC-ID")),sessionStorage.removeItem(n.constant("navigator","PAGE-NO")),sessionStorage.setItem(n.constant("navigator","BASE-URL"),n.router.getUrl())},setRenderListFunc:function(e){this.renderListFunc=e},scrollToEl:function(){if(e.isNull(this.selectedDocId))return!1;var t=JSON.parse(this.selectedDocId),n=this.$el.find("a[data-list-id="+t.listId+"]").closest("li");if(n.length<1)return;var r=n.offset().top-$("#headerToolbar").outerHeight(!0);$("html").animate({scrollTop:r},10)},appendRenderAboveList:function(){if(!this.collection.page&&!this.collection.pageInfo)return;if(typeof this.collection.pageInfo=="function"){if(!this.collection.pageInfo().next)return!1;this.pageNo=this.collection.pageInfo().pageNo}else{if(this.collection.page.lastPage)return!1;this.pageNo=this.collection.page.page}n.util.appLoading(!0),this.dataSet.offset>this.offset&&(this.pageNo=this.dataSet.offset/this.offset-1,this.dataSet.offset=this.offset),this.pageNo=this.pageNo+1,this.dataFetch().done($.proxy(function(e){e.length!==0&&(this.renderListFunc.listFunc(e),n.util.appLoading(!1))},this))},dataFetch:function(){var e=this.collection.url().split("?")[0],t=$.Deferred();return this.dataSet.page=this.pageNo,this.collection.fetch({async:!1,url:e,data:this.dataSet,success:function(e){t.resolve(e)},error:function(e,t){n.util.linkToErrorPage(t)}}),t},setSessionInfo:function(t){var r=$(t.currentTarget),i=r.attr("data-list-id"),s=Math.floor(e.indexOf(e.map(r.closest("ul").find("a[data-list-id]"),function(e){return $(e).attr("data-list-id")}),i.toString())/this.offset),o={listId:i};sessionStorage.setItem(n.constant("navigator","PAGE-NO"),s),sessionStorage.setItem(n.constant("navigator","SELECTED-DOC-ID"),JSON.stringify(o))},detectScroll:function(e){var t=$(e.currentTarget).scrollTop();parseInt(t)>=$(document).height()-$(window).height()-96&&this.appendRenderAboveList();if(t===0){if((!this.pageNo||this.pageNo==0)&&this.dataSet["offset"]==20)return!1;this.dataSet.offset=20,this.selectedDocId=null,this.pageNo=0,n.util.appLoading(!0),this.dataFetch().done($.proxy(function(e){e.length!==0&&(this.$el.find('ul[data-type="list"]').empty(),this.renderListFunc.listFunc(e),n.util.appLoading(!1))},this))}},offScrollEvent:function(){$(window).off("scroll.renderNewPage")},onScrollEvent:function(){$(window).on("scroll.renderNewPage",$.proxy(this.detectScroll,this))}});return r}),define("hgn!webfolder/templates/mobile/m_webfolder_list_unit",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("dataSet",e,t,1),e,t,0,12,1034,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("folders",e,t,1),e,t,0,25,417,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>"),r.b("\n"+n),r.b('    <a class="goSubWebFolder" href="javascript:;" data-type="'),r.b(r.v(r.d("dataSet.type",e,t,0))),r.b('" data-userseq="'),r.b(r.v(r.d("dataSet.userSeq",e,t,0))),r.b('"'),r.b("\n"+n),r.b('       data-sroot="'),r.b(r.v(r.d("dataSet.sroot",e,t,0))),r.b('" data-full-path="'),r.b(r.v(r.f("realPath",e,t,0))),r.b('" data-node-num="'),r.b(r.v(r.f("nodeNumber",e,t,0))),r.b('">'),r.b("\n"+n),r.b('        <span class="item_file">'),r.b("\n"+n),r.b('            <span class="ic_file ic_folder"></span>'),r.b("\n"+n),r.b('            <span class="subject">'),r.b(r.v(r.f("folderName",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.s(r.f("messages",e,t,1),e,t,0,443,1020,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<li>"),r.b("\n"+n),r.b('    <a class="clickFile" href="javascript:;">'),r.b("\n"+n),r.b('        <span class="item_file">'),r.b("\n"+n),r.b('            <span class="ic_file ic_'),r.s(r.f("webFolderPPT",e,t,1),e,t,0,581,586,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("file_")}),e.pop()),r.b(r.v(r.f("webFolderFileExt",e,t,0))),r.b('"></span>'),r.b("\n"+n),r.b('            <span class="subject">'),r.b(r.v(r.f("subject",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('            <span class="info">'),r.b("\n"+n),r.b('                <span class="date">'),r.b(r.v(r.f("formattedUtcDate",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('                <span class="part">|</span>'),r.b("\n"+n),r.b('                <span class="size" data-size="'),r.b(r.v(r.f("webFolderFileSize",e,t,0))),r.b('">'),r.b(r.v(r.f("formattedFileSize",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("            </span>"),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b('    <input type="checkbox" data-uid="'),r.b(r.v(r.f("id",e,t,0))),r.b('">'),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)}),e.pop())}),e.pop()),r.s(r.f("dataSet",e,t,1),e,t,1,0,0,"")||(r.b('<li class="creat data_null">'),r.b("\n"+n),r.b('    <span class="txt">'),r.b(r.v(r.d("lang.no_list",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("</li>"),r.b("\n"+n)),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!webfolder/templates/mobile/m_webfolder_list",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<header class="go_header">'),r.b("\n"+n),r.b('    <div id="webSubFolderToolbarWrap" class="nav con_nav webFolderHeader">'),r.b("\n"+n),r.b("        <h1></h1>"),r.b("\n"+n),r.b('        <div class="critical">'),r.b("\n"+n),r.b('            <a href="javascript:;" id="moveParentWebFolder"><span'),r.b("\n"+n),r.b('                    class="ic_nav ic_nav_prev"></span></a>'),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b('        <div class="optional">'),r.b("\n"+n),r.b('            <ul class="toolbar_list">'),r.b("\n"+n),r.b("                <li>"),r.b("\n"+n),r.b('                    <a href=""></a>'),r.b("\n"+n),r.b("                </li>"),r.b("\n"+n),r.b("            </ul>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b('    <div id="webFolderHomeToolbarWrap" class="nav con_nav webFolderHeader">'),r.b("\n"+n),r.b('        <h1 id="title">'),r.b(r.v(r.d("lang.webfolder_title",e,t,0))),r.b("</h1>"),r.b("\n"+n),r.b('        <div class="critical">'),r.b("\n"+n),r.b('            <a href="javascript:;" id="closeWebFolder"><span class="ic_nav ic_nav_cancel"></span></a>'),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b('    <div id="webFolderSelectToolbarWrap" class="nav con_nav check_nav" style="display:none;">'),r.b("\n"+n),r.b('        <div class="critical">'),r.b("\n"+n),r.b('            <a href="javascript:;" id="uncheckAllFile"><span class="ic_nav ic_nav_cancel"></span></a>'),r.b("\n"+n),r.b('            <span class="count"></span>'),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b('        <div class="optional">'),r.b("\n"+n),r.b('            <ul class="toolbar_list">'),r.b("\n"+n),r.b("                <li>"),r.b("\n"+n),r.b('                    <a id="selectAllFile" href="javascript:;">'),r.b(r.v(r.d("lang.select_all",e,t,0))),r.b("</a>"),r.b("\n"+n),r.b("                </li>"),r.b("\n"+n),r.b("                <li>"),r.b("\n"+n),r.b('                    <a id="attachFile" href="javascript:;">'),r.b(r.v(r.d("lang.attach",e,t,0))),r.b("</a>"),r.b("\n"+n),r.b("                </li>"),r.b("\n"+n),r.b("            </ul>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("</header>"),r.b("\n"+n),r.b('<div class="go_wrap">'),r.b("\n"+n),r.b('    <div class="go_body">'),r.b("\n"+n),r.b('        <div class="go_content">'),r.b("\n"+n),r.b('            <div class="content_page">'),r.b("\n"+n),r.b('                <div class="content" id="webfolder_content">'),r.b("\n"),r.b("\n"+n),r.b('                    <select id="webFolderDirectory">'),r.b("\n"+n),r.b('                        <option value="user" data-type="user">'),r.b(r.v(r.d("lang.private_webfolder",e,t,0))),r.b("</option>"),r.b("\n"+n),r.b('                        <option data-type="public">'),r.b(r.v(r.d("lang.public_webfolder",e,t,0))),r.b("</option>"),r.b("\n"+n),r.b("                    </select>"),r.b("\n"+n),r.b('                    <ul class="list_file" id="webfolderList">'),r.b("\n"+n),r.b("                    </ul>"),r.b("\n"+n),r.b("                </div>"),r.b("\n"+n),r.b("            </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("webfolder/collections/webfolders_shared",["backbone"],function(e){var t=e.Collection.extend({model:e.Model,url:function(){return"/api/webfolder/folder/tree?type=share"}});return{getCollection:function(){var e=new t;return e.fetch({async:!1}),e}}}),define("webfolder/collections/webfolders_list",["backbone"],function(e){var t=e.Collection.extend({model:e.Model,initialize:function(e){this.options=e||{}},url:function(){return"/api/webfolder/folder/list"}});return t}),function(){define("webfolder/views/mobile/m_home",["views/mobile/m_more_list","jquery","backbone","hogan","app","i18n!nls/commons","hgn!webfolder/templates/mobile/m_webfolder_list_unit","hgn!webfolder/templates/mobile/m_webfolder_list","webfolder/collections/webfolders_shared","webfolder/collections/webfolders_list","jquery.go-validation","GO.util"],function(e,t,n,r,i,s,o,u,a,f){var l={board:s["\uac8c\uc2dc\ud310"],webfolder_title:s["\uc790\ub8cc\uc2e4"],private_webfolder:s["\uac1c\uc778 \uc790\ub8cc\uc2e4"],public_webfolder:s["\uc804\uc0ac \uc790\ub8cc\uc2e4"],attach:s["\ucca8\ubd80"],no_list:s["\ub4f1\ub85d\ub41c \ud30c\uc77c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],select_all:s["\uc804\uccb4\uc120\ud0dd"],select_cancel:s["\uc804\uccb4\ud574\uc81c"]},c=e.extend({id:"webFolderView",attributes:{"data-role":"layer",style:"background:#fff; position:absolute; width:100%; min-height:100%; top:0; left:0; z-index:999"},unbindEvent:function(){this.$el.off("vclick","#closeWebFolder"),this.$el.off("vclick",".goSubWebFolder"),this.$el.off("vclick","#moveParentWebFolder"),this.$el.off("vclick",".clickFile"),this.$el.off("change","input[type=checkbox]"),this.$el.off("change","#webFolderDirectory"),this.$el.off("vclick","#uncheckAllFile"),this.$el.off("vclick","#selectAllFile"),this.$el.off("vclick","#attachFile")},bindEvent:function(){this.$el.on("vclick","#closeWebFolder",t.proxy(this.closeWebFolder,this)),this.$el.on("vclick",".goSubWebFolder",t.proxy(this.moveSubWebFolder,this)),this.$el.on("vclick","#moveParentWebFolder",t.proxy(this.moveParentWebFolder,this)),this.$el.on("vclick",".clickFile",t.proxy(this.clickFile,this)),this.$el.on("change","input[type=checkbox]",t.proxy(this.clickCheckbox,this)),this.$el.on("change","#webFolderDirectory",t.proxy(this.changeFolderDirectory,this)),this.$el.on("vclick","#uncheckAllFile",t.proxy(this.uncheckAllFile,this)),this.$el.on("vclick","#selectAllFile",t.proxy(this.selectAllFile,this)),this.$el.on("vclick","#attachFile",t.proxy(this.attachFile,this))},initialize:function(){GO.util.appLoading(!0),this.webFolderParamHistoryList=[],this.$listEl=null,this.webFolderListCollection=new f,this.webSharedFoldersCollection=a.getCollection(),t("#webFolderDirectory option[data-type=share]").remove();var e={listFunc:t.proxy(function(e){this.renderList(e)},this)};this.dataSet={path:"/",fullPath:"/",type:"user"},this.webFolderParamHistoryList.push(this.dataSet),this.setRenderListFunc(e),this.setFetchInfo(this.dataSet,this.webFolderListCollection),this.pageNo=1},render:function(){GO.util.pageDone(),this.unbindEvent(),this.bindEvent(),this.options=t.extend(this.options,arguments[0]||{});var e=this.webSharedFoldersCollection.toJSON(),n=u({lang:l});this.$el.html(n),t("body").append(this.el),this.renderSharedFolderNameList(e),this.renderHeader(this.dataSet),this.$el.find("#webfolderList").empty(),this.dataFetch().done(t.proxy(function(e){this.renderListFunc.listFunc(e)},this)),GO.util.appLoading(!1)},renderList:function(){var e=this.webFolderListCollection.toJSON()[0],t=function(e){if(e>1048576){var t=Math.floor(e*10/1048576);return parseInt(t/10)+"MB"}if(e>1024){var t=Math.floor(e*10/1024);return parseInt(t/10)+"KB"}return e+"B"};_.each(e.messages,function(e){e.formattedFileSize=t(e.webFolderFileSize),e.formattedUtcDate=moment(e.webFolderFileUtcDate).format("YYYY-MM-DD")}),e.messages.length===0&&e.folders.length===0&&(e=null);var n=o({dataSet:e,lang:l});this.pageNo===1&&this.$el.find("#webfolderList").empty(),this.$el.find("#webfolderList").append(n)},renderSharedFolderNameList:function(e){var n=this;_.each(e[0].webfolder,function(e){t("#webFolderDirectory").append("<option data-type='share' data-sroot='"+e.sroot+"' data-full-path='"+e.fullName+"' data-userseq='"+e.mailUserSeq+"' >"+e.name+"</option>")}),n.$el.find("#webFolderDirectory").val("user").prop("selected",!0)},closeWebFolder:function(){return t("#goBody").show(),t("#webFolderView").remove(),!1},moveSubWebFolder:function(e){e.preventDefault(),e.stopPropagation();var n=t(e.currentTarget);this.resetCheckedWebFolder(),this.dataSet={type:n.data("type"),path:n.data("full-path").split("WEBFOLDERROOT.")[1],fullPath:n.data("full-path"),nodeNum:n.data("node-num")},n.data("type")==="share"&&(this.dataSet.userSeq=n.data("userseq"),this.dataSet.sroot=n.data("sroot")),this.renderHeader(this.dataSet),this.pageNo=1,this.webFolderParamHistoryList.push(this.dataSet),this.dataFetch().done(t.proxy(function(e){this.renderListFunc.listFunc(e)},this))},moveParentWebFolder:function(){this.dataSet=this.webFolderParamHistoryList.pop(),this.resetCheckedWebFolder(),_.contains(this.dataSet.path,t("#webSubFolderToolbarWrap h1").text().trim())&&(this.dataSet=this.webFolderParamHistoryList.pop()),this.webFolderParamHistoryList.length===0&&this.webFolderParamHistoryList.push(this.dataSet),this.renderHeader(this.dataSet),this.pageNo=1,this.dataFetch().done(t.proxy(function(e){this.renderListFunc.listFunc(e)},this))},renderHeader:function(e){e.fullPath.split(".").length>=2?(t("#webFolderHomeToolbarWrap").hide(),t("#webSubFolderToolbarWrap").show(),t("div.webFolderHeader:visible h1").text(e.path.split(".").slice(-1)[0])):(t("#webSubFolderToolbarWrap").hide(),t("#webFolderHomeToolbarWrap").show()),t("div.webFolderHeader:visible").attr({"data-path":e.path,"data-userseq":e.userSeq,"data-sroot":e.sroot,"data-type":e.type})},resetCheckedWebFolder:function(){t("#webFolderSelectToolbarWrap").hide(),t("#webfolder_content input[type=checkbox]").prop("checked",!1),t("#select-all").text("\uc804\uccb4 \uc120\ud0dd")},clickFile:function(e){t(e.currentTarget).next().trigger("click"),this.clickCheckbox(e)},clickCheckbox:function(e){var n=t("#webfolder_content").find("li input:checked").length;n?t("#webFolderSelectToolbarWrap").show():t("#webFolderSelectToolbarWrap").hide(),t("#webFolderSelectToolbarWrap span.count").text(GO.i18n(webFolderLang.folder_select_number,{number:n}))},changeFolderDirectory:function(e){var n=t(e.currentTarget).find("option:selected");this.webFolderParamHistoryList=[],this.resetCheckedWebFolder(),this.dataSet={type:n.data("type"),fullPath:"WEBFOLDERROOT"},n.data("type")==="share"&&(this.dataSet=t.extend(this.dataSet,{sroot:n.data("sroot"),userSeq:n.data("userseq"),path:n.data("full-path").split(".")[1],fullPath:n.data("full-path")})),this.renderHeader(this.dataSet),t("#webFolderHomeToolbarWrap").show(),this.pageNo=1,this.webFolderParamHistoryList.push(this.dataSet),this.dataFetch().done(t.proxy(function(e){this.renderListFunc.listFunc(e)},this))},uncheckAllFile:function(e){e.stopImmediatePropagation(),e.preventDefault(),e.stopPropagation(),this.resetCheckedWebFolder()},selectAllFile:function(){t("#selectAllFile").text()===l.select_all?(t("#webfolder_content input[type=checkbox]").prop("checked",!0),t("#selectAllFile").text(l.select_cancel)):(t("#webfolder_content input[type=checkbox]").prop("checked",!1),t("#selectAllFile").text(l.select_all)),this.clickCheckbox()},attachFile:function(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),GO.util.appLoading(!0);var n=t("div.webFolderHeader:visible"),r={path:n.data("path"),sharedUserSeq:n.data("userseq")===""?0:n.data("userseq"),sroot:n.data("sroot"),type:n.data("type")},i=[];_.each(t("#webfolder_content").find("li input:checked"),function(e){i.push(t(e).data("uid").toString())}),r.uids=i,this.resetCheckedWebFolder(),typeof this.options.callback=="function"&&this.options.callback(r),this.closeWebFolder()},detectScroll:function(e){var n=t(e.currentTarget).height(),r=t("#webfolder_content").height(),i=t(e.currentTarget).scrollTop(),s=r-n;i-s>-0.5&&this.appendWebFolderList()},appendWebFolderList:function(){if(this.collection.toJSON()[0].pageInfo.lastPage)return;this.pageNo++,this.dataSet.currentPage=this.pageNo,this.dataFetch().done(t.proxy(function(e){e.toJSON()[0].folders.length=0,this.renderListFunc.listFunc(e)},this))}});return c})}.call(this),define("components/go-fileuploader/mobile",["jquery","underscore","app","i18n!nls/commons","browser","webfolder/views/mobile/m_home","jquery.fileupload"],function(e,t,n,r,i,s){function o(o,u){function m(e){return e.parents("#comment_edit_control").siblings("[data-emoticon-edit-part]").find("img").length>0?(n.util.delayAlert(r["\uc120\ud0dd\ud55c \uc774\ubaa8\ud2f0\ucf58 \uc0ad\uc81c \ud6c4 \ud30c\uc77c\uc744 \ucca8\ubd80\ud574\uc8fc\uc138\uc694."]),!1):!0}function g(t){e.ajax({url:"/api/webfolder/mail/attach/write",type:"POST",contentType:"application/json; charset=UTF-8",processData:!1,data:JSON.stringify(t),async:!1,error:function(e){window.attachFileFail(e)}}).done(function(e){setTimeout(function(){n.util.appLoading(!1),u.isToDo?y(e):b(e)},1e3)})}function y(n){t.each(n.data,function(t){x(t.size);var n={fileExt:t.extension,fileName:t.name,fileSize:t.size,filePath:t.upkey,thumbnail:["/thumb/temp/",t.hostId,"/small",t.upkey].join(""),hostId:t.hostId};e.ajax({url:u.webFolderUrl,type:"POST",async:!1,data:n,success:function(e){window.attachFileSuccess(e)},error:function(e){window.attachFileFail(e)}})})}function b(e){t.each(e.data,function(e){x(e.size);var t={};t.data={filePath:e.upkey,fileSize:e.size,fileName:e.name,hostId:e.hostId,preview:e.preview,uid:e.uid?e.uid:"",type:"normal",notChage:!0,fileExt:e.extension,thumbnail:["/thumb/temp/",e.hostId,"/small",e.upkey].join("")},window.attachFileSuccess(t)})}function w(){var e=window.target.closest('div[id*="_fileuploader"]').attr("id"),r=!t.isUndefined(e)&&(e.indexOf("form")>-1||e.indexOf("item")>-1||e.indexOf("reply")>-1);r&&(window.target.closest('div[id*="_fileuploader"]').data("attachable","true"),n.EventEmitter.trigger("m_comment",e))}function E(i){var s=e(i.currentTarget),o=s.get(0).files;t.each(o,function(t){var i=new FormData,s=S(t.name);if(s==undefined){alert(r["\ucca8\ubd80\ud560 \uc218 \uc5c6\ub294 \ud30c\uc77c \uc785\ub2c8\ub2e4."]);return}if(n.config("excludeExtension")){var o=e.inArray(s.toLowerCase(),n.config("excludeExtension").split(","));if(o>=0)return alert(n.i18n(r["\ud655\uc7a5\uc790\uac00 \ub561\ub561\uc778 \uac83\ub4e4\uc740 \ucca8\ubd80 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."],"arg1",n.config("excludeExtension"))),!1}x(t.size),i.append("file",t),i.append("GOSSOcookie",e.cookie("GOSSOcookie")),e.ajax({url:u.url||n.contextRoot+"api/file",type:"POST",async:!1,contentType:!1,processData:!1,data:i,success:function(e){window.attachFileSuccess(e)},error:function(e){window.attachFileFail(e)}})}),s.val("")}function S(e){var t=e.split(".");return t[t.length-1]}function x(e){var t=n.config("allowedFileUploadSize")?n.config("allowedFileUploadSize"):-1;try{if(t>-1&&t<e)throw new Error("AttachSizeException")}catch(i){var s=i.message;throw s=="AttachSizeException"&&n.util.delayAlert(n.i18n(r["\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 0MB \uc785\ub2c8\ub2e4."],"arg1",t/1024/1024)),new Error("Attach Validation Error - AppConfig")}}u=u||{};var a=e('<div id="popAttachOverlay" class="overlay" style="z-index:101"/>'),f=e('<span class="btn_wrap"><a href="javascript:;" id="btnAttachLayer"><span class="btn btn_attach_photo"></span></a></span>'),l=e('<span data-upload-btn class="btn_wrap" style="position:relative"><span><span class="btn btn_attach_file"></span><input type="file" multiple name="file" class="btn_image_upload" style="position:absolute;left:0;top:0;width:40px;height:40px;opacity:0"/></span></span>'),c=e('<span class="btn_wrap"><a href="javascript:;" data-bypass id="callFile"><span class="btn btn_attach_file"></span></a></span>'),h=e('<input type="file" name="file" class="btn_image_upload" accept="image/*" style="position:absolute;left:0;top:0;width:68px;height:68px;opacity:0" />'),p=e('<div class="btn_wrap"><a href=""><span class="btn btn_attach_folder"></span></a></div>'),d=e('<input class="btn_image_upload" type="file" multiple name="file" title="'+r["\ud30c\uc77c \ucca8\ubd80"]+'" alt="'+r["\ud30c\uc77c \ucca8\ubd80"]+'" style="cursor:pointer">'),v={"font-size":0,position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%",opacity:0};u.isContact?n.config("isMobileApp")?e(".photo a").addClass("btn_attach_photo"):o.html(h):u.isToDo?(i.msie&&i.version<11&&t.extend(v,{"font-size":"999px"}),d.css(v),o.css({position:"relative",overflow:"hidden"}).append(d)):(n.util.isAndroidApp()?o.html(c).append(f):o.html(l),n.config("isWebFolderAvailable")&&o.append(p)),window.attachFileSuccess=u.success,window.attachFileFail=u.error,e("[data-upload-btn]").off("vclick"),e("[data-upload-btn]").on("vclick",function(t){t.stopImmediatePropagation(),window.target=e(t.currentTarget);if(!m(window.target))return!1;w();if(typeof u.androidCallFile=="function")u.androidCallFile();else{var r=n.config("allowedFileUploadSize")?n.config("allowedFileUploadSize")/1024/1024:-1;n.util.callFile(r)}}),e('input[type="file"].btn_image_upload').off("change"),e('input[type="file"].btn_image_upload').on("change",function(t){e("div.option_display").data("attachable","true"),t.stopImmediatePropagation(),window.target=e(t.currentTarget),w();if(!m(window.target))return!1;E(t)}),e(".btn_attach_folder, #todoWebFolder, .todoitem-attach-webfolder").off("vclick"),e(".btn_attach_folder, #todoWebFolder, .todoitem-attach-webfolder").on("vclick",function(t){e("div.option_display").data("attachable","true"),t.preventDefault(),t.stopPropagation(),window.target=e(t.currentTarget),w();if(!m(window.target))return!1;this.webFolderView=new s({}),e("#goBody").hide(),this.webFolderView.render({callback:function(e){return g(e),!1}})});if(n.util.isAndroidApp()||n.config("isMobileApp")&&u.isContact){u.isToDo&&(d.off("click"),d.on("click",function(t){t.preventDefault(),window.target=e(t.currentTarget);if(o.data("attachtype")==="image")window.GOMobile.callAlbum("attachFileSuccess","attachFileFail");else{var r=n.config("allowedFileUploadSize")?n.config("allowedFileUploadSize")/1024/1024:-1;n.util.callFile(r)}})),e(".btn_attach_photo").off("click"),e("#callAlbum").off("vclick"),e("#callCamera").off("vclick"),e(".btn_attach_file").off("vclick"),e(".btn_attach_photo").on("click",function(t){e("div.option_display").data("attachable","true"),t.stopImmediatePropagation(),window.target=e(t.currentTarget);if(!m(window.target))return!1;w(),T()}),e("#callAlbum").on("vclick",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),C(e,n.util.callAlbum)}),e("#callCamera").on("vclick",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),C(e,n.util.callCamera)}),e(".btn_attach_file").on("vclick",function(t){t.stopImmediatePropagation(),window.target=e(t.currentTarget);if(!m(window.target))return!1;w();if(typeof u.androidCallFile=="function")u.androidCallFile();else{var r=n.config("allowedFileUploadSize")?n.config("allowedFileUploadSize")/1024/1024:-1;n.util.callFile(r)}});function T(){var t=e("#attachLayer");return t.css("display")=="block"?(t.hide(),e("#popAttachOverlay").remove(),e("#mobileContent").focus().show()):(N(),e(window).height()<e(".go_content").height()&&t.css("top","25%"),t.show(),e("#mobileContent").hide(),e("input").blur().focusout()),!1}function N(){var t=e("#attachLayer");t.hide(),e("#popAttachOverlay").remove(),e(".go_wrap").after(a);var n=function(){e("#popAttachOverlay").click(function(e){T(e)})};setTimeout(n,1e3)}function C(t,r){return e("#popAttachOverlay").remove(),e("#attachLayer").hide(),e("#mobileContent").show(),u.isContact&&r===n.util.callAlbum?n.util.callContactAlbum(1):r(),t&&t.stopPropagation(),!1}}}return{bind:function(t,n){n=n||{},e(t).each(function(t,r){new o(e(r),n)})},getAttachInfo:function(t){var n=[],r=e(t).find("li"),i;return r.each(function(){i={},e(this).attr("data-path")&&(i.path=e(this).attr("data-path")),e(this).attr("data-name")&&(i.name=e(this).attr("data-name")),e(this).attr("data-id")&&(i.id=e(this).attr("data-id")),n.push(i)}),n},attachFileValidateBySaaS:function(r){var i=r,s=e("li[data-size]").length+1,o=n.config("attachSizeLimit")?parseInt(n.config("maxAttachSize")):parseInt(n.config("commonAttachConfig").maxAttachSize),u=n.config("attachNumberLimit")?parseInt(n.config("maxAttachNumber")):parseInt(n.config("commonAttachConfig").maxAttachNumber);t.each(e("li[data-size]"),function(t){i+=e(t).data("size")});if(o*1024*1024<i)throw new Error("AttachSizeException");if(u<s)throw new Error("AttachNumberExceptionBySaaS")}}}),define("todo/views/menus/todoitem_action",["components/history_menu/main","hgn!todo/templates/menus/menu_items_menu","todo/views/menus/search_member","todo/views/menus/select_label","todo/views/menus/remove_confirm","todo/views/menus/move_card","todo/views/menus/duedate","i18n!todo/nls/todo","i18n!nls/commons","components/go-fileuploader/main","components/go-fileuploader/mobile"],function(e,t,n,r,i,s,o,u,a,f,l){function d(){var e=v.call(this),t=this.model,n={url:e.fileUrl,webFolderUrl:e.webFolderUrl+"/webfolder",isToDo:!0};this.$el.find(".todoitem-attach-file a").attr("data-attachtype","file"),GO.util.isMobile()?(GO.util.isMobileApp()?(this.$el.find(".todoitem-attach-image a").attr("data-attachtype","image"),n.url=this.$el.find(".go-fileuploader a").data("url")):n.error=function(){alert(a["\uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."])},n.success=function(e){var n=typeof e=="string"?JSON.parse(e):e.data;window.target.context.className.indexOf("todoitem-attach-webfolder")>-1?t.addFile(n.data):(n.hasOwnProperty("data")&&(n=n.data),GO.util.isMobileApp()?t.updateFile(m(n)):t.addFile(n))}):(n.success=function(e){t.addFile(e)},n.error=function(e){$.goSlideMessage(e,"caution")}),GO.util.isMobile()?l.bind(this.$el.find(".go-fileuploader a"),n):f.bind(this.$el.find(".go-fileuploader a"),n)}function v(){var e={},t=this.model;return e.webFolderUrl=[GO.config("contextRoot")+"api/todo",t.get("todoId"),"item",t.id,"file"].join("/"),GO.util.isMobileApp()?e.fileUrl=GO.config("contextRoot")+"api/file":e.fileUrl=e.webFolderUrl,e}function m(e){return{name:e.fileName,size:e.fileSize,extention:e.fileExt,path:e.filePath}}var c,h=e.HistoriableMenuView,p=[];return p.push({classname:"todoitem-members",next_view:"",menu_name:u["\ub2f4\ub2f9\uc790"],icon_class:!1,has_child:!1}),p.push({classname:"todoitem-labels",next_view:"",menu_name:u["\ub77c\ubca8"],icon_class:!1,has_child:!1}),p.push({classname:"todoitem-duedate",next_view:"",menu_name:u["\uae30\ud55c\uc77c"],icon_class:!1,has_child:!1}),p.push({classname:"todoitem-attach-file go-fileuploader",next_view:"",menu_name:a["\ud30c\uc77c \ucca8\ubd80"],icon_class:!1,has_child:!1}),GO.util.isAndroidApp()&&p.push({classname:"todoitem-attach-image go-fileuploader",next_view:"",menu_name:a["\uc774\ubbf8\uc9c0 \ucca8\ubd80"],icon_class:!1,has_child:!1}),GO.util.isMobile()&&GO.config("isWebFolderAvailable")&&p.push({classname:"todoitem-attach-webfolder go-fileuploader",next_view:"",menu_name:a["\uc790\ub8cc\uc2e4"],icon_class:!1,has_child:!1}),p.push({classname:"move-todoitem",next_view:"",menu_name:a["\uc774\ub3d9"],icon_class:!1,has_child:!1}),p.push({classname:"remove-todoitem",next_view:"",menu_name:a["\uc0ad\uc81c"],icon_class:!1,has_child:!1}),TodoItemActionMenuView=h.extend({id:"todoitem-action-menu",className:"content",template:t,name:"todoitem-action-menu",title:u["\uce74\ub4dc \uc561\uc158"],todoModel:null,events:{"click .todoitem-members":"_callSearchMemberMenu","click .todoitem-labels":"_callSelectLabelMenu","click .remove-todoitem":"_callRemoveConfirmMenu","click .move-todoitem":"_callMoveCardMenu","click .todoitem-duedate":"_callDuedateMenu"},initialize:function(e){e=e||{},this.todoModel=e.todoModel,h.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({menulist:p})),this.setMenuClass("layer_todo_board"),d.call(this)},_callSearchMemberMenu:function(e){e.preventDefault(),this.forward(new n({model:this.model,todoModel:this.todoModel}))},_callSelectLabelMenu:function(e){var t;e.preventDefault(),t=new r({model:this.model,todoModel:this.todoModel}),this.forward(t)},_callRemoveConfirmMenu:function(e){var t=this;if(!this.todoModel.isMember(GO.session("id")))return!1;e.preventDefault(),this.forward(new i({subject:u["\uce74\ub4dc \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:u["\uce74\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){t.model.remove().then(function(){t.close()})}}))},_callMoveCardMenu:function(e){var t=this;if(!this.todoModel.isMember(GO.session("id")))return!1;e.preventDefault(),this.forward(new s({model:this.model,todoModel:this.todoModel}))},_callDuedateMenu:function(e){e.preventDefault(),this.forward(new o({model:this.model}))}}),TodoItemActionMenuView}),define("hgn!todo/templates/menus/public_option_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b(r.rp("<_select_public_option0",e,t,"")),r.b(r.rp("<_confirm_button1",e,t,"")),r.fl()},partials:{"<_select_public_option0":{name:"_select_public_option",partials:{},subs:{}},"<_confirm_button1":{name:"_confirm_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/public_option",["components/history_menu/main","hgn!todo/templates/menus/public_option_menu","text!todo/templates/partials/_select_public_option.html","text!todo/templates/partials/_confirm_button.html","todo/models/todo","todo/libs/util","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s,o,u){function h(){this.$el.find(".public-option-select a").removeClass("select"),this.$el.find(l.option_private).addClass("select")}function p(){this.$el.find(".public-option-select a").removeClass("select"),this.$el.find(l.option_public).addClass("select")}var a,f=e.HistoriableMenuView,l={option_public:".option-public",option_private:".option-private"},c={"public":"Y","private":"N"};return a=f.extend({id:"public-option-menu",className:"content",name:"public-option-menu",title:o["\uacf5\uac1c\ubc94\uc704 \ubcc0\uacbd"],template:t,publicFlag:c.private,afterSave:function(){},events:{"click .option-private":"_setPrivateOption","click .option-public":"_setPublicOption","click .btn-confirm":"_confirm","click .btn-cancel":"_cancel"},initialize:function(e){e=e||{},this.model||(this.model=new i),this.publicFlag=this.model.get("publicFlag"),this.afterSave=e.afterSave||function(){},f.prototype.initialize.call(this,e)},render:function(){this.$el.empty().append(this.template({"private?":this.model.isPrivate(),label:{"private":u["\ube44\uacf5\uac1c"],"public":u["\uacf5\uac1c"],confirm:u["\ud655\uc778"],cancel:u["\ucde8\uc18c"]},msg:{about_private:o["\ubcf4\ub4dc \ube44\uacf5\uac1c \uc548\ub0b4\uba54\uc2dc\uc9c0"],about_public:o["\ubcf4\ub4dc \uacf5\uac1c \uc548\ub0b4\uba54\uc2dc\uc9c0"]}},{_select_public_option:n,_confirm_button:r}))},_setPrivateOption:function(e){e.preventDefault(),h.call(this),this.publicFlag=c.private},_setPublicOption:function(e){e.preventDefault(),p.call(this),this.publicFlag=c.public},_confirm:function(e){var t=this;e.preventDefault(),s.promiseModelSave(this.model,{publicFlag:this.publicFlag}).then(function(e){t.close(),t.afterSave.call(t,e)})},_cancel:function(e){e.preventDefault(),this.back()}}),a}),define("hgn!todo/templates/menus/board_title_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form class="form_static">\r'),r.b("\n"+n),r.b(r.rp("<_input_board_title0",e,t,"    ")),r.b("</form>\r"),r.b("\n"+n),r.b(r.rp("<_confirm_button1",e,t,"")),r.fl()},partials:{"<_input_board_title0":{name:"_input_board_title",partials:{},subs:{}},"<_confirm_button1":{name:"_confirm_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/menus/board_title",["components/history_menu/main","hgn!todo/templates/menus/board_title_menu","text!todo/templates/partials/_input_board_title.html","text!todo/templates/partials/_confirm_button.html","todo/models/todo","i18n!todo/nls/todo","i18n!nls/commons","app","jquery.go-validation","jquery.go-popup"],function(e,t,n,r,i,s,o,u){var a,f=e.HistoriableMenuView;return a=f.extend({id:"board-title-menu",className:"content",name:"board-title-menu",title:s["\ubcf4\ub4dc\uc774\ub984 \ubcc0\uacbd"],template:t,afterSave:function(){},events:{"click .btn-confirm":"_confirm","click .btn-cancel":"_cancel","submit form":"_confirm"},initialize:function(e){e=e||{},this.model||(this.model=new i),this.afterSave=e.afterSave||function(){},f.prototype.initialize.call(this,e)},render:function(){console.log(n),this.$el.empty().append(this.template({label:{name:o["\uc774\ub984"],input_title_value:GO.util.unescapeHtml(this.model.get("title")),confirm:o["\ud655\uc778"],cancel:o["\ucde8\uc18c"]}},{_input_board_title:n,_confirm_button:r})),this.setMenuClass("layer_new_board")},_confirm:function(e){var t=this.$el.find("input[name=title]").val(),n=this;if(!$.goValidation.isCheckLength(1,1e3,t))return $.goMessage(u.i18n(o["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),$("input[name=title]").focus(),!1;e.preventDefault(),this.model.updateTitle(t).then(function(e){n.close(),n.afterSave.call(n,e)})},_cancel:function(e){e.preventDefault(),this.back()}}),a}),define("todo/views/menus/main",["components/history_menu/main","todo/views/menus/todo_list","todo/views/menus/create_todo","todo/views/menus/todo_action","todo/views/menus/category_action","todo/views/menus/todoitem_action","todo/views/menus/remove_confirm","todo/views/menus/public_option","todo/views/menus/board_title","todo/views/menus/add_member","todo/views/menus/select_label","todo/views/menus/edit_label","todo/views/menus/move_card","todo/views/menus/move_column","todo/views/menus/search_member","todo/views/menus/member_profile","todo/views/menus/duedate"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m){return{CreateTodoMenuView:n,TodoListMenuView:t,BoardActionMenuView:r,ColumnActionMenuView:i,CardActionMenuView:s,RemoveConfirmMenuView:o,PublicOptionMenuView:u,BoardTitleMenuView:a,AddMemberMenuView:f,SelectLabelMenuView:l,EditLabelMenuView:c,MoveCardMenuView:h,MoveColumnMenuView:p,SearchMemberMenuView:d,BoardMemberProfileMenuView:v.BoardMemberProfileMenuView,CardMemberProfileMenuView:v.CardMemberProfileMenuView,DuedateMenuView:m,TodoActionMenuView:r,createMenu:function(t){return e.create(t)},attachTo:e.attachTo,createTodoListMenu:function(e,n){var r=t.create(e,n);return this.createMenu(r)},createPublicOptionMenu:function(e){return this.createMenu(new u(e))}}}),define("todo/views/site/content_top",["app","views/content_top","todo/views/menus/main","i18n!nls/commons"],function(e,t,n,r){function s(){var e=[];return e.push('<div class="ui-btn-todolist critical">'),e.push('<a href="#" class="btn_menu" data-bypass><span class="ic_board ic_menu"></span><span class="txt">Board</span><span class="ic_board ic_open2_w" title=""></span></a>'),e.push("</div>"),e.join("\n")}var i;return i=t.extend({collections:{},searchUrl:"todo/search",events:function(){var e=_.result(t.prototype,"events");return _.extend({},e,{"click .ui-btn-todolist a":"_openTodoListMenu","change #searchType":"toggleSelect"})},initialize:function(e){e=e||{},e.myTodoList&&(this.collections.myTodoList=e.myTodoList),e.favoriteTodoList&&(this.collections.favoriteTodoList=e.favoriteTodoList),e.title=s(),t.prototype.initialize.call(this,e)},render:function(){t.prototype.render.apply(this,arguments),this.toggleSelect()},renderTitle:function(){this.$el.find("h1").replaceWith(this.title)},setAppSearchTitle:function(){this.$el.find('#searchType option[value="appSearch"]').html(r["ToDO+"])},showDetailSearch:function(e){e.preventDefault();var t=$(e.currentTarget),n=t.offset(),r=$("#searchType").val();return r!="appSearch"&&this.detailPopup(e),!1},_openTodoListMenu:function(e){var t=$(e.currentTarget),r=t.offset(),i;e.preventDefault(),n.attachTo(t,new n.TodoListMenuView({myTodoList:this.collections.myTodoList,favoriteTodoList:this.collections.favoriteTodoList}))},toggleSelect:function(){$("#searchType").val()!="appSearch"?$("#btn_DetailSearch").show():$("#btn_DetailSearch").hide()}}),i}),function(e,t){function n(e){this.isIgnore=!1,this.resizeUID=0,this.delay=e||200}return n.prototype={setDelay:function(e){this.delay=e},bind:function(e){var n=this,r=Array.prototype.slice.call(arguments,1);if(!this.isIgnore){var i=++this.resizeUID;setTimeout(function(){i==n.resizeUID&&!n.isIgnore&&(n.isIgnore=!0,e.apply(t,r),n.isIgnore=!1)},this.delay)}}},window.GOIgnoreDuplicateMethod=n,n}(jQuery),define("go-ignoreduplicatemethod",["jquery"],function(e){return function(){var t,n;return t||e.GOIgnoreDuplicateMethod}}(this)),define("todo/views/site/layout",["when","views/layouts/default","todo/models/todos","todo/views/site/content_top","go-ignoreduplicatemethod"],function(e,t,n,r,i){function u(){var e=".history-menu";$(document).on("click.go.todo",f).on("click.go.todo",l)}function a(e,t){if(e&&e.which===3)return;if($(e.target).closest(document).length<1)return;$(document).trigger($.Event(t,{relatedTarget:e.target}))}function f(e){a(e,"go.todo.clearmenu")}function l(e){a(e,"go.todo.cleareditform")}function c(){var e=this,t=new i;$(window).on("resize.todo",function(n){t.bind(function(){p.call(e)})})}function h(){this.trigger("resize:content",this.getContentPageHeight(),this)}function p(){var e=this.$el.find(".go_body"),t=$(window).height(),n=parseInt(e.css("min-height")),r=45;this.$el.find("#content").css("padding-bottom",0),this.$el.find(".go_wrap").children(":not(.go_body)").each(function(e,n){t-=$(n).outerHeight()}),t=Math.max(n,t),this.$el.find(".go_body").height(t),this.$el.find("#content").height(t),this.trigger("resize:content",t-this.$el.find(".content_top").outerHeight(),this)}function d(){var e=new r(this.collections);this.$el.find(".go_content").empty().append(e.el),e.render()}var s,o="skin_todo_type";return s=t.extend({name:"todo",className:"go_skin_default go_full_screen todo go_renew go_todo",useRedirectPolicy:!1,collections:{},initialize:function(e){t.prototype.initialize.call(this,e),GO.config("workspace_expansion_button_visible",!1),this.collections={}},_init:function(){this.setUseSide(!1),this.setUseContentWrapper(!0),GO.session().theme!=="THEME_ADVANCED"&&this.setUseOrganogram(!1)},render:function(){this.off("resize:content");var r=this,i=e.defer();return r.appName="todo",n.fetchCollections.call(this).then(function(e){return r.collections=e,t.prototype.render.call(r)}).then(function(){d.call(r),p.call(r),c.call(r),u.call(r),i.resolve(r)}).otherwise(i.reject),i.promise},remove:function(){t.prototype.remove.apply(this,arguments),$(document).off(".go.todo")},setTheme:function(e){this.$el.addClass(o+e)},getContentPageHeight:function(){var e=this.getContentElement().height(),t=this.$el.find(".content_top").outerHeight();return e-t},setTitle:function(){}},{__instance__:null}),s}),define("hgn!todo/templates/board_card",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="action">'),r.b("\n"+n),r.b('    <a class="btn_fn7" data-role="button" title="'),r.b(r.v(r.d("lang.copy_url",e,t,0))),r.b('" url-copy='),r.b(r.v(r.f("directUrl",e,t,0))),r.b(">"),r.b("\n"+n),r.b('        <i class="ic_copy_url"></i>'),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b('    <a href="#" class="btn-star btn_star'),r.s(r.f("favorite?",e,t,1),e,t,0,213,228,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" btn_star_favor")}),e.pop()),r.b('" title="'),r.b(r.v(r.f("attr_title_favorite",e,t,0))),r.b('" data-bypass>'),r.b("\n"+n),r.b('        <ins class="ic_star'),r.s(r.f("favorite?",e,t,1),e,t,1,0,0,"")||r.b(" ic_star_off"),r.b('"></ins>'),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n),r.b("</span>"),r.b("\n"),r.b("\n"+n),r.b('<a href="#" class="btn-board todo_board'),r.s(r.f("favorite?",e,t,1),e,t,0,436,453,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" todo_favor_board")}),e.pop()),r.b('" data-bypass>'),r.b("\n"+n),r.b('    <span class="tit">'),r.b(r.t(r.f("title",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('    <ul class="list_share">'),r.b("\n"+n),r.s(r.f("members",e,t,1),e,t,0,571,619,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("        <li>"),r.b(r.rp("<_user_thumbnail0",e,t,"")),r.b("</li>"),r.b("\n"+n)}),e.pop()),r.b("    </ul>"),r.b("\n"+n),r.b("</a>"),r.b("\n"),r.fl()},partials:{"<_user_thumbnail0":{name:"_user_thumbnail",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!todo/templates/partials/_card_add_button",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<a href="#" class="btn-add-board btn_baord" title="'),r.b(r.v(r.f("buttonTitle",e,t,0))),r.b('" data-bypass="">\r'),r.b("\n"+n),r.b('    <div class="column_create">\r'),r.b("\n"+n),r.b('        <span class="create_box"></span>\r'),r.b("\n"+n),r.b('        <span class="ic_board ic_plus_w"></span>\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</a>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("json!lang/ko/board.json",function(){return{"\uacf5\uc9c0":"\uacf5\uc9c0","\uacf5\uc9c0\uae00":"\uacf5\uc9c0\uae00","\uacf5\uc9c0\uae00 \ubcf4\uae30":"\uacf5\uc9c0\uae00 \ubcf4\uae30","\uacf5\uc9c0\uae00 \ub2eb\uae30":"\uacf5\uc9c0\uae00 \ub2eb\uae30","\uacf5\uc9c0 \ud574\uc81c":"\uacf5\uc9c0 \ud574\uc81c","\uacf5\uc9c0 \ub4f1\ub85d":"\uacf5\uc9c0 \ub4f1\ub85d","\uacf5\uc9c0\ub85c \ub4f1\ub85d":"\uacf5\uc9c0\ub85c \ub4f1\ub85d","\ub367\uae00 \uc218\uc815":"\ub313\uae00 \uc218\uc815","\ub367\uae00 \uc0ad\uc81c":"\ub313\uae00 \uc0ad\uc81c","\ub313\uae00 \uc791\uc131":"\ub313\uae00 \uc791\uc131","\ub354\ubcf4\uae30":"\ub354\ubcf4\uae30","\ub313\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\ub313\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uacf5\uc9c0\uc0ac\ud56d\uc5d0\uc11c \ub0b4\ub9ac\uc2dc\uaca0\uc2b5\ub2c8\uae4c":"\uacf5\uc9c0\uc0ac\ud56d\uc5d0\uc11c \ub0b4\ub9ac\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud574\uc81c\ud558\uae30":"\ud574\uc81c\ud558\uae30","\uae00\uc4f0\uae30":"\uae00\uc4f0\uae30","\uae00\uc218\uc815":"\uae00\uc218\uc815","\ubd80\uc11c\uac8c\uc2dc\ud310":"\ubd80\uc11c\uac8c\uc2dc\ud310","\ud558\uc704\ubd80\uc11c \uac8c\uc2dc\ud310 \uc870\ud68c":"\ud558\uc704\ubd80\uc11c \uac8c\uc2dc\ud310 \uc870\ud68c","\ud558\uc704\ubd80\uc11c \uc804\uccb4":"\ud558\uc704\ubd80\uc11c \uc804\uccb4","\ubd80\uc11c":"\ubd80\uc11c","\uc804\uc0ac\uac8c\uc2dc\ud310":"\uc804\uc0ac\uac8c\uc2dc\ud310","\uc0c8 \uac8c\uc2dc\ud310":"\uac8c\uc2dc\ud310 \ucd94\uac00","\ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc0c8 \uae00\uc744 \uc791\uc131\ud560 \uc218 \uc788\ub294 \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc0c8 \uae00\uc744 \uc791\uc131\ud560 \uc218 \uc788\ub294 \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc18c\uc18d\ub41c \ubd80\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.":"\uc18c\uc18d\ub41c \ubd80\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br />\uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.","\uc18c\uc18d\ub41c \ubd80\uc11c\uc5d0\uc11c \uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uace0 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uc18c\uc18d\ub41c \ubd80\uc11c\uc5d0\uc11c \uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uace0 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc784\uc2dc \uc800\uc7a5\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc784\uc2dc \uc800\uc7a5\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\ubcf8\ubb38 \ub0b4\uc6a9":"\ubcf8\ubb38 \ub0b4\uc6a9","\ub313\uae00 \ub0b4\uc6a9":"\ub313\uae00 \ub0b4\uc6a9","\ucca8\ubd80\ud30c\uc77c \uba85":"\ucca8\ubd80\ud30c\uc77c \uba85","\uc791\uc131\uc790":"\uc791\uc131\uc790","\uc791\uc131\uc77c":"\uc791\uc131\uc77c","\uae30\uac04":"\uae30\uac04","\uc8fc\uc77c":"\uc8fc\uc77c","\uc9c1\uc811\uc120\ud0dd":"\uc9c1\uc811\uc120\ud0dd","\ub2ec\ub825\ubcf4\uae30":"\ub2ec\ub825\ubcf4\uae30","\ucd5c\uadfc\uae00":"\ucd5c\uadfc\uae00","\ub354 \ubcf4\uae30":"\ub354 \ubcf4\uae30","\ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uac8c\uc2dc\ud310\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uac8c\uc2dc\ud310\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.","\uc0c8 \uae00 \uc791\uc131\ud558\uae30":"\uc0c8 \uae00 \uc791\uc131\ud558\uae30","\uc791\uc131\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc791\uc131\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \uc791\uc131":"\uac8c\uc2dc\uae00 \uc791\uc131","\ub9c1\ud06c \ucd94\uac00":"\ub9c1\ud06c \ucd94\uac00","\uc784\uc2dc \uc800\uc7a5\ub41c \uae00":"\uc784\uc2dc \uc800\uc7a5\ub41c \uae00","\u203b \ub098\uc640 \uc6b4\uc601\uc790\ub9cc \ubcfc \uc218 \uc788\ub3c4\ub85d \ube44\uacf5\uac1c\ub85c \uae00\uc744 \ub4f1\ub85d\ud569\ub2c8\ub2e4.":"\u203b \ub098\uc640 \uc6b4\uc601\uc790\ub9cc \ubcfc \uc218 \uc788\ub3c4\ub85d \ube44\uacf5\uac1c\ub85c \uae00\uc744 \ub4f1\ub85d\ud569\ub2c8\ub2e4.","\ub4f1\ub85d":"\ub4f1\ub85d","\uc784\uc2dc\uc800\uc7a5":"\uc784\uc2dc\uc800\uc7a5","\ub9c1\ud06c\uc785\ub825":"\ub9c1\ud06c\uc785\ub825","\uacf5\uc9c0 \uae30\uac04 \uc124\uc815":"\uacf5\uc9c0 \uae30\uac04 \uc124\uc815","\uc784\uc2dc\uc800\uc7a5 \ud588\uc2b5\ub2c8\ub2e4.":"\uc784\uc2dc\uc800\uc7a5 \ud588\uc2b5\ub2c8\ub2e4.","\uc785\ub825\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc785\ub825\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc81c\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc81c\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":"{{arg1}}\uc790 \uc774\uc0c1, {{arg2}}\uc790 \uc774\ud558\ub97c \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.","\uc785\ub825\ud558\uc2e0 \uc815\ubcf4\uac00 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.":"\uc785\ub825\ud558\uc2e0 \uc815\ubcf4\uac00 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.","1\uc8fc \ub3d9\uc548":"1\uc8fc \ub3d9\uc548","2\uc8fc \ub3d9\uc548":"2\uc8fc \ub3d9\uc548","1\ub2ec \ub3d9\uc548":"1\ub2ec \ub3d9\uc548","2\ub2ec \ub3d9\uc548":"2\ub2ec \ub3d9\uc548","\ubb34\uae30\ud55c \uacf5\uc9c0":"\ubb34\uae30\ud55c \uacf5\uc9c0","\uc0ac\uc6a9\uc790 \uae30\uac04\uc124\uc815":"\uc0ac\uc6a9\uc790 \uae30\uac04\uc124\uc815","\uc120\ud0dd\uac00\ub2a5\ud55c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc120\ud0dd\uac00\ub2a5\ud55c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\ub0a0\uc9dc \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.":"\ub0a0\uc9dc \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ud0c0\uc785\uc774 \ubcc0\uacbd\ub418\uba74 ,\uae30\uc874\uc5d0 \uc785\ub825\ud588\ub358 \ub0b4\uc6a9\uc740 \ubaa8\ub450 \uc0ad\uc81c\ub429\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310 \ud0c0\uc785\uc774 \ubcc0\uacbd\ub418\uba74, \uae30\uc874\uc5d0 \uc785\ub825\ud588\ub358 \ub0b4\uc6a9\uc740 \ubaa8\ub450 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud604\uc7ac \uc791\uc131\uc911\uc778 \ub0b4\uc6a9\uc774 \uc788\uc2b5\ub2c8\ub2e4.<br>\ud654\uba74 \uc774\ub3d9 \uc2dc \uc791\uc131 \uc911\uc778 \ub0b4\uc6a9\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.<br>\uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\ud654\uba74 \uc774\ub3d9 \uc2dc \uc791\uc131 \uc911\uc778 \ub0b4\uc6a9\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.<br>\uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc774\uc57c\uae30 \ud558\uae30":"\uc774\uc57c\uae30 \ud558\uae30","\ud22c\ud45c":"\ud22c\ud45c","\uc815\ub82c":"\uc815\ub82c","\uae00 \ub4f1\ub85d \uae30\uc900":"\uae00 \ub4f1\ub85d \uae30\uc900","\ub313\uae00 \ub4f1\ub85d \uae30\uc900":"\ub313\uae00 \ub4f1\ub85d \uae30\uc900","\uc608\uc804 \ud53c\ub4dc \ubcf4\uae30":"\uc608\uc804 \ud53c\ub4dc \ubcf4\uae30","\uc624\ub298\ub85c":"\uc624\ub298\ub85c","\uc8fc \uc804\uc73c\ub85c":"\uc8fc \uc804\uc73c\ub85c","\ub2ec \uc804\uc73c\ub85c":"\ub2ec \uc804\uc73c\ub85c","\uc0ac\uc6a9\uc790 \uc9c0\uc815":"\uc0ac\uc6a9\uc790 \uc9c0\uc815","\uc774\uc804 \uae00":"\uc774\uc804 \uae00","\ucd08\uc0c1\ud654":"\ucd08\uc0c1\ud654","\uc0d8\ud50c\uc774\ubbf8\uc9c0":"\uc0d8\ud50c\uc774\ubbf8\uc9c0","\uac1c\uc758 \ub367\uae00":"\uac1c\uc758 \ub313\uae00","\ubaa8\ub450 \ubcf4\uae30":"\ubaa8\ub450 \ubcf4\uae30","Plus 1 \ud55c \uc0ac\ub78c\ub4e4":"Plus 1 \ud55c \uc0ac\ub78c\ub4e4","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.","\ucd5c\ub300 \ucca8\ubd80 \uac2f\uc218\ub294 0\uac1c \uc785\ub2c8\ub2e4.":"\ucd5c\ub300 \ucca8\ubd80 \uac2f\uc218\ub294 {{arg1}}\uac1c \uc785\ub2c8\ub2e4.","\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 0MB \uc785\ub2c8\ub2e4.":"\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 {{arg1}}MB \uc785\ub2c8\ub2e4.","\ud655\uc7a5\uc790\uac00 \ub561\ub561\uc778 \uac83\ub4e4\uc740 \ucca8\ubd80 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud655\uc7a5\uc790\uac00 [{{arg1}}]\uc778 \ud30c\uc77c\uc740 \ucca8\ubd80\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\ubd80\uc11c\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30":"\ubd80\uc11c\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30","\uba64\ubc84\uc5d0\uac8c \uc54c\ub9ac\uae30":"\uba64\ubc84\uc5d0\uac8c \uc54c\ub9ac\uae30","\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ubd80\uc11c\uc6d0\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694.":"\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ubd80\uc11c\uc6d0\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694.","\uc798\ubabb\ub41c url\uc785\ub2c8\ub2e4.":"\uc798\ubabb\ub41c url\uc785\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ucd94\uac00":"\uac8c\uc2dc\ud310 \ucd94\uac00","\uac8c\uc2dc\ud310 \ucd94\uac00\ud558\uae30":"\uac8c\uc2dc\ud310 \ucd94\uac00\ud558\uae30","\uc704\uce58":"\uc704\uce58","\uc124\uba85":"\uc124\uba85","\uc720\ud615":"\uc720\ud615","\ud074\ub798\uc2dd":"\ud074\ub798\uc2dd","\ud53c\ub4dc":"\ud53c\ub4dc","\uc6b4\uc601\uc790":"\uc6b4\uc601\uc790","\uc6b4\uc601\uc790 \ucd94\uac00":"\uc6b4\uc601\uc790 \ucd94\uac00"
,"\uc6b4\uc601\uc790 \uc120\ud0dd":"\uc6b4\uc601\uc790 \uc120\ud0dd","\uac8c\uc2dc\ud310 \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.":"\uac8c\uc2dc\ud310 \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.","\uc6b4\uc601\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.":"\uc6b4\uc601\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.","\uacf5\uc720":"\uacf5\uc720","\uacf5\uc720 \uc124\uba85":"\ub2e4\ub978 \ubd80\uc11c\ub97c \uc9c0\uc815\ud558\uc5ec \uac8c\uc2dc\ud310\uc744 \uacf5\uc720 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc0ac\uc6a9\ud568":"\uc0ac\uc6a9\ud568","\uacf5\uc720\ubd80\uc11c\uc9c0\uc815":"\u203b \uac8c\uc2dc\ud310\uc744 \uacf5\uc720\ud560 \ubd80\uc11c\ub97c \uc9c0\uc815\ud558\uc138\uc694.","\uacf5\uc720\ubd80\uc11c \uc120\ud0dd":"\uacf5\uc720\ubd80\uc11c \uc120\ud0dd","\uacf5\uc720\ud560 \ubd80\uc11c\ub97c \uc120\ud0dd\ud558\uc138\uc694.":"\uacf5\uc720\ud560 \ubd80\uc11c\ub97c \uc120\ud0dd\ud558\uc138\uc694.","\ud558\uc704 \ubd80\uc11c\uc5d0 \uacf5\uc720\ud568":"\ud558\uc704 \ubd80\uc11c\uc5d0 \uacf5\uc720\ud568","\ud558\uc704 \ubd80\uc11c \ud3ec\ud568":"\ud558\uc704 \ubd80\uc11c \ud3ec\ud568","\uc5f4\ub78c, \uc791\uc131 \ubaa8\ub450 \ud5c8\uc6a9":"\uc5f4\ub78c, \uc791\uc131 \ubaa8\ub450 \ud5c8\uc6a9","\uc5f4\ub78c\ub9cc \ud5c8\uc6a9":"\uc5f4\ub78c\ub9cc \ud5c8\uc6a9","\ud2b9\uc815 \ubd80\uc11c\uc640 \uacf5\uc720\ud568":"\ud2b9\uc815 \ubd80\uc11c\uc640 \uacf5\uc720\ud568","\uacf5\uc720 \ubd80\uc11c \ucd94\uac00":"\uacf5\uc720 \ubd80\uc11c \ucd94\uac00","\uacf5\uac1c \uc124\uc815":"\uacf5\uac1c \uc124\uc815","\ube44\uacf5\uac1c \uc124\uc815":"\ube44\uacf5\uac1c \uc124\uc815","\uc791\uc131\uad8c\ud55c":"\uc791\uc131\uad8c\ud55c","\uacf5\uac1c \uc124\uc815 \uc124\uba85":"\uc77c\ubd80 \uba64\ubc84\ub97c \uc9c0\uc815\ud558\uc5ec \uac8c\uc2dc\ud310\uc744 \uacf5\uac1c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uacf5\uac1c \uba64\ubc84 \uc9c0\uc815":"\u203b \uac8c\uc2dc\ud310\uc744 \uacf5\uac1c\ud560 \uba64\ubc84\ub97c \uc9c0\uc815\ud558\uc138\uc694.","\uacf5\uac1c \ubd80\uc11c \uba64\ubc84 \uc124\uc815":"\uacf5\uac1c\ud560 \ubd80\uc11c\uc758 \uba64\ubc84 \uc124\uc815","\ubd80\uc11c\uba85":"\ubd80\uc11c\uba85","\ubd80\uc11c \uacf5\uac1c \uc5ec\ubd80":"\ubd80\uc11c \uacf5\uac1c \uc5ec\ubd80","\ub9cc\ub4e4\uae30":"\ub9cc\ub4e4\uae30","\uc911\uc9c0":"\uc911\uc9c0","\uac8c\uc2dc\ud310 \uc911\uc9c0":"\uac8c\uc2dc\ud310 \uc911\uc9c0","\uac8c\uc2dc\ud310 \uc911\uc9c0 \uc124\uba85":"\uac8c\uc2dc\ubb3c\uc744 \uc791\uc131\ud560 \uc218 \uc5c6\uc73c\uba70, \uc5f4\ub78c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \uc0ad\uc81c":"\uac8c\uc2dc\ud310 \uc0ad\uc81c","\uac8c\uc2dc\ud310 \uc0ad\uc81c \uc124\uc815":"\uac8c\uc2dc\ud310 \ubc0f \uac8c\uc2dc\ud310 \ub0b4 \ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \uc0ad\uc81c \ud655\uc778":"\uac8c\uc2dc\ud310 \ubc0f \uac8c\uc2dc\ud310 \ub0b4 \ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub098":"\ub098","\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.":"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.","\ubd80\uc11c\uac00 \uc124\uc815\ub418\uc9c0 \uc54a\uc544 \uac8c\uc2dc\ud310\uc744 \ucd94\uac00 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ubd80\uc11c\uac00 \uc124\uc815\ub418\uc9c0 \uc54a\uc544 \uac8c\uc2dc\ud310\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\ucd1d":"\ucd1d","\uac74":"\uac74","\ucd1d 0\uac74":"\ucd1d <strong>{{arg1}}</strong>\uac74","\uac8c\uc2dc\ud310 \uc8fc\uc18c":"\uac8c\uc2dc\ud310 \uc8fc\uc18c","\uc218\uc2e0\uc790":"\uc218\uc2e0\uc790","\uc774\uba54\uc77c \uc218\uc2e0":"\uc774\uba54\uc77c \uc218\uc2e0","\uc774\uba54\uc77c \uc218\uc2e0\uc790":"\uc774\uba54\uc77c \uc218\uc2e0\uc790","\ub4f1\ub85d\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc120\ud0dd\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\ub97c \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uc120\ud0dd\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\ub97c \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc774\uba54\uc77c \uc218\uc2e0\uc790 \uc120\ud0dd":"\uc774\uba54\uc77c \uc218\uc2e0\uc790 \uc120\ud0dd","\uc0ad\uc81c\ud560 \uc218\uc2e0\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.":"\uc0ad\uc81c\ud560 \uc218\uc2e0\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.","\ucd94\uac00\ud558\uae30":"\ucd94\uac00\ud558\uae30","\uacf5\uac1c/\uacf5\uc720 \ud604\ud669 \ubcf4\uae30":"\uacf5\uac1c/\uacf5\uc720 \ud604\ud669 \ubcf4\uae30","\uacf5\uac1c/\uacf5\uc720 \ud604\ud669":"\uacf5\uac1c/\uacf5\uc720 \ud604\ud669","\uacf5\uac1c/\uacf5\uc720 \ub300\uc0c1":"\uacf5\uac1c/\uacf5\uc720 \ub300\uc0c1","\uacf5\uac1c/\uacf5\uc720 \uc124\uba85":"\ud604\uc7ac \uac8c\uc2dc\ud310\uc758 \uacf5\uac1c/\uacf5\uc720 \ud604\ud669\uc744 \uc54c\ub824\ub4dc\ub9bd\ub2c8\ub2e4.","\uacf5\uac1c/\uacf5\uc720\ub41c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uacf5\uac1c/\uacf5\uc720\ub41c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uacf5\uac1c/\uacf5\uc720\ub41c \uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uacf5\uac1c/\uacf5\uc720\ub41c \uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uacf5\uac1c \ud604\ud669":"\uacf5\uac1c \ud604\ud669","\uacf5\uac1c \ud604\ud669 \ubcf4\uae30":"\uacf5\uac1c \ud604\ud669 \ubcf4\uae30","\uacf5\uac1c \ub300\uc0c1":"\uacf5\uac1c \ub300\uc0c1","\uacf5\uac1c \uc124\uba85":"\ud604\uc7ac \uac8c\uc2dc\ud310\uc758 \uacf5\uac1c \ud604\ud669\uc744 \uc54c\ub824\ub4dc\ub9bd\ub2c8\ub2e4.","\uc804\uccb4\uacf5\uac1c \uac8c\uc2dc\ud310\uc785\ub2c8\ub2e4.":"\uc804\uccb4\uacf5\uac1c \uac8c\uc2dc\ud310\uc785\ub2c8\ub2e4.","\ubd80\uc11c\uacf5\uac1c\uc5ec\ubd80":"\ubd80\uc11c\uacf5\uac1c\uc5ec\ubd80","\uba64\ubc84\ud655\uc778":"\uba64\ubc84\ud655\uc778","\uc804\uccb4\uacf5\uac1c":"\uc804\uccb4\uacf5\uac1c","\uc77c\ubd80\ub9cc \uacf5\uac1c":"\uc77c\ubd80\ub9cc \uacf5\uac1c","\uac8c\uc2dc\ud310\uc8fc\uc18c\ubcf5\uc0acIE":"\uac8c\uc2dc\ud310 \uc8fc\uc18c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uc6d0\ud558\uc2dc\ub294 \uacf3\uc5d0\uc11c \ubd99\uc5ec\ub123\uae30(Ctrl+v)\ud558\uc138\uc694.","\uac8c\uc2dc\ud310\uc8fc\uc18c\ubcf5\uc0acETC":"\uac8c\uc2dc\ud310 \uc8fc\uc18c\uc785\ub2c8\ub2e4. Ctrl+C\ub97c \ub20c\ub7ec \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud558\uc138\uc694.","\uac8c\uc2dc\uae00\uc8fc\uc18c\ubcf5\uc0acIE":"\uac8c\uc2dc\uae00 \uc8fc\uc18c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uc6d0\ud558\uc2dc\ub294 \uacf3\uc5d0\uc11c \ubd99\uc5ec\ub123\uae30(Ctrl+v)\ud558\uc138\uc694.","\uac8c\uc2dc\uae00\uc8fc\uc18c\ubcf5\uc0acETC":"\uac8c\uc2dc\uae00 \uc8fc\uc18c\uc785\ub2c8\ub2e4. Ctrl+C\ub97c \ub20c\ub7ec \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud558\uc138\uc694.","\uc0c8\uae00\uc4f0\uae30":"\uc0c8\uae00\uc4f0\uae30","\ubc88\ud638":"\ubc88\ud638","\ub4f1\ub85d\uc790":"\ub4f1\ub85d\uc790","\ub4f1\ub85d\uc77c":"\ub4f1\ub85d\uc77c","\uc870\ud68c":"\uc870\ud68c","\ud50c\ub7ec\uc2a4":"\ud50c\ub7ec\uc2a4","\ud50c\ub7ec\uc2a4 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud50c\ub7ec\uc2a4 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc804\uccb4\uae30\uac04":"\uc804\uccb4\uae30\uac04","\uac1c\uc6d4":"\uac1c\uc6d4","\ub144":"\ub144","\uae30\uac04\uc785\ub825":"\uae30\uac04\uc785\ub825","\uc81c\ubaa9+\ub0b4\uc6a9":"\uc81c\ubaa9+\ub0b4\uc6a9","\uc81c\ubaa9\ub9cc":"\uc81c\ubaa9\ub9cc","\uae00\uc791\uc131\uc790":"\uae00\uc791\uc131\uc790","\uc791\uc131\ub41c\uae00\uc5c6\uc74c":"\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ub3d9\ub8cc\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694.","\uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc0ad\uc81c\ud655\uc778\uba54\uc138\uc9c0":"\uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\uac00 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br>\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub313\uae00\uc0ad\uc81c\ud655\uc778\uba54\uc138\uc9c0":"\ub313\uae00\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\uac00 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br>\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac8c\uc2dc\ud310\uc73c\ub85c \uc774\ub3d9\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc73c\ub85c \uc774\ub3d9\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c \uc774\ub3d9":"\uac8c\uc2dc\ubb3c \uc774\ub3d9","\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00":"\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00","\uac8c\uc2dc\ubb3c\uc744 \uc774\ub3d9\uc2dc\ud0ac \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\uac8c\uc2dc\ubb3c\uc744 \uc774\ub3d9\uc2dc\ud0ac \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.","\ub313\uae00\uc774 \ub4f1\ub85d\ub41c \uae00\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub313\uae00\uc774 \ub4f1\ub85d\ub41c \uae00\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \uc774\ub3d9\ud569\ub2c8\ub2e4.":"\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \uc774\ub3d9\ud569\ub2c8\ub2e4.","\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \uc774\ub3d9\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \uc774\ub3d9\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.","arg1\uac1c\uc758 \uae00\uc774 \uc120\ud0dd\ud574\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"{{arg1}}\uac1c\uc758 \uae00\uc774 \uc120\ud0dd\ud574\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\ub9c8\uc9c0\ub9c9 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.":"\ub9c8\uc9c0\ub9c9 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.","\uc5f4\ub78c\uad8c\ud55c\uc774 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.":"\uc5f4\ub78c\uad8c\ud55c\uc774 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.","\uc774\ub3d9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc774\ub3d9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120":"\uad6c\ubd84\uc120","\uad6c\ubd84\uc120 \ucd94\uac00":"\uad6c\ubd84\uc120 \ucd94\uac00","\uc21c\uc11c \ubc14\uafb8\uae30":"\uc21c\uc11c \ubc14\uafb8\uae30","\uc21c\uc11c\ubc14\uafb8\uae30 \uc644\ub8cc":"\uc21c\uc11c\ubc14\uafb8\uae30 \uc644\ub8cc","\uac8c\uc2dc\ud310 \uad00\ub9ac":"\uac8c\uc2dc\ud310 \uad00\ub9ac","\uac8c\uc2dc\ud310 \uad00\ub9ac \uc124\uba85":"\uc6b0\ub9ac \ubd80\uc11c\uc5d0 \uac1c\uc124\ub41c \uac8c\uc2dc\ud310 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uac70\ub098, \uc911\uc9c0 \ub610\ub294 \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc0ac\uc6a9\uc911":"\uc0ac\uc6a9\uc911","\uac8c\uc2dc\uae00 \uc218":"\uac8c\uc2dc\uae00 \uc218","\uac1c\uc124\uc77c":"\uac1c\uc124\uc77c","\uc911\uc9c0\uc77c":"\uc911\uc9c0\uc77c","\uc0ac\uc6a9\uc911\uc778 \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc0ac\uc6a9\uc911\uc778 \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br />\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br />\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub2f5\uae00":"\ub2f5\uae00","\ub2f5\uae00\uc4f0\uae30":"\ub2f5\uae00\uc4f0\uae30","\ub313\uae00":"\ub313\uae00","\ucca8\ubd80\ud30c\uc77c":"\ucca8\ubd80\ud30c\uc77c","\ub313\uae00 \uc218\uc815":"\ub313\uae00 \uc218\uc815","\ub313\uae00 \uc0ad\uc81c":"\ub313\uae00 \uc0ad\uc81c","\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.":"\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.","\uac1c":"\uac1c","\uc758 \ucee4\ubba4\ub2c8\ud2f0 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uc758 \ucee4\ubba4\ub2c8\ud2f0 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ub9cc\ub4e4\uae30":"\uac8c\uc2dc\ud310 \ub9cc\ub4e4\uae30","\ucee4\ubba4\ub2c8\ud2f0\uac8c\uc2dc\ud310":"\ucee4\ubba4\ub2c8\ud2f0\uac8c\uc2dc\ud310","\uc5f4\ub78c\uc790 \uc120\ud0dd":"\uc5f4\ub78c\uc790 \uc120\ud0dd","\uc5f4\ub78c\uc790 \ucd94\uac00":"\uc5f4\ub78c\uc790 \ucd94\uac00","\uac8c\uc2dc\ud310 \uc5f4\ub78c\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.":"\uac8c\uc2dc\ud310 \uc5f4\ub78c\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.","\uacf5\uac1c \uba64\ubc84 \ucd94\uac00":"\uacf5\uac1c \uba64\ubc84 \ucd94\uac00","\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.":"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.","\ub9d0\uba38\ub9ac":"\ub9d0\uba38\ub9ac","\ub9d0\uba38\ub9ac \uc120\ud0dd":"\ub9d0\uba38\ub9ac \uc120\ud0dd","\ub9d0\uba38\ub9ac \uc804\uccb4":"\ub9d0\uba38\ub9ac \uc804\uccb4","\ub9d0\uba38\ub9ac \uc81c\ubaa9":"\ub9d0\uba38\ub9ac \uc81c\ubaa9","\ub9d0\uba38\ub9ac \ucd94\uac00":"\ub9d0\uba38\ub9ac \ucd94\uac00","\ub9d0\uba38\ub9ac\uba85 \uc785\ub825":"\ub9d0\uba38\ub9ac\uba85 \uc785\ub825","\ubaa8\ubc14\uc77c \uac8c\uc2dc\uae00 \uc218\uc815\ubd88\uac00 \uba54\uc138\uc9c0":"PC\uc5d0\uc11c \ub4f1\ub85d\ud55c \uac8c\uc2dc\ubb3c\uc740 \ubaa8\ubc14\uc77c\uc5d0\uc11c \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc774\ubbf8\uc9c0 \uc0ad\uc81c":"\uc774\ubbf8\uc9c0 \uc0ad\uc81c","\ub0b4\uc6a9 \uc0ad\uc81c":"\ub0b4\uc6a9 \uc0ad\uc81c","\uba54\ud0c0 \ub370\uc774\ud130 \uc0ad\uc81c":"\uba54\ud0c0 \ub370\uc774\ud130 \uc0ad\uc81c","\ub9c1\ud06c \uba54\ud0c0\uc815\ubcf4 \ud0c0\uc774\ud2c0":"\ub9c1\ud06c \uba54\ud0c0\uc815\ubcf4 \ud0c0\uc774\ud2c0","\uba54\ud0c0\uc815\ubcf4 \uc774\ubbf8\uc9c0":"\uba54\ud0c0\uc815\ubcf4 \uc774\ubbf8\uc9c0","\uac8c\uc2dc\ud310 \uc720\ud615\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u203b \uac8c\uc2dc\ud310 \uc720\ud615\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c \ub4f1\ub85d\uc2dc \ubc18\ub4dc\uc2dc \uc120\ud0dd\ud558\uac8c \ud568":"\uac8c\uc2dc\ubb3c \ub4f1\ub85d\uc2dc \ubc18\ub4dc\uc2dc \uc120\ud0dd\ud558\uac8c \ud568","\ub9d0\uba38\ub9ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.":"\ub9d0\uba38\ub9ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.","\ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694.":"\ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694.","\uac8c\uc2dc\ud310 \uc120\ud0dd":"\uac8c\uc2dc\ud310 \uc120\ud0dd","\uac8c\uc2dc\ud310 {{arg1}}\ub85c \uc774\ub3d9":"\ud574\ub2f9 \uac8c\uc2dc\ud310\uc744 {{arg1}}(\uc73c)\ub85c \uc774\uad00\ud569\ub2c8\ub2e4.</br>\uac8c\uc2dc\ud310\uc774 \uc774\uad00\ub418\ub354\ub77c\ub3c4 \uacf5\uc720 \uc124\uc815\uc740 \uadf8\ub300\ub85c \uc720\uc9c0\ub429\ub2c8\ub2e4.</br>\uc774\uad00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.":"\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.","\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \uad00\ub9ac":"\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310","\uac8c\uc2dc \uae30\uac04":"\uac8c\uc2dc \uae30\uac04","\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ud648":"\uac8c\uc2dc\ud310 \ud648","\ucd5c\uc2e0\uae00 \ubaa8\uc74c":"\ucd5c\uc2e0\uae00 \ubaa8\uc74c","\uc804\uccb4 \uac8c\uc2dc\ud310":"\uc804\uccb4 \uac8c\uc2dc\ud310","\uac8c\uc2dc\ud310 \uc911\uc9c0 \ud655\uc778":"\uac8c\uc2dc\ud310\uc744 \uc911\uc9c0\ud558\uba74 '\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310'\uc5d0\uc11c<br> \uac8c\uc2dc\ud310\uc744 \uacc4\uc18d \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.<br> \uc911\uc9c0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc815\uc0c1\uc73c\ub85c \ubcc0\uacbd \uc54c\ub9bc":"\uc120\ud0dd\ud55c \uac8c\uc2dc\ud310\uc758 \uc0c1\ud0dc\ub97c '\uc815\uc0c1'\uc73c\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4. <br> \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc990\uaca8\ucc3e\uae30 \uac8c\uc2dc\ud310 \uc5c6\uc74c":"<li class='classic'><p class='data_null'><span class='ic_data_type ic_no_contents'></span><br><span class='txt'>\uc544\uc9c1 \uc990\uaca8\ucc3e\uae30\ub85c \uc124\uc815\ud55c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.</span><br><br></p></li>","\ucd5c\uc18c 1\uac1c ~ \ucd5c\ub300 3\uac1c":"\ucd5c\uc18c 1\uac1c ~ \ucd5c\ub300 3\uac1c","\uc120\ud0dd\ub41c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4":"\uc120\ud0dd\ub41c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4","\uac8c\uc2dc\ud310\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310\uc740 10\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc740 10\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c \ubcf5\uc0ac":"\uac8c\uc2dc\ubb3c \ubcf5\uc0ac","* \uc6d0\uae00 \ubcf5\uc0ac\uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.":"* \uc6d0\uae00 \ubcf5\uc0ac\uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c\uc744 \ubcf5\uc0ac\ud560 \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\uac8c\uc2dc\ubb3c\uc744 \ubcf5\uc0ac\ud560 \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.","\uac8c\uc2dc\ud310\uc73c\ub85c \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc73c\ub85c \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","* \uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \ubcf5\uc0ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"* \uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \ubcf5\uc0ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.":"\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.","\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \ubcf5\uc0ac\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \ubcf5\uc0ac\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ucd94\uac00 \uc120\ud0dd":"\uac8c\uc2dc\ud310 \ucd94\uac00 \uc120\ud0dd","(10\uac1c\uae4c\uc9c0 \uac00\ub2a5)":"(10\uac1c\uae4c\uc9c0 \uac00\ub2a5)","\ub3d9\uc77c\ud55c \uac8c\uc2dc\ud310\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ub3d9\uc77c\ud55c \uac8c\uc2dc\ud310\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc870\ud68c\ud55c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc870\ud68c\ud55c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ub300\ud45c\uc6b4\uc601\uc790 \ud45c\uc2dc":"{{args1}}\uc678 {{args2}}\uba85","\uac8c\uc2dc\ud310 \uadf8\ub8f9 \uc0ad\uc81c":"\uac8c\uc2dc\ud310 \uadf8\ub8f9 \uc0ad\uc81c","\uad6c\ubd84\uc120 \uc0ad\uc81c":"\uad6c\ubd84\uc120 \uc0ad\uc81c","\uac8c\uc2dc\ud310 \ub178\ub4dc \uc0ad\uc81c \uba54\uc2dc\uc9c0":"[{{args1}}] \uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac8c\uc2dc\ud310 \uadf8\ub8f9 \ucd94\uac00":"\uadf8\ub8f9 \ucd94\uac00","\ubaa8\ub450 \uc5f4\uae30":"\ubaa8\ub450 \uc5f4\uae30","\ubaa8\ub450 \ub2eb\uae30":"\ubaa8\ub450 \ub2eb\uae30","\uc0c8\ub85c\uc6b4 \uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":"\uc0c8\ub85c\uc6b4 \uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694","\uc0c8\ub85c\uc6b4 \uad6c\ubd84\uc120\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":"\uc0c8\ub85c\uc6b4 \uad6c\ubd84\uc120\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694","\uadf8\ub8f9\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uadf8\ub8f9\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uadf8\ub8f9\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uadf8\ub8f9\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uad6c\ubd84\uc120\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uad6c\ubd84\uc120\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4","\uc21c\uc11c\ubcc0\uacbd\uc774 \uc801\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uc21c\uc11c\ubcc0\uacbd\uc774 \uc801\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4","\uac8c\uc2dc\ud310\uc911\uc9c0 \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac8c\uc2dc\ud310\uc774 \uc911\uc9c0\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.","\ubcf5\uc218\uac1c \uac8c\uc2dc\ud310\uc911\uc9c0 \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac1c\uc758 \uac8c\uc2dc\ud310\uc774 \uc911\uc9c0\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.","\uac8c\uc2dc\ud310\uc0ad\uc81c \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac8c\uc2dc\ud310\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\ubcf5\uc218\uac1c \uac8c\uc2dc\ud310\uc0ad\uc81c \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac1c\uc758 \uac8c\uc2dc\ud310\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310\uc774 \uc788\uac70\ub098 \ud558\uc704\uadf8\ub8f9\uc774 \uc788\ub294 \uacbd\uc6b0 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":"\uac8c\uc2dc\ud310\uc774 \uc788\uac70\ub098 \ud558\uc704\uadf8\ub8f9\uc774 \uc788\ub294 \uacbd\uc6b0 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","\uac8c\uc2dc\ud310\uadf8\ub8f9 \uc120\ud0dd":"\uac8c\uc2dc\ud310\uadf8\ub8f9 \uc120\ud0dd","\uac8c\uc2dc\ud310\uadf8\ub8f9\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4":"\uac8c\uc2dc\ud310\uadf8\ub8f9\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310\uadf8\ub8f9":"\uac8c\uc2dc\ud310\uadf8\ub8f9","\uc775\uba85 \uc124\uc815":"\uc775\uba85 \uc124\uc815","\u203b \uc775\uba85 \uc124\uc815\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u203b \uc775\uba85 \uc124\uc815\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uadf8\ub8f9\uba85\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uadf8\ub8f9\uba85\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc0c1\uc704\uadf8\ub8f9\uc744 \ud558\uc704\uadf8\ub8f9\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":"\uc0c1\uc704\uadf8\ub8f9\uc744 \ud558\uc704\uadf8\ub8f9\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \uac8c\uc2dc":"\uac8c\uc2dc\ud310 \uac8c\uc2dc","\ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d":"\ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d","\u203b \uacf5\uc9c0\uae00\uc774 \ub4f1\ub85d\ub418\uba74 \uac8c\uc2dc\ud310\uc758 \ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d\ub429\ub2c8\ub2e4.":"\u203b \uacf5\uc9c0\uae00\uc774 \ub4f1\ub85d\ub418\uba74 \uac8c\uc2dc\ud310\uc758 \ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d\ub429\ub2c8\ub2e4.","\uc804\uc0ac\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30":"\uc804\uc0ac\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30","\uacf5\uc720\uac8c\uc2dc\ud310":"\uacf5\uc720\uac8c\uc2dc\ud310","\uba54\uc77c\uc54c\ub9bc\uc548\ub0b4":"\uac8c\uc2dc\ud310 \uc811\uadfc\uc774 \uac00\ub2a5\ud55c \uc784\uc9c1\uc6d0\uc5d0\uac8c \ud574\ub2f9 \ub0b4\uc6a9 \ubc0f \ucca8\ubd80\ud30c\uc77c\uc774 \uba54\uc77c\ub85c \ubc1c\uc1a1\ub418\ub2c8 \uc8fc\uc758\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.","\uc88b\uc544\uc694":"\uc88b\uc544\uc694","\uc88b\uc544\uc694 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc88b\uc544\uc694 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc5f4\ub78c\uad8c\ud55c \ubcf5\uc0ac \ubb38\uad6c":"* \uc6d0\uae00 \ubcf5\uc0ac \uc2dc \ub313\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4. <br>\ub2e8 \ube44\uacf5\uac1c \uc124\uc815 > \uc5f4\ub78c \uad8c\ud55c\uc740 \ubcf5\uc0ac\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \uc5f4\ub78c\uad8c\ud55c \ud234\ud301":"\uac8c\uc2dc\uae00 \ub2e8\uc704\ub85c \uc5f4\ub78c\uc790\ub97c \uc124\uc815\ud560 \uc218 \uc788\ub3c4\ub85d \ud5c8\uc6a9\ud569\ub2c8\ub2e4. \ud5c8\uc6a9 \uc124\uc815 \uc774\ud6c4\uc5d0\ub294 \uc218\uc815\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \ubcc4 \uc5f4\ub78c\uc790 \uc124\uc815":"\uac8c\uc2dc\uae00 \ubcc4 \uc5f4\ub78c\uc790 \uc124\uc815","\uc5f4\ub78c \uad8c\ud55c":"\uc5f4\ub78c \uad8c\ud55c","\ube44\uacf5\uac1c \ubb38\uc11c \uc81c\ubaa9 \ud45c\uc2dc":"\ube44\uacf5\uac1c \ubb38\uc11c \uc81c\ubaa9 \ud45c\uc2dc","\uc81c\ubaa9\ub9cc \ud45c\uc2dc":"\uc81c\ubaa9\ub9cc \ud45c\uc2dc","\ube44\uacf5\uac1c \ubb38\uc11c\ub85c \ud45c\uc2dc":"\ube44\uacf5\uac1c \ubb38\uc11c\ub85c \ud45c\uc2dc","\ube44\uacf5\uac1c \ubb38\uc11c \uc81c\ubaa9 \ud45c\uc2dc \uc124\uba85":"\u203b \ube44\uacf5\uac1c \ubb38\uc11c\uc758 \uc81c\ubaa9 \ud45c\uc2dc \ubc29\uc2dd\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.<br>(\uc6b4\uc601\uc790 \ubc0f \ud5c8\uc6a9\ub41c \uc0ac\uc6a9\uc790\uc5d0\uac8c\ub9cc \uc81c\ubaa9\uc774 \ud45c\uc2dc\ub429\ub2c8\ub2e4.)","\ube44\uacf5\uac1c\uae00 \uc5f4\ub78c\uc790 \uc124\uc815 \uc548\ub0b4\ubb38\uad6c":"\u203b \uc774 \uac8c\uc2dc\uae00\uc744 \uacf5\uac1c\ud560 \uc0ac\uc6a9\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694. \ubbf8\uc120\ud0dd \uc2dc \uc6b4\uc601\uc790\uc5d0\uac8c\ub9cc \uacf5\uac1c\ub429\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \uc5f4\ub78c\ubd88\uac00 \uba54\uc138\uc9c0":"\ube44\uacf5\uac1c \uac8c\uc2dc\uae00\uc744 \uc5f4\ub78c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc6b4\uc601\uc790, \uc791\uc131\uc790, \uc5f4\ub78c\uc790\ub9cc \uc5f4\ub78c\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.","\ubaa8\ubc14\uc77c URL \ubcf5\uc0ac \ubb38\uad6c":"URL\uc774 \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815":"\uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815","\uc791\uc131\uc790 \uacf5\uac1c":"\uc791\uc131\uc790 \uacf5\uac1c","\uac8c\uc2dc\ubb3c \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9":"\uac8c\uc2dc\ubb3c \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9","\ub313\uae00 \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9":"\ub313\uae00 \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9","\uc775\uba85 \uc124\uc815 \ud234\ud301":"\uc775\uba85 \uc124\uc815\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud560 \uc218 \uc5c6\uc73c\uba70 '\uac8c\uc2dc\ubb3c', '\ub313\uae00' \uc791\uc131\uc790 \uacf5\uac1c \uc5ec\ubd80\ub97c \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uacf5\uc720 \ubd80\uc11c \uc124\uc815":"\uacf5\uc720 \ubd80\uc11c \uc124\uc815","\uc0ac\uc6a9\uc790 \uc120\ud0dd":"\uc0ac\uc6a9\uc790 \uc120\ud0dd","\uc0ac\uc6a9\uc790 \ucd94\uac00":"\uc0ac\uc6a9\uc790 \ucd94\uac00","\uc775\uba85 \uc635\uc158 \uc0ac\uc6a9\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.":"\uc775\uba85 \uc635\uc158 \uc0ac\uc6a9\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.","\uc775\uba85 \uc635\uc158 \uc124\uc815 \uc5ec\ubd80":"\uc775\uba85 \uc635\uc158 \uc124\uc815 \uc5ec\ubd80","\uc0ac\uc6a9\uc790 \uc124\uc815":"\uc0ac\uc6a9\uc790 \uc124\uc815","\uc124\uc815 \ud5c8\uc6a9 \uc5ec\ubd80":"\uc124\uc815 \ud5c8\uc6a9 \uc5ec\ubd80","\uc775\uba85 \uc635\uc158 \uba64\ubc84 \uc124\uc815":"\uc775\uba85 \uc635\uc158 \uba64\ubc84 \uc124\uc815","\uba64\ubc84 \ucd94\uac00":"\uba64\ubc84 \ucd94\uac00"}}),define("board/nls/board",["require","json!lang/ko/board.json","json!lang/ko/custom.json"],function(require){var e=require("json!lang/ko/board.json"),t=require("json!lang/ko/custom.json");return{root:_.extend(e,t.board||{}),en:!0,ja:!0,zh_CN:!0,zh_TW:!0,vi:!0}}),define("todo/views/site/dashboard",["backbone","app","todo/views/menus/main","todo/libs/util","hgn!todo/templates/board_card","hgn!todo/templates/partials/_card_add_button","text!todo/templates/partials/_user_thumbnail.html","i18n!todo/nls/todo","i18n!nls/commons","i18n!board/nls/board","jquery.ui","jquery.go-validation","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a){function v(){var e=this;this.$el.find(".ui-favorite-board .ui-board-list").sortable({items:".ui-todo-card",containment:"document",stop:function(t,n){var r=n.item.parent(),i=[];r.find("li.ui-todo-card").each(function(e,t){var n=$(t).data("view");i.push(n.getTodoId())}),e.favoriteTodoList.reorder(i).then(function(t){e.favoriteTodoList.trigger("resort")}).otherwise(function(e){console.log(e)})}})}function m(e){e.prepend(g.call(this,"favorite",u["\uc990\uaca8\ucc3e\ub294 \ubcf4\ub4dc"],this.favoriteTodoList).addClass("ui-favorite-board"))}function g(e,t,n){var r=$('<div class="wrap_todo_board"></div>'),i=[];return i.push('<h1 class="s_title"><span class="txt">'+t+"</span></h1>"),r.append(i.join("\n")),r.append(w.call(this,e,n)),e==="my"&&r.find(".ui-board-list").append(y(b())),r}function y(e,t){var n=[];return n.push("<li"+(t?' class="'+t+'"':"")+">"),n.push(e),n.push("</li>"),n.join("\n")}function b(){return s({buttonTitle:u["\ubcf4\ub4dc \ucd94\uac00"]})}function w(e,t){var n=$('<ul class="ui-board-list list_todo_board"></ul>'),r={my:h,favorite:p}[e],i=[];return t.each(function(e){var t=new r({model:e,favoriteTodoList:this.favoriteTodoList});i.push(t.el)},this),n.append.apply(n,i),n}var f={copy_url:a["URL \ubcf5\uc0ac"]},l,c=n.CreateTodoMenuView,h,p,d;return d=c.extend({tagName:"span",className:"todo_board",initialize:function(e){this.myTodoList=e.myTodoList,c.prototype.initialize.call(this,e),this.render()},_confirm:function(e){var n=this,i=this.$el.find("input[name=title]").val();if(!$.goValidation.isCheckLength(1,1e3,i))return $.goMessage(t.i18n(a["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),this.$el.find("input[name=title]").focus(),!1;e.preventDefault(),r.promiseModelSave(this.model,{title:i}).then(function(e){n.$el.closest("li").remove(),n.remove(),n.myTodoList.add(e),GO.router.navigate("todo/"+e.id,{trigger:!0,pushState:!0})}).otherwise(function(e){console.log(e.stack)})},_cancel:function(e){e.preventDefault(),this.$el.replaceWith(b()),this.remove()}}),h=e.View.extend({tagName:"li",className:"ui-todo-card",template:i,favoriteTodoList:null,events:{"click .btn-star":"_toggleFavorite","click .btn-board":"_navigate","click .btn-go-url-copy":"copyUrl"},initialize:function(e){this.favoriteTodoList=e.favoriteTodoList,this.$el.data("view",this),this.$el.addClass("ui-todo-"+this.model.id),this.render(),this.listenTo(this.model,"change:favoriteFlag",this.changeFavorite)},render:function(){this.$el.empty().append(this.template({"favorite?":this.model.isFavorite(),"private?":this.model.isPrivate(),title:GO.util.escapeHtml(this.model.get("title")),members:this.model.get("members"),directUrl:this.directUrl(),attr_title_favorite:this.model.isFavorite()?u["\uc990\uaca8\ucc3e\uae30 \ud574\uc81c"]:u["\uc990\uaca8\ucc3e\uae30 \ucd94\uac00"],attr_title_public:this.model.isPublic()?a["\uacf5\uac1c"]:a["\ube44\uacf5\uac1c"],lang:f},{_user_thumbnail:o}))},changeFavorite:function(e){this.render()},getTodoId:function(){return this.model.id},_toggleFavorite:function(e){var t=this.model.isFavorite()?"removeFavorite":"addFavorite",n=this;e.preventDefault(),this.model[t].call(this.model).then(function(e){e.isFavorite()?n.favoriteTodoList.add(e):n.favoriteTodoList.remove(e.id)})},_navigate:function(e){e.preventDefault();if($(e.target).is(".btn-star")||$(e.target).parents(".btn-star").length>0)return!1;GO.router.navigate("todo/"+this.model.id,{pushState:!0,trigger:!0})},directUrl:function(){var e=GO.router.getRootUrl();return e+="todo/"+this.model.id,e},copyUrl:function(e){function n(e){var t=[GO.router.getRootUrl(),GO.router.getUrl(),"/",e].join("");return console.log(t),t}e.preventDefault(),e.stopPropagation();var t=document.createElement("textarea");document.body.appendChild(t),t.value=n(this.model.id),t.select(),document.execCommand("copy"),document.body.removeChild(t);try{GO.util.checkOS()=="android"?window.GOMobile.copyUrl(t.value):window.location="gomobile://copyUrl?"+t.value}catch(e){console.log(e)}}}),p=h.extend({changeFavorite:function(e){e.isFavorite()||this.remove()}}),l=e.View.extend({className:"content_page",myTodoList:null,favoriteTodoList:null,events:{"click .btn-add-board":"_callNewBoardDialog"},initialize:function(e){this.myTodoList=e.myTodoList,this.favoriteTodoList=e.favoriteTodoList,this.listenTo(this.myTodoList,"add",this.addBoard),this.listenTo(this.favoriteTodoList,"add",this.addFavorite),this.listenTo(this.favoriteTodoList,"remove",this.removeFavorite),this.listenTo(this.favoriteTodoList,"resort",this.resortFavorite)},render:function(){var e=$('<div class="wrap_todo"></div>');this.favoriteTodoList.length>0&&m.call(this,e),e.append(g.call(this,"my",u["\ub0b4 \ubcf4\ub4dc"],this.myTodoList).addClass("ui-my-board my_board")),this.$el.empty().append(e),v.call(this),GO.util.pageDone&&GO.util.pageDone(),GO.util.appLoading(!1)},remove:function(){GO.util.isMobile()?(this.stopListening(),this.$el.empty()):e.View.prototype.remove.apply(this,arguments)},resortFavorite:function(){this.$el.find(".ui-favorite-board .ui-board-list").replaceWith(w.call(this,"favorite",this.favoriteTodoList)),v.call(this)},addBoard:function(e){var t=new h({model:e,favoriteTodoList:this.favoriteTodoList});this.$el.find(".ui-my-board .ui-board-list").append(t.el,y(b()))},addFavorite:function(e){if(this.$el.find(".ui-favorite-board").length>0){var t=new p({model:e,favoriteTodoList:this.favoriteTodoList});this.$el.find(".ui-favorite-board .ui-board-list").append(t.el)}else m.call(this,this.$el.find(".wrap_todo"));v.call(this)},removeFavorite:function(e){this.favoriteTodoList.length>0||this.$el.find(".ui-favorite-board").remove()},_callNewBoardDialog:function(e){var t=$(e.currentTarget),n=new d({myTodoList:this.myTodoList});e.preventDefault(),t.replaceWith(n.el)}},{create:function(e,t){return new l({myTodoList:e,favoriteTodoList:t})}}),l}),define("todo/constants",[],function(){var e={};return e.SELECTORS={common:{scrollContainer:".ui-scroll-container"},detail:{todoColumn:".ui-todocolumn",todoCard:".ui-todocard",columnContainer:".ui-column-container",cardContainer:".ui-card-container",columnAddForm:".ui-column-add-form",addColumnButton:".btn-add-column",addCardButton:".ui-add-card",addCloumnContainer:".ui-add-cloumn-container",boardContainer:"#board-container",boardContent:"#board-content",columnAddButton:".ui-column-add-btn",timelineContainer:".board-timeline-container",timelineContents:".board-timeline-contents",timelineLoadMore:".btn-load-more",timelineCloseButton:".btn-close-timeline",timelineBottomButtons:".timeline-bottom-buttons"}},e}),define("todo/models/todo_checklist_item",["when","todo/models/base","todo/libs/util"],function(e,t,n){var r;return r=t.Model.extend({todoChecklistModel:null,defaults:{seq:0},urlRoot:function(){return[_.result(this.todoChecklistModel,"urlRoot"),this.todoChecklistModel.id,"item"].join("/")},updateTitle:function(e){return n.promiseModelSave(this,{title:e})},toggle:function(){var e=this.isChecked()?"N":"Y";return n.promiseModelSave(this,{checkFlag:e})},remove:function(){var t=e.defer();return this.destroy({success:t.resolve,error:function(e,n,r){t.reject(n)}}),t.promise},move:function(e,t){return n.promiseAsync([_.result(this,"urlRoot"),this.id,"move"].join("/"),{type:"PUT",data:{checklistId:e,seq:t}})},isChecked:function(){return this.get("checkFlag")==="Y"}},{newFromChecklist:function(e,t){var n;return n=new r(_.extend(t,{checklistId:e.id})),n.todoChecklistModel=e,n},createFromChecklist:function(t,n){var r=this.newFromChecklist(t,{title:n,seq:t.getNextItemSeq()}),i=e.defer();return r.save(null,{success:i.resolve,error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),i.reject(t)}}),i.promise}}),r}),define("todo/models/todo_checklist",["when","app","todo/models/base","todo/models/todo_checklist_item","todo/libs/util"],function(e,t,n,r,i){function o(e){return r.newFromChecklist(this,this.getChecklistItem(e))}function u(e,t){return _.map(e,function(e){e.id===t.id&&_.extend(e,t.toJSON())}),e}var s;return s=n.Model.extend({todoItemModel:null,urlRoot:function(){return[t.config("contextRoot")+"api/todo",this.todoItemModel.get("todoId"),"item",this.get("todoItemId"),"checklist"].join("/")},updateTitle:function(t){var n=e.defer();return this.save({title:t},{success:n.resolve,error:function(e,t,r){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),n.reject(t)}}),n.promise},remove:function(){var t=e.defer();return this.destroy({success:t.resolve,error:function(e,n,r){t.reject(n)}}),t.promise},getChecklistItem:function(e){return _.findWhere(this.getChecklistItems(),{id:e})},getChecklistItems:function(){return this.get("checklistItems")||[]},getNextItemSeq:function(){return this.getChecklistItems().length},getCheckedItems:function(){return _.filter(this.getChecklistItems(),function(e){return e.checkFlag==="Y"})},getCheckedItemCount:function(){return this.getCheckedItems().length},addItem:function(e){var t={},n=this.getChecklistItems();return e instanceof r?t=e.toJSON():t=e,n.push(t),this.set("checklistItems",n),this},createItem:function(t){var n=this,i=this.getChecklistItems();return r.createFromChecklist(this,t).then(function(t){return n.addItem(t),e.resolve(t)},e.reject)},updateItemTitle:function(t,n){var i=this.getChecklistItem(t),s=this.getChecklistItems(),o=r.newFromChecklist(this,i),a=this;return o.updateTitle(n).then(function(t){return a.set("checklistItems",u(s,t)),e.resolve(a)},e.reject)},toggleItem:function(t){var n=this.getChecklistItem(t),i=this.getChecklistItems(),s=r.newFromChecklist(this,n),o=this;return s.toggle().then(function(t){return o.set("checklistItems",u(i,t)),e.resolve(o)},e.reject)},removeItem:function(t){var n=this.getChecklistItem(t),s=i.convertArrayToCollection(this.getChecklistItems(),r),o=r.newFromChecklist(this,n),u=this;return o.remove().then(function(){return s.remove(o),u.set("checklistItems",s.toJSON()),e.resolve()},e.reject)},moveItem:function(t,n,r){var i=o.call(this,t),s=this.getChecklistItems(),u=this;return i.move(n,r).then(function(t){return e.resolve(t)},e.reject)}},{newFromTodoItem:function(e,t){var n;return n=new s(_.extend(t,{todoItemId:e.id})),n.todoItemModel=e,n},createFromTodoItem:function(t,n){var r=this.newFromTodoItem(t,{title:n}),i=e.defer();return r.save({seq:t.getNextChecklistSeq()},{success:i.resolve,error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),i.reject(t)}}),i.promise}}),s}),define("todo/models/todo_item",["when","moment","app","todo/models/base","todo/models/todo_checklist","todo/models/todo_activities","todo/libs/util","libs/go-utils"],function(e,t,n,r,i,s,o,u){function l(e){return[_.result(this,"urlRoot"),this.id,"label",e].join("/")}function c(e){return[_.result(this,"urlRoot"),this.id,"member",e].join("/")}function h(e){return i.newFromTodoItem(this,this.getChecklist(e))}function p(e,t){var n=[];return typeof t=="undefined"&&(t=!0),_.each(this.getChecklists(),function(t){n.push(t.id===e.id?e.toJSON():t)}),this.set("checklists",n),t&&this.trigger("change:checklists"),n}function d(e){var t=this.getChecklists(),n=e.id;return _.map(t,function(e){e.checklistItems=_.reject(e.checklistItems,function(e){return e.id===n})}),_.map(t,function(t){if(t.id===e.checklistId){var n=t.checklistItems;_.map(n,function(t,n){t.seq>=e.seq&&++t.seq}),n.push(e),n=_.sortBy(n,function(e){return e.seq})}}),this.set("checklists",t),this.trigger("change:checklists"),t}var a,f=1e3;return a=r.Model.extend({todoModel:null,activities:null,defaults:{seq:0,deleteFlag:"N"},initialize:function(e,t){t=t||{},r.Model.prototype.initialize.apply(this,arguments),this.activities=s.newForTodoItem(this),t.todoModel&&(this.todoModel=t.todoModel,this.listenTo(this.todoModel,"change:labels",this._syncLabels))},validate:function(e,t){if(e.title&&e.title.length>f)return o.createResponseError(400,"Bad Request","Invalid Title")},urlRoot:function(){return n.config("contextRoot")+"api/todo/"+this.get("todoId")+"/item"},updateAttributes:function(t,r){var i=this,s=e.defer(),o={success:s.resolve,error:function(e,t,r){if(t.responseJSON.name=="DuplicateRequestException"){var o=t.responseJSON.message.split(".");$.goAlert(o[0],o[1],function(){n.router.navigate("todo/"+i.todoModel.get("id"),{trigger:!0,pushState:!0})})}t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),s.reject(t)}},i=this;return r&&(o.url=r),this.save(t,o),s.promise},move:function(t,n){var r=[_.result(this,"urlRoot"),this.id,"move"].join("/"),i=this;return this.get("todoCategoryId")===parseInt(t)&&this.get("seq")===parseInt(n)?e.resolve(this):this.updateAttributes({todoCategoryId:t,seq:n},r).then(function(t){return i.todoModel.trigger("reorder:item"),e.resolve(t)})},updateTitle:function(e){return this.updateAttributes({title:e})},updateContent:function(e){return this.updateAttributes({content:e})},updateDueDate:function(e){return this.updateAttributes({dueDate:n.util.toISO8601(e)},[_.result(this,"urlRoot"),this.id,"duedate"].join("/"))},removeDueDate:function(){return this.updateAttributes({dueDate:null},[_.result(this,"urlRoot"),this.id,"duedate"].join("/"))},remove:function(){var t=e.defer(),r=this;return this.destroy({data:JSON.stringify(this.toJSON()),dataType:"json",contentType:"application/json",success:t.resolve,error:function(e,i,s){if(i.responseJSON.name=="DuplicateRequestException"){var o=i.responseJSON.message.split(".");$.goAlert(o[0],o[1],function(){n.router.navigate("todo/"+r.todoModel.get("id"),{trigger:!0,pushState:!0})})}t.reject(i)}}),t.promise},addLabel:function(t){var n=this.get("labels")||[],r=this;return this.hasLabel(t)?e.resolve(this):o.promiseAsync(l.call(this,t),{type:"POST"}).then(function(t){return n.push(t),r.set("labels",n),r.trigger("change:labels",r),e.resolve(r)})},removeLabel:function(t){var n=this.get("labels")||[],r=this;return this.hasLabel(t)?o.promiseAsync(l.call(this,t),{type:"DELETE"}).then(function(i){var s=_.reject(n,function(e){return e.id===t});return r.set("labels",s),e.resolve(r)}):e.reject(o.createResponseError(404,"Not Found"))},addMember:function(t){var n=this.getMembers(),r=this;return this.hasMember(t)?e.resolve(this):o.promiseAsync(c.call(this,t),{type:"POST"}).then(function(t){return n.push(t),r.set("members",n),r.trigger("change:members",r),e.resolve(r)})},removeMember:function(t){var n=this.getMembers(),r=this;return o.promiseAsync(c.call(this,t),{type:"DELETE"}).then(function(i){var s=_.reject(n,function(e){return e.id===t});return r.set("members",s),r.trigger("change:members",r),e.resolve(r)})},hasLabel:function(e){return _.where(this.get("labels")||[],{id:e}).length>0},hasLabels:function(){return(this.get("labels")||[]).length>0},getMembers:function(){return this.get("members")||[]},hasMember:function(e){return _.where(this.getMembers(),{id:e}).length>0},hasMembers:function(){return this.getMembers().length>0},getFiles:function(){return this.get("attaches")||[]},hasFile:function(e){return _.where(this.getFiles(),{id:e}).length>0},hasFiles:function(){return this.getFileCount()>0},hasDuedate:function(){return!!this.get("dueDate")},getFileCount:function(){return this.getFiles().length},getFile:function(e){return _.findWhere(this.getFiles(),{id:e})},getImages:function(){return _.filter(this.getFiles(),function(e){return u.isImage(e.name)})},getFeatureImage:function(){return _.last(this.getImages())},hasImages:function(){return this.getImages().length>0},hasComments:function(){return this.get("commentCount")>0},getCommentCount:function(){return this.get("commentCount")},hasChecklists:function(){return this.getChecklists().length>0},isDelayed:function(){var e=this.get("dueDate"),n=t().result=!1;return e&&(result=t(e).isBefore(t().startOf("m"))),result},getChecklists:function(){return this.get("checklists")||[]},getChecklistItemCount:function(){var e=this.getChecklists(),t=0;return _.each(e,function(e){t+=e.checklistItems.length}),t},getChecklistCheckedItemCount:function(){var e=o.convertArrayToCollection(this.getChecklists(),i),t=0;return e.each(function(e){t+=e.getCheckedItemCount()}),t},getChecklist:function(e){return _.findWhere(this.get("checklists"),{id:e})},getChecklistItem:function(e,t){var n=this.getChecklist(e);return _.findWhere(n.checklistItems||[],{id:t})},getNextChecklistSeq:function(){return this.getChecklists().length==0?0:this.getChecklists().last().seq+1},createChecklist:function(t){var n=this,r=this.getChecklists();return i.createFromTodoItem(this,t).then(function(t){return r.push(t.toJSON()),n.set("checklists",r),n.trigger("change:checklists"),e.resolve(t)},e.reject)},updateChecklistTitle:function(t,n){var r=h.call(this,t),i=this;return r.updateTitle(n).then(function(t){return p.call(i,t),e.resolve(t)},e.reject)},removeChecklist:function(t){var n=o.convertArrayToCollection(this.getChecklists(),i),r=h.call(this,t),s=this;return r.remove().then(function(){return n.remove(r),s.set("checklists",n.toJSON()),s.trigger("change:checklists"),e.resolve()},e.reject)},addChecklistItem:function(t,n){var r=h.call(this,t),i=this;return r.createItem(n).then(function(t){return p.call(i,r),e.resolve(t)},e.reject)},updateChecklistItemTitle:function(t,n,r){var i=h.call(this,t),s=this;return i.updateItemTitle(n,r).then(function(t){return p.call(s,t),e.resolve(t)},e.reject)},toggleChecklistItem:function(t,n){var r=h.call(this,t),i=this;return r.toggleItem(n).then(function(t){return p.call(i,t),e.resolve(t)},e.reject)},removeChecklistItem:function(t,n){var r=h.call(this,t),i=this;return r.removeItem(n).then(function(){return p.call(i,r),e.resolve()},e.reject)},moveChecklistItem:function(t,n,r,i){var s=h.call(this,t),o=this;return s.moveItem(n,r,i).then(function(t){var i=h.call(o,r);return s.set("checklistItems",_.reject(s.getChecklistItems(),function(e){return e.id===n})),p.call(o,s,!1),i.set("checklistItems",t),p.call(o,i),e.resolve(o)},e.reject)},addFile:function(e){var t=this.get("attaches")||[];return t.push(e),this.set("attaches",t),this.trigger("change:attaches"),this},updateFile:function(t){var n=[_.result(this,"urlRoot"),this.id,"files"].join("/"),r=this;return o.promiseAsync(n,{type:"POST",data:t}).then(function(t){return r.addFile(t),e.resolve(r)},e.reject)},removeFile:function(t){var n=[_.result(this,"urlRoot"),this.id,"file",t].join("/"),r=this.get("attaches")||[],i=this;return this.hasFile(t)?o.promiseAsync(n,{type:"DELETE"}).then(function(){var n=_.filter(r,function(e){return e.id!==t});return i.set("attaches",n),i.trigger("change:attaches"),e.resolve(i)},e.reject):e.reject(o.createResponseError(404,"Not Found"))},_syncLabels:function(){var e=[];_.each(this.get("labels"),function(t){var n=_.findWhere(this.todoModel.get("labels"),{id:t.id});e.push(n)},this),this.set("labels",e)},hasContent:function(){var e=this.get("content");return!!e&&e.length>0}},{newFromTodo:function(e,t){var n;return n=new a(_.extend(t,{todoId:e.id}),{todoModel:e}),n},createFromTodo:function(t,n,r){var i=e.defer(),s;return s=this.newFromTodo(t,{todoCategoryId:n,title:r}),s.save(null,{success:i.resolve,error:function(e,t,n){t.responseJSON.code==404&&t.responseJSON.name=="todo.not.found.element"&&$.goSlideMessage(t.responseJSON.message,"caution"),i.reject(t)}}),i.promise}}),a}),define("todo/models/todo_items",["when","app","todo/models/base","todo/models/todo_item","todo/libs/util"],function(e,t,n,r,i){var s;return s=n.Collection.extend({todoModel:null,filterCondition:{},model:function(e,t){var n=t.collection;return r.newFromTodo(n.todoModel,e,t)},url:function(){return[t.config("contextRoot")+"api/todo",this.todoModel.id,"item/list"].join("/")},initialize:function(e,t){n.Collection.prototype.initialize.apply(this,arguments),this.filterCondition={}},setFilter:function(e){var t=[].slice.call(arguments);return _.isString(e)?this.filterCondition[e]=t[1]:_.isObject(e)&&_.extend(this.filterCondition,e),this},getFilteredList:function(e){return this.setFilter(e),i.promiseAsync(_.result(this,"url"),{type:"POST",data:this.filterCondition||{}}).then(_.bind(this.reset,this))},updateTodoItem:function(e,t){var n=this.get(e),r=this;return n.updateAttributes(t).then(function(e){return r.updateModel(e),r})}},{newFromTodo:function(e,t,n){var r=new this.prototype.constructor(t,n);return r.todoModel=e,r}}),s}),define("hgn!todo/templates/card_add_form",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form name="'),r.b(r.v(r.f("form_name",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('    <span class="wrap_txtarea">\r'),r.b("\n"+n),r.b('        <textarea class="mousetrap txtarea" name="content" rows="'),r.b(r.v(r.f("textareaRows",e,t,0))),r.b('">'),r.b(r.v(r.f("content",e,t,0))),r.b("</textarea>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n),r.b('    <footer class="btn_wrap">\r'),r.b("\n"+n),r.b('        <a href="#" class="btn-submit btn_major_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.save",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b('        <a href="#" class="btn-cancel btn_minor_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.cancel",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.s(r.f("removable",e,t,1),e,t,0,453,575,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <a href="#" class="btn-remove btn_caution_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.remove",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n)}),e.pop()),r.b("    </footer>\r"),r.b("\n"+n),r.b("</form>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(e,t,n){function m(e,t,n){if(e.addEventListener){e.addEventListener(t,n,!1);return}e.attachEvent("on"+t,n)}function g(e){if(e.type=="keypress"){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return r[e.which]?r[e.which]:i[e.which]?i[e.which]:String.fromCharCode(e.which).toLowerCase()}function y(e,t){return e.sort().join(",")===t.sort().join(",")}function b(e){e=e||{};var t=!1,n;for(n in l){if(e[n]){t=!0;continue}l[n]=0}t||(d=!1)}function w(e,t,n,r,i,s){var o,u,f=[],c=n.type;if(!a[e])return[];c=="keyup"&&k(e)&&(t=[e]);for(o=0;o<a[e].length;++o){u=a[e][o];if(!r&&u.seq&&l[u.seq]!=u.level)continue;if(c!=u.action)continue;if(c=="keypress"&&!n.metaKey&&!n.ctrlKey||y(t,u.modifiers)){var h=!r&&u.combo==i,p=r&&u.seq==r&&u.level==s;(h||p)&&a[e].splice(o,1),f.push(u)}}return f}function E(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function S(e){if(e.preventDefault){e.preventDefault();return}e.returnValue=!1}function x(e){if(e.stopPropagation){e.stopPropagation();return}e.cancelBubble=!0}function T(e,t,n,r){if(B.stopCallback(t,t.target||t.srcElement,n,r))return;e(t,n)===!1&&(S(t),x(t))}function N(e,t,n){var r=w(e,t,n),i,s={},o=0,u=!1;for(i=0;i<r.length;++i)r[i].seq&&(o=Math.max(o,r[i].level));for(i=0;i<r.length;++i){if(r[i].seq){if(r[i].level!=o)continue;u=!0,s[r[i].seq]=1,T(r[i].callback,n,r[i].combo,r[i].seq);continue}u||T(r[i].callback,n,r[i].combo)}var a=n.type=="keypress"&&p;n.type==d&&!k(e)&&!a&&b(s),p=u&&n.type=="keydown"}function C(e){typeof e.which!="number"&&(e.which=e.keyCode);var t=g(e);if(!t)return;if(e.type=="keyup"&&h===t){h=!1;return}B.handleKey(t,E(e),e)}function k(e){return e=="shift"||e=="ctrl"||e=="alt"||e=="meta"}function L(){clearTimeout(c),c=setTimeout(b,1e3)}function A(){if(!u){u={};for(var e in r){if(e>95&&e<112)continue;r.hasOwnProperty(e)&&(u[r[e]]=e)}}return u}function O(e,t,n){return n||(n=A()[e]?"keydown":"keypress"),n=="keypress"&&t.length&&(n="keydown"),n}function M(e,t,n,r){function i(t){return function(){d=t,++l[e],L()}}function s(t){T(n,t,e),r!=="keyup"&&(h=g(t)),setTimeout(b,10)}l[e]=0;for(var o=0;o<t.length;++o){var u=o+1===t.length,a=u?s:i(r||D(t[o+1]).action);P(t[o],a,r,e,o)}}function _(e){return e==="+"?["+"]:e.split("+")}function D(e,t){var n,r,i,u=[];n=_(e);for(i=0;i<n.length;++i)r=n[i],o[r]&&(r=o[r]),t&&t!="keypress"&&s[r]&&(r=s[r],u.push("shift")),k(r)&&u.push(r);return t=O(r,u,t),{key:r,modifiers:u,action:t}}function P(e,t,n,r,i){f[e+":"+n]=t,e=e.replace(/\s+/g," ");var s=e.split(" "),o;if(s.length>1){M(e,s,t,n);return}o=D(e,n),a[o.key]=a[o.key]||[],w(o.key,o.modifiers,{type:o.action},r,e,i),a[o.key][r?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:r,level:i,combo:e})}function H(e,t,n){for(var r=0;r<e.length;++r)P(e[r],t,n)}var r={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},i={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},s={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},o={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},u,a={},f={},l={},c,h=!1,p=!1,d=!1;for(var v=1;v<20;++v)r[111+v]="f"+v;for(v=0;v<=9;++v)r[v+96]=v;m(t,"keypress",C),m(t,"keydown",C),m(t,"keyup",C);var B={bind:function(e,t,n){return e=e instanceof Array?e:[e],H(e,t,n),this},unbind:function(e,t){return B.bind(e,function(){},t)},trigger:function(e,t){return f[e+":"+t]&&f[e+":"+t]({},e),this},reset:function(){return a={},f={},this},stopCallback:function(e,t){return(" "+t.className+" ").indexOf(" mousetrap ")>-1?!1:t.tagName=="INPUT"||t.tagName=="SELECT"||t.tagName=="TEXTAREA"||t.isContentEditable},handleKey:N};e.Mousetrap=B,typeof define=="function"&&define.amd&&define("mousetrap",B)}(window,document),define("todo/views/site/edit_text_form",["backbone","hgn!todo/templates/card_add_form","i18n!nls/commons","libs/go-utils","mousetrap"],function(e,t,n,r,i){function f(){var e=this;i.bind(["enter"],function(t){var n=$(t.target);if(!n.is("textarea.mousetrap"))return!0;e.enterNewLine||(t.preventDefault?t.preventDefault():t.returnValue=!1,e._confirm(t))})}function l(){var e=this.$el.find("textarea");this.textareaMaxHeight>0&&e.css("max-height",this.textareaMaxHeight),this.textareaHeight>0&&e.height(this.textareaHeight)}function c(e){var t=e.clientHeight,n=e.scrollHeight,r=Math.abs($(e).outerHeight()-$(e).innerHeight())||0;n>t&&$(e).height(n+r)}function h(){setTimeout(_.bind(function(){var e=this;$(document).on("go.todo.cleareditform",function(t){var n=$(t.relatedTarget);if(n.closest(e.$el).length>0)return;e.$el.is(":visible")&&e.close()})},this),300)}function p(){o.set(a+"."+this.name,this.getValue(),{type:"session"})}function d(){o.set(a+"."+this.name,null,{type:"session"})}var s,o=r.store,u="form_edit_text",a="go.todo."+GO.session("id");return s=e.View.extend({className:"create_form",template:t,name:"edit-text-form",textareaRows:0,textareaHeight:0,textareaMaxHeight:0,autoExpand:!1,removable:!1,templateVariables:{},events:{"click .btn-submit":"_confirm","click .btn-cancel":"_cancel","click .btn-remove":"_destroy","keyup textarea":"_resizeTextarea"},initialize:function(e){e=e||{},this.content=e.content||o.get(a+"."+this.name)||"",this.afterConfirm=e.afterConfirm||function(){},this.afterCancel=e.afterCancel||function(){},this.afterRemove=e.afterRemove||function(){},this.enterNewLine=e.enterNewLine||!1,this.autoExpand=e.autoExpand||!1,this.removable=e.removable||!1,this.textareaRows=e.textareaRows||0,this.textareaHeight=e.textareaHeight||0,this.textareaMaxHeight=e.textareaMaxHeight||0,this.templateVariables=$.extend(!0,{},e.templateVariables||{},{form_name:u,content:this.content,textareaRows:this.textareaRows,removable:this.removable,label:{save:n["\uc800\uc7a5"],cancel:n["\ucde8\uc18c"],remove:n["\uc0ad\uc81c"]}}),this.render()},delegateEvents:function(){e.View.prototype.delegateEvents.apply(this,arguments),f.call(this)},undelegateEvents:function(){e.View.prototype.undelegateEvents.apply(this,arguments),i.reset()},render:function(){this.$el.empty().append(this.template(this.templateVariables)),l.call(this),h.call(this),this.$el.find("textarea").focus()},remove:function(){$(document).off("go.todo.cleareditform"),e.View.prototype.remove.apply(this,arguments)},getValue:function(){return r.stripIllegalTags(this.$el.find("textarea").val())},confirm:function(){d.call(this),this.remove(),this.afterConfirm.apply(this,arguments)},cancel:function(){d.call(this),this.remove(),this.afterCancel.apply(this,arguments)},destroy:function(){d.call(this),this.remove(),this.afterRemove.apply(this,arguments)},close:function(){p.call(this),this.remove(),this.afterCancel.apply(this,arguments)},afterCancel:function(){},afterConfirm:function(){},_confirm:function(e){e.preventDefault(),this.confirm()},_cancel:function(e){e.preventDefault(),this.cancel()},_keyPress:function(e){if(e.keyCode!==13)return;this.enterNewLine||(e.preventDefault(),this._confirm(e))},_resizeTextarea:function(e){console.log(e);if(e.keyCode!==13)return;this.autoExpand&&c(e.currentTarget)},_destroy:function(e){e.preventDefault(),this.destroy()}}),s}),define("hgn!todo/templates/card_activity_list",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="tab_menu_wrap">\r'),r.b("\n"+n),r.b('    <ul class="activity-tab tab_menu">\r'),r.b("\n"+n),r.b("        <li"),r.s(r.f("activatedComments",e,t,1),e,t,0,102,117,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' class="active"')}),e.pop()),r.b(' data-actitytype="comments"><span class="txt">'),r.b(r.v(r.d("label.comment",e,t,0))),r.b('</span><span class="num">'),r.b(r.v(r.f("commentCount",e,t,0))),r.b("</span></li>\r"),r.b("\n"+n),r.b("        <li"),r.s(r.f("activatedComments",e,t,1),e,t,1,0,0,"")||r.b(' class="active"'),r.b(' data-actitytype="timelines"><span class="txt">'),r.b(r.v(r.d("label.timeline",e,t,0))),r.b("</span></li>\r"),r.b("\n"+n),r.b("    </ul>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<div class="timeline-container content_title content_activity">\r'),r.b("\n"+n),r.b('    <div class="comment-write-form reply_create">\r'),r.b("\n"+n),r.s(r.f("session",e,t,1),e,t,0,563,631,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="photo">'),r.b(r.rp("<_user_thumbnail0",e,t,"")),r.b("</span>\r"),r.b("\n"+n)}),e.pop()),r.b('        <div class="msg_wrap">\r'),r.b("\n"+n),r.b('            <form name="form_reply" class="form_wrap">\r'),r.b("\n"+n),r.b('                <span class="textarea_edit">\r'),r.b("\n"+n),r.b('                    <textarea name="content" class="edit w_max"></textarea>\r'),r.b("\n"+n),r.b("                </span>\r"),r.b("\n"+n),r.b('                <footer class="btn_wrap" style="display:none">\r'),r.b("\n"+n),r.b('                    <a href="#" class="btn-submit btn_major_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.save",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b('                    <a href="#" class="btn-cancel btn_minor_s" data-bypass><span class="txt">'),r.b(r.v(r.d("label.cancel",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("                </footer>\r"),r.b("\n"+n),r.b("            </form>\r"),r.b("\n"+n),r.b("        </div>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('    <div class="activity-list-container"></div>\r'),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('    <div class="bottom_action" id="moreBtn" style="display:none">\r'),r.b("\n"+n),r.b('        <a class="btn_list_reload">\r'),r.b("\n"+n),r.b('            <span class="txt">'),r.b(r.v(r.d("label.load_more",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{"<_user_thumbnail0":{name:"_user_thumbnail",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("text!todo/templates/partials/_card_activity_list.html",[],function(){return'{{#activities}}\r\n<div class="card-activity-container activity_item" data-id="{{id}}">\r\n    {{#actor}}\r\n    <span class="photo">{{> _user_thumbnail}}</span>\r\n    {{/actor}}\r\n    <div class="card-activity-content activity_wrap">\r\n        <p class="txt">{{{content}}}</p>\r\n        <span class="date">{{updatedAt}}</span>\r\n    </div>\r\n    {{#editable}}\r\n    <div class="comment-action-buttons action_wrap">\r\n        <a class="btn-reply-modify wrap_btn_fn4" href="#" title="{{label.modify}}" data-bypass>\r\n            <span class="btn_fn4"><span class="ic_feed ic_edit_white"></span></span>\r\n        </a>\r\n        <a class="btn-reply-remove wrap_btn_fn4" href="#" title="{{label.remove}}" data-bypass>\r\n            <span class="btn_fn4"><span class="ic_feed ic_del_white"></span></span>\r\n        </a>\r\n    </div>\r\n    {{/editable}}\r\n</div>\r\n{{/activities}}'}),define("todo/views/site/card_activity_list",["backbone","hogan","todo/models/todo_activity","todo/models/todo_activities","todo/views/site/edit_text_form","hgn!todo/templates/card_activity_list","text!todo/templates/partials/_card_activity_list.html","text!todo/templates/partials/_user_thumbnail.html","todo/views/menus/main","todo/libs/util","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s,o,u,a,f,l,c){function m(){this.__page__=1,this.contentModels=[],y.call(this),b.call(this),this.collection.getPageList().then(_.bind(w,this)).then(_.bind(g,this)).otherwise(function(e){console.warn(e.stack)})}function g(){var e=this.collection.length<this.collection.page.total||!1;e?this.$el.find("#moreBtn").show():this.$el.find("#moreBtn").hide()}function y(){this.$el.find(".comment-write-form").toggle(this.collection.isActivated(d.comments))}function b(){this.$el.find(".activity-list-container").empty()}function w(e){var t=v;this.$el.find(".activity-list-container").append(t({activities:E(e),label:{save:c["\uc800\uc7a5"],cancel:c["\ucde8\uc18c"],modify:c["\uc218\uc815"],remove:c["\uc0ad\uc81c"]}},{_user_thumbnail:u})),_.each(e.models,function(e){this.contentModels.push(e)},this)}function E(e){var t=e.toJSON();return _.map(t,function(e){e.updatedAt&&(e.updatedAt=f.toStreamDate(e.updatedAt)),e.editable=e.activityType==="comment"&&e.actor.id===GO.session("id"),e.content=GO.util.escapeHtml(e.content)}),t}function S(e){var t=this.$el.find("form[name=form_reply]"),n=t.find("footer");t.hasClass("form_wrap")||(t.addClass("form_wrap"),e&&t.find("textarea").val(""),n.hide())}var h,p,d={comments:"comments",timelines:"timelines"},v=function(){var e=Hogan.compile(o);return e.render.apply(e,arguments)};return p=i.extend({initialize:function(e){e=e||{},e.content=this.model.get("content"),e.enterNewLine=!0,e.autoExpand=!0,i.prototype.initialize.call(this,e)},_confirm:function(e){var t=this,n=this.getValue();e.preventDefault(),this.model.updateContent(n).then(function(e){t.remove(),t.afterConfirm.call(t,e)})}}),h=e.View.extend({className:"card-activity-container",template:s,__page__:1,__pageSize__:20,events:{"click form[name=form_reply] .btn-submit":"_saveReply","focus form[name=form_reply] textarea":"_activateReplyForm","click form[name=form_reply] .btn-cancel":"_deactivateReplyForm","click .btn-reply-modify":"_callReplyEditForm","click .btn-reply-remove":"_callRemoveConfirmForm","click .activity-tab > li":"_changeTab","keyup textarea":"_expandTextarea","click .btn_list_reload":"_loadMore"},initialize:function(e){var t=this;this.contentModels=[],e=e||{},this.todoItemModel=e.todoItemModel,this.collection||(this.collection=r.newForTodoItem(this.todoItemModel)),this.listenTo(this.todoItemModel,"change:commentCount",this.reload)},delegateEvents:function(){var t=this;e.View.prototype.delegateEvents.apply(this,arguments),$(document).on("click.card-activity-list",function(e){var n=$(e.target);!n.parents("form[name=form_reply]").length>0&&S.call(t,!1)})},undelegateEvents:function(){e.View.prototype.undelegateEvents.apply(this,arguments),$(document).off(".card-activity-list")},render:function(){this.$el.empty().append(this.template({session:GO.session(),commentCount:this.todoItemModel.get("commentCount"),activatedComments:this.collection.isActivated(d.comments),label:{comment:c["\ub313\uae00"],timeline:l["\ud0c0\uc784\ub77c\uc778"],save:c["\uc800\uc7a5"],cancel:c["\ucde8\uc18c"],modify:c["\uc218\uc815"],remove:c["\uc0ad\uc81c"],load_more:c["\ub354\ubcf4\uae30"]}},{_user_thumbnail:u})),m.call(this)},_expandTextarea:function(e){GO.util.textAreaExpand(e)},changeActivityType:function(e){this.collection.setActivityType(e),m.call(this)},reload:function(){this.render()},_changeTab:function(e){var t=$(e.currentTarget),n=t.data("actitytype");this.changeActivityType(n),this.$el.find(".activity-tab > li.active").removeClass("active"),t.addClass("active")},_activateReplyForm:function(e){var t=$(e.currentTarget),n=t.closest("form[name=form_reply]"),r=n.find("footer");n.removeClass("form_wrap"),r.show()},_deactivateReplyForm:function(e){e.preventDefault(),S.call(this,!0)},_saveReply:function(e){var t=this.todoItemModel,r=this.$el.find("textarea[name=content]").val();e.preventDefault();if(r==""){var i=c["\ub313\uae00\uc744 \uc785\ub825\ud558\uc138\uc694."];GO.util.isMobile()?alert(i):$.goSlideMessage(i);return}n.createComment(t,r).then(function(){t.set("commentCount",t.getCommentCount()+1)})},_callReplyEditForm:function(e){var t=$(e.currentTarget),n=t.closest(".card-activity-container"),r=n.find(".card-activity-content"),i=n.data("id"),s=this,o;e.preventDefault();var u=_.find(this.contentModels,function(e){return i==e.get("id")});o=new p({model:u,textareaHeight:r.height(),afterConfirm:function(e){s.reload()},afterCancel:function(){r.children().show(),s.$el.find(".comment-action-buttons").removeAttr("style")}}),r.children().hide(),r.append(o.el),this.$el.find(".comment-action-buttons").hide()},_callRemoveConfirmForm:function(e){var t=$(e.currentTarget),n=t.closest(".card-activity-container"),r=n.find(".card-activity-content"),i=n.data("id"),s=this.todoItemModel,o=this,u,f=_.find(this.contentModels,function(e){return i==e.get("id")});e.preventDefault(),a.attachTo(t,new a.RemoveConfirmMenuView({subject:l["\ub313\uae00 \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:l["\ub313\uae00 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=this;f.remove().then(function(){e.back(),s.set("commentCount",s.getCommentCount()-1)})}}))},_loadMore:function(){var e=this.__page__+1,t=r.newForTodoItem(this.todoItemModel);t.setActivityType(this.collection.activityType),t.getPageList(e,this.__pageSize__).then(_.bind(function(e){if(e.length>0)w.call(this,e),++this.__page__;else{var n=l["\ub313\uae00 \uc5c6\uc74c \uba54\uc2dc\uc9c0"];t.activityType==="timelines"&&(n=l["\ud0c0\uc784\ub77c\uc778 \uc5c6\uc74c \uba54\uc2dc\uc9c0"]),GO.util.isMobile()?window.alert(n):$.goSlideMessage(n)}},this))}}),h}),define("hgn!todo/templates/add_checklistitem_form",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="ic_board ic_ckb disabled"></span>\r'),r.b("\n"+n),r.b('<div class="create_form">\r'),r.b("\n"+n),r.b('	<form id="form-checklist-item">\r'),r.b("\n"+n),r.b('	    <div class="wrap_txt">\r'),r.b("\n"+n),r.b('	        <input class="checklist-item-text txt w_max" type="text" name="title" value="'),r.b(r.v(r.f("content",e,t,0))),r.b('" placeholder="'),r.b(r.v(r.d("label.add_checklist_item",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("	    </div>\r"),r.b("\n"+n),r.b('	    <footer class="checklist-item-actions btn_wrap" style="display: none;">\r'),r.b("\n"+n),r.b('	        <a class="btn-submit btn_major_s" href="#" data-bypass><span class="txt">'),r.b(r.v(r.d("label.save",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b('	        <a class="btn-cancel btn_minor_s" href="#" data-bypass><span class="txt">'),r.b(r.v(r.d("label.cancel",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("	    </footer>\r"),r.b("\n"+n),r.b("    </form>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!todo/templates/todo_card_content",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<header>\r"),r.b("\n"+n),r.b('    <div class="ui-card-title title'),r.s(r.f("editable?",e,t,1),e,t,0,59,68,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" editable")}),e.pop()),r.b('">\r'),r.b("\n"+n),r.b('        <span class="ic_board ic_card_b"></span>\r'),r.b("\n"+n),r.b("        <h1>"),r.b(r.t(r.f("title",e,t,0))),r.b("</h1>\r"),r.b("\n"+n),r.b('        <span class="ui-column-name txt">in '),r.b(r.t(r.f("column_name",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b('    <a class="btn-close btn_layer_x" href="#" data-bypass>\r'),r.b("\n"+n),r.b('        <span class="ic"></span>\r'),r.b("\n"+n),r.b('        <span class="txt">'),r.b(r.v(r.d("label.close",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </a>\r"),r.b("\n"+n),r.b('    <a class="btn_fn7" url-copy>\r'),r.b("\n"+n),r.b('        <span class="ic_copy_url" title="'),r.b(r.v(r.d("lang.copy_url",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b("    </a>\r"),r.b("\n"+n),r.b("</header>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<section class="detail_content">\r'),r.b("\n"+n),r.b('    <div class="detail_content_wrap ">\r'),r.b("\n"+n),r.b('        <div class="card-detail-container content_critical">\r'),r.b("\n"+n),r.b('            <div class="ui-content-container content_desc">\r'),r.b("\n"+n),r.s(r.d("model.content",e,t,1),e,t,0,759,990,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <div class="ui-card-content card_desc'),r.s(r.f("editable?",e,t,1),e,t,0,828,837,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" editable")}),e.pop()),r.b('">\r'),r.b("\n"+n),r.b('                    <span class="ic_board ic_desc"></span>\r'),r.b("\n"+n),r.b("                    "),r.b(r.t(r.f("content",e,t,0))),r.b("\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)}),e.pop()),r.s(r.d("model.content",e,t,1),e,t,1,0,0,"")||r.s(r.f("editable?",e,t,1),e,t,0,1076,1342,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <a class="btn-edit-content create_item" data-bypass>\r'),r.b("\n"+n),r.b('                    <span class="ic_board ic_plus" title="'),r.b(r.v(r.d("label.add",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b('                    <span class="txt">'),r.b(r.v(r.d("label.input_description",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                </a>\r"),r.b("\n"+n)}),e.pop()),r.b("            </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('            <div class="content_info ">\r'),r.b("\n"+n),r.s(r.f("hasMembers?",e,t,1),e,t,0,1489,1992,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <div class="card_member_wrap">\r'),r.b("\n"+n),r.b("                    <h2>"),r.b(r.v(r.d("label.member",e,t,0))),r.b("</h2>\r"),r.b("\n"+n),r.b('                    <div class="ui-member-list member_data">\r'),r.b("\n"+n),r.s(r.d("model.members",e,t,1),e,t,0,1690,1762,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<_member_button0",e,t,"                        "))}),e.pop()),r.b('                        <a class="btn-add-member create" data-bypass><span class="ic_board ic_plus" title="'),r.b(r.v(r.d("label.add_member",e,t,0))),r.b('"></span></a>\r'),r.b("\n"+n),r.b("                    </div>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("hasLabels?",e,t,1),e,t,0,2041,2633,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <div class="card_rabel_wrap">\r'),r.b("\n"+n),r.b("                    <h2>"),r.b(r.v(r.d("label.label",e,t,0))),r.b("</h2>\r"),r.b("\n"+n),r.b('                    <ul class="list_label">\r'),r.b("\n"+n),r.s(r.d("model.labels",e,t,1),e,t,0,2222,2397,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                        <li><a class="card_label" style="background:'),r.b(r.v(r.f("color",e,t,0))),r.b('" data-bypass><span class="txt txt_ellipsis">'),r.b(r.v(r.f("title",e,t,0))),r.b("</span></a></li>\r"),r.b("\n"+n)}),e.pop()),r.b('                        <li><a class="btn-edit-label create" data-bypass><span class="ic_board ic_plus" title="'),r.b(r.v(r.d("label.add_label",e,t,0))),r.b('"></span></a></li>\r'),r.b("\n"+n),r.b("                    </ul>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("hasDuedate?",e,t,1),e,t,0,2682,3e3,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <div class="card_duedate_wrap">\r'),r.b("\n"+n),r.b("                    <h2>"),r.b(r.v(r.d("label.duedate",e,t,0))),r.b("</h2>\r"),r.b("\n"+n),r.b('                    <div class="btn-duedate due_date'),r.s(r.f("delayed?",e,t,1),e,t,0,2846,2852,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" delay")}),e.pop()),r.b('">\r'),r.b("\n"+n),r.b('                        <span class="date">'),r.b(r.v(r.f("duedate",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                    </div>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)}),e.pop()),r.b("            </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.s(r.f("hasChecklists?",e,t,1),e,t,0,3071,5359,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("checklists",e,t,1),e,t,0,3100,5330,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <div class="ui-checklists-container">\r'),r.b("\n"+n),r.b('                <div class="ui-checklist-container content_title content_check clearfix" data-checklistid="'),r.b(r.v(r.f("id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("                    <h2>\r"),r.b("\n"+n),r.b('                        <span class="ic_board ic_list_b"></span>\r'),r.b("\n"+n),r.b('                        <span class="txt">'),r.b(r.v(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                    </h2>\r"),r.b("\n"+n),r.b('                    <div class="action_wrap">\r'),r.b("\n"+n),r.b('                        <a class="btn-checklist-remove wrap_btn_fn4" href="#" title="'),r.b(r.v(r.d("label.remove",e,t,0))),r.b('" data-bypass>\r'),r.b("\n"+n),r.b('                            <span class="btn_fn4"><span class="ic_feed ic_del_white"></span></span>\r'),r.b("\n"+n),r.b("                        </a>\r"),r.b("\n"+n),r.b("                    </div>\r"),r.b("\n"+n),r.b('                    <div class="ui-checklist-items todo_check_list">\r'),r.b("\n"+n),r.s(r.f("checklistItems",e,t,1),e,t,0,3885,4914,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                        <div class="ui-checklist-item check_item'),r.s(r.f("checked",e,t,1),e,t,0,3963,3971,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" checked")}),e.pop()),r.b('" data-itemid="'),r.b(r.v(r.f("id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('                            <span class="ui-checklist-checkbox ic_board ic_ckb"></span>\r'),r.b("\n"+n),r.b('                            <span class="wrap_item">\r'),r.b("\n"+n),r.s(r.f("isMobile?",e,t,1),e,t,0,4197,4463,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                                <span class="txt">'),r.b(r.t(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('                                <a class="btn-checklistitem-remove btn_ic_del" href="#" data-bypass><span class="ic ic_del" title="'),r.b(r.v(r.d("label.remove",e,t,0))),r.b('"></span></a>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("isMobile?",e,t,1),e,t,1,0,0,"")||(r.b('                                <span class="ui-checklist-item-text txt">'),r.b(r.t(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('                                <span class="btn_wrap"><span class="btn-checklistitem-remove ic_classic ic_del" title="'),r.b(r.v(r.d("label.remove",e,t,0))),r.b('"></span></span>\r'),r.b("\n"+n)),r.b("                            </span>\r"),r.b("\n"+n),r.b("                        </div>\r"),r.b("\n"+n)}),e.pop()),r.b('                        <a href="#" class="btn-add-checklist-item create_item" data-bypass>\r'),r.b("\n"+n),r.b('                            <span class="ic_board ic_plus" title="'),r.b(r.v(r.d("label.add_checklist_item",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b('                            <span class="txt">'),r.b(r.v(r.d("label.add_checklist_item",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                        </a>\r"),r.b("\n"+n),r.b("                    </div>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n),r.b("            </div>\r"),r.b("\n"+n)}),e.pop())}),e.pop()),r.b("\r"),r.b("\n"+n),r.s(r.f("hasAttaches?",e,t,1),e,t,0,5411,11811,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <div class="content_title content_attach">\r'),r.b("\n"+n),r.b("                <h2>\r"),r.b("\n"+n),r.b('                    <span class="ic_board ic_attach_bb"></span>\r'),r.b("\n"+n),r.b('                    <span class="txt">'),r.b(r.v(r.d("label.attach_file",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.s(r.f("isMobile?",e,t,1),e,t,1,0,0,"")||r.s(r.f("isSaaS",e,t,1),e,t,0,5691,5997,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                    <span class="help">\r'),r.b("\n"+n),r.b('                        <span class="tool_tip top" style="width:200px">'),r.b(r.v(r.d("label.\ucca8\ubd80\ud30c\uc77c 1\uac1c\uc758 \ucd5c\ub300 \uc6a9\ub7c9\uc740 NNN MB \uc774\uba70 \ucd5c\ub300 N\uac1c \uae4c\uc9c0 \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4",e,t,0))),r.b("\r"),r.b("\n"+n),r.b('                            <i class="tail_left"></i>\r'),r.b("\n"+n),r.b("                        </span>\r"),r.b("\n"+n),r.b("                    </span>\r"),r.b("\n"+n)}),e.pop()),r.b("                </h2>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.s(r.f("isMobile?",e,t,1),e,t,0,6101,7952,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <div class="add_file">\r'),r.b("\n"+n),r.b('                    <ul class="ui-attach-files file_wrap">\r'),r.b("\n"+n),r.s(r.d("attaches.files",e,t,1),e,t,0,6242,7864,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                        <li class="ui-attach-file" data-attachid="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-size="'),r.b(r.v(r.f("size",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('                            <span class="item_file">\r'),r.b("\n"+n),r.b('                                <span class="ic_file ic_'),r.b(r.v(r.f("extention",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b('                                <span class="btn-file-download name">'),r.b(r.v(r.f("name",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('                                <span class="size">('),r.b(r.v(r.f("humanSize",e,t,0))),r.b(")</span>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('                                <span class="optional">\r'),r.b("\n"+n),r.s(r.f("preview",e,t,1),e,t,0,6743,7142,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("mobilePreview",e,t,1),e,t,0,6799,7086,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                                    <a href="#" class="btn-file-preview wrap_ic_file wrap_ic_file_preview" data-bypass>\r'),r.b("\n"+n),r.b('                                        <span class="txt ic ic_file_preview"></span>\r'),r.b("\n"+n),r.b("                                    </a>\r"),r.b("\n"+n)}),e.pop())}),e.pop()),r.s(r.f("download",e,t,1),e,t,0,7205,7473,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                                    <a href="#" class="btn-file-download wrap_ic_file" data-bypass>\r'),r.b("\n"+n),r.b('                                        <span class="txt ic ic_file_download"></span>\r'),r.b("\n"+n),r.b("                                    </a>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("removable",e,t,1),e,t,0,7538,7719,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                                    <a href="#" class="btn-file-remove wrap_ic_file" data-bypass><span class="txt ic ic_file_del"></span></a>\r'),r.b("\n"+n)}),e.pop()),r.b("                                </span>\r"),r.b("\n"+n),r.b("                            </span>\r"),r.b("\n"+n),r.b("                        </li>\r"),r.b("\n"+n)}),e.pop()),r.b("                    </ul>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("isMobile?",e,t,1),e,t,1,0,0,"")||(r.b('                <div id="dropZone" class="dd_attach attach_wrap">\r'),r.b("\n"+n),r.b('                    <p class="drag_txt">'),r.b(r.v(r.d("label.\uc774 \uacf3\uc5d0 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8 \ud558\uc138\uc694",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b('                    <div class="area_txt">\r'),r.b("\n"+n),r.b('                        <span class="ic_attach ic_upload"></span>\r'),r.b("\n"+n),r.b('                        <span class="msg">'),r.b(r.v(r.d("label.\uc774 \uacf3\uc5d0 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8 \ud558\uc138\uc694 \ub610\ub294",e,t,0))),r.b("\r"),r.b("\n"+n),r.b('                            <span class="btn_file">\r'),r.b("\n"+n),r.b('                                <a class="txt" href="#" data-fileuploader data-url="'),r.b(r.v(r.d("fileUploadUrl.fileUrl",e,t,0))),r.b('" data-attachtype="file" data-bypass>'),r.b(r.v(r.d("label.\ud30c\uc77c\uc120\ud0dd",e,t,0))),r.b("</a>\r"),r.b("\n"+n),r.b("                            </span>\r"),r.b("\n"+n),r.b('                            <span id="total_size" class="size"></span>\r'),r.b("\n"+n),r.b("                        </span>\r"),r.b("\n"+n),r.b("                    </div>\r"),r.b("\n"+n),r.b('                    <div class="progress"></div>\r'),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("                <div>\r"),r.b("\n"+n),r.b('                    <ul class="ui-attach-files attach_wrap file_wrap">\r'),r.b("\n"+n),r.s(r.d("attaches.files",e,t,1),e,t,0,8926,10336,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                        <li class="ui-attach-file" data-attachid="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-size="'),r.b(r.v(r.f("size",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('                            <span class="item_file">\r'),r.b("\n"+n),r.s(r.f("removable",e,t,1),e,t,0,9125,9375,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                                <span class="btn_wrap">\r'),r.b("\n"+n),r.b('                                    <span class="btn-file-remove ic_classic ic_del" title="'),r.b(r.v(r.d("label.remove",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b("                                </span>\r"),r.b("\n"+n)}),e.pop()),r.b('                                <span class="ic_file ic_'),r.b(r.v(r.f("extention",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b('                                <span class="btn-file-download name">'),r.b(r.v(r.f("name",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('                                <span class="size">('),r.b(r.v(r.f("humanSize",e,t,0))),r.b(")</span>\r"),r.b("\n"+n),r.b('                                <span class="btn_wrap">\r'),r.b("\n"+n),r.s(r.f("preview",e,t,1),e,t,0,9737,9981,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                                    <span class="btn-file-preview btn_fn4">\r'),r.b("\n"+n),r.b('                                        <span class="txt">'),r.b(r.v(r.d("label.preview",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                                    </span>\r"),r.b("\n"+n)}),e.pop()),r.b('                                    <span class="btn-file-download btn_fn4">\r'),r.b("\n"+n),r.b('                                        <span class="txt">'),r.b(r.v(r.d("label.download",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                                    </span>\r"),r.b("\n"+n),r.b("                                </span>\r"),r.b("\n"+n),r.b("                            </span>\r"),r.b("\n"+n),r.b("                        </li>\r"),r.b("\n"+n)}),e.pop()),r.b("                    </ul>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)),r.b("\r"),r.b("\n"+n),r.s(r.d("attaches.images",e,t,1),e,t,0,10478,11757,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <div class="ui-attach-file attach_wrap attach_thumb_wrap" data-attachid="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-size="'),r.b(r.v(r.f("size",e,t,0))),r.b('">\r'),r.b("\n"+n),r.s(r.f("download",e,t,1),e,t,0,10633,10998,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                	<a href="'),r.b(r.v(r.f("downloadUrl",e,t,0))),r.b('" class="btn-image-view wrap_photo fancybox-thumbs fancybox-button"\r'),r.b("\n"+n),r.b('                       data-fancybox-group="thumb_'),r.b(r.v(r.f("view_cid",e,t,0))),r.b('"\r'),r.b("\n"+n),r.b('                       title="'),r.b(r.v(r.f("name",e,t,0))),r.b('" alt="'),r.b(r.v(r.f("name",e,t,0))),r.b('"\r'),r.b("\n"+n),r.b("                       data-bypass>\r"),r.b("\n"+n),r.b('                    	<img src="'),r.b(r.v(r.f("thumbSmall",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("                    </a>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("download",e,t,1),e,t,1,0,0,"")||(r.b('                    <span class="wrap_photo">\r'),r.b("\n"+n),r.b('                        <img src="'),r.b(r.v(r.f("thumbSmall",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("                    </span>\r"),r.b("\n"+n)),r.b('                    <span class="item_file">\r'),r.b("\n"+n),r.b('                        <span class="btn-file-download name">'),r.b(r.v(r.f("name",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('                        <span class="size">('),r.b(r.v(r.f("humanSize",e,t,0))),r.b(")</span>\r"),r.b("\n"+n),r.s(r.f("removable",e,t,1),e,t,0,11440,11611,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                        <a class="btn-file-remove btn_ic_del" href="#" data-bypass><span class="ic ic_del" title="'),r.b(r.v(r.d("label.remove",e,t,0))),r.b('"></span></a>\r'),r.b("\n"+n)}),e.pop()),r.b("                    </span>\r"),r.b("\n"+n),r.b('                    <span class="date">'),r.b(r.v(r.f("updatedAt",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                </div>\r"),r.b("\n"+n)}),e.pop()),r.b("            </div>\r"),r.b("\n"+n)}),e.pop()),r.b("        </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,11870,14396,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <aside class="action-buttons content_optional nav_card">\r'),r.b("\n"+n),r.b("            <h2>"),r.b(r.v(r.d("label.add",e,t,0))),r.b("</h2>\r"),r.b("\n"+n),r.b('            <a href="#" class="btn-add-member btn_flat_normal" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_member"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.member",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.b('            <a href="#" class="btn-edit-label btn_flat_normal" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_label"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.label",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.b('            <a href="#" class="btn-duedate btn_flat_normal" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_date"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.duedate",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.b('            <a href="#" class="btn-add-checklist btn_flat_normal" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_list"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.checklist",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.s(r.f("isMobile?",e,t,1),e,t,0,12850,13520,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <a href="#" class="btn-add-file btn_flat_normal" data-fileuploader data-url="'),r.b(r.v(r.d("fileUploadUrl.fileUrl",e,t,0))),r.b('" data-attachtype="file" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_attach_b"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.attach_file",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.s(r.f("isWebFolderUsable?",e,t,1),e,t,0,13183,13483,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <a href="#" class="btn_flat_normal" id="todoWebFolder" data-webfolder-uploader data-url="'),r.b(r.v(r.d("fileUploadUrl.webFolderUrl",e,t,0))),r.b('" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_folder"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.webfolder",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n)}),e.pop())}),e.pop()),r.s(r.f("canAttachImage?",e,t,1),e,t,0,13568,13883,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('            <a href="#" class="btn-add-image btn_flat_normal" data-fileuploader data-url="'),r.b(r.v(r.d("fileUploadUrl.fileUrl",e,t,0))),r.b('" data-attachtype="image" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_attach_img"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.attach_image",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n)}),e.pop()),r.b("            <h2>"),r.b(r.v(r.d("label.action",e,t,0))),r.b("</h2>\r"),r.b("\n"+n),r.b('            <a href="#" class="btn-card-move btn_flat_normal" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_move"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.move",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.b('            <a href="#" class="btn-card-remove btn_flat_normal" data-bypass>\r'),r.b("\n"+n),r.b('                <span class="ic_board ic_trash"> </span>\r'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.remove_card",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.b("        </aside>\r"),r.b("\n"+n)}),e.pop()),r.b("    </div>\r"),r.b("\n"+n),r.b("</section>\r"),r.b("\n"+n),r.b('<a id="scrollToTop_card_detail" class="btn_pageTop" style="display: none">\r'),r.b("\n"+n),r.b('    <span class="ic_v2 ic_pageTop"></span>\r'),r.b("\n"+n),r.b("</a>"),r.fl()},partials:{"<_member_button0":{name:"_member_button",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("go-fancybox/go-fancybox",["jquery","app","jquery.fancybox","jquery.fancybox-thumbs","jquery.fancybox-buttons"],function(e,t,n){e.fn.goFancybox=function(){var t=e(this).fancybox({type:"image",padding:5,openEffect:"elastic",openSpeed:150,closeEffect:"elastic",closeSpeed:150,closeBtn:!1,live:!1,helpers:{title:{type:"outside"},buttons:{tpl:'<div id="fancybox-buttons" class="top"><ul><li><a class="btnPrev" title="Previous" href="javascript:;"></a></li><li><a class="btnPlay" title="Start slideshow" href="javascript:;"></a></li><li><a class="btnNext" title="Next" href="javascript:;"></a></li><li><a class="btnToggle btnDisabled" title="Toggle size" href="javascript:;"></a></li><li><a class="btnSave linkedImage" title="Save" onclick="GO.util.fancyBoxImageDownLoad()">Save</a></li><li><a class="btnClose" title="Close" href="javascript:jQuery.fancybox.close();"></a></li></ul></div>'},thumbs:{width:75,height:50}},afterLoad:function(){e(".fancybox-overlay").attr("data-layer",""),e(document).trigger("showLayer.goLayer")},beforeShow:function(){this.title=(this.title?""+this.title+"":"")+'<span style="float:right">'+(this.index+1)+" / "+this.group.length+"</span>"},afterClose:function(){var t=!0;e(document).trigger("hideLayer.goLayer",t)}});e("input[placeholder], textarea[placeholder]").placeholder();var n=this.selector;this.find("img").on("error",function(){var t=e('<a><img src="'+this.src+'"></a>'),r=e(this).closest(n),i=r.attr("href");r.replaceWith(t),t.on("click",function(){e("body").append('<iframe id="attachDownload" width="0px" height="0px" name="attachDownload" src="'+i+'" style="border:0;"></iframe>')})})}}),define("go-fancybox",["go-fancybox/go-fancybox"],function(e){return e}),define("todo/views/site/card_detail",["backbone","app","todo/views/site/card_activity_list","todo/views/site/edit_text_form","todo/views/menus/main","todo/libs/util","hgn!todo/templates/add_checklistitem_form","hgn!todo/templates/todo_card_content","text!todo/templates/partials/_member_button.html","text!todo/templates/partials/_user_thumbnail.html","i18n!nls/commons","i18n!todo/nls/todo","components/go-fileuploader/main","components/go-fileuploader/mobile","libs/go-utils","jquery.go-validation","jquery.go-popup","jquery.fancybox-buttons","jquery.fancybox-thumbs","jquery.fancybox","go-fancybox"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){function x(){var e={};t.util.isMobile()?e={left:0,top:0,"margin-left":0}:e={left:"50%",top:"35px","margin-left":"-400px"},this.$el.find(".ui-todocard-content").css(e)}function T(){var e=this.model;if(!t.util.isMobile()){var n=this;setTimeout(function(){R.call(n)},300)}}function N(){_.each(this.subViews,function(e){e.remove()})}function C(){var e=new n({todoItemModel:this.model});this.$el.find(".card-detail-container").append(e.el),e.render(),this.subViews.activityListView=e}function k(){$(".ui-todocard-container").scroll(_.bind(function(){L.call(this)},this))}function L(){var e=$(".ui-todocard-container").scrollTop();this.$el.find(".action-buttons").stop().animate({top:e+"px"},350)}function A(){var e={url:this.$el.find("[data-fileuploader]").data("url")||t.config("contextRoot")+"api/file",webFolderUrl:this.$el.find("[data-webfolder-uploader]").data("url")+"/webfolder",isToDo:!0},n=this.model;e.totalAttachSize=this.getViewedTotalAttachSize(),e.totalAttachCount=this.model.get("attaches").length,t.util.isMobile()?(e.success=function(e){var r=typeof e=="string"?JSON.parse(e):e.data;window.target.context.id==="todoWebFolder"?n.addFile(r.data):(r.hasOwnProperty("data")&&(r=r.data),t.util.isMobileApp()?n.updateFile(O(r)):n.addFile(r))},t.util.isMobileApp()||(e.error=function(){$.goSlideMessage("upload fail","caution")})):(e.success=function(e){n.addFile(e)},e.error=function(e){$.goSlideMessage(e,"caution")},e.dropZone=this.$("#dropZone"),e.progressEl=this.$("div.progress")),t.util.isMobile()?p.bind(this.$el.find("[data-fileuploader]"),e):h.bind(this.$el.find("[data-fileuploader]"),e)}function O(e){return{name:e.fileName,size:e.fileSize,extention:e.fileExt,path:e.filePath}}function M(){var e=this.model,t;this.$el.find(".ui-checklist-items").sortable({items:".ui-checklist-item",connectWith:".ui-checklist-items",start:function(n,r){var i=r.item.closest(".ui-checklist-container");t=e.getChecklist(i.data("checklistid"))},stop:function(n,r){var i=r.item.closest(".ui-checklist-container"),s=t.id,o=i.data("checklistid"),u=r.item.data("itemid"),a=D(i.find(".ui-checklist-item"),u);e.moveChecklistItem(s,u,o,a)}})}function D(e,t){var n=0;return e.each(function(e,r){if($(r).data("itemid")===t){n=e;return}}),n}function P(e,t){return s.callActionForMember.call(this,this.todoModel,e,t)}function H(){var e=this.model.get("dueDate"),n=this.todoModel.getCategory(this.model.get("todoCategoryId")),r=this.model.get("checklists"),i=this.model.get("attaches"),s=t.util.autolink(t.util.escapeHtml(this.model.get("content")||""));return{title:t.util.escapeHtml(this.model.get("title")),content:s,view_cid:this.cid,model:this.model.toJSON(),column_name:n.title,lang:v,checklists:I.call(this,r),attaches:q.call(this,i),"editable?":this.todoModel.isMember(t.session("id")),"hasMembers?":this.model.hasMembers(),"hasLabels?":this.model.hasLabels(),"hasDuedate?":!!e,duedate:e?j(e):!1,"delayed?":this.model.isDelayed(),"hasChecklists?":this.model.hasChecklists(),"hasAttaches?":t.util.isMobileApp()?i.length>0?!0:!1:!0,"canAttachImage?":F(),fileUploadUrl:B.call(this),"isMobile?":t.util.isMobile(),"isWebFolderUsable?":t.config("isWebFolderAvailable"),isSaaS:this.isSaaS,label:{close:l["\ub2eb\uae30"],member:c["\ub2f4\ub2f9\uc790"],label:c["\ub77c\ubca8"],add:l["\ucd94\uac00"],input_description:c["\uc0c1\uc138\ub0b4\uc6a9 \uc785\ub825"],timeline:c["\ud0c0\uc784\ub77c\uc778"],duedate:c["\uae30\ud55c\uc77c"],checklist:c["\uc138\ubd80\uc791\uc5c5"],attach_file:l["\ud30c\uc77c\ucca8\ubd80"],attach_image:l["\uc774\ubbf8\uc9c0 \ucca8\ubd80"],action:c["\uc561\uc158"],move:l["\uc774\ub3d9"],remove_card:l["\uc0ad\uc81c"],add_label:c["\ub77c\ubca8 \ucd94\uac00"],add_member:c["\ub2f4\ub2f9\uc790 \uc9c0\uc815"],preview:l["\ubbf8\ub9ac\ubcf4\uae30"],remove:l["\uc0ad\uc81c"],download:l["\ub2e4\uc6b4\ub85c\ub4dc"],add_checklist_item:c["\ud56d\ubaa9 \ucd94\uac00"],webfolder:l["\uc790\ub8cc\uc2e4"],"\uc774 \uacf3\uc5d0 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8 \ud558\uc138\uc694":l["\uc774 \uacf3\uc5d0 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8 \ud558\uc138\uc694"],"\uc774 \uacf3\uc5d0 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8 \ud558\uc138\uc694 \ub610\ub294":l["\uc774 \uacf3\uc5d0 \ud30c\uc77c\uc744 \ub4dc\ub798\uadf8 \ud558\uc138\uc694 \ub610\ub294"],"\ud30c\uc77c\uc120\ud0dd":l["\ud30c\uc77c\uc120\ud0dd"],"\ucca8\ubd80\ud30c\uc77c 1\uac1c\uc758 \ucd5c\ub300 \uc6a9\ub7c9\uc740 NNN MB \uc774\uba70 \ucd5c\ub300 N\uac1c \uae4c\uc9c0 \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4":t.i18n(l["\ucca8\ubd80\ud30c\uc77c 1\uac1c\uc758 \ucd5c\ub300 \uc6a9\ub7c9\uc740 {{size}} MB \uc774\uba70 \ucd5c\ub300 {{number}} \uac1c \uae4c\uc9c0 \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4"],{size:t.config("commonAttachConfig").maxAttachSize,number:t.config("commonAttachConfig").maxAttachNumber})}}}function B(){var e={},n=this.model;return e.webFolderUrl=[t.config("contextRoot")+"api/todo",n.get("todoId"),"item",n.id,"file"].join("/"),t.util.isMobileApp()?e.fileUrl=t.config("contextRoot")+"api/file":e.fileUrl=e.webFolderUrl,e}function j(e){return s.parseDuedate(e)}function F(){return t.util.isAndroidApp()}function I(e){return _.map(e,function(e){_.map(e.checklistItems,function(e){e.checked=e.checkFlag==="Y"})}),e}function q(e){var n=[],r=[],i=this.todoModel,s=this.model;return _.each(e||[],function(e){var o=$.extend(!0,{},e);o.removable=i.isMember(t.session("id")),o.humanSize=d.getHumanizedFileSize(o.size),o.downloadUrl=[t.config("contextRoot")+"api/todo",s.get("todoId"),"item",s.id,"download",o.id].join("/"),o.hasOwnProperty("updatedAt")&&(o.updatedAt=moment(o.updatedAt).format("YYYY-MM-DD(dd) HH:mm")),d.isImage(o.name)?t.util.isMobile()&&!o.mobilePreview?n.push(o):r.push(o):n.push(o)}),{files:n,images:r}}function R(){$(".fancybox-thumbs").goFancybox()}var v={copy_url:l["URL \ubcf5\uc0ac"]},m,g,y,b,w,E,S;return g=r.extend({initialize:function(e){e=e||{},e.content=t.util.unescapeHtml(this.model.get("title")),this.name="card-title-edit-form-"+this.model.id,r.prototype.initialize.call(this,e)},_confirm:function(e){var n=this,r=this.getValue();if(!$.goValidation.isCheckLength(1,1e3,r))return $.goMessage(t.i18n(l["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),this.$el.find("textarea").focus(),!1;e.preventDefault(),this.model.updateTitle(r).then(function(e){n.remove(),n.afterConfirm.call(n,e)})}}),y=r.extend({initialize:function(e){e=e||{},e.content=t.util.unescapeHtml(this.model.get("content")),e.enterNewLine=!0,e.autoExpand=!0,e.removable=!0,this.name="card-desc-edit-form-"+this.model.id,r.prototype.initialize.call(this,e)},_confirm:function(e){var t=this,n=this.getValue();e.preventDefault(),this.model.updateContent(n).then(function(e){t.remove(),t.afterConfirm.call(t,e)})},_destroy:function(e){var t=this,n=this.model;e.preventDefault(),i.attachTo($(e.currentTarget),new i.RemoveConfirmMenuView({subject:c["\uce74\ub4dc \uc0c1\uc138\ub0b4\uc6a9 \uc0ad\uc81c \ud655\uc778 \ud0c0\uc774\ud2c0"
],description:c["\uce74\ub4dc \uc0c1\uc138\ub0b4\uc6a9 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=this;n.updateContent("").then(function(n){t.remove(),t.afterRemove.call(t,n),e.back()})}}))}}),b=r.extend({checklist:null,initialize:function(e){e=e||{},this.checklist=this.model.getChecklist(e.checklistId),e.content=t.util.unescapeHtml(this.checklist.title),this.name="checklist-title-edit-form-"+this.model.id,r.prototype.initialize.call(this,e)},_confirm:function(e){var n=this,r=this.getValue();if(!$.goValidation.isCheckLength(1,1e3,r))return $.goMessage(t.i18n(l["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),this.$el.find("textarea").focus(),!1;e.preventDefault(),this.model.updateChecklistTitle(this.checklist.id,r).then(function(e){n.remove(),n.afterConfirm.call(n,n)})}}),w=r.extend({className:"checklist-item-addform check_item",checklist:null,template:o,events:function(){var e=_.result(r.prototype,"events")||{};return _.extend({},e,{"focus .checklist-item-text":"_showActionBtn","submit #form-checklist-item":"_confirm"})},initialize:function(e){e=e||{},e.templateVariables=$.extend(!0,{},{label:{add_checklist_item:c["\ud56d\ubaa9 \uc785\ub825"]}},e.templateVariables||{}),this.name="checklist-item-form-"+this.model.id,this.checklist=this.model.getChecklist(e.checklistId),r.prototype.initialize.call(this,e)},getValue:function(){return d.stripIllegalTags(this.$el.find("input[name=title]").val())},_showActionBtn:function(e){this.$el.find(".checklist-item-actions").show()}}),E=w.extend({initialize:function(e){e=e||{},this.name="checklist-item-add-form-"+this.model.id,w.prototype.initialize.call(this,e)},_confirm:function(e){var n=this,r=this.getValue();if(!$.goValidation.isCheckLength(1,1e3,r))return $.goMessage(t.i18n(l["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),this.$el.find("textarea").focus(),!1;e.preventDefault(),this.model.addChecklistItem(this.checklist.id,r).then(function(e){n.confirm(n)})}}),S=w.extend({initialize:function(e){e=e||{},this.name="checklist-item-edit-form-"+this.model.id,this.checklistItemId=e.checklistItemId,w.prototype.initialize.call(this,e)},_confirm:function(e){var n=this,r=this.getValue();if(!$.goValidation.isCheckLength(1,1e3,r))return $.goMessage(t.i18n(l["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),this.$el.find("textarea").focus(),!1;e.preventDefault(),this.model.updateChecklistItemTitle(this.checklist.id,this.checklistItemId,r).then(function(e){n.confirm(n)})}}),m=e.View.extend({className:"ui-todocard-container overlay_scroll",categoryModel:null,subViews:{},events:{"click .ui-card-title h1":"_callCardTitleEditForm","click .btn-edit-content":"_callCardDescEditForm","click .ui-card-content":"_callCardDescEditForm","click .ui-card-content a":"_stopPropagation","click .btn-close":"_close","click .btn-add-member":"_callSearchMemberMenu","click .btn-duedate":"_callDuedateMenu","click .btn-add-checklist":"_addChecklist","click .btn-edit-label":"_callSelectLabelMenu","click .btn-card-move":"_callMoveCardMenu","click .btn-card-remove":"_callRemoveCardConfirmMenu","click .ui-user-photo":"_callMemberProfileMenu","click .ui-checklist-container h2":"_callChecklistTitleEditForm","click .btn-checklist-remove":"_callRemoveChecklistConfirmMenu","click .btn-add-checklist-item":"_callChecklistItemAddForm","click .ui-checklist-item-text":"_callChecklistItemEditForm","click .ui-checklist-checkbox":"_checkChecklistItem","click .btn-file-remove":"_callRemoveFileConfirmMenu","click .btn-file-preview":"_callFilePreviewWindow","click .btn-file-download":"_downloadFile","click .btn-image-view":"_viewImage","click .btn-checklistitem-remove":"_removeChecklistItem","click #scrollToTop_card_detail":"_scrollToTop","dragover #dropZone":"_dragOver","dragleave #dropZone":"_dragLeave","drop #dropZone":"_drop"},_stopPropagation:function(e){return e.stopPropagation(),!0},initialize:function(n){var r=this;n=n||{},this.todoModel=n.todoModel,this.$el.data("view",this),e.View.prototype.initialize.call(this,n),this._initRender(),this.listenTo(this.model,"change:members",this.reloadContent),this.listenTo(this.model,"change:labels",this.reloadContent),this.listenTo(this.model,"change:title",this.reloadContent),this.listenTo(this.model,"change:content",this.reloadContent),this.listenTo(this.model,"change:dueDate",this.reloadContent),this.listenTo(this.model,"change:checklists",this.reloadContent),this.listenTo(this.model,"change:attaches",this.reloadContent),t.EventEmitter.on("todo","close:cardLayer",this.remove,this),this.$el.on("click.go.todo",function(e){e.target==this&&r.close(),$(document).trigger("go.todo.clearmenu")}),this.$el.on("scroll",function(e){r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(function(){var t=e.currentTarget.scrollTop,n=this.$("#scrollToTop_card_detail");t==0?n.hide():t>0&&!n.is(":visible")&&n.show()},20)}),this.isSaaS=t.session().brandName=="DO_SAAS"},_dragOver:function(e){e.preventDefault(),e.stopPropagation(),e.originalEvent.dataTransfer.dropEffect="move",$("#dropZone").addClass("drag_file")},_dragLeave:function(e){e.preventDefault(),e.stopPropagation(),$("#dropZone").removeClass("drag_file")},_drop:function(e){this._dragLeave(e)},_scrollToTop:function(e){$(e.currentTarget).parent().parent().scrollTop(0)},render:function(){this._renderContent(),x.call(this),T.call(this),A.call(this),M.call(this),C.call(this),L.call(this),k.call(this)},remove:function(){return N.call(this),e.View.prototype.remove.apply(this,arguments)},reloadContent:function(){N.call(this),this._renderContent(),T.call(this),A.call(this),M.call(this),C.call(this)},close:function(){this.remove(),t.router.navigate("todo/"+this.todoModel.id,{pushState:!0,trigger:!1})},_initRender:function(){this.$el.html('<div class="ui-todocard-content layer_type_detail layer_todo_card"></div>')},_renderContent:function(){this.$(".ui-todocard-content").empty().append(u(H.call(this),{_member_button:a,_user_thumbnail:f})),this.setViewedTotalAttachSize()},_close:function(e){e.preventDefault(),this.close()},_callCardTitleEditForm:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-card-title"),r=this,i;i=new g({model:this.model,afterConfirm:function(){r.model.hasChanged("title")||r.model.trigger("change:title")},afterCancel:function(){r.reloadContent()}}),n.find("h1").hide(),n.find(".ui-column-name").hide(),n.append(i.el)})},_callCardDescEditForm:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-content-container"),r=this.$el.find(".ui-card-content"),i=this,s,o={model:this.model,afterConfirm:function(){i.model.hasChanged("content")||i.model.trigger("change:content")},afterCancel:function(){i.reloadContent()}};this.model.get("content")&&this.model.get("content").length>0?(o.textareaHeight=r.height(),o.textareaMaxHeight=$(document).height()-r.offset().top*2):o.textareaRows=10,s=new y(o),n.empty().append(s.el)})},_callSearchMemberMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=this.model;i.attachTo(t,new i.SearchMemberMenuView({zIndex:999,model:n,todoModel:this.todoModel}))})},_callDuedateMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=this.model;i.attachTo(t,new i.DuedateMenuView({model:n}))})},_addChecklist:function(e){var t=this;return e.preventDefault(),P.call(this,e,function(e){this.model.createChecklist(c["\uc138\ubd80\uc791\uc5c5"]).then(function(e){var n=t.$el.find(".ui-checklist-container").last();n.find(".btn-add-checklist-item").trigger("click")}).otherwise(function(e){console.log(e.stack)})})},_callSelectLabelMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=this.model;i.attachTo(t,new i.SelectLabelMenuView({model:n,todoModel:this.todoModel}))})},_callMoveCardMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=this.model;i.attachTo(t,new i.MoveCardMenuView({model:n,todoModel:this.todoModel}))})},_callRemoveCardConfirmMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=this,r=this.model;i.attachTo(t,new i.RemoveConfirmMenuView({subject:c["\uce74\ub4dc \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:c["\uce74\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=this;r.remove().then(function(){n.close(),e.back()})}}))})},_callRemoveFileConfirmMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-attach-file"),r=n.data("attachid"),s=this.model;i.attachTo(t,new i.RemoveConfirmMenuView({subject:c["\ud30c\uc77c \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:c["\ud30c\uc77c \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=this;s.removeFile(r).then(function(){e.back()})}}))})},_callMemberProfileMenu:function(e){var t=$(e.currentTarget),n=parseInt(t.data("userid")),r=this.model;e.preventDefault(),i.attachTo(t,new i.CardMemberProfileMenuView({todoModel:this.todoModel,todoItemModel:r,userId:n}))},_callChecklistTitleEditForm:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-checklist-container"),r=parseInt(n.data("checklistid")),i;i=new b({model:this.model,checklistId:r,afterCancel:function(){t.show()}}),t.hide().after(i.el)})},_callChecklistItemAddForm:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-checklist-container"),r=parseInt(n.data("checklistid")),i;i=new E({model:this.model,checklistId:r,afterCancel:function(){t.show()}}),t.hide().before(i.el)})},_callChecklistItemEditForm:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-checklist-item"),r=t.closest(".ui-checklist-container"),i=t.closest(".ui-checklist-item"),s=parseInt(r.data("checklistid")),o=parseInt(i.data("itemid")),u;u=new S({model:this.model,checklistId:s,checklistItemId:o,content:t.text(),afterCancel:function(){n.show()}}),n.hide().after(u.el)})},_checkChecklistItem:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-checklist-container"),r=t.closest(".ui-checklist-item"),i=parseInt(n.data("checklistid")),s=parseInt(r.data("itemid")),o;this.model.toggleChecklistItem(i,s)})},_callRemoveChecklistConfirmMenu:function(e){return e.preventDefault(),P.call(this,e,function(e){var t=$(e.currentTarget),n=t.closest(".ui-checklist-container"),r=parseInt(n.data("checklistid")),s=this.model;i.attachTo(t,new i.RemoveConfirmMenuView({subject:c["\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c \ud0c0\uc774\ud2c0"],description:c["\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0"],afterClick:function(){var e=this;s.removeChecklist(r).then(function(){e.back()})}}))})},_callFilePreviewWindow:function(e){var n=$(e.currentTarget),r=n.closest(".ui-attach-file"),i=r.data("attachid"),s=this.model,o=s.getFile(i);e.preventDefault(),o.preview&&o.hasOwnProperty("encrypt")&&t.util.preview(o.encrypt)},_downloadFile:function(e){var n=this,r=$(e.currentTarget),i=r.closest(".ui-attach-file"),s=r.attr("data-fancybox-group"),o=this.model,u=i.data("attachid"),a=o.getFile(u);e.preventDefault();if(t.util.isMobile()){if(!a.download)return!1;if(d.isImage(a.name))if(s){var f=r.parent().parent().find('a[data-fancybox-group="'+s+'"]'),l=[],c=0;$.each(f,function(e,t){var r=$(t),i=r.closest(".ui-attach-file").data("attachid");l.push({fileName:r.attr("title"),url:n._getDownloadUrl(i)}),i==u&&(c=e)}),t.util.attachImages(l,c)}else t.util.attachImages([{fileName:a.name,url:n._getDownloadUrl(u)}],0);else{var h=location.protocol+"//"+location.host;t.util.attachFiles(h+n._getDownloadUrl(u),a.name,a.size)}}else location.href=n._getDownloadUrl(u)},_viewImage:function(e){var n=this,r=$(e.currentTarget),i=r.closest(".ui-attach-file"),s=r.attr("data-fancybox-group"),o=this.model,u=i.data("attachid"),a=o.getFile(u);e.preventDefault();if(t.util.isMobile()){if(s){var f=r.parent().parent().find('a[data-fancybox-group="'+s+'"]'),l=[],c=0;$.each(f,function(e,t){var r=$(t),i=r.closest(".ui-attach-file").data("attachid");l.push({fileName:r.attr("title"),url:n._getDownloadUrl(i)}),i==u&&(c=e)}),t.util.attachImages(l,c)}}else t.util.attachImages([{fileName:a.name,url:n._getDownloadUrl(u)}],0)},_getDownloadUrl:function(e){var n=this.model;return[t.config("contextRoot")+"api/todo",n.get("todoId"),"item",n.id,"download",e].join("/")},_removeChecklistItem:function(e){var t=$(e.currentTarget),n=t.closest(".ui-checklist-item"),r=t.closest(".ui-checklist-container"),i=n.data("itemid"),s=r.data("checklistid");e.preventDefault(),this.model.removeChecklistItem(s,i).otherwise(function(e){console.log(e.stack)})},syncLabels:function(){var e=[];_.each(this.model.get("labels"),function(t){var n=_.findWhere(this.todoModel.get("labels"),{id:t.id});e.push(n)},this),this.model.set("labels",e),this.model.hasLabels()&&this.reloadContent()},getViewedTotalAttachSize:function(){var e=0;return $("div.content_attach").find(".ui-attach-file").each(function(){e+=parseInt(this.getAttribute("data-size"),0)}),e},setViewedTotalAttachSize:function(){if(this.isSaaS){var e=this.getViewedTotalAttachSize();this.$el.find("#total_size").html(t.util.displayHumanizedAttachSizeStatus(e))}}},{create:function(e,n){var r,i=t.util.isMobile()?"body":".go_body",s=["todo",e.id,"card",n.id].join("/");t.EventEmitter.trigger("todo","go.todo.detail.clearlayers"),r=new m({model:n,todoModel:e}),$(i).append(r.el),r.render(),t.router.navigate(s,{pushState:!0,trigger:!1})}}),m}),define("hgn!todo/templates/todo_card",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("hasLabels?",e,t,1),e,t,0,15,176,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="card_label">\r'),r.b("\n"+n),r.s(r.d("model.labels",e,t,1),e,t,0,64,149,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="chip" style="background:'),r.b(r.v(r.f("color",e,t,0))),r.b('" title="'),r.b(r.v(r.f("title",e,t,0))),r.b('"></span>\r'),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"+n)}),e.pop()),r.b("\r"),r.b("\n"+n),r.b('<div class="title">\r'),r.b("\n"+n),r.b('    <span class="txt">'),r.b(r.t(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.s(r.f("hasImages?",e,t,1),e,t,0,283,711,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("isMobile",e,t,1),e,t,0,298,506,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("useMobilePreview",e,t,1),e,t,0,321,483,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="img_attach">\r'),r.b("\n"+n),r.b('    <img title="'),r.b(r.v(r.d("featureImage.name",e,t,0))),r.b('" alt="'),r.b(r.v(r.d("featureImage.name",e,t,0))),r.b('" src="'),r.b(r.v(r.d("featureImage.thumbMid",e,t,0))),r.b('" width="210" height="210">\r'),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n)}),e.pop())}),e.pop()),r.s(r.f("isMobile",e,t,1),e,t,1,0,0,"")||(r.b('<div class="img_attach">\r'),r.b("\n"+n),r.b('    <img title="'),r.b(r.v(r.d("featureImage.name",e,t,0))),r.b('" alt="'),r.b(r.v(r.d("featureImage.name",e,t,0))),r.b('" src="'),r.b(r.v(r.d("featureImage.thumbMid",e,t,0))),r.b('" width="210" height="210">\r'),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n))}),e.pop()),r.b("\r"),r.b("\n"+n),r.s(r.f("hasMetadata?",e,t,1),e,t,0,747,2344,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="meta_data">\r'),r.b("\n"+n),r.s(r.f("hasContent?",e,t,1),e,t,0,794,955,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="ic_wrap" title="'),r.b(r.v(r.d("label.showDesc",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('        <span class="ic_board ic_desc"></span>\r'),r.b("\n"+n),r.b('        <span class="txt">more</span>\r'),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("hasChecklists?",e,t,1),e,t,0,996,1208,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="ic_wrap" title="'),r.b(r.v(r.f("checklistStatus",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('        <span class="ic_board ic_list_s"></span>\r'),r.b("\n"+n),r.b('        <span class="txt">'),r.b(r.v(r.f("checklistCheckedItemCount",e,t,0))),r.b("/"),r.b(r.v(r.f("checklistItemCount",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("hasComments?",e,t,1),e,t,0,1250,1581,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="ic_wrap" title="'),r.b(r.v(r.f("commentCountStatus",e,t,0))),r.b('">\r'),r.b("\n"+n),r.s(r.f("isMobile",e,t,1),e,t,0,1332,1393,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="ic_cmm ic_cmm_reply"></span>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("isMobile",e,t,1),e,t,1,0,0,"")||(r.b('        <span class="ic_board ic_comment_s"></span>\r'),r.b("\n"+n)),r.b('        <span class="txt">'),r.b(r.v(r.d("model.commentCount",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("hasAttaches?",e,t,1),e,t,0,1621,1937,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="ic_wrap" title="'),r.b(r.v(r.f("attachCountStatus",e,t,0))),r.b('">\r'),r.b("\n"+n),r.s(r.f("isMobile",e,t,1),e,t,0,1702,1756,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="ic ic_attach"></span>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("isMobile",e,t,1),e,t,1,0,0,"")||(r.b('        <span class="ic_board ic_attach_s"></span>\r'),r.b("\n"+n)),r.b('        <span class="txt">'),r.b(r.v(r.f("attach_count",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("due_date",e,t,1),e,t,0,1973,2321,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="ic_wrap'),r.s(r.f("delayed?",e,t,1),e,t,0,2012,2018,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" delay")}),e.pop()),r.b('" title="'),r.b(r.v(r.f("duedateStatus",e,t,0))),r.b('">\r'),r.b("\n"+n),r.s(r.f("isMobile",e,t,1),e,t,0,2082,2146,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="ic_cmm ic_cmm_calendar"></span>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("isMobile",e,t,1),e,t,1,0,0,"")||(r.b('        <span class="ic_board ic_date_s"></span>\r'),r.b("\n"+n)),r.b('        <span class="txt">'),r.b(r.v(r.f("due_date",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"+n)}),e.pop()),r.b("\r"),r.b("\n"+n),r.s(r.f("hasMembers?",e,t,1),e,t,0,2381,2537,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<div class="member_data">\r'),r.b("\n"+n),r.s(r.d("model.members",e,t,1),e,t,0,2432,2509,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="member">\r'),r.b("\n"+n),r.b(r.rp("<_user_thumbnail0",e,t,"        ")),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"+n)}),e.pop()),r.b("\r"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,2571,2703,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<a href="#" class="btn-card-action btn_board_more" data-bypass><span class="ic_board ic_more" title="'),r.b(r.v(r.d("label.more",e,t,0))),r.b('"></span></a>\r'),r.b("\n"+n)}),e.pop()),r.fl()},partials:{"<_user_thumbnail0":{name:"_user_thumbnail",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/site/todo_card",["backbone","app","todo/views/menus/main","todo/views/site/card_detail","todo/models/todo_category","todo/libs/util","hgn!todo/templates/todo_card","text!todo/templates/partials/_user_thumbnail.html","libs/go-utils","i18n!todo/nls/todo","i18n!nls/commons"],function(e,t,n,r,i,s,o,u,a,f,l){function h(){return this.model.hasContent()||this.model.hasComments()||this.model.hasFiles()||this.model.hasChecklists()||!!this.model.get("dueDate")}var c;return c=e.View.extend({className:"board_card",template:o,todoModel:null,onRemoved:function(){},events:{click:"_callCardDetail","click .btn-card-action":"_callCardActionMenu"},initialize:function(e){e=e||{},this.todoModel=e.todoModel,e.hasOwnProperty("onRemoved")&&_.isFunction(e.onRemoved)&&(this.onRemoved=e.onRemoved),this.$el.data("view",this),this.$el.addClass("ui-todocard ui-todocard-"+this.model.id),this.$el.attr("data-itemid",this.model.id),this.render(),this.listenTo(this.todoModel,"change:members",this.fetch),this.listenTo(this.model,"change:title",this.reload),this.listenTo(this.model,"change:labels",this.reload),this.listenTo(this.model,"change:members",this.reload),this.listenTo(this.model,"change:dueDate",this.reload),this.listenTo(this.model,"change:attaches",this.reload),this.listenTo(this.model,"change:checklists",this.reload),this.listenTo(this.model,"change:content",this.reload),this.listenTo(this.model,"change:commentCount",this.reload),this.listenTo(this.model,"destroy",this.remove),this.listenTo(this.model,"moved",this.move)},render:function(e){var n=this.model.get("dueDate"),r=this.model.getChecklistItemCount(),i=this.model.getChecklistCheckedItemCount();this.$el.empty().append(this.template({title:t.util.escapeHtml(this.model.get("title")),model:this.model.toJSON(),"editable?":this.todoModel.isMember(t.session("id")),featureImage:this.model.getFeatureImage(),attach_count:this.model.getFileCount(),"hasMembers?":this.model.hasMembers(),"hasMetadata?":h.call(this),"hasLabels?":this.model.hasLabels(),"hasImages?":this.model.hasImages(),"hasComments?":this.model.hasComments(),"hasAttaches?":this.model.hasFiles(),"hasContent?":this.model.hasContent(),"hasChecklists?":this.model.hasChecklists(),checklistItemCount:r,checklistCheckedItemCount:i,attachCountStatus:t.i18n(f["\ud30c\uc77c\uac1c\uc218 \uc11c\uc220\uc2dd \ud45c\ud604"],{arg1:this.model.getFileCount()}),commentCountStatus:t.i18n(f["\ub313\uae00\uac1c\uc218 \uc11c\uc220\uc2dd \ud45c\ud604"],{arg1:this.model.getCommentCount()}),duedateStatus:t.i18n(f["\uae30\ud55c\uc77c \uc11c\uc220\uc2dd \ud45c\ud604"],{arg1:n?moment(n).format(f["\uae30\ud55c\ub144\uc6d4\uc77c\uc2dc \ud3ec\ub9f7"]):""}),checklistStatus:t.i18n(f["\uccb4\ud06c\ub9ac\uc2a4\ud2b8 \uc11c\uc220\uc2dd \ud45c\ud604"],{arg1:r,arg2:i}),due_date:n?moment(n).format(f["\uae30\ud55c\uc77c \ud3ec\ub9f7"]):!1,"delayed?":this.model.isDelayed(),label:{more:l["\ub354\ubcf4\uae30"],showDesc:f["\uc0c1\uc138\ub0b4\uc6a9 \ubcf4\uae30"]},useMobilePreview:GO_config.__config__.mobileConfig.useMobilePreview,isMobile:t.util.isMobile()},{_user_thumbnail:u}))},fetch:function(){var e=$.Deferred(),t=this;return this.model.fetch({success:function(){t.reload(),e.resolve()}}),e},reload:function(){this.render(),t.EventEmitter.trigger("todo","resize:column")},remove:function(){e.View.prototype.remove.apply(this,arguments),this.onRemoved(this),t.EventEmitter.trigger("todo","resize:column")},move:function(n,r){var i=$("#column-content-"+n),o=i.find(".ui-todocard"),u=this.$el.closest(".ui-todocolumn"),a=u.data("view"),f=parseInt(u.data("categoryid")),l=s.searchCardSeq(o,this.$el.data("itemid"));if(f===n){var c=o.get(r);r<l?$(c).before(this.$el):r>l&&$(c).after(this.$el)}else{if(o.length>0)if(o.length===r){var c=o.last();$(c).after(this.$el)}else{var c=o.get(r);$(c).before(this.$el)}else i.append(this.$el);a instanceof e.View&&a.takeOutCardView(this)}s.syncCardSeqs(i.find(".ui-todocard")),t.EventEmitter.trigger("todo","resize:column")},updatePosition:function(e,t){return this.model.move(e,t)},getItemId:function(){return this.model.id},getSeq:function(){return this.model.get("seq")},setSequence:function(e){this.model.set("seq",parseInt(e))},_callCardDetail:function(e){var t=this;this.fetch().done(function(){r.create(t.todoModel,t.model)})},_callCardActionMenu:function(e){var t=$(e.currentTarget),r=this;e.preventDefault(),s.callActionForMember(this.todoModel,e,function(e){n.attachTo(t,new n.CardActionMenuView({model:r.model,todoModel:r.todoModel}))}),e.stopPropagation()}}),c}),define("hgn!todo/templates/todo_column",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<header class="board_column">\r'),r.b("\n"+n),r.b('    <h1 class="column_title">\r'),r.b("\n"+n),r.b('    	<span class="ui-column-title title txt_ellipsis">'),r.b(r.v(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('        <span class="ui-card-count num" style="display:none"></span>\r'),r.b("\n"+n),r.b("    </h1>\r"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,233,350,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <a href="#" class="btn-action-menu btn_board_more" data-bypass><span class="ic_board ic_more"></span></a>\r'),r.b("\n"+n)}),e.pop()),r.b("</header>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<div class="ui-board-content">\r'),r.b("\n"+n),r.b('    <div class="ui-scroll-container board_card_wrap" id="column-container-'),r.b(r.v(r.d("category.id",e,t,0))),r.b('" data-scroll-axis="y">\r'),r.b("\n"+n),r.b('        <div class="ui-card-container ui-scroll-content" id="column-content-'),r.b(r.v(r.d("category.id",e,t,0))),r.b('" style="min-height:20px" data-scrollcontent="true"></div>\r'),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,706,928,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <div class="ui-add-card card_create">\r'),r.b("\n"+n),r.b('        <a href="#" class="btn-add-card create_box" data-bypass>\r'),r.b("\n"+n),r.b('            <span class="ic_board ic_plus_w" title="'),r.b(r.v(r.d("label.add_card",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/site/todo_column",["backbone","app","todo/constants","todo/models/todo_item","todo/views/site/todo_card","todo/views/menus/main","todo/views/site/edit_text_form","hgn!todo/templates/todo_column","todo/libs/util","i18n!nls/commons","i18n!todo/nls/todo","jquery.go-validation","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f,l){function v(){var e=m.call(this),t=e.length;t>0?(_.each(e,_.bind(g,this)),y.call(this,t)):w.call(this)}function m(){return this.todoItemList.where({todoCategoryId:this.model.id})}function g(e){var t=new i({model:e,todoModel:this.todoModel,onRemoved:_.bind(function(e){this.todoItemList.remove(e.model)},this)});this.$el.find(d.detail.cardContainer).append(t.el),this.subViews.push(t)}function y(e){var t=this.$el.find(".ui-card-count"),n=e||(m.call(this)||[]).length,r=n>0;r&&t.text(n),t.toggle(r)}function b(){return this.$el.find(".null_data")}function w(){this.$el.find(d.detail.cardContainer).empty().append('<p class="null_data">'+l["\ub4f1\ub85d\ub41c \uce74\ub4dc \uc5c6\uc74c"]+"</p>")}function E(){b.call(this).remove()}function S(){var e=this.$el.find(d.detail.todoCard).length,t=b.call(this).length;e>0&&t>0?E.call(this):e<=0&&t<=0&&w.call(this)}function x(){var e=_.findWhere(this.todoModel.getCategories(),{id:this.model.id});e&&this.model.set(e)}function T(e,t,n){return a.callActionForMember(e,t,n)}var c,h,p,d=n.SELECTORS;return h=o.extend({todoModel:null,categoryModel:null,initialize:function(e){this.todoModel=e.todoModel,this.categoryModel=e.categoryModel,this.name="add-card-form-"+this.todoModel.id,o.prototype.initialize.call(this,e)},_confirm:function(e){var n=this,i=this.getValue(),s=this.categoryModel.id;if(!$.goValidation.isCheckLength(1,1e3,i))return $.goMessage(t.i18n(f["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),this.$el.find("textarea").focus(),!1;e.preventDefault(),r.createFromTodo(this.todoModel,s,i).then(function(e){n.confirm(e)})}}),p=o.extend({todoModel:null,categoryModel:null,initialize:function(e){this.todoModel=e.todoModel,this.categoryModel=e.categoryModel,this.name="edit-column-title-form-"+this.todoModel.id,o.prototype.initialize.call(this,e)},_confirm:function(e){var n=this,r=this.getValue(),i=this.categoryModel.id;if(!$.goValidation.isCheckLength(1,1e3,r))return $.goMessage(t.i18n(f["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),$("textarea[name=content]").focus(),!1;e.preventDefault(),this.todoModel.updateCategoryTitle(i,r).then(function(e){n.confirm(e)})}}),c=e.View.extend({className:"ui-todocolumn ui-column-container board_column_wrap",template:u,subViews:[],events:{"click .btn-add-card":"_callAddCardForm","click .btn-action-menu":"_callActionMenu","click .ui-column-title":"_callEditTitleForm"},initialize:function(e){e=e||{},this.subViews=[],this.todoModel=e.todoModel,this.todoItemList=e.todoItemList,this.columnWidth=e.columnWidth,this.$el.addClass("ui-todocolumn-"+this.model.id),this.$el.attr("data-categoryid",this.model.id),this.$el.data("view",this),this.render(),this.listenTo(this.todoModel,"change:categories",x,this),t.EventEmitter.on("todo","resize:column",this.resize,this)},remove:function(){_.each(this.subViews,function(e){e.remove()}),e.View.prototype.remove.apply(this,arguments)},render:function(){this.$el.empty().append(this.template({category:this.model.toJSON(),title:t.util.unescapeHtml(this.model.get("title")),"editable?":this.todoModel.isMember(t.session("id")),label:{add_card:l["\uce74\ub4dc \ucd94\uac00"]}})),this.columnWidth&&this.$el.width(this.columnWidth),v.call(this)},resize:function(){var e=$(d.detail.boardContent).height(),t=this.$el.find("header").outerHeight(),n=this.$el.find(".create_form").outerHeight(),r=this.$el.find(d.detail.cardContainer).outerHeight(),i=this.$el.find(d.detail.addCardButton).outerHeight(),s=50,o=t+r+i+s+n,u=this.$el.find(d.common.scrollContainer);if(!this.$el.parents("body").length)return;if(r<=0)return;o<e?u.height(r):u.height(e-t-i-s-n),S.call(this),y.call(this)},reorder:function(e){this.model.set("seq",e)},takeOutCardView:function(e){this.subViews=_.reject(this.subViews,function(t,n){return e.getItemId()===t.getItemId()})},_callAddCardForm:function(e){var n=$(e.currentTarget),r=n.parent(),i=this.$el.find(d.common.scrollContainer),s=this,o;e.preventDefault(),T.call(this,this.todoModel,e,function(e){o=new h({todoModel:s.todoModel,categoryModel:s.model,afterConfirm:function(e){E.call(s),s.todoItemList.add(e),g.call(s,e),t.EventEmitter.trigger("todo","resize:column"),r.show()},afterCancel:function(){t.EventEmitter.trigger("todo","resize:column"),r.show()}}),r.hide().after(o.el),t.EventEmitter.trigger("todo","resize:column"),i.scrollTop(i.get(0).scrollHeight),r.parent().find('textarea[name="content"]').focus()})},_callActionMenu:function(e){var t=$(e.currentTarget),n=this;e.preventDefault(),T.call(this,this.todoModel,e,function(e){s.attachTo(t,new s.ColumnActionMenuView({columnView:n}))})},_callEditTitleForm:function(e){var n=$(e.currentTarget),r=n.closest("h1"),i=r.find(".ui-column-title"),s=this,o;e.preventDefault(),T.call(this,this.todoModel,e,function(e){o=new p({todoModel:s.todoModel,categoryModel:s.model,content:i.text(),afterConfirm:function(e){i.text(t.util.unescapeHtml(e.get("title"))),r.show()},afterCancel:function(){r.show()}}),r.hide().after(o.el)})}}),c}),define("hgn!todo/templates/board_activity_list",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<header class="timeline_header">\r'),r.b("\n"+n),r.b('    <h1 class="title">'),r.b(r.v(r.d("label.timeline",e,t,0))),r.b("</h1>\r"),r.b("\n"+n),r.b('    <div class="critical">\r'),r.b("\n"+n),r.b('        <a href="#" class="btn-close-timeline btn_side_close" data-bypass alt="'),r.b(r.v(r.d("label.close_timeline",e,t,0))),r.b('" title="'),r.b(r.v(r.d("label.close_timeline",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('            <span class="ic_board ic_slide_close"></span>\r'),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</header>\r"),r.b("\n"+n),r.b('<div class="timeline_wrap">\r'),r.b("\n"+n),r.b('    <div class="ui-scroll-container" data-scroll-axis="y">\r'),r.b("\n"+n),r.b('        <ul class="board-timeline-contents type_simple_list simple_list_alarm" data-scrollcontent="true">\r'),r.b("\n"+n),r.s(r.f("activities",e,t,1),e,t,0,568,622,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.rp("<_board_activity_item0",e,t,"            "))}),e.pop()),r.b("\r"),r.b("\n"+n),r.s(r.f("activities",e,t,1),e,t,1,0,0,"")||(r.b('            <li class="null_data">\r'),r.b("\n"+n),r.b('                <p class="desc">'),r.b(r.v(r.d("msg.no_activities",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b("            </li>\r"),r.b("\n"+n)),r.b("        </ul>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("    \r"),r.b("\n"+n),r.b('    <div class="timeline-bottom-buttons bottom_action">\r'),r.b("\n"+n),r.b('            <a class="btn-load-more btn_list_reload" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.d("label.load_more",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{"<_board_activity_item0":{name:"_board_activity_item",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("text!todo/templates/partials/_board_activity_item.html",[],function(){return'<li>\r\n    {{#actor}}\r\n    <p class="photo">{{> _user_thumbnail}}</p>\r\n    {{/actor}} \r\n    <div class="info">\r\n        <p class="subject">{{content}}</p>\r\n        <span class="date">{{updatedAt}}</span>\r\n    </div>\r\n</li>'}),define("todo/libs/scroll",["backbone","app","axisj"],function(e,t){var n,r,i,s;return r=e.View.extend({initialize:function(e){var t=e||{};this.scrollContent=this.$el.find("*[data-scrollcontent]")||t.scrollContent,this.scrollAxis=this.$el.data("scroll-axis")||t.axis||"xy"},render:function(){this.$el.data("go.todo.scroller",this)},resizeScroll:function(){}},{attachTo:function(e,t){}}),i=r.extend({initialize:function(e){r.prototype.initialize.call(this,e);var t={x:{"overflow-x":"auto","overflow-y":"hidden"},y:{"overflow-x":"hidden","overflow-y":"auto"},xy:{overflow:"auto"}}[this.scrollAxis];this.$el.css(t)},resizeScroll:function(){}},{attachTo:function(e,t){try{var n=new i(_.extend({},t||{},{el:function(){return e}}));return n.render(),n}catch(r){console.log(r.message)}}}),s=r.extend({initialize:function(e){r.prototype.initialize.call(this,e);var t={x:{xscroll:!0,yscroll:!1},y:{xscroll:!1,yscroll:!0},xy:{xscroll:!0,yscroll:!0}}[this.scrollAxis],n;if(this.scrollContent.length>0){var i=$(this.scrollContent[0]);n=new AXScroll,this.$el.attr("id")||this.$el.attr("id",_.uniqueId("scroll_container_")),i.attr("id")||i.attr("id",_.uniqueId("scoll_content_")),n.setConfig(_.extend({targetID:this.$el.attr("id"),scrollID:i.attr("id"),bounces:e.bounces||!1},t||{})),this.$el.data("go.todo.scroller",this)}this.scrollObj=n},resizeScroll:function(){this.scrollObj&&this.scrollObj.resizeScroll()}},{attachTo:function(e,t){var n=new s(_.extend(t||{},{el:e}));return n.render(),n}}),n={attachTo:function(e,t){t=t||{},e.each(function(e,n){var r=i;r.attachTo(n,t)})},detectScrollWidth:function(){var e=$("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=$("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),100-t}},n}),define("todo/views/site/board_timeline",["backbone","app","hogan","todo/constants","todo/models/todo_activities","hgn!todo/templates/board_activity_list","text!todo/templates/partials/_board_activity_item.html","text!todo/templates/partials/_user_thumbnail.html","todo/libs/util","todo/libs/scroll","i18n!todo/nls/todo","i18n!nls/commons","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f,l,c){function m(){var e=this.$el.find("header"),t=this.$el.find(h.detail.timelineBottomButtons),n=this.$el.height()-e.outerHeight()-t.outerHeight()-20,r=this.$el.find(h.detail.timelineContents).outerHeight();this.$el.find(h.common.scrollContainer).height(Math.min(n,r))}function g(){f.attachTo(this.$el.find(h.common.scrollContainer))}function y(e){var n=e.toJSON();return _.map(n,function(e){e.updatedAt&&(e.updatedAt=a.toStreamDate(e.updatedAt)),e.editable=e.activityType==="comment"&&e.actor.id===t.session("id")}),n}var h=r.SELECTORS,p=".go.todo.timeline",d=function(e){return Hogan.compile(o).render(e,{_user_thumbnail:u})},v=e.View.extend({tagName:"aside",className:"board-timeline-container aside_timeline",template:s,__page__:1,__pageSize__:20,events:{"click .btn-load-more":"_loadMore","click .btn-close-timeline":"_close"},initialize:function(e){var t=this;e=e||{},this.todoModel=e.todoModel,this.onClose=e.onClose||function(){},this.collection||(this.collection=i.newForTodo(this.todoModel))},render:function(){var e=this;this.collection.getPageList().then(function(n){e.$el.empty().append(e.template({activities:y(n),label:{timeline:l["\ud0c0\uc784\ub77c\uc778"],load_more:c["\ub354\ubcf4\uae30"],close_timeline:l["\ud0c0\uc784\ub77c\uc778 \ub2eb\uae30"]},msg:{no_activities:l["\ud0c0\uc784\ub77c\uc778 \uc5c6\uc74c \uba54\uc2dc\uc9c0"]}},{_board_activity_item:o,_user_thumbnail:u})),m.call(e),g.call(e),t.EventEmitter.on("todo","resize:column",e.resize,e)}).otherwise(function(e){console.warn(e.stack)})},reload:function(){this.render()},resize:function(e){this.$el.height(e),m.call(this),this.$el.find(h.common.scrollContainer).length>0&&this.$el.find(h.common.scrollContainer).data("go.todo.scroller").resizeScroll()},remove:function(){t.EventEmitter.off("todo","resize:column",this.resize),e.View.prototype.remove.apply(this,arguments)},_loadMore:function(){var e=this.__page__+1,n=this;this.collection.getPageList(e,this.__pageSize__).then(function(e){if(e.length>0)_.each(y(e),function(e){n.$el.find(h.detail.timelineContents).append(d(e))}),++n.__page__;else{var r=l["\ud0c0\uc784\ub77c\uc778 \uc5c6\uc74c \uba54\uc2dc\uc9c0"];t.util.isMobile()?window.alert(r):$.goSlideMessage(l["\ud0c0\uc784\ub77c\uc778 \uc5c6\uc74c \uba54\uc2dc\uc9c0"])}})},close:function(){this.remove(),this.onClose()},_close:function(e){e.preventDefault(),this.close()}});return v}),define("todo/models/todo_burnup_list",["backbone","moment","when","app"],function(e,t,n,r){var i,s="YYYY-MM-DDT";return i=e.Collection.extend({fetchLock:!1,url:function(){return r.config("contextRoot")+"api/todo/"+this.todoId+"/burnup"},initialize:function(e){e=e||{},this.todoId=e.todoId},getFilteredData:function(e,t,i){var s=n.defer(),o=this,e=r.util.toISO8601(r.util.toMoment(e).startOf("day")),t=r.util.toISO8601(r.util.toMoment(t).endOf("day")),u={startDate:e,endDate:t,ids:i||[]};return this.fetchLock?s.promise:(this.fetch({type:"POST",contentType:"application/json",data:JSON.stringify(u),beforeSend:function(){o.fetchLock=!0},success:s.resolve,error:function(e,t,n){s.reject(t)},complete:function(){o.fetchLock=!1}}),s.promise)}}),i}),define("hgn!todo/templates/extensions/extension_base",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="todo-extension-content"></div>'),r.b("\n"+n),r.b('<a class="btn-close btn_view_close"><span class="ic ic_close_type1" title="'),r.b(r.v(r.d("label.close",e,t,0))),r.b('"></span></a>'),r.b("\n"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/extensions/base",["backbone","hgn!todo/templates/extensions/extension_base","i18n!nls/commons"],function(e,t,n){var r="resize.todoextensionview",i="data-todo-extension",s=t,o;return o=e.View.extend({name:"todo-extenstion-view",className:"view_type",onClose:function(){},onResize:function(){},events:{"click .btn-close":"_close"},initialize:function(e){var t=e||{};this.onClose=t.onClose||function(){},this.onResize=t.onResize||function(){},this.$el.addClass(this.name),this.$el.attr(i,!0),this.$el.data("instance",this),this.$el.append(s({label:{close:n["\ub2eb\uae30"]}}))},setContent:function(e){return this.$el.find(".todo-extension-content").empty().append(e),this},close:function(){$(window).off(r),this.remove(),this.onClose()},resize:function(e){this.$el.height(e),this.onResize.call(this,e)},_close:function(e){e.preventDefault(),this.close()}},{attachTo:function(e,t){var n;return $("["+i+"]").each(function(e,t){$(t).data("instance").close()}),n=new this.prototype.constructor(t||{}),e.append(n.el),n.render(),n}}),o}),define("hgn!todo/templates/extensions/extension_burnupchart",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="todo_statistic_opt">'),r.b("\n"+n),r.b('    <ul class="selected-column-list name_tag list_culumn">'),r.b("\n"+n),r.b('        <li class="creat">'),r.b("\n"+n),r.b('            <span class="btn-add-column btn_wrap">'),r.b("\n"+n),r.b('                <span class="ic_form ic_addlist"></span>'),r.b("\n"+n),r.b('                <span class="txt">'),r.b(r.v(r.d("label.add_column",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("            </span>"),r.b("\n"+n),r.b("        </li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"+n),r.b('    <div id ="burnupchart_chart_base_view_id" class="optional">'),r.b("\n"+n),r.b('        <span class="wrap_dateselect">'),r.b("\n"+n),r.b('            <span class="wrap_date">'),r.b("\n"+n),r.b('                <input type="text" id="start-date" name="start-date" class="txt wfix_small "/>'),r.b("\n"+n),r.b('                <span class="ic ic_calendar"></span>'),r.b("\n"+n),r.b("            </span>"),r.b("\n"+n),r.b('            <span class="date_wave">~</span>'),r.b("\n"+n),r.b('            <span class="wrap_date">'),r.b("\n"+n),r.b('                <input type="text" id="end-date" name="start-date" class="txt wfix_small "/>'),r.b("\n"+n),r.b('                <span class="ic ic_calendar"></span>'),r.b("\n"+n),r.b("            </span>"),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.b("\n"+n),r.b('<div class="todo_statistic" >'),r.b("\n"+n),r.b("    <div data-chart-placeholder></div>"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/extensions/burnup_chart/column_store",["app","libs/go-utils"],function(e,t){function i(){}function s(){return n.get(r)||{}}var n=t.store,r="go.todo.burnup.selectedcols."+e.session("id");return i.prototype.get=function(e){var t=s();return t[e]||[]},i.prototype.set=function(e,t){var i=s();i[e]=_.isArray(t)?t:[t],n.set(r,i)},i.prototype.add=function(e,t){var n=[].slice.call(arguments,1);if(n.length<1)return;this.set(e,_.union(this.get(e),n))},i.prototype.remove=function(e,t){var n=[].slice.call(arguments,1);if(n.length<1)return;this.set(e,_.difference(this.get(e),n))},i.prototype.hasTodoId=function(e){return _.has(s(),e)},new i}),define("hgn!todo/templates/column_select_menu",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="layer_static layer_array_option go_renew" id="select-column-list">\r'),r.b("\n"+n),r.b("	<header>\r"),r.b("\n"+n),r.b("		<h1>"),r.b(r.v(r.d("label.addColumn",e,t,0))),r.b("</h1>\r"),r.b("\n"+n),r.b('		<a class="close-btn btn_layer_x" href="#" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.d("label.close",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("	</header>\r"),r.b("\n"+n),r.b('	<div class="container">\r'),r.b("\n"+n),r.b('		<form name="form_select_column">\r'),r.b("\n"+n),r.b('		    <ul class="array_type">\r'),r.b("\n"+n),r.b("		    	<li>\r"),r.b("\n"+n),r.b('		            <input type="checkbox" name="id" class="column_checkbox" value="0" id="col-id-0">\r'),r.b("\n"+n),r.b('		            <label for="col-id-0">'),r.b(r.v(r.d("label.all",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("		        </li>\r"),r.b("\n"+n),r.s(r.f("columns",e,t,1),e,t,0,562,776,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("		        <li>\r"),r.b("\n"+n),r.b('		            <input type="checkbox" name="id" class="column_checkbox" value="'),r.b(r.v(r.f("id",e,t,0))),r.b('" id="col-id-'),r.b(r.v(r.f("id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('		            <label for="col-id-'),r.b(r.v(r.f("id",e,t,0))),r.b('">'),r.b(r.t(r.f("title",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("		        </li>\r"),r.b("\n"+n)}),e.pop()),r.b("		    </ul>\r"),r.b("\n"+n),r.b("		</form>\r"),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n),r.b('	<footer class="btn_layer_wrap">\r'),r.b("\n"+n),r.b('		<a class="close-btn btn_major_s" href="#" data-bypass><span class="txt">'),r.b(r.v(r.d("label.close",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("	</footer>\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/extensions/burnup_chart/select_column_menu",["backbone","todo/views/extensions/burnup_chart/column_store","hgn!todo/templates/column_select_menu","todo/constants","i18n!nls/commons","i18n!todo/nls/todo"],function(e,t,n,r,i,s){function a(){var e=t.get(this.model.id);this.$el.find("input:checkbox[name=id]").each(function(t,n){var r=$(n);_.indexOf(e,parseInt(r.val()))>-1&&r.prop("checked",!0)})}function f(){setTimeout(_.bind(function(){var e=this;$(document).on("go.todo.clearmenu",function(t){var n=$(t.relatedTarget);if(n.closest(e.$el).length>0)return;e.$el.is(":visible")&&e.remove()})},this),300)}var o,u="select-column-menu";return o=e.View.extend({id:u,className:"array_option",template:n,events:{"click input[type=checkbox]":"_onChecked","click .close-btn":"_close"},initialize:function(e){this.options=e||{},this.$el.data("instance",this)},render:function(){this.$el.append(this.template({columns:this.model.get("categories"),label:{all:i["\uc804\uccb4"],addColumn:s["\uce7c\ub7fc \ucd94\uac00"],close:i["\ub2eb\uae30"]}})),a.call(this),f.call(this)},remove:function(){e.View.prototype.remove.apply(this,arguments),$(document).off("go.todo.clearmenu")},check:function(e){var n=this.$el.find("#col-id-"+e);n.length>0&&(n.prop("checked",!0),t.add(this.model.id,parseInt(e)))},uncheck:function(e){var n=this.$el.find("#col-id-"+e);n.length>0&&(n.prop("checked",!1),t.remove(this.model.id,parseInt(e)))},_onChecked:function(e){var n=$(e.currentTarget),r=n.prop("checked");r?t.add(this.model.id,parseInt(n.val())):t.remove(this.model.id,parseInt(n.val())),this.options.onClicked&&this.options.onClicked(n)},_close:function(e){e.preventDefault(),this.remove()}},{attachTo:function(e,t){var n,r=e.offset();return this.clear(),n=new o(t||{}),$("body").append(n.el),n.$el.css({position:"absolute",left:r.left,top:r.top+e.outerHeight()}),n.render(),n},clear:function(){$("#"+u).data("instance")&&$("#"+u).data("instance").remove()},toggle:function(e,t){$("#"+u).length>0&&$("#"+u).data("instance")?$("#"+u).data("instance").remove():this.attachTo(e,t)}}),o}),define("todo/views/extensions/burnup_chart/main",["require","backbone","moment","todo/models/todo_burnup_list","todo/views/extensions/base","hgn!todo/templates/extensions/extension_burnupchart","todo/views/extensions/burnup_chart/column_store","todo/views/extensions/burnup_chart/select_column_menu","i18n!nls/commons","i18n!todo/nls/todo","go-nametags","go-ignoreduplicatemethod","go-charts","jquery.ui","GO.util"],function(require){function d(){var e=this.todoModel.id,t=_.pluck(this.todoModel.getCategories(),"id");s.hasTodoId(e)?s.set(e,_.intersection(s.get(e),_.union(t,[0]))):s.set(e,t.pop())}function v(e){var t=this.todoModel.getCategory(e)||{};return S(e)&&(t.title=u["\uc804\uccb4"]),t}function m(){var e=this.todoModel,t=s.get(e.id),n=[],r=this;_.each(t,function(e){var t=v.call(this,e);n.push({id:e,title:GO.util.unescapeHtml(t.title),options:{removable:!0}})},this),this.nameTagListView=f.create(n||[],{useAddButton:!1,useMarker:!0}),this.$el.find(".selected-column-list").append(this.nameTagListView.el),this.nameTagListView.$el.on("nametag:removed",function(t,n,i){o.clear(),s.remove(e.id,n),r.isDirty=!0,b.call(r)})}function g(e,t){var n=v.call(this,t);if(!this.nameTagListView)return;e?this.nameTagListView.addTag(t,GO.util.unescapeHtml(n.title),{removable:!0}):this.nameTagListView.removeTag(t)}function y(){var e=this.$el.height(),t=this.$el.find(".todo_statistic_opt").outerHeight();return e-t-30}function b(){var e=this;if(!this.isDirty){w.call(this);return}this.collection.getFilteredData(this.startDate,this.endDate,_.without(s.get(this.todoModel.id),0)).then(function(){w.call(e),e.isDirty=!1})}function w(){var e=this.$el.find("[data-chart-placeholder]"),t=E.call(this),n=[];e.height(y.call(this)),_.each(t,function(e,t){if(t!=="total"){var r=this.nameTagListView.getNameTag(t);n.push(r.data("marker"))}},this),this.__plotObj=$.plot(e,_.values(t),{series:{lines:{show:!0},points:{show:!0}},legend:{show:!1},xaxis:{ticks:T.call(this)},yaxis:{min:0,tickDecimals:0},selection:{mode:"x"},grid:{hoverable:!0,clickable:!0},colors:n}),C.call(this)}function E(){function f(e,t){var n=0;return e&&(S(t)?n=e.get("totalCount"):e.get("evaluatedMap")[t]&&(n=e.get("evaluatedMap")[t])),n}function l(){var e={},t=s.get(this.todoModel.id);return _.each(t,function(t){var n=S(t)?a["\uc804\uccb4\uce74\ub4dc\uc218"]:this.todoModel.getCategory(t).title;e[t]={label:n,data:[]}},this),e}var e=this.startDate.clone(),t=this.endDate.clone(),n=e,r=l.call(this),i=s.get(this.todoModel.id),o=0;while(n.isBefore(t)){var u=this.collection.findWhere({date:n.format("YYYYMMDD")});_.each(i,function(e){var t=f(u,e);r[e].data.push([o,t])}),this.tootipData.push(n.format("MM/DD")),n.add(1,"day"),o++}return r}function S(e){return e==0}function x(){var e=this,n=this.startDate.toDate(),r=this.endDate.toDate(),i=this.$el.find("#start-date"),s=this.$el.find("#end-date");$.datepicker.setDefaults($.datepicker.regional[GO.config("locale")]),i.val(this.startDate.format(h)).datepicker({defaultDate:n,maxDate:t(new Date).add(-1,"day").format(h),changeMonth:!0,changeYear:!0,yearRange:"-1:+0",numberOfMonths:1,dateFormat:"yy-mm-dd",yearSuffix:"",onSelect:function(t){s.datepicker("option",{minDate:t,maxDate:L(t,s.val()).format(h)}),k.call(e,t,s.val())}}),s.val(this.endDate.format(h)).datepicker({defaultDate:r,minDate:n,maxDate:L(this.startDate.format(h),this.endDate.format(h)).format(h),changeMonth:!0,changeYear:!0,yearRange:"+0:+1",numberOfMonths:1,yearSuffix:"",onSelect:function(t){k.call(e,i.val(),t)}})}function T(){var e=this.startDate,t=this.endDate,n=t.diff(e,"day"),r=e.clone(),i=[],s=0;while(r.isBefore(t)){var o=r.format("MM/DD");n>7&&s%7!==0&&s!==n&&(o=""),i.push([s,o]),r.add(1,"day"),s++}return i}function N(e,t,n){var r=_.extend({},{position:"absolute",display:"none",top:n,border:"2px solid #4572A7",padding:"2px 10px",size:"10","background-color":"#fff",opacity:.8});$("."+p.tooltip).remove(),$('<div class="'+p.tooltip+'">'+e+"</div>").css(r).appendTo("body");var i=$(window).width(),s=$("."+p.tooltip).outerWidth(),o={};s+t>i?o.right=Math.abs(i-t):o.left=t,$("."+p.tooltip).css(o).fadeIn(200)}function C(){var e=this,t=null;this.$el.on("plothover",function(n,r,i){if(i){if(t!=i.dataIndex){var s=i.datapoint[0],o=i.datapoint[1],u="<strong>"+o+"</strong> ("+i.series.label+")"+"<br>"+e.tootipData[i.dataIndex];N(u,i.pageX,i.pageY),t=i.dataIndex}}else $("."+p.tooltip).remove(),t=null})}function k(e,n){var r=t(e),i=A(e,n);this.startDate=r,this.endDate=A(e,n),this.$el.find("#start-date").val(r.format(h)),this.$el.find("#end-date").val(i.format(h)),this.isDirty=!0,b.call(this)}function L(e,n){var r=t(e).add(c,"month").endOf("day"),i=t().endOf("day");return r.isAfter(i)&&(r=i),r}function A(e,n){var r=t(e).clone().startOf("d"),i=t(n).clone().endOf("d"),s=i;return i.isAfter(new Date)&&(s=t().endOf("day")),i.diff(r,"month")>c&&(s=r.clone().add(c,"month")),i.isBefore(r)&&(s=r.clone().add(i.diff(r,"days"),"day")),s}var e=require("backbone"),t=require("moment"),n=require("todo/models/todo_burnup_list"),r=require("todo/views/extensions/base"),i=require("hgn!todo/templates/extensions/extension_burnupchart"),s=require("todo/views/extensions/burnup_chart/column_store"),o=require("todo/views/extensions/burnup_chart/select_column_menu"),u=require("i18n!nls/commons"),a=require("i18n!todo/nls/todo"),f=require("go-nametags");require("go-ignoreduplicatemethod"),require("go-charts"),require("jquery.ui"),require("GO.util");var l,c=6,h="YYYY-MM-DD",p={tooltip:"flot-tooltip"};return l=r.extend({id:"burnup_chart_view_id",name:"todo-burnupchart-view",className:"view_type view_todo_statistic",todoModel:null,startDate:null,endDate:null,template:i,isDirty:!0,tootipData:[],nameTagListView:null,events:function(){var e=r.prototype.events||{};return _.extend({},e,{"click .btn-add-column":"_toggleSelectColumnMenu"})},initialize:function(e){var i=e||{};r.prototype.initialize.call(this,i),this.todoModel=i.todoModel,this.collection||(this.collection=new n({todoId:this.todoModel.id})),this.startDate=t().subtract("d","30").startOf("d"),this.endDate=t().endOf("d"),this.__plotObj=null,d.call(this)},render:function(){this.setContent(this.template({label:{add_column:a["\uce7c\ub7fc \ucd94\uac00"]}})),x.call(this),m.call(this),b.call(this)},resize:function(e){r.prototype.resize.call(this,e-20),o.clear(),b.call(this)},_toggleSelectColumnMenu:function(e){var t=this;e.preventDefault(),o.toggle($(e.currentTarget),{model:this.todoModel,onClicked:function(e){var n=parseInt(e.val());g.call(t,e.prop("checked"),n),t.isDirty=!0,b.call(t)}})}}),l}),define("hgn!todo/templates/extensions/extension_calendar",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<section class="tool_bar calendar_tool_bar">'),r.b("\n"+n),r.b('    <div class="current_date">'),r.b("\n"+n),r.b('        <span class="prev-btn btn_ic_prev2 btn_border" title="'),r.b(r.v(r.d("label.prev",e,t,0))),r.b('"><span class="ic ic_prev2"></span></span>'),r.b("\n"+n),r.b('        <span class="date datepicker-btn" id="date-indicator">'),r.b(r.v(r.f("currentMonth",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('        <span class="next-btn btn_ic_next2 btn_border" title="'),r.b(r.v(r.d("label.next",e,t,0))),r.b('"><span class="ic ic_next2"></span></span>'),r.b("\n"+n),r.b('        <input id="todoDatepicker" type="text" style="border:0px;width:0px;height:0px;"/>'),r.b("\n"+n),r.b('        <span class="today-btn btn_tool"><span class="txt">'),r.b(r.v(r.d("label.today",e,t,0))),r.b("</span></span>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("</section>"),r.b("\n"+n),r.b('<div class="calbean-viewport"></div>'),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(e,t){var n=this,r=Array.prototype.slice,i=7,s={day:"day",time:"time"},o={timed:"timed",allday:"allday"},u={time:"txtcolor",day:"bgcolor"},a={"public":"public","private":"private"},f={company:"company",normal:"normal",holiday:"holiday",anniversary:"anniversary"},l={update_calendar_color:"update:calendar-color",add_events:"add:events",reset_events:"reset:events",clear_events:"clear:events",remove_calendars:"remove:calendars",change_view_type:"change:view-type",change_date:"change:date",resize:"resize:calendar",request_show_event:"request:show-event",request_create_event:"request:create-event",changed_date:"changed:date",changed_time:"changed:time",changed_view_type:"changed:view-type"},c=function(e,t){typeof t=="undefined"&&(t=!1);if(e.constructor===Array)return r.call(e);var n=new Object;for(var i in e)n[i]=typeof e[i]=="object"&&t?c(e[i]):e[i];return n},h=function(e,t){if(typeof e!="object")throw new Error("Invalid object.");for(var n in e)if(e[n]===t)return!0;return!1},p=function(){var e=function(){return new Error("Invalid date format")};return e}(),d=function(){var e=r.call(arguments),n=e.length;for(var i=0;i<n;i++)if(!t(e[i]).isValid())return!1;return!0},v=function(e){return t(e).day()===0},m=function(e){return t(e).day()===6},g=function(e,n){var r=t(e).clone().startOf("day"),i=t(n).clone().startOf("day");return r.diff(i)===0},y=function(e){return g(e,new Date)},b=function(e,n){var r=t(e).clone().startOf("month"),i=t(n).clone().startOf("month");return r.diff(i)===0},w=function(e,n){var r=t(n).clone().startOf("month").toDate(),i=t(e).clone().startOf("month").toDate();return i<r},E=function(e,n){var r=t(n).clone().startOf("month").toDate(),i=t(e).clone().startOf("month").toDate();return i>r},S=function(t){e(t).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},x=function(e,n){return Math.ceil(t(n).diff(e,"day",!0))},T=function(){function r(e,t){var n=e.day()-t;return n<0&&(n=this.options.width+n),n}function s(){var e=new Date(this.options.date.getTime()),n=t(e),i=n.clone().startOf("month"),s=r(i,this.options.startday),o=n.clone().endOf("month"),u=i.clone().subtract("days",s),a={cols:this.options.width,rows:Math.ceil((o.date()+s)/this.options.width)};for(var f=0;f<a.rows;f++)for(var l=0;l<a.cols;l++)this.matrix[f]instanceof Array||(this.matrix[f]=[]),this.matrix[f][l]={instance:u.clone().toDate(),year:u.year(),month:u.month(),date:u.date(),day:u.day(),today:y(u),events:[],flags:[],axisX:f,axisY:l},u.add("days",1);return this.rows=a.rows,this.cols=a.cols,this.matrix}function u(e){return e.type===f.holiday||e.type===f.anniversary}function a(e){return e.timeType===o.allday}function l(){var e=this.getFirstCell().instance,n=this.getLastCell().instance,i=this.options.events.length;for(var s=0;s<i;s++){var o,f,l=0,h=0,p=0,d,v,m,y={x:0,y:0},b=0,w=0,E=1,S=!0,T=-1,N=this.options.events[s],C=t(this.getFirstCell().instance);if(!this.isValidEvent(N))continue;u(N)||a(N)?(o=t(N.startTime,"YYYY-MM-DD").clone().startOf("days"),f=t(N.endTime,"YYYY-MM-DD").clone()):(o=t(N.startTime).clone().startOf("days"),f=t(N.endTime).clone()),f.format("HH:mm:ss")==="00:00:00"&&N.timeType==="timed"?(N.endTime=f.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),f.subtract("seconds",1)):f.endOf("days"),l=r(o,this.options.startday),h=x(o,f),this.options.width>1?p=Math.ceil((h+l)/this.options.width):p=h,d=t(N.startTime).toDate()<e?t(e).clone().startOf("days"):o,v=t(N.endTime).toDate()>n?t(n).clone().endOf("days"):f,y=this.getAxis(d),m=x(d,v),b=+y.x,w=+m;if(o.isBefore(t(C),"day")){var k=x(o,C),L=Math.ceil(k/this.options.width);E+=L}while(w>0){var A=this.getCell(y.x,y.y),O=A.flags,M=A.events,_=this.options.width-d.day()-1+this.options.startday,D={id:N.id,type:N.type,summary:N.summary,range:m,total_rows:p,current_row:+E,_ref:N};u(N)?O.push(D):(D.render=!0,T===-1&&(T=c(M)),m>1&&(S?(_>0&&(D.colspan=w>_?_+1:w),S=!1):D.render=!1),A.events[T]=D),this.__eventsIndex__[N.id]=s;if(g(d,v))break;b=+y.x,d.add("days",1),y=this.getAxis(d),y.x>b&&(E++,S=!0,T=-1),w--}}}var n=function(t){this.options=e.extend({date:new Date,startday:0,width:i,events:[]},t||{}),this.matrix=[],this.rows=0,this.cols=0,this.__eventsIndex__={},s.call(this),l.call(this)};n.prototype={updateEvent:function(t){if(!t.id)throw new Error("\uc774\ubca4\ud2b8 ID\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");var n=this.findEventById(t.id);e.extend(!0,n,t),this.reset()},resetEvents:function(e){this.options.events=e,l.call(this)},setStartday:function(e){if(this.options.startday===e)return;this.options.startday=e,l.call(this)},isValidEvent:function(e){var n=t(e.startTime),r=t(e.endTime);return d(n,r)&&!(r.diff(n)<0)},findEventById:function(e){return this.options.events[this.__eventsIndex__[e]]},getAxis:function(e){var n=t(e),r=t(this.options.date).clone().startOf("month").day(),i=b(e,this.options.date)?r:n.clone().startOf("month").day()+this.options.startday,s=this.options.width===1?i:i%this.options.width,o=s+n.date(),u={x:0,y:0};w(e,this.options.date)?u.x=0:E(e,this.options.date)?u.x=this.getAxisXOfLast():u.x=this.options.width===1?o-1:Math.floor((o-1)/this.options.width),u.y=this.options.width===1?0:(s+n.date())%this.options.width-1,u.y<0&&(u.y=this.options.width+u.y);if(u.x<0||u.x>this.getRowCount()||u.y>this.getColCount())throw new Error("Invalid axis of matrix");return u},getAll:function(){return this.matrix},getCell:function(e,t){return this.matrix[e][t]},getCellByDate:function(e){var t=this.getAxis(e);return this.getCell(t.x,t.y)},getRow:function(e){return this.matrix[e]},getRowByDate:function(e){return this.getRow(this.getAxis(e).x)},getRowCount:function(){return this.rows},getColCount:function(){return this.cols},getFirstCell:function(){return this.matrix[0][0]},getLastCell:function(){return this.matrix[this.getAxisXOfLast()][this.getAxisYOfLast()]},getAxisXOfLast:function(){return this.rows-1},getAxisYOfLast:function(){return this.cols-1}};var c=function(e){var t=0;for(var n=0,r=e.length;n<=r;n++)if(typeof e[n]=="undefined"){t=n;break}return t};return n.__cache__={},n.getInstance=function(e){var r=t(e.date||new Date),i=r.format("YYYYMM");if(n.__cache__[i]==null||typeof n.__cache__[i]=="undefined")n.__cache__[i]=new n(e);return n.__cache__[i]},n}();e.fn.calbean=function(n){function Y(e){return e=e||"td","<"+e+' class="scroll_area timeline-scrollfix"></'+e+">"}var i=e.extend(!0,{type:"weekly",startday:0,date:new Date,lang:"ko",lazy:!1,height:0,maxRows:4,events:[],useAttendeeFetch:!1,i18n:{"\uc885\uc77c\uc77c\uc815":"\uc885\uc77c\uc77c\uc815","\uc2dc\uac04":"\uc2dc\uac04","\ub2eb\uae30":"\ub2eb\uae30","{{count}} \uac1c":"","\uc804\uc0ac\uc77c\uc815":"\uc804\uc0ac\uc77c\uc815"}},n||{}),w=t.weekdaysShort(),E={d:"daily",w:"weekly",m:"monthly"},C="calbean-calendar-",k="calbean_calendar_view",A=i.i18n,O={},M=e(this);S(this);var D=function(){var t=e("."+k).length;M.attr("id")||M.attr("id",C+t),M.hasClass(k)||M.addClass(k),H(),V()},P=function(){function e(e,i){var s={allday:1,timed:2};return(new r(e,i)).pipe(function(t,r){return n(t.startTime,r.startTime)}).pipe(function(t,r){return n(r.endTime,t.endTime)}).pipe(function(t,n){return s[t.timeType]-s[n.timeType]}).pipe(function(n,r){return t(n.startTime).valueOf()-t(r.startTime).valueOf()}).pipe(function(n,r){return t(n.createdAt).valueOf()-t(r.createdAt).valueOf()}).run()}function n(e,t){var n=e.split("T")[0],r=t.split("T")[0],i=-1;return n>r?i=1:n===r&&(i=0),i}function r(e,t){this.a=e,this.b=t,this.__result__=0,this.pipe=function(e){return this.__result__===0&&(this.__result__=e(this.a,this.b)),this},this.run=function(){return this.__result__}}i.events.sort(e)},H=function(){for(var e in l)M.off(l[e]);M.off("click","a.schedule")},B=function(t){t.preventDefault();var n=e(t.currentTarget),r=n.attr("is-init")?n:n.parent(),i=r.data()&&!!r.data().promise?r.data().promise:null;t.stopImmediatePropagation(),i&&i.done(function(){var e=r.data().event;e&&(e.visibility!=="private"||e.auth)&&M.trigger(l.request_show_event,[n.attr("data-calendarId"),n.attr("data-id")])})},j=function(e,t){M.height(t),i.height=t,st()},F=function(e,t){if(!h(E,t))throw new Error("Invalid view type.");i.type=t,st()},I=function(e,n,r){var s=t(n);r=r||[];if(!d(s))throw new p;i.date=s.toDate(),U(r||[]),st()},q=function(e,t,n){var r=!1,s=i.events.length;for(var o=0;o<s;o++){var u=i.events[o];if(u.__merged__&&u.__merged__.include_me&&parseInt(t)===u.__merged__.calendarId)u.__merged__.color=n;else{if(u.calendarId!=t)continue;if(u.color===n)continue;u.color=n}r=!0}r&&st()},R=function(e){var t=i.events.length;for(var n=0;n<t;n++)if(i.events[n].id===e)return!0},U=function(e){var t=!1;e=e||[];if(e.length>0){var n=e.length;for(var r=0;r<n;r++){var s=e[r];if(R(s.id))continue;i.events.push(s),t=!0}t&&P()}return t},z=function(e,t){U(t)&&st()},W=function(e,t,n){i.events=[],st(t||[],n)},X=function(t,n){var r=[],s=!1,o=i.events.length;for(var u=0;u<o;u++){if(e.inArray(i.events[u].calendarId,n)>-1){s=!0;continue}r.push(i.events[u])}s&&(i.events=r,st())},V=function(){M.on(l.update_calendar_color,q),M.on(l.add_events,z),M.on(l.reset_events,W),M.on(l.remove_calendars,X),M.on(l.change_view_type,F),M.on(l.change_date,I),M.on(l.resize,j),M.on("click","a.schedule",B)},J=function(e,t){return t>1||t<=1&&e.timeType===o.allday},K=function(e){return['<span class="time">',t(e).format("HH:mm"),"</span>"].join("")},Q=function(e){return e===a["private"]},G=function(){return'<span class="ic_classic ic_lock"></span>'},Z=function(){var n={calendar:"calendar",timeline:"timeline"},r=function(e){this.matrix=e,this.limit=0,this.type=""+n.calendar,this.classnames={tr:[],td:[]}};return r.prototype={setLimit:function(e){return this.limit=e,this},setType:function(e){return this.type=e,this},addClass:function(e,t){return this.classnames[e].push(t),this},build:function(){var e=[],n=this.matrix.length,r=this._computeTotalRows(this.matrix,this.limit),i=this._generateClassForTable("tr"),s=this._generateClassForTable("td"),o=0;this._rebuildEventsAndFlags();do{e.push(["<tr",i,">"].join("")),o===0&&this._isTimelineType()&&e.push("<th",r>0?[' rowspan="',r+1,'"'].join(""):"",">",this._hasEhrInfo(this.matrix)?A["\uc885\uc77c\uadfc\ud0dc\uc77c\uc815"]:A["\uc885\uc77c\uc77c\uc815"],"</th>");for(var u=0;u<n;u++){var a=this.matrix[u].rebuildSchedule,f=t(this.matrix[u].instance).format("YYYY-MM-DD"),l="",c="";if(a.length>o&&a[o]){if(a[o].render===!1)continue;a[o].colspan&&(c=' colspan="'+a[o].colspan+'"'),l=this._buildDayEvent(a[o])}e.push(["<td",s,c,' data-date="',f,'">'].join("")),e.push(l),e.push("</td>")}this._isTimelineType()&&e.push(Y()),e.push("</tr>"),o++}while(o<r);return r>0&&e.push(this._buildBlankRow(r)),e.join("")},_hasEhrInfo:function(t){var n=!1;return e.each(t,function(t,r){if(r.events.length==0)return!0;e.each(r.events,function(e,t){if(t&&t._ref.hasOwnProperty("referenceId"))return n=!0,!1});if(n)return!1}),n},_computeTotalRows:function(){var e=this.matrix.length,t=0,n=0;for(var r=0;r<e;r++)t=Math.max(t,this._getEventCount(this.matrix[r].events)),this._isTimelineType()&&(n=Math.max(n,this._getEventCount(this.matrix[r].flags)));return t+n},_rebuildEventsAndFlags:function(){var e=0;for(var t=0;t<this.matrix.length;t++)e=Math.max(this._getEventCount(this.matrix[t].flags),e);for(var n=0;n<this.matrix.length;n++)if(this.type=="timeline"){var r=[],i=this.matrix[n].events,s=this.matrix[n].flags,o=new Array(e-s.length);r=r.concat(o,s,i),this.matrix[n].rebuildSchedule=r}else this.matrix[n].rebuildSchedule=this.matrix[n].events},_buildBlankRow:function(e){var n=[],r=this.matrix.length,i=this._generateClassForTable("tr"),s=this._generateClassForTable("td");n.push(["<tr",i,">"].join(""));for(var o=0;o<r;o++){var u=this.matrix[o].events,a=t(this.matrix[o].instance).format("YYYY-MM-DD"),f=u.length-e;n.push(["<td",s,' data-date="',a,'">'].join("")),!this._isTimelineType()&&f>0&&n.push(['<a class="btn_schedule_more" href="#" data-bypass>+',f,A["{{count}} \uac1c"],"</a>"].join("")),n.push("</td>")}return n.push("</tr>"),n.join("")},_getEventCount:function(e){var t=0;if(this._isTimelineType()){var n=e.length;for(var r=0;r<n;r++){var i=e[r];i&&J(i._ref,i.range)&&t++}}else t=this.limit>0?Math.min(e.length,this.limit):e.length;return t},_generateClassForTable:function(e){return this.classnames[e].length>0?[' class="',this.classnames[e].join(" "),'"'].join(""):""},_buildDayEvent:function(e){var t=[],n=["draggable"],r=["schedule"],i="schedule_",u=e.range,a=s.time+"",f=c(e._ref),l=[],h=f.summary;J(f,u)&&(a=s.day);if(this._isTimelineType()&&a===s.time)return"";L(f)&&n.push("ehr_info"),(!L(f)||u!=1)&&n.push(i+a),e.total_rows>1&&(e.current_row>1&&(n.push("schedule_day_left"),l.push('<div class="tail_l"><div></div></div>')),e.current_row<e.total_rows&&(n.push("schedule_day_right"),l.push('<div class="tail_r"><div></div></div>'))),a===s.day&&(f.__merged__?n.push("bgcolor_group"):(!L(f)||u!=1)&&n.push("bgcolor"+(f.color||"1"))),n.push("ev-"+f.id);var p=[];return f.type==="company"&&p.push(f.calendarName),t.push('<div el-event class="',n.join(" "),'">',"\n"),t.push(l.join("\n")),t.push('<a href="#" class="',r.join(" "),'" title="',[h,p.join(",")].join(" ; "),'" data-id="',e.id,'" data-calendarId="',f.calendarId,'" data-duration="',e.range,'" data-startdate="',f.startTime,'" data-bypass>',"\n"),f.timeType===o.timed&&(a===s.time&&t.push('<span class="chip bgcolor'+(f.__merged__?"_group":f.color||"1")+'"></span>',"\n"),t.push(K(f.startTime),"\n")),Q(f.visibility)&&t.push(G(),"\n"),L(f)?(t.push('<span class="chip bgcolor',f.color,'"></span>'),t.push('<span class="info">',h,"</span>",'<span class="name">(',f.creator.name,")</span>","\n")):t.push("<span>",h,"</span>","\n"),t.push("</a>","\n"),t.push("</div>","\n"),t.join("")},_isTimelineType:function(){return this.type===n.timeline}},r}(),et=function(){var n=function(){this.id="layer-schedule-more",this.$el=this._createElement(),this.$el.draggable({containment:e("#calendar-viewport"),handle:".drag_area",cursor:"move"}),this.delegateEvents()};return n.prototype={render:function(e,n,r,i){return this._setPosition(e.currentTarget),this.$el.find("ul").empty().append(this._buildEventList(n,r)),this.$el.find("span.date").text(t(n).format("DD")),i.useAttendeeFetch&&N.call(this,this.$el),this._bindDraggable(),this},_bindDraggable:function(){var t=e("table.bg_row td").first().width();this.$el.find(".draggable").draggable({containment:".month_body",cursor:"move",appendTo:".month_body",revert:"invalid",cursorAt:{left:t/2,top:10},helper:function(n){var r=e(this).clone();return r.width(t),r.addClass("dragged"),r},start:function(){var t=e(this),n=t.find("a").data("id");e(".ev-"+n).css("opacity",.7)},stop:function(t,n){var r=e(this),i=r.find("a").data("id"),s=e(n.helper.context).data("promise");typeof s===undefined?(e(".ev-"+i).css("opacity",1),this.remove()):s.done(e.proxy(function(){e(".ev-"+i).css("opacity",1),this.remove()},this))}})},delegateEvents:function(){return e("body").on("click.schedule-more",e.proxy(this._blur,this)),this.$el.on("click","a.schedule",e.proxy(this._showEvent,this)),this.$el.on("click",".ic_close_s2",e.proxy(this.remove,this)),this.$el.on("mouseover",".drag_area > .btn_border",e.proxy(this._disableDrag,this)),this.$el.on("mouseout",".drag_area > .btn_border",e.proxy(this._enableDrag,this)),this},undelegateEvents:function(){return e("body").off("click.schedule-more"),this.$el.off(),this},remove:function(){return this.undelegateEvents(),this.$el.remove(),n.__instance__=null,this},_showEvent:function(e){return B(e),this.remove(),this},_blur:function(t){var n=e(t.target);if(n.is("a.btn_schedule_more"))return;if(!this.$el.is(":visible"))return;if(n.parents("#"+this.id).length>0)return;return this.remove(),this},_enableDrag:function(){return this.$el.draggable("enable"),this},_disableDrag:function(){return this.$el.draggable("disable"),this},_setPosition:function(e){return this._setOffsetX(e),this._setOffsetY(e),this},_setOffsetX:function(t){var n=e(t),r=e(window).width(),i=n.offset().left,s=i+this.$el.outerWidth();return s>r&&(i=r-this.$el.outerWidth()),this.$el.css("left",i+"px"),this},_setOffsetY:function(t){var n=e(t),r=n.parent().parent().parent().offset().top;return this.$el.css("top",r+"px"),this},_createElement:function(){return e("#"+this.id).length||this._buildLayerWrapper(),e("#"+this.id)},_buildLayerWrapper:function(){var t=[];return t.push(['<div id="',this.id,'" class="layer_normal layer_schedule_more">'].join("")),t.push('<div class="title drag_area">'),t.push(['<span class="date"></span>'].join("")),t.push('<span class="btn_border">'),t.push('<span class="ic_classic ic_close_s2" title="'+A["\ub2eb\uae30"]+'"></span>'),t.push("</span>"),t.push("</div>"),t.push("<ul>"),t.push("</ul>"),t.push("</div>"),e("body").append(t.join("\n")),this},_buildEventList:function(e,n){var r=[];r.push("<li>");for(var i=0,a=n.length;i<a;i++){if(!n[i]||typeof n[i]=="undefined")continue;var f=n[i],l=f._ref,c=l.color,h=t(l.startTime),p=J(l,f.range),d=p&&f.range>1,v=g(e,h),m=g(e,l.endTime),y="",b=["draggable"];p?(L(l)&&b.push("ehr_info"),(!L(l)||!!d)&&b.push("schedule_day"),d&&v&&b.push("schedule_day_left"),d&&m&&b.push("schedule_day_right"),y=u[s.day]):(b.push("schedule_time"),y=u[s.time]),l.__merged__?b.push(y+"_group"):(!L(l)||!!d)&&b.push(y+c),r.push(['<div el-event class="',b.join(" "),'">'].join("")),d&&(v&&r.push('<div class="tail_l"><div></div></div>'),m&&r.push('<div class="tail_r"><div></div></div>'));var w=l.summary+" ; ";l.type=="company"&&(w+=l.calendarName),r.push(['<a href="#" class="schedule" title="',w,'" data-startdate="',h,'" data-calendarId="',l.calendarId,'" data-id="',f.id,'" data-duration="',1,'" data-bypass>'].join("")),l.__merged__&&l.__merged__.include_me&&r.push('<span class="chip bgcolor'+l.__merged__.color+'"></span>',"\n"),l.timeType===o.timed&&r.push(['<span class="time">',h.format("HH:mm"),"</span>"].join("")),L(l)?(r.push(['<span class="chip bgcolor',c,'"></span>'].join("")),r.push(['<span class="info">',l.summary,"</span>",'<span class="name">(',l.creator.name,")</span>"].join(""))):r.push(["<span>",l.summary,"</span>"].join("")),r.push("</a>"),r.push("</div>")}return r.push("</li>"),r.join("\n")}},n.__instance__=null,n.create=function(){return this.__instance__===null&&(this.__instance__=new n),this.__instance__},n.release=function(){var e=this.create();e.remove(),this.__instance__=null},n}(),tt=function(){var n="calendar_month",r="calbean-monthly",i,s,u=function(e){this.options=_.clone(e),this.matrix=new T(this.options),this.rowCount=this.matrix.getRowCount(),this.maxRows=e.maxRows,this.undelegateEvents(),this.delegateEvents()};return u.prototype={render:function(){var e=[];return this.maxRows=Math.floor(this.options.height/this.rowCount/22)-2,e.push(this._buildTableHeader()),e.push(this._buildMonthBody()),M.empty().html(e.join("\n")),this._resetClass(this,E.m),this._resize(this.options.height),this.options.useAttendeeFetch&&N.call(this,M),this._bindDND(),this},_bindDND:function(){var t=M.find("table.bg_row td").first().width();M.find(".draggable").draggable({containment:".month_body",cursor:"move",appendTo:".month_body",revert:"invalid",cursorAt:{left:t/2,top:10},helper:function(n){var r=e(this).clone();return r.width(t),r.addClass("dragged"),r},start:function(){var t=e(this),n=t.find("a").data("id");e(".ev-"+n).css("opacity",.7)},stop:function(t,n){var r=e(n.helper.context).data("promise"),i=e(this),s=i.find("a").data("id");typeof r===undefined?e(".ev-"+s).css("opacity",1):r.done(function(){e(".ev-"+s).css("opacity",1)})}}),M.find("table.bg_row td").droppable({accept:".draggable",tolerance:"intersect",drop:function(t,n){var r=e(n.draggable).find("a"),i=r.data("id"),s=r.data("calendarid"),o=r.data("startdate"),u=e(this).data("date");e(this).removeClass("on");if(!g(o,u)){var a=n.draggable.data("promise"),f=function(){M.trigger(l.changed_date,[i,s,u,e(n.draggable)])};typeof a===undefined?f():a.done(function(){f()})}},over:function(t,n){e(this).addClass("on")},out:function(t,n){e(this).removeClass("on")}})},delegateEvents:function(){return M.on(l.change_view_type+"."+r,e.proxy(this._resetClass,this)),M.on("click."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td:empty",e.proxy(this._requestCreateEvent,this)),M.on("click."+r,"table.schedule_row span.day",function(t){var n=e(t.target);M.trigger(l.changed_view_type,[E.d,n.parent().attr("data-date")])}),M.on("click."+r,"a.btn_schedule_more",e.proxy(this._showMoreEvent,this)),M.on("mousedown."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td:empty",e.proxy(function(t){this._initDragValue(!0);if(!this._isDefaultMouseButton(t))return;i=e(t.target).attr("data-date")||e(t.target).parent().attr("data-date"),M.find("td.dt"+i).addClass("conti_schedule")},this)),M.on("mouseup."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td",e.proxy(this._createEventByDragEvent,this)),M.on("mouseover."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td",e.proxy(this._sameWeekdayByDragEvent,this)),M.on("mouseout."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td",e.proxy(this._sameWeekdayByDragEvent,this)),this},_createEventByDragEvent:function(t){if(!this._isDefaultMouseButton(t)){this._initDragValue(!0);return}var n=this._getDataDate(e(t.target));s=_.isEmpty(s)?n:s;if(!this._validateByDragRegistration()||_.isEmpty(n)){console.info("Skip1 Event, DRAG_DOWN_DATE: "+i),this._initDragValue(!0);return}if(!this._isSameWeekdayAndAfter(n)){if(!this._isSameWeekdayAndAfter(s)){console.info("Skip2 Event, DRAG_DOWN_DATE: "+i),this._initDragValue(!0);return}n=s}var r=GO.util.isAfterOrSameDate(i,n),u=r?i:n,a=r?n:i,f=GO.util.toMoment(a).startOf("day").diff(GO.util.toMoment(u).startOf("day"),"days");for(var c=0;c<f;c++){var h=GO.util.shortDate(GO.util.toMoment(u).add("days",c+1));M.find("td.dt"+h).addClass("conti_schedule")}M.trigger(l.request_create_event,[o.timed,u,null,a]),this._initDragValue(!1)},_painting:function(e){var t=this._getSameWeekdayDates().sort();_.each(t,function(t){GO.util.isAfterOrSameDate(i,t)&&GO.util.isAfterOrSameDate(t,e)&&M.find("td.dt"+t).addClass("conti_schedule")})},_restorePainting:function(e){M.find("td.dt"+e).removeClass("conti_schedule")},_sameWeekdayByDragEvent:function(t){if(!i||!this._isDefaultMouseButton(t))return!1;s||(s=i);var n=this._getDataDate(e(t.target));_.isEmpty(n)&&(e.goError(A["\ub4f1\ub85d\ud560 \uc218 \uc5c6\ub294 \uc77c\uc815 \uacbd\uace0"]),this._initDragValue(!0)),this._isSameWeekdayAndAfter(n)&&(GO.util.isAfterOrSameDate(s,n)?this._painting(n):this._restorePainting(s),s=n)},_initDragValue:function(t){i="",s="",t&&e(".ui-droppable").removeClass("conti_schedule")},_getDataDate:function(e){if(e.attr("data-date"))return e.attr("data-date");var t="";return e.parents().each(function(e,n){n.getAttribute("data-date")&&(t=n.getAttribute("data-date"))}),t},_getSameWeekdayDates:function(){if(!this._validateByDragRegistration())return[];var e=_.map(M.find("td.dt"+i).siblings(),function(e){return e.getAttribute("data-date")});return e.push(i),e},_isSameWeekdayAndAfter:function(e){return this._validateByDragRegistration()&&!GO.util.isAfter(e,i)&&_.contains(this._getSameWeekdayDates(),e)},_validateByDragRegistration:function(){return!_.isEmpty(i)},_isDefaultMouseButton:function(e){return!_.isUndefined(e.button)&&0==e.button},undelegateEvents:function(){return M.off("."+r),this},_showMoreEvent:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.parent().attr("data-date"),i=this.matrix.getCellByDate(r),s=et.create();return s.render(t,r,i.events,this.options),t.stopImmediatePropagation(),this},_resetClass:function(e,t){return t===E.m?M.addClass(n):M.removeClass(n),this},_bindResizeJSEvent:function(e,t){return this._resize(t),this},_resize:function(e){var t=Math.floor((e-M.find(".tb_month_header").outerHeight())/this.rowCount);return M.find(".week_schedule").height(t),this},_requestCreateEvent:function(t){var n=e(t.target),r=n.attr("data-date")||n.parent().attr("data-date");r&&M.trigger(l.request_create_event,[o.timed,r])},_buildTableHeader:function(){var e=[],t=this.matrix.getRow(0);e.push('<table class="type_normal tb_month_header tb_fix">',"<thead><tr>","\n");for(var n=0,r=t.length;n<r;n++){var i=t[n].day,s=w[i],o=[];i===0&&o.push("sun"),i===6&&o.push("sat"),e.push('<th class="',o.join(" "),'">',s,"</th>","\n")}return e.push("</tr></thead>","</table>"),e.join("")},_buildMonthBody:function(){var e=[];e.push('<div class="month_body">');for(var t=0,n=this.matrix.getRowCount();t<n;t++){var r=this.matrix.getRow(t);e.push('<div class="week_schedule">'),e.push(this._buildWeekBgCells(r)),e.push(this._buildWeekScheduleRows(r)),e.push("</div>")}return e.push("</div>"),e.join("\n")},_buildWeekBgCells:function(e){var n=[];n.push("<tr>");for(var r=0,i=e.length;r<i;r++){var s=e[r],o=t(s.instance).format("YYYY-MM-DD"),u=["dt"+o];s.today&&u.push("today"),n.push('<td class="',u.join(" "),'" data-date="',o,'"></td>',"\n")}return n.push("</tr>"),this._tableRowDecorator(n.join(""),"bg_row")},_buildWeekScheduleRows:function(e){var t=[];return t.push(this._buildWeekHeaders(e)),t.push(this._buildWeekEvents(e)),this._tableRowDecorator(t.join(""),"schedule_row")},_buildWeekHeaders:function(e){var n=[],r=e.length;n.push("<tr>");for(var i=0;i<r;i++){var s=e[i],o=t(s.instance).format("YYYY-MM-DD"),u=this._generateClassesOfWeekHeaders(s,this.options.date);n.push('<th class="',u.join(" "),'" data-date="',o,'">',"\n"),n.push('<span class="day">',s.date,"</span>","\n"),n.push(this._buildFlaggedEvent(s.flags)),n.push("</th>","\n")}return n.push("</tr>"),n.join("")},_buildWeekEvents:function(e){var t=new Z(e);return t.setLimit(this.maxRows),t.build()},_hasFlagType:function(e,t){if(!f[t])return!1;for(var n=0,r=e.length;n<r;n++)if(b(GO.util.toMoment(GO.util.dateFormatWithoutTimeZone(e[n]._ref.startTime)),this.options.date)&&e[n].type===f[t])return!0;return!1},_hasHolidayFlag:function(e){return this._hasFlagType(e,"holiday")},_generateClassesOfWeekHeaders:function(e,n){var r=[],i=t(n).month();return e.month===i&&e.day===0&&r.push("sun"),e.month===i&&e.day===6&&r.push("sat"),e.flags.length>0&&r.push("holiday_"+(this._hasHolidayFlag(e.flags)?"on":"off")),e.month<i&&r.push("before"),e.month>i&&r.push("next"),e.today&&r.push("today"),r},_buildFlaggedEvent:function(e){var t=[],n=[];if(e.length<1)return"";for(var r=0,i=e.length;r<i;r++){var s=e[r];!s.summary||n.push(s.summary)}return n.length>0&&t.push('<span title="',n.join(", "),'" class="note">',n.join(", "),"</span>","\n"),t.join("")},_tableRowDecorator:function(e,t){typeof t=="undefined"&&(t=""),t!==""&&(t+=" ");var n=[];return n.push('<table class="',t,'tb_fix"><tbody>',"\n"),n.push(e,"\n"),n.push("</tbody></table>"),n.join("")}},u}(),nt=function(){var n=12,r=60/n,a=r,f=15,c="calendar_week",h="calbean-timeline",b=function(e,n){typeof n=="undefined"&&(n=e),this.__range={from:new Date,to:new Date};if(!d(e,n))throw new p;this.startday=0,this.__range.from=t(e).clone().toDate(),this.__range.to=t(n).clone().toDate(),this.__duration=this._computeDuration(this.__range.from,this.__range.to),this.__scrollTop=-1,this.matrix=new T({date:this.__range.from,width:this.__duration}),M.addClass(c),this.undelegateEvents(),this.delegateEvents()};return b.prototype={buildSkelecton:function(){var e=[],t=0;e.push(this._buildTimelineHeader()),e.push(this._buildTimelineBody()),M.empty().html(e.join("\n")),this._resize(i.height),this._scrollTo(),t=M.find("div.day_schedule table.schedule_row tr.row").length*19,M.find("div.day_schedule table.bg_row tr").height(t),M.find("div.day_schedule table.bg_row th").height(t)},render:function(n){var i=this;this.buildSkelecton(),n.useAttendeeFetch&&N.call(this,M);if(this.__duration>1){var s=M.find("table.schedule_row td").last().width();M.find("table.schedule_row .draggable").draggable({containment:"table.schedule_row tbody",cursor:"move",appendTo:"#calendar-viewport",revert:"invalid",cursorAt:{left:s/2,top:10},helper:function(t){var n=e(this).clone();return n.width(s),n.addClass("dragged"),n},start:function(){var t=e(this),n=t.find("a").attr("data-id");e(".ev-"+n).css("opacity",.7)},stop:function(){var t=e(this),n=t.find("a").data("id");e(".ev-"+n).css("opacity",1)}}),M.find("div.day_schedule table.bg_row td").droppable({greedy:!0,accept:"table.schedule_row .draggable",tolerance:"intersect",drop:function(t,n){var r=e(n.draggable).find("a"),i=r.data("id"),s=r.data("calendarid"),o=r.data("startdate"),u=e(this).data("date");e(this).removeClass("on"),g(o,u)||M.trigger(l.changed_date,[i,s,u,null])},over:function(t,n){e(this).addClass("on")},out:function(t,n){e(this).removeClass("on")}})}var o=0,u=e(".schedule_wrap").first().outerWidth();return M.find(".schedule_wrap .draggable").draggable({containment:".timeline_wrap",cursor:"move",appendTo:".timeline_wrap",revert:"invalid",grid:[e(".schedule_wrap").first().outerWidth()+21,f],drag:function(n,r){var i=r.offset.top,s=i-o,u=Math.abs(s)+5;if(u>f){var a=e(this),l=t(a.attr("data-starttime")),c=t(a.attr("data-endtime")),h=c.diff(l,"minutes"),p=l.clone().startOf("days"),d=Math.ceil(r.position.top+1),v=p.add("minutes",d),m=v.clone().add("minutes",h);e(this).find(".time").text(v.format("HH:mm")),e(this).attr("data-starttime",v.format("YYYY-MM-DDTHH:mm:ss.SSSZ")),e(this).attr("data-endtime",m.format("YYYY-MM-DDTHH:mm:ss.SSSZ")),o=+parseInt(i)}},start:function(t,n){var r=e(this).width(),s=parseInt(e(this).css("left")||"0")>0?e(this).width():u+16;i.preventClickEvent(),e(this).click(function(){return!1}),o=+parseInt(n.offset.top),e(this).css({width:s,opacity:.8,"z-index":"100"}),e(this).attr({"data-org-starttime":e(this).data("starttime"),"data-org-width":r})},stop:function(){e(this).css({width:e(this).attr("data-org-width"),opacity:1,"z-index":"auto"}),e(this).removeAttr("data-org-starttime").removeAttr("data-org-width"),o=0}}),M.find(".tb_week_body tr.cols td").droppable({greedy:!0,accept:".schedule_time",tolerance:"intersect",drop:function(n,r){var i=e(r.draggable),s=i.attr("data-id"),o=i.attr("data-calendarid"),u=i.attr("data-org-starttime"),a=t(i.attr("data-starttime")),f=t(i.attr("data-endtime")),c=f.diff(a,"minutes"),h=e(this).data("date"),p=[h,"T",a.format("HH:mm:ss.SSSZ")].join(""),d=t(p).clone().add("minutes",c).format("YYYY-MM-DDTHH:mm:ss.SSSZ");t(d).format("HH:mm:ss")==="00:00:00"&&(d=t(d).subtract("seconds",1).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),t(u).valueOf()!==t(p).valueOf()&&i.attr({"data-starttime":p,"data-endtime":d}),M.trigger(l.changed_time,[s,o,p,d,M.find("div.week_body_wrap").scrollTop()])}}),M.find(".schedule_wrap .resizable").resizable({containment:"parent",handles:{s:".resize"},grid:a,minHeight:a,autoHide:!0,start:function(e,t){i.preventClickEvent()},stop:function(n,i){var s=e(this),o=s.attr("data-id"),u=s.attr("data-calendarId"),f=s.attr("data-starttime"),c=s.attr("data-endtime"),h=r*Math.ceil(s.outerHeight()/a),p=t(f).add("minutes",h).format("YYYY-MM-DDTHH:mm:ss.SSSZ");t(p).format("HH:mm:ss")==="00:00:00"&&(p=t(p).subtract("seconds",1).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),M.trigger(l.changed_time,[o,u,f,p,M.find("div.week_body_wrap").scrollTop()])}}),this},scrollTo:function(e){this.__scrollTop=e},preventClickEvent:function(e){M.off(".calbean-timeline")},delegateEvents:function(){return M.on("click."+h,"div.schedule_time",B),M.on(l.change_view_type+"."+h,e.proxy(this._resetClass,this)),M.on("click."+h,"td.cell:not(:has(div.schedule_day))",e.proxy(this._createEventFromAlldayEvent,this)),M.on("click."+h,".timeline_wrap",e.proxy(this._createEventFromTimelineWrap,this)),M.on("click."+h,".schedule_wrap",e.proxy(this._createEventFromScheduleWrap,this)),M.on("mouseover."+h,".resizable",function(t){e(t.currentTarget).find(".resize").show()}),M.on("mouseleave."+h,".resizable",function(t){e(t.currentTarget).find(".resize").hide()}),this},undelegateEvents:function(){return M.off("."+h),this},setEvents:function(e){return this.matrix.resetEvents(e),this},resetEvents:function(e){this.matrix.resetEvents(e),this.render()},setStartday:function(e){this.matrix.setStartday(e)},_resetClass:function(t,n){e.inArray(n,[E.w,E.d])>-1?M.addClass(c):M.removeClass(c)},_bindResizeJSEvent:function(e,t){this._resize(t)},_createEventFromAlldayEvent:function(t){return M.trigger(l.request_create_event,[o.allday,e(t.currentTarget).attr("data-date")]),this},_createTimedEvent:function(e,t){var n=this._computeTimeFromTimeline(e,t),r=n.startTime,i=n.endTime;return M.trigger(l.request_create_event,[o.timed,r.format("YYYY-MM-DD"),r.format("HH:mm"),i.format("YYYY-MM-DD"),i.format("HH:mm")]),this},_createEventFromScheduleWrap:function(t){return this._createTimedEvent(t,e(t.currentTarget).attr("data-date"))},_createEventFromTimelineWrap:function(n){var r=e(n.currentTarget),i=r.outerWidth(),s=r.offset(),o=n.pageX-s.left,u=i/this.__duration,a=Math.floor(o/u),f=t(this.__range.from).clone().add("days",a).format("YYYY-MM-DD");return this._createTimedEvent(n,f)},_computeTimeFromTimeline:function(n,i){i=i||new Date;var s=t(i).clone().startOf("days"),o=e(n.currentTarget).offset(),u=n.pageY-o.top,f=Math.floor(u/a)*r,l=s.add("minutes",f),c=l.clone().add("hours",1);return{startTime:l,endTime:c}},_resize:function(e){var t=e-M.find(".tb_week_header").outerHeight()-M.find(".day_schedule").outerHeight();return M.find(".timeline-scrollfix").width(M.find(".week_body_wrap").width()-M.find(".tb_week_body").width()),M.find(".week_body_wrap").height(t),this},_scrollTo:function(){var t=M.find("div.week_body_wrap"),n=t.innerHeight(),r;if(this.__scrollTop>-1)r=this.__scrollTop;else{var i=M.find("#current-timeline"),s=i.position().top;s<550?r=e(".timeline_wrap div[data-time='07:00:00']").position().top:r=s-n/2}return r>0&&M.find("div.week_body_wrap").scrollTop(r),this},_computeDuration:function(e,n){var r=t(e).clone().startOf("day"),i=t(n).clone().endOf("day");return x(r,i)},_buildTimelineHeader:function(){var e=[];return e.push(this._buildWeekHeader()),e.push('<div class="day_schedule">'),e.push(this._buildRangeEventBgCells()),e.push('<table class="schedule_row tb_fix">'),e.push("<tbody>"),e.push(this._buildRangeEvents()),e.push("</tbody>"),e.push("</table>"),e.push("</div>"),e.join("\n")},_buildWeekHeader:function(){var e=[],n=t(this.__range.from).clone();e.push('<table class="tb_week_header tb_fix">'),e.push('<thead class="type_normal">'),e.push("<tr>"),e.push("<th>"+A["\uc2dc\uac04"]+"</th>");for(var r=0;r<this.__duration;r++){var i=[],s=n.format("MM.DD(ddd)");v(n)&&i.push("sun"),m(n)&&i.push("sat"),y(n)&&i.push("today"),e.push(["<th",i.length>0?[' class="',i.join(" "),'"'].join(""):"",'><span class="day">',s,"</span></th>"].join("")),n.add("days",1)}return e.push(Y("th")),e.push("</tr>"),e.push("</thead>"),e.push("</table>"),e.join("\n")},_buildRangeEventBgCells:function(){var e=[],n=t(this.__range.from).clone();e.push('<table class="bg_row tb_fix">'),e.push("<tbody>"),e.push("<tr>"),e.push("<th></th>");for(var r=0;r<this.__duration;r++)e.push('<td data-date="'+n.format("YYYY-MM-DD")+'"></td>'),n.add("days",1);return e.push(Y()),e.push("</tr>"),e.push("</tbody>"),e.push("</table>"),e.join("\n")},_buildRangeEvents:function(){var e=this.matrix.getAxis(this.__range.from),t=this.matrix.getRow(e.x),n=new Z(t);return n.setType("timeline"),n.addClass("tr","row"),n.addClass("td","cell"),n.build()},_buildTimelineBody:function(){var e=[];return e.push('<div class="week_body_wrap">'),e.push('<table class="tb_week_body tb_fix">'),e.push("<tbody>"),e.push(this._buildTimelineBgGrid()),e.push(this._buildTimelineEvents()),e.push("</tbody>"),e.push("</table>"),e.push("</div>"),e.join("\n")},_buildTimelineBgGrid:function(){var e=[],n=t(new Date).startOf("days");e.push('<tr style="height: 1px">'),e.push('<th style="width: 70px; height: 0"></th>'),e.push(['<td class="time_wrap"',this.__duration>1?' colspan="'+this.__duration+'"':"",">"].join("")),e.push('<div class="timeline_wrap">');for(var r=0;r<48;r++)e.push('	<div class="timeline" data-time="'+n.format("HH:mm:ss")+'"></div>'),n.add("minutes",30);return e.push("</div>"),e.push("</td>"),e.push("</tr>"),e.join("\n")},_buildTimelineEvents:function(){var e=[];return e.push('<tr class="cols">'),e.push("<th>"),e.push(this._buildTimelineLabel()),e.push("</th>"),e.push(this._buileTimelineEventCols()),e.push("</tr>"),e.join("\n")},_buildTimelineLabel:function(){var e=[],n=[],r=t().startOf("days"),i={am:r.clone().hours(1).format("A"),pm:r.clone().hours(12).format("A")};n[0]=["<span>",i.am,"</span> "].join(""),n[12]=["<span>",i.pm,"</span> "].join(""),e.push('<div class="time_wrap">');for(var s=0;s<24;s++)e.push(['	<div class="time">',n[s],r.format("hh"),"</div>"].join("")),r.add("hours",1);return e.push(this._buildFlagOfCurrentTime()),e.push("</div>"),e.join("\n")},_buildFlagOfCurrentTime:function(){var e=t(new Date),n=e.clone().startOf("days"),r=Math.ceil(e.diff(n,"minutes",!0)/parseInt(1));return['<div id="current-timeline" class="real_time" style="top: ',r,'px; left: 0px"></div>'].join("")},_getOffsetYByDate:function(e){var n=t(e),r=n.clone().startOf("days");return Math.ceil(n.diff(r,"minutes",!0))},_buileTimelineEventCols:function(){var e=[],n=this.matrix.getRowByDate(this.__range.from);for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.instance,u=t(o).format("YYYY-MM-DD"),a=s.events;e.push(["<td",y(o)?' class = "today"':"",' data-date="',u,'"',">"].join("")),a.length>0&&e.push('<div class="schedule_wrap" data-date="'+u+'">'),e.push(this._buildScheduleTimeDiv(a)),a.length>0&&e.push("</div>"),e.push("</td>")}return e.join("\n")},_buildScheduleTimeDiv:function(e){if(e.length<1)return"";var t=[],n=this._getTimelineEvents(e);for(var r in n){var i=n[r],o=i._ref,a=i.summary,f="",l=["schedule_time"],c=Q(o.visibility)?G():"";l.push("draggable","resizable"),i.width=this._getPercetageValue(100/i.concurrent,"floor",1),i.left=i.hindex*i.width,i.width=i.isLastIndex&&i.concurrent>i.hindex?i.width*(i.concurrent-i.hindex):i.width,o.__merged__?l.push(u[s.day]+"_group"):l.push(u[s.day]+o.color),f=["top:",i.top,"px;","left:",i.left,"%;","width:",i.width,"%;","height:",i.height,"px"].join(""),t.push('<div class="',l.join(" "),'" style="',f,'" data-id="',r,'" data-calendarId="',o.calendarId,'" data-startTime="',o.startTime,'" data-endTime="',o.endTime,'">',"\n"),t.push('<p class="head">'),o.__merged__&&o.__merged__.include_me&&t.push('<span class="me bgcolor'+o.__merged__.color+'"></span>'),t.push(K(o.startTime)),t.push("</p>"),t.push('<p class="content" title="',a," ; ",'">',c,a,"</p>"),t.push('<div class="resize ui-resizable-handle ui-resizable-s"></div>'),t.push("</div>")}return t.join("")},_getPercetageValue:function(t,n,r){r=r||0,n=n||"round";if(e.inArray(n,["ceil","round","floor"])===-1)throw new Error("Illegal type.");var i=Math.pow(10,r);return Math[n].call(Math,t*i)/i},_getSlotIndexByDate:function(e){return Math.ceil(this._getOffsetYByDate(e)/r)},_getTimelineEvents:function(n){var r={},i=new Array(48);for(var s=0,o=n.length;s<o;s++){if(!n[s])continue;var u=n[s],f=u._ref,l=t(f.startTime),c=this._getSlotIndexByDate(f.startTime),h=this._getSlotIndexByDate(f.endTime),p=h-c;if(J(f,u.range))continue;u.top=l.hour()*60+l.minute()-1,u.height=(p===0?1:p)*a,r[u.id]=u;if(p>0)for(var d=c;d<h;d++)this._createTimeslot(i,u.id,d);else this._createTimeslot(i,u.id,c)}var v=0;for(var d=0,o=i.length;d<o;d++){if(!i[d])continue;var m=i[d].length,g=[];for(var y=0;y<m;y++)g[y]=0;if(m>0)for(var b=0;b<m;b++){var u=r[i[d][b]];v<m&&(v=m),typeof u.hindex=="undefined"&&(u.hindex=e.inArray(0,g)),g[u.hindex]=u.id,u.hindex+1==g.length?typeof u.isLastIndex=="undefined"&&(u.isLastIndex=!0):u.isLastIndex=!1}}for(var w in r){var u=r[w];u.concurrent=v}return r},_createTimeslot:function(e,t,n){return e[n]||(e[n]=[]),e[n].push(t),this}},b}(),rt=function(){var e=function(e){var n=t(e.date).clone(),r=new nt(n);r.setEvents(e.events),r.setStartday(e.startday),this.timlineView=r,this.options=e};return e.prototype.render=function(){this.timlineView.scrollTo(this.options.scrollTo),this.timlineView.render(this.options)},e}(),it=function(){var e=function(e){var n=t(e.date).clone(),r=n.clone().day(0).add("days",e.startday),i=n.clone().day(6).add("days",e.startday),s=new nt(r,i);s.setEvents(e.events),s.setStartday(e.startday),this.timlineView=s,this.options=e};return e.prototype.render=function(){this.timlineView.scrollTo(this.options.scrollTo),this.timlineView.render(this.options)},e}();O.getElement=function(){return M},O.bind=O.on=function(){var t=r.call(arguments);e.fn.on.apply(M,t)},O.unbind=O.off=function(){var t=r.call(arguments);e.fn.off.apply(M,t)},O.resize=function(e){return M.trigger(l.resize,[e]),this},O.changeViewType=function(e){return M.trigger(l.change_view_type,[e]),this},O.changeDate=function(e,t){return M.trigger(l.change_date,[e,t]),this},O.updateCalendarColor=function(e,t){return M.trigger(l.update_calendar_color,[e,t]),this},O.addEvents=function(){var e=r.call(arguments),t=[];for(var n=0,i=e.length;n<i;n++)e[n]instanceof Array?t=t.concat(e[n]):t.push(e[n]);return M.trigger(l.add_events,[t]),this},O.resetEvents=function(e,t){return t=t||!1,M.trigger(l.reset_events,[e,t]),this},O.clearEvents=function(){return M.trigger(l.clear_events),this},O.removeCalendars=function(){var e=r.call(arguments),t=[];for(var n=0,i=e.length;n<i;n++)t.push(e[n]);M.trigger(l.remove_calendars,[t])},O.render=function(e,t){i.lazy&&st(e,t)};var st=function(t,n){typeof t!="undefined"&&t instanceof Array&&(i.events=i.events.concat(t)),e.extend(!0,i,n||{}),P();switch(i.type){case E.d:(new rt(i)).render();break;case E.w:(new it(i)).render();break;case E.m:(new tt(i)).render();break;default:return new Error("Illegal view type")}},ot=function(){D(),i.lazy||st()};return ot(),O};var N=function(t){t.find(".draggable").on("mouseenter",e.proxy(function(t){var n=e(t.currentTarget);if(n.attr("is-init"))return;var r=n.attr("data-id")?n:n.find("[data-id]"),i=r.attr("data-id"),s=r.attr("data-calendarid"),o=e.Deferred();n.data("promise",o),A(s,i).done(e.proxy(function(e){C(n,e.data,o)},this)).fail(function(){k(o)}),n.attr("is-init",!0)},this))},C=function(e,t,n){var r=_.map(t.attendees,function(e){return e.name}).join(","),i=_.where(t.attendees,{id:GO.session("id")}).length>0;t.auth=t.auth||i;if(!t.auth||L(t))e.hasClass("draggable")&&(e.removeClass("draggable"),e.draggable().draggable("destroy")),e.hasClass("resizable")&&(e.removeClass("resizable"),e.resizable("destroy"));e.data("event",t),n.resolve();var s=e.find("[title]");t.type=="normal"&&(t.visibility=="private"&&t.auth||t.visibility=="public")?s.attr("title",s.attr("title")+r):s.attr("title",s.attr("title"))},k=function(e){e.resolve()},L=function(e){return e.referenceId?!0:!1},A=function(t,n){return e.ajax({url:GO.contextRoot+"api/calendar/"+t+"/event/"+n,contentType:"application/json"})}}.call(this,jQuery,moment),define("jquery.calbean",function(){}),define("todo/views/extensions/calendar",["backbone","todo/views/extensions/base","hgn!todo/templates/extensions/extension_calendar","todo/views/site/card_detail","i18n!nls/commons","jquery.ui","jquery.calbean"],function(e,t,n,r,i){function o(e){var t=_.extend({date:new Date,startday:0,type:"monthly",lang:GO.config("locale"),lazy:!0});this.calbean=this.$el.find(".calbean-viewport").calbean(t),f.call(this)}function u(e){var t=moment(e);this.calbean.changeDate(t.toDate(),p.call(this)),$("#date-indicator").text(t.format("YYYY.MM"))}function a(e){typeof e=="undefined"?this.baseDate=new Date:this.baseDate=moment(this.baseDate).clone().add("month",e).toDate(),u.call(this,this.baseDate)}function f(){this.calbean.on("request:show-event",_.bind(l,this)),this.calbean.on("changed:date",_.bind(c,this))}function l(e,t,n){var i=this.todoItemList.get(n),s=i.todoModel;r.create(s,i)}function c(e,t,n,r){var i=this.todoItemList.get(t),s=moment(i.get("dueDate")),o=this;this.todoItemList.updateTodoItem(t,{dueDate:GO.util.toISO8601(r+"T"+s.format("HH:mm:ss"))})}function h(){var e=this.$el.height(),t=this.$el.find(".tool_bar").outerHeight();return e-t-30}function p(e){var t=[],n=e||this.todoItemList,r=this;return this.stopListening(),n.each(function(e){if(e.get("dueDate")){var n=moment(e.get("dueDate")),i=GO.util.toISO8601(n.clone().startOf("day")),s=GO.util.toISO8601(n.clone().endOf("day"));t.push({id:e.id,calendarId:e.get("todoCategoryId"),type:"normal",attendees:e.get("members"),summary:e.get("title"),visibility:"public",timeType:"allday",phase:"solar",startTime:i,endTime:s,createdAt:e.get("createdAt"),updatedAt:e.get("updatedAt"),commentCount:e.get("commentCount"),"private":!1,"public":!0,auth:r.todoModel.isMember(GO.session("id"))}),r.listenToOnce(e,"change:title",r.reloadEvents),r.listenToOnce(e,"change:dueDate",r.reloadEvents),r.listenToOnce(e,"remove",r.reloadEvents)}}),t}var s;return s=t.extend({name:"todo-calendar-view",className:"view_type todo_calendar",todoModel:null,todoItemList:null,baseDate:null,template:n,calbean:null,events:function(){var e=t.prototype.events||{};return _.extend({},e,{"click .prev-btn":"_goToPrevMonth","click .next-btn":"_goToNextMonth","click .today-btn":"_goToToday","click .datepicker-btn":"_showDatepicker"})},initialize:function(e){var n=e||{};t.prototype.initialize.call(this,n),this.todoModel=n.todoModel,this.todoItemList=n.todoItemList,this.baseDate=new Date},render:function(){this.setContent(this.template({currentMonth:moment().format("YYYY.MM"),label:{prev:i["\uc774\uc804"],next:i["\ub2e4\uc74c"],today:i["\uc624\ub298"]}})),o.call(this),this.calbean.render(p.call(this)),this._initDatepicker()},reloadEvents:function(){var e=this;setTimeout(function(){e.calbean.resetEvents(p.call(e))},50)},resize:function(e){t.prototype.resize.call(this,e),this.calbean.resize(h.call(this))},_goToPrevMonth:function(e){e.preventDefault(),a.call(this,-1)},_goToNextMonth:function(e){e.preventDefault(),a.call(this,1)},_goToToday:function(e){e.preventDefault(),a.call(this)},_showDatepicker:function(e){this
.$el.find("#todoDatepicker").trigger("focus")},_initDatepicker:function(){var e=this,t=this.$el.find("#todoDatepicker").datepicker({changeMonth:!0,changeYear:!0,yearSuffix:"",onSelect:function(t){u.call(e,t)}});this.$el.find("#todoDatepicker").datepicker("setDate",this.baseDate)}}),s}),define("hgn!todo/templates/todo_detail",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<header class="content-header conent_header">'),r.b("\n"+n),r.b('    <h1 class="board_name">'),r.b("\n"+n),r.s(r.f("useToolbar?",e,t,1),e,t,0,98,273,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("editable?",e,t,1),e,t,0,121,250,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="btn-board-menu btn_setting">'),r.b("\n"+n),r.b('            <span class="ic_board ic_setting"></span>'),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n)}),e.pop())}),e.pop()),r.b('        <span class="ui-todo-title txt txt_ellipsis'),r.s(r.f("owner?",e,t,1),e,t,0,352,361,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" editable")}),e.pop()),r.b('">'),r.b(r.v(r.f("title",e,t,0))),r.b("</span>"),r.b("\n"+n),r.s(r.f("useToolbar?",e,t,1),e,t,0,415,711,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <span class="action">'),r.b("\n"+n),r.b('            <a href="#" class="btn-favorite btn_star" data-bypass>'),r.b("\n"+n),r.b('                <ins id="favorite" class="'),r.s(r.f("favorite?",e,t,1),e,t,0,569,576,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("ic_star")}),e.pop()),r.s(r.f("favorite?",e,t,1),e,t,1,0,0,"")||r.b("ic_star_off"),r.b('" title="'),r.b(r.v(r.f("attr_title_favorite",e,t,0))),r.b('"></ins>'),r.b("\n"+n),r.b("            </a>"),r.b("\n"+n),r.b("        </span>"),r.b("\n"+n)}),e.pop()),r.b("    </h1>"),r.b("\n"+n),r.b('    <div class="optional">'),r.b("\n"+n),r.s(r.f("useToolbar?",e,t,1),e,t,0,789,1136,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <a class="btn-open-calendar btn_statistic" href="#" alt="'),r.b(r.v(r.d("label.calendar",e,t,0))),r.b('" title="'),r.b(r.v(r.d("label.calendar",e,t,0))),r.b('" data-bypass><span class="ic_board ic_board_statistic"></span></a>'),r.b("\n"+n),r.b('        <a class="btn-open-stat btn_statistic" href="#" alt="'),r.b(r.v(r.d("label.stat",e,t,0))),r.b('" title="'),r.b(r.v(r.d("label.stat",e,t,0))),r.b('" data-bypass><span class="ic_board ic_statistic"></span></a>'),r.b("\n"+n)}),e.pop()),r.b('        <a class="btn-open-timeline btn_flat" href="#" data-bypass><span class="ic_board ic_slide_open"></span><span class="txt">'),r.b(r.v(r.d("label.timeline",e,t,0))),r.b("</span></a>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("</header>"),r.b("\n"),r.b("\n"+n),r.b('<div class="ui-scroll-container" id="board-container" data-scroll-axis="x">'),r.b("\n"+n),r.b('    <div class="ui-scroll-content content_body" id="board-content" data-scrollcontent="true">'),r.b("\n"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,1527,2653,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <div class="ui-column-container ui-add-cloumn-container board_column_wrap column_create_wrap" data-type="button">'),r.b("\n"+n),r.b('            <div class="board_card_wrap" style="overflow: hidden">'),r.b("\n"+n),r.b('                <div class="ui-column-add-btn column_create">'),r.b("\n"+n),r.b('                    <a href="#" class="btn-add-column create_box" data-bypass><span class="ic_board ic_plus_w" title="'),r.b(r.v(r.d("label.columnAdd",e,t,0))),r.b('"></span></a>'),r.b("\n"+n),r.b("                </div>"),r.b("\n"),r.b("\n"+n),r.b('                <div class="ui-column-add-form create_form" style="display:none">'),r.b("\n"+n),r.b('                    <form name="form_column_add">'),r.b("\n"+n),r.b('                        <span class="wrap_txt">'),r.b("\n"+n),r.b('                            <input class="txt" type="text" name="title" maxlength="500" value="">'),r.b("\n"+n),r.b("                        </span>"),r.b("\n"+n),r.b('                        <footer class="btn_wrap">'),r.b("\n"+n),r.b('                            <a class="btn-save btn_major_s"><span class="txt">'),r.b(r.v(r.d("label.save",e,t,0))),r.b("</span></a>"),r.b("\n"+n),r.b('                            <a class="btn-cancel btn_minor_s"><span class="txt">'),r.b(r.v(r.d("label.cancel",e,t,0))),r.b("</span></a>"),r.b("\n"+n),r.b("                        </footer>"),r.b("\n"+n),r.b("                    </form>"),r.b("\n"+n),r.b("                </div>"),r.b("\n"+n),r.b("            </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n)}),e.pop()),r.b("    </div>"),r.b("\n"+n),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/site/todo_detail",["backbone","app","when","todo/constants","todo/models/todo","todo/models/todo_category","todo/models/todo_item","todo/models/todo_items","todo/views/site/todo_column","todo/views/site/board_timeline","todo/views/extensions/burnup_chart/main","todo/views/extensions/calendar","todo/views/menus/main","hgn!todo/templates/todo_detail","todo/libs/util","todo/libs/scroll","i18n!nls/commons","i18n!todo/nls/todo","jquery.go-validation","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){function w(e,t){if(this.extensionView){var n=this.extensionView.name;this.extensionView.close();if(n===e.prototype.name)return}this.$el.find(y.detail.boardContainer).hide(),this.extensionView=e.attachTo(this.$el,t||{}),this.extensionView.resize(D.call(this)),this.subViews.push(this.extensionView)}function E(){this.extensionView=null,this.$el.find(y.detail.boardContainer).show()}function S(){this.extensionView=null,this.$el.find(y.detail.boardContainer).show(),L()}function x(e,t,n){return d.callActionForOwner(e,t,n)}function T(e,t,n){return d.callActionForMember(e,t,n)}function N(){var e=this;this.timelineView?this.timelineView.close():(this.timelineView=new f({todoModel:this.model,onClose:function(){e.timelineView=null}}),$(".go_body").append(this.timelineView.el),this.timelineView.resize(this.__layout__.getContentPageHeight()),this.timelineView.render(),this.subViews.push(this.timelineView))}function C(){var e=this.model.getCategories(),t=[];_.each(e,function(e){var n=F.call(this,new s(e));t.push(n.el)},this),$.fn.prepend.apply($(y.detail.boardContent),t),I(),L()}function k(){var e=this;P.call(this),this.listenTo(this.__layout__,"resize:content",function(t){M.call(e,t),P.call(e),O.call(e),H.call(e),L(t)})}function L(e){GO.EventEmitter.trigger("todo","resize:column",e)}function A(){v.attachTo(this.$el.find(y.common.scrollContainer),{bounces:GO.util.isMobile()})}function O(){this.$el.find(y.common.scrollContainer).each(function(e,t){$(t).data("go.todo.scroller")&&$(t).data("go.todo.scroller").resizeScroll()})}function M(e){var t=e?e:this.__layout__.getContentPageHeight();this.$el.height(t)}function D(){var e=this.$el.height(),t=this.$el.find(".content-header").outerHeight();return e-t-this.scrollWidth}function P(){$(y.detail.boardContent).height(D.call(this))}function H(){if(!this.extensionView)return;this.extensionView.resize(D.call(this))}function B(e,t){e.isFavorite()?t.removeClass("ic_star_off").addClass("ic_star"):t.removeClass("ic_star").addClass("ic_star_off")}function j(e,t){e.isPublic()?t.removeClass("ic_private").addClass("ic_public").attr("title",m["\uacf5\uac1c"]):t.removeClass("ic_public").addClass("ic_private").attr("title",m["\ube44\uacf5\uac1c"])}function F(e){var t=new a({model:e,todoModel:this.model,todoItemList:this.todoItemList,width:this.options.columnWidth});return this.subViews.push(t),t}function I(){var e=0;$(y.detail.boardContent).find(y.detail.columnContainer).each(function(t,n){var r=$(n).outerWidth(!0);e+=r}),$(y.detail.boardContent).width(e)}function q(){var e=this.model,t=this;if(!this.model.isMember(GO.session("id")))return void 0;z.call(this),W.call(this)}function U(e,t){var n=$(t).clone();return $(y.detail.boardContainer).append(n),n.hide(),setTimeout(function(){R&&(n.appendTo("body"),n.show())},1),R=!0,n}function z(){var e=this.model;$(y.detail.boardContent).sortable({items:y.detail.todoColumn,handle:"header",helper:U,stop:function(t,n){var r=n.item.parent(),i=[];r.find(y.detail.todoColumn).each(function(e,t){var n=$(t).data("categoryid");i.push(n)}),e.reorderCategories(i).then(function(e){}),R=!1}})}function W(){$(y.detail.cardContainer).sortable({items:y.detail.todoCard,connectWith:y.detail.cardContainer,helper:U,start:function(e,t){$("body").scrollParent()},over:function(e,t){L()},stop:function(e,t){var n=t.item,r=n.closest(y.detail.cardContainer),i=n.closest(y.detail.columnContainer).data("categoryid"),s=n.data("view"),o=0;s&&(o=V(r.find(y.detail.todoCard),s.getItemId()),s.updatePosition(i,o).then(function(){J(r.find(y.detail.todoCard)),L()})),R=!1},remove:function(e,t){var n=t.item,r=$(this).closest(y.detail.columnContainer).data("view");X(t.item,r)}})}function X(t,n){n instanceof e.View&&n.takeOutCardView(t.data("view"))}function V(e,t){return d.searchCardSeq(e,t)}function J(e){return d.syncCardSeqs(e)}function K(e){var t=e.attr("data-type");t==="button"?(e.removeClass("column_create_wrap"),e.find(y.detail.columnAddButton).hide(),e.find(y.detail.columnAddForm+" input:text").val(""),e.find(y.detail.columnAddForm).show(),e.attr("data-type","form")):(e.addClass("column_create_wrap"),e.find(y.detail.columnAddButton).show(),e.find(y.detail.columnAddForm).hide(),e.attr("data-type","button"))}var y=r.SELECTORS,b;b=e.View.extend({className:"content_page",__layout__:null,template:p,subViews:[],options:{},timelineView:null,extensionView:null,events:{"click .btn-add-column":"_toggleAddButton","click .btn-favorite":"_toggleFavorite","click .btn-public-status":"_callPublicOptionMenu","click .btn-board-menu":"_callBoardMenu","click .ui-column-add-form .btn-save":"_reqAddColumn","submit form[name=form_column_add]":"_reqAddColumn","click .ui-column-add-form .btn-cancel":"_toggleAddButton","click .ui-todo-title":"_callBoardTitleMenu","click .btn-open-calendar":"_openCalendar","click .btn-open-stat":"_openStatistic","click .btn-open-timeline":"_openTimeline"},initialize:function(e){this.options=_.extend({},{useToolbar:!0,useCustomScroll:!0,columnWidth:null},e||{}),this.__layout__=this.options.layout,this.todoItemList=u.newFromTodo(this.model),this.scrollWidth=v.detectScrollWidth(),M.call(this)},render:function(){var e=this.todoItemList,t=this;return t.subViews=[],this.setTheme(),this.$el.empty().append(this.template({title:GO.util.unescapeHtml(this.model.get("title")),"public?":this.model.isPublic(),"favorite?":this.model.isFavorite(),"useToolbar?":this.options.useToolbar,"editable?":this.model.isMember(GO.session("id")),"owner?":this.model.isOwner(GO.session("id")),attr_title_public:this.model.isPublic()?m["\uacf5\uac1c"]:m["\ube44\uacf5\uac1c"],attr_title_favorite:this.model.isFavorite()?g["\uc990\uaca8\ucc3e\uae30 \ud574\uc81c"]:g["\uc990\uaca8\ucc3e\uae30 \ucd94\uac00"],label:{"public":m["\uacf5\uac1c"],"private":m["\ube44\uacf5\uac1c"],timeline:g["\ud0c0\uc784\ub77c\uc778"],columnAdd:g["\uce7c\ub7fc \ucd94\uac00"],save:m["\uc800\uc7a5"],cancel:m["\ucde8\uc18c"],stat:g["\ud1b5\uacc4"],calendar:m["\uce98\ub9b0\ub354"]}})),e.getFilteredList().then(function(e){return k.call(t),C.call(t),A.call(t),q.call(t),t}).otherwise(function(e){console.log(e.hasOwnProperty("stack")?e.stack:e.message)})},delegateEvents:function(){e.View.prototype.delegateEvents.apply(this,arguments),GO.EventEmitter.on("todo","go.todo.detail.clearlayers",this.clearLayers,this)},undelegateEvents:function(){e.View.prototype.undelegateEvents.apply(this,arguments),GO.EventEmitter.off("todo","go.todo.detail.clearlayers")},clearLayers:function(){this.timelineView&&this.timelineView.remove(),$(document).trigger("go.todo.clearmenu")},remove:function(){GO.util.isMobile()?(this.stopListening(),this.$el.empty(),this.$el.removeAttr("style")):e.View.prototype.remove.apply(this,arguments),_.each(this.subViews,function(e){e&&e.remove&&e.remove()})},setTheme:function(){var e=this.model.get("themeNo");return e<1&&(e=1),this.__layout__.setTheme(e),this},changeTheme:function(){},getTodoModel:function(){return this.model},getTodoItemModel:function(e){return this.todoItemList.get(e)},_toggleAddButton:function(e){var t=this.$el.find(y.detail.addCloumnContainer),n=this;e.preventDefault(),T.call(this,this.model,e,function(e){K.call(n,t)})},_reqAddColumn:function(e){var n,r=this.$el.find(y.detail.addCloumnContainer),i=this;e.preventDefault(),T.call(this,this.model,e,function(e){n=i.$el.find(y.detail.columnAddForm+" input[name=title]").val();if(!$.goValidation.isCheckLength(1,1e3,n))return $.goMessage(t.i18n(m["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:1,arg2:1e3})),$(y.detail.columnAddForm+" input[name=title]").focus(),!1;i.model.addCategory(n).then(function(e){var t=F.call(i,e);r.before(t.el),K.call(i,r),v.attachTo(t.$el.find(y.common.scrollContainer)),q.call(i),I()})})},_toggleFavorite:function(e){var t=$(e.currentTarget),n=this.model.isFavorite()?"removeFavorite":"addFavorite",r=this;e.preventDefault(),this.model[n].call(this.model).then(function(e){var n=r.__layout__.collections.favoriteTodoList;e.isFavorite()?(n.add(e),t.find("ins").prop("title",g["\uc990\uaca8\ucc3e\uae30 \ud574\uc81c"])):(n.remove(e),t.find("ins").prop("title",g["\uc990\uaca8\ucc3e\uae30 \ucd94\uac00"])),B(e,t.find("ins"))})},_callPublicOptionMenu:function(e){var t=$(e.currentTarget),n=t.find(".ic_board"),r=this;e.preventDefault(),x.call(this,this.model,e,function(e){h.attachTo(t,new h.PublicOptionMenuView({model:r.model,afterSave:function(e){j(e,n)}}))})},_callBoardTitleMenu:function(e){var t=$(e.currentTarget),n=this;e.preventDefault(),x.call(this,this.model,e,function(e){h.attachTo(t,new h.BoardTitleMenuView({model:n.model,afterSave:function(e){t.html(e.get("title"))}}))})},_callBoardMenu:function(e){var t=$(e.currentTarget);e.preventDefault(),h.attachTo(t,new h.BoardActionMenuView({model:this.model}))},_openTimeline:function(e){e.preventDefault(),N.call(this)},_openStatistic:function(e){var t=this;e.preventDefault(),w.call(this,l,{todoModel:this.model,height:D.call(this),onClose:function(){S.call(t)}})},_openCalendar:function(e){var t=this;e.preventDefault(),w.call(this,c,{todoModel:this.model,todoItemList:this.todoItemList,height:D.call(this),onClose:function(){S.call(t)}})}},{attachToLayout:function(e,t,r){var s=n.defer();return i.getBoard(t).then(function(t){var n,i=_.extend({model:t,layout:e},r||{});e.buildContentView?n=e.buildContentView(b,i):(n=new b(i),e.setContent(n)),n.render().then(s.resolve,s.reject)},s.reject),s.promise}});var R=!1;return b}),define("todo/models/todo_search_results",["when","app","todo/models/base","todo/libs/util"],function(e,t,n,r){var i;return i=n.Collection.extend({url:function(){return t.config("contextRoot")+"api/search/todo?"+t.util.jsonToQueryString(this.filterCondition||{})},filterCondition:{},initialize:function(e,t){n.Collection.prototype.initialize.apply(this,arguments),this.filterCondition={}},setFilter:function(e){var t=[].slice.call(arguments);return _.isString(e)?this.filterCondition[e]=t[1]:_.isObject(e)&&_.extend(this.filterCondition,e),this},getFilteredList:function(t){var n=e.defer();return this.setFilter(t),r.promiseFetch(this)}}),i}),define("hgn!todo/templates/search_result",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="cs_todo_wrap">\r'),r.b("\n"+n),r.b('	<div class="cs_todo_group">\r'),r.b("\n"+n),r.s(r.f("collection",e,t,1),e,t,0,81,714,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('		<div class="article_wrap">\r'),r.b("\n"+n),r.b('			<div class="info">\r'),r.b("\n"+n),r.b('                <a class="card-link" href="'),r.b(r.v(r.f("contextRoot",e,t,0))),r.b("app/todo/"),r.b(r.v(r.f("todoId",e,t,0))),r.b("/card/"),r.b(r.v(r.f("id",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('    				<span class="item item_default">\r'),r.b("\n"+n),r.b('    					<span class="name">'),r.b(r.t(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("    				</span>\r"),r.b("\n"+n),r.b("                </a>\r"),r.b("\n"+n),r.b("			</div>\r"),r.b("\n"+n),r.b('			<span class="item">\r'),r.b("\n"+n),r.b('				<span class="sub">in column</span>\r'),r.b("\n"+n),r.b("				<span>"),r.b(r.v(r.f("categoryTitle",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('				<span class="part">l</span>\r'),r.b("\n"+n),r.b('				<span class="sub">on board</span>\r'),r.b("\n"+n),r.b("				<span>"),r.b(r.v(r.f("todoTitle",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('				<span class="part">l</span>\r'),r.b("\n"+n),r.b('				<span class="sub">'),r.b(r.v(r.d("label.dueDate",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("				<span>"),r.b(r.v(r.f("dueDate",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("			</span>\r"),r.b("\n"+n),r.b("		</div>\r"),r.b("\n"+n)}),e.pop()),r.b("	</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.s(r.f("showPaging?",e,t,1),e,t,0,759,1867,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<div class="todo-search-paging-wrap">\r'),r.b("\n"+n),r.b('		<div class="dataTables_paginate paging_full_numbers paging_out" style="border-top:0px;">\r'),r.b("\n"+n),r.b('			<a class="page-link first paginate_button'),r.s(r.f("firstPageGroup?",e,t,1),e,t,0,957,991,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" disabled paginate_button_disabled")}),e.pop()),r.b('" data-page="0" title="'),r.b(r.v(r.d("label.firstPage",e,t,0))),r.b('" data-bypass></a>\r'),r.b("\n"+n),r.b('			<a class="page-link previous paginate_button'),r.s(r.f("firstPage?",e,t,1),e,t,0,1135,1169,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" disabled paginate_button_disabled")}),e.pop()),r.b('" data-page="'),r.b(r.v(r.f("prevPage",e,t,0))),r.b('" title="'),r.b(r.v(r.d("label.prev",e,t,0))),r.b('" data-bypass></a>\r'),r.b("\n"+n),r.b("			<span>\r"),r.b("\n"+n),r.s(r.f("pagingData",e,t,1),e,t,0,1282,1458,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('				<a href="#" class="page-link'),r.s(r.f("isCurrent",e,t,1),e,t,0,1330,1346,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" paginate_active")}),e.pop()),r.s(r.f("isCurrent",e,t,1),e,t,1,0,0,"")||r.b(" paginate_button"),r.b('" data-page="'),r.b(r.v(r.f("page",e,t,0))),r.b('" data-bypass>'),r.b(r.v(r.f("label",e,t,0))),r.b("</a>\r"),r.b("\n"+n)}),e.pop()),r.b("			</span>\r"),r.b("\n"+n),r.b('			<a class="page-link next paginate_button'),r.s(r.f("lastPage?",e,t,1),e,t,0,1544,1578,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" disabled paginate_button_disabled")}),e.pop()),r.b('" data-page="'),r.b(r.v(r.f("nextPage",e,t,0))),r.b('" title="'),r.b(r.v(r.d("label.next",e,t,0))),r.b('" data-bypass></a>\r'),r.b("\n"+n),r.b('			<a class="page-link last paginate_button'),r.s(r.f("lastPageGroup?",e,t,1),e,t,0,1722,1756,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" disabled paginate_button_disabled")}),e.pop()),r.b('" data-page="'),r.b(r.v(r.f("lastPage",e,t,0))),r.b('" title="'),r.b(r.v(r.d("label.lastPage",e,t,0))),r.b('" data-bypass></a>\r'),r.b("\n"+n),r.b("		</div>\r"),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("todo/views/site/search_result",["backbone","moment","app","todo/models/todo_search_results","todo/libs/util","hgn!todo/templates/search_result","i18n!nls/commons","i18n!todo/nls/todo"],function(e,t,n,r,i,s,o,u){function l(e){var t=h(),r=(t.page||0)+1;e.length>0?this.$el.empty().append(this.template({contextRoot:n.config("contextRoot"),collection:p(e),currentPage:r,totalPage:e.page.total,"showPaging?":d(e),prevPage:m(e),nextPage:g(e),lastPage:y(e),"firstPageGroup?":w(e),"firstPage?":S(e),"lastPageGroup?":E(e),"lastPage?":x(e),pagingData:b(e),label:{dueDate:u["\uae30\ud55c\uc77c"],prev:o["\uc774\uc804"],next:o["\ub2e4\uc74c"]}})):c.call(this)}function c(){this.$el.empty().append('<p class="data_null"><span class="ic_classic ic_no_result"></span><span class="txt">'+o["\uac80\uc0c9\uacb0\uacfc\uc5c6\uc74c"]+"</span></p>")}function h(){return n.router.getSearch()}function p(e){var t=e.toJSON();return _.map(t,function(e){e.dueDate&&(e.dueDate=i.parseDuedate(e.dueDate))}),t}function d(e){var t=e.page;return t.total>1}function v(e){var t=e.page;return Math.ceil(t.total/t.offset)}function m(e){var t=e.page,n=t.page-1;return n>0?n:0}function g(e){var t=e.page,n=v(e),r=t.page+1;return r>=n?n:r}function y(e){return v(e)-1}function b(e){var t=[],n=e.page,r=v(e),i=f*Math.floor(n.page/f)+1,s=i+f-1;s>r&&(s=r);for(var o=i;o<=s;o++)t.push({page:o-1,label:o,isCurrent:o===n.page+1});return t}function w(e){var t=e.page;return t.page<1}function E(e){var t=e.page,n=Math.floor(t.page+1/f)+1;return n===v(e)}function S(e){return e.page.page===0}function x(e){return e.page.lastPage}var a,f=10;return a=e.View.extend({className:"content_page combine_search_page",template:s,events:{"click .page-link":"_changePage"},initialize:function(e){this.collection||(this.collection=new r)},render:function(){var e=this;return this.collection.getFilteredList(h()).then(_.bind(l,this)).otherwise(function(t){console.warn("[:::ToDO+ Rendering Error:::] : Caused by..."),console.log(t.stack?t.stack:t.message),c.call(e)})},_changePage:function(e){var t=$(e.currentTarget),r=parseInt(t.data("page")),i=h();e.preventDefault(),t.hasClass("disabled")||(i.page=r||0,n.router.navigate("todo/search?"+n.util.jsonToQueryString(i),{pushState:!0,trigger:!0}))}}),a}),define("todo/views/site/main",["todo/views/site/layout","todo/views/site/dashboard","todo/views/site/todo_detail","todo/views/site/card_detail","todo/views/site/search_result"],function(e,t,n,r,i){return{LayoutView:e,TodoDashboardView:t,TodoDetailView:n,CardDetailView:r,SearchResultView:i}}),define("todo/controllers/main",["require","todo/views/site/main"],function(require){function o(e){return u(),t.render().then(function(t){return t.$el.addClass("go_no_scroll"),r.attachToLayout(t,e)}).otherwise(function(e){try{GO.util.error(parseInt(e.status))}catch(t){GO.router.navigate("todo",{replace:!0,trigger:!0})}})}function u(){var e=$(".ui-todocard-container");e.length>0&&e.data("view").remove()}var e=require("todo/views/site/main"),t=e.LayoutView,n=e.SearchResultView,r=e.TodoDetailView,i=e.CardDetailView,s=e.TodoDashboardView;return{search:function(){t.render().then(function(e){var t=new n;e.setContent(t),t.render()}).otherwise(function(e){console.warn("[:::ToDO+ Rendering Error:::] : Caused by..."),console.log(e.stack?e.stack:e.message)})},detail:function(e){o(e)},showCard:function(e,t){o(e).then(function(e){var n=e.getTodoModel(),r=e.getTodoItemModel(t);i.create(n,r)})},dashboard:function(){t.render().then(function(e){var t=e.collections,n=s.create(t.myTodoList,t.favoriteTodoList);e.setContent(n),n.render()}).otherwise(function(e){console.warn("[:::ToDO+ Rendering Error:::] : Caused by..."),console.log(e.stack?e.stack:e.message)})}}})})();