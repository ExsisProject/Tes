define(["jquery","backbone","app","i18n!admin/nls/admin","i18n!nls/commons","hgn!admin/templates/cert_config","admin/views/user_cert_list"],function(e,t,n,r,i,s,o){var u={label_ok:i["\uc800\uc7a5"],label_cancel:i["\ucde8\uc18c"],label_title:r["\uae30\ubcf8 \uc124\uc815"],label_cert_login:r["\uacf5\uc778\uc778\uc99d\uc11c \ub85c\uadf8\uc778"],label_use:r["\uc0ac\uc6a9\ud568"],label_unuse:i["\uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c"]},a=t.View.extend({unbindEvent:function(){this.$el.off("click",".tab_menu li"),this.$el.off("click","span#ok"),this.$el.off("click","span#cancel"),this.$el.off("submit","form")},bindEvent:function(){this.$el.on("click",".tab_menu li",e.proxy(this.moveCompanyBoardTab,this)),this.$el.on("click","span#ok",e.proxy(this.configSave,this)),this.$el.on("click","span#cancel",e.proxy(this.configCancel,this)),this.$el.on("submit","form",e.proxy(this.formSubmit,this))},initialize:function(){this.unbindEvent(),this.bindEvent(),this.model=new t.Model,this.model.url=GO.contextRoot+"ad/api/certconfig",this.model.fetch({async:!1})},formSubmit:function(e){e.preventDefault();return},render:function(e){var t=this.model.get("useSystemCert");if(t==0){this.$el.html();return}var n=this.model.toJSON(),r=s({model:n,lang:u});this.$el.html(r),o.render("use")},moveCompanyBoardTab:function(t){var n=e(t.currentTarget);if(n.hasClass("active"))return;n.siblings("li").removeClass("active"),n.addClass("active"),n.attr("data-type")=="activeBoard"?o.render("ACTIVE"):o.render("CLOSED")},configSave:function(){var t=this,n=this.$el.find("form[name=certConfig]");e.each(n.serializeArray(),function(e,n){console.log(n.name),t.model.set(n.name,n.value,{silent:!0})}),t.model.save({},{success:function(n,r){r.code=="200"&&(e.goMessage(i["\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]),t.render())},error:function(t,n){var r=JSON.parse(n.responseText);r.message!=null?e.goMessage(r.message):e.goMessage(i["\uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."])}})},configCancel:function(){var t=this;e.goCaution(i["\ucde8\uc18c"],i["\ubcc0\uacbd\ud55c \ub0b4\uc6a9\uc744 \ucde8\uc18c\ud569\ub2c8\ub2e4."],function(){t.render(),e.goMessage(i["\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."])},i["\ud655\uc778"])}});return a});