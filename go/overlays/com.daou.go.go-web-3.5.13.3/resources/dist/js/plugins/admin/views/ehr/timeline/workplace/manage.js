define("admin/views/ehr/timeline/workplace/manage",function(require){var e=require("backbone"),t=require("app"),n=require("hgn!admin/templates/ehr/timeline/workplace/manage"),r=require("admin/views/ehr/timeline/workplace/work_place_list"),i=require("admin/views/ehr/timeline/workplace/work_place"),s=require("i18n!admin/nls/admin"),o=require("i18n!nls/commons");require("jquery.go-grid"),require("jquery.go-sdk"),require("jquery.go-preloader");var u={label_title:s["\uc811\uc18d \ud5c8\uc6a9 IP \uc124\uc815"],label_guide:s["\uc811\uc18d \ud5c8\uc6a9 IP \uc124\uba85"],label_ip_info:s["\uc811\uc18d \ud5c8\uc6a9 IP \uc815\ubcf4"],label_ip_name:s["\uc811\uc18d IP \uc774\ub984"],label_ip:s.IP,label_use:o["\uc0ac\uc6a9"],label_not_use:o["\uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c"],label_ok:o["\uc800\uc7a5"],label_cancel:o["\ucde8\uc18c"],label_add:o["\ucd94\uac00"],label_delete:o["\uc0ad\uc81c"],label_access_yn:s["\uc811\uc18d \ud5c8\uc6a9 IP \uc0ac\uc6a9 \uc5ec\ubd80"],label_workplace_description:s["\uadfc\ubb34\uc9c0 \uc124\uc815 \uc124\uba85"]},a=e.View.extend({events:{"activeWorkPlace #workPlaceList":"activeWorkPlaceCallback","activeWorkPlace #workPlace":"activeWorkPlaceCallback","inActiveWorkPlace #workPlaceList":"inActiveWorkPlaceCallback","renderWorkPlace #workPlaceList":"saveAndRenderWorkPlace","reset .container":"render","addComplete .wrap_container_right":"renderWorkPlaceList"},render:function(){return this.$el.html(n({lang:u})),this.renderWorkPlaceList(),this},renderWorkPlaceList:function(){this.workPlaceListView=new r({}),this.workPlaceListView.render()},activeWorkPlaceCallback:function(e,t){this.$el.find(".work_place").removeClass("active"),this.$el.find(".work_place[value="+t.attributes.id+"]").addClass("active"),_.isUndefined(this.workPlaceView)&&this.renderWorkPlace(t)},activeWorkPlace:function(e){this.$el.find(".work_place").removeClass("active"),this.$el.find(".work_place[value="+e.attributes.id+"]").addClass("active")},inActiveWorkPlaceCallback:function(){this.$el.find(".work_place").removeClass("active")},saveAndRenderWorkPlace:function(e,t){if(this.workPlaceView&&!this.workPlaceView.isRemoved()){if(this.workPlaceView.workPlace==t)return;this.saveWorkPlace(t)}else this.renderWorkPlace(t)},saveWorkPlace:function(e){var t=this,n=function(){t.workPlaceView.validate()&&t.workPlaceView.save().done(function(){t.workPlaceView.remove(),t.activeWorkPlace(e),t.renderWorkPlace(e)})},r=function(){t.workPlaceView.remove(),t.renderWorkPlace(e)};if(!t.workPlaceView.isUpdated()){r();return}$.goPopup({title:s["\uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],modal:!0,buttons:[{btype:"confirm",btext:o["\uc800\uc7a5"],callback:n},{btype:"close",btext:o["\ucde8\uc18c"],callback:r}]})},renderWorkPlace:function(e){e=e?e:this.workPlaceListView.getCheckedWorkPlace(),this.workPlaceView=new i({workPlace:e}),this.$el.find("#workPlaceSetting").append(this.workPlaceView.el),this.workPlaceView.render()}});return a});