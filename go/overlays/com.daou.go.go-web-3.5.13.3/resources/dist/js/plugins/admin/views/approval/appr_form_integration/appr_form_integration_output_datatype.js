define(["i18n!nls/commons","i18n!admin/nls/admin","i18n!approval/nls/approval","admin/constants/integration_config","admin/views/approval/appr_form_integration/appr_form_integration_output_tab","hgn!admin/templates/approval/appr_form_integration/appr_form_integration_output_datatype"],function(e,t,n,r,i,s){var o={DirectAccess:"DirectAccess",String:"String","key value \uad6c\ubd84\uc790":n["key value \uad6c\ubd84\uc790"],"Data \uad6c\ubd84\uc790":n["Data \uad6c\ubd84\uc790"]},u="DIRECT_ACCESS",a=Backbone.View.extend({el:"#outputDataType",directAccessTabView:null,initialize:function(e){this.options=e||{},this.model=this.options.model,this.observer=e.observer},events:{"change #selectOutputDataType":"_selectDataType"},render:function(){this.$el.html(s({lang:o,model:this.model.toJSON()})),this.$("#selectOutputDataType").val(this.model.get("outputDataType")||u),this._renderDirectAccessTabView(),this.toggleSubView(this.model.get("outputDataType"))},_selectDataType:function(e){var t=$(e.currentTarget);this.toggleSubView(t.val())},getData:function(){var e=this.$('input[name="outputKeyValueSeparator"]').val(),t=this.$('input[name="outputElementSeparator"]').val(),n=this.$("#selectOutputDataType").val(),r=this.directAccessTabView.getData(),i=_.extend(r,{outputKeyValueSeparator:e,outputElementSeparator:t,outputDataType:n});return i},validate:function(){var e=this.directAccessTabView.validate();return e},toggleSubView:function(e){var t=this,n=e||r.DATA_TYPE.DIRECT_ACCESS;this.$("#outputStringDataTypeArea").toggle(n==r.DATA_TYPE.STRING),this.directAccessTabView.$el.toggle(n==r.DATA_TYPE.DIRECT_ACCESS),n==r.DATA_TYPE.STRING?t.$el.parent().parent().next("tr").attr("style","display:table-row;"):n==r.DATA_TYPE.DIRECT_ACCESS&&t.$el.parent().parent().next("tr").attr("style","display:none")},_renderDirectAccessTabView:function(){this.directAccessTabView=new i({collection:this.model.get("outputQueries"),observer:this.observer}),this.directAccessTabView.render()}});return a});