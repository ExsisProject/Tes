define(["i18n!nls/commons","i18n!admin/nls/admin","i18n!approval/nls/approval","admin/views/approval/appr_form_integration/appr_form_integration_input_datatype","admin/views/approval/appr_form_integration/appr_form_integration_input_event","admin/collections/approval/integration_query","admin/models/approval/integration_query","hgn!admin/templates/approval/appr_form_integration/appr_form_integration_input"],function(e,t,n,r,i,s,o,u){var a={Input:"Input","Input \ub370\uc774\ud130 \uc0ac\uc6a9\uc5ec\ubd80":n["Input \ub370\uc774\ud130 \uc0ac\uc6a9\uc5ec\ubd80"],"\uc0ac\uc6a9":e["\uc0ac\uc6a9"],"\ubbf8\uc0ac\uc6a9":n["\ubbf8\uc0ac\uc6a9"],"\ub370\uc774\ud130 \uc18c\uc2a4":e["\ub370\uc774\ud130 \uc18c\uc2a4"],"\ub370\uc774\ud130 \uc720\ud615":e["\ub370\uc774\ud130 \uc720\ud615"],"Input Event":"Input Event","\uadf8\ub8f9\uc6e8\uc5b4\ub85c \uc5f0\ub3d9 \ub370\uc774\ud130 \uac00\uc838\uc624\uae30":n["\uadf8\ub8f9\uc6e8\uc5b4\ub85c \uc5f0\ub3d9 \ub370\uc774\ud130 \uac00\uc838\uc624\uae30"],"\uc5f0\uacb0 \uc815\ubcf4":n["\uc5f0\uacb0 \uc815\ubcf4"],"\uc5f0\uacb0 \ubc29\uc2dd":n["\uc5f0\uacb0 \ubc29\uc2dd"],"\uc774\ubca4\ud2b8":n["\uc774\ubca4\ud2b8"]},f=Backbone.View.extend({el:"#integration_input",initialize:function(e){this.options=e||{},this.model=this.options.model,this.observer=e.observer,this.dataSource=this.options.dataSource},events:{"click #inputUseBtn":"_inputUse","click #inputNotUseBtn":"_inputNotUse"},render:function(){var e=this.model.get("inputDataSourceName"),t=_.map(this.dataSource,function(t){return{isSelected:e==t,name:t}});this.$el.html(u({lang:a,data:this.model.toJSON(),dataSource:t})),this.inputDataTypeView=new r({model:this.model,observer:this.observer}),this.inputDataTypeView.render(),this.inputEventView=new i({model:this.model}),this.inputEventView.render()},_inputUse:function(){this.$("table.sub_form > tbody tr").show(),this.$("#inputUseBtn").addClass("on"),this.$("#inputNotUseBtn").removeClass("on")},_inputNotUse:function(){this.$("table.sub_form > tbody tr").hide(),this.$("#inputUseBtn").removeClass("on"),this.$("#inputNotUseBtn").addClass("on")},getData:function(){var e=this.$("#inputUseBtn").hasClass("on"),t=this.$('select[name="dataSource"]').val(),n=this.inputDataTypeView.getData(),r=this.inputEventView.getData();return this.model.set({useInput:e,inputDataSourceName:t}),this.model.set(n),this.model.set(r),this.model},validate:function(){if(!this.$("#inputUseBtn").hasClass("on"))return!0;var e=this.inputDataTypeView.validate(),t=this.inputEventView.validate();return e&&t}});return f});