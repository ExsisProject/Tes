define(["jquery","underscore","backbone","app","hgn!admin/templates/appr_line_rule_list_select","hgn!admin/templates/appr_line_rule_form_item","i18n!nls/commons","i18n!admin/nls/admin","i18n!approval/nls/approval"],function(e,t,n,r,i,s,o,u,a){var f={"\ud574\ub2f9 \ud3f4\ub354\ub294 \uc120\ud0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":a["\ud574\ub2f9 \ud3f4\ub354\ub294 \uc120\ud0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"],"\uc790\ub3d9 \uacb0\uc7ac\uc120 \uc120\ud0dd":a["\uc790\ub3d9 \uacb0\uc7ac\uc120 \uc120\ud0dd"],"\uacb0\uc7ac\uc120":a["\uacb0\uc7ac\uc120"],"\u203b \uc790\ub3d9 \uacb0\uc7ac\uc120\uc740 \ud398\uc774\uc9c0 \uc67c\ucabd \u2018\uc790\ub3d9 \uacb0\uc7ac\uc120 \uc124\uc815\u2018 \uc5d0\uc11c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4":a["\u203b \uc790\ub3d9 \uacb0\uc7ac\uc120\uc740 \ud398\uc774\uc9c0 \uc67c\ucabd \u2018\uc790\ub3d9 \uacb0\uc7ac\uc120 \uc124\uc815\u2018 \uc5d0\uc11c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],empty_msg:a["\uc790\ub8cc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"],"\uc790\ub3d9\uacb0\uc7ac\uc120 \uba85":a["\uc790\ub3d9\uacb0\uc7ac\uc120 \uba85"]},l=n.Model.extend({url:function(){return"/ad/api/approval/apprlinerule"},setUrl:function(e){this.url=e}}),c=n.View.extend({el:".layer_pay_line .content",initialize:function(e){this.options=e||{},this.collection=this.options.collection,this.ApprLineRuleFormModel=new l,this.ApprLineRuleFormModel.fetch({async:!1}),this.$el.data("instance",this),this.on("_callApprLineRuleSelect",t.bind(this._callApprLineRuleSelect,this))},events:{"change #apprLineRuleSelect":"_selectRenderDetailBoard"},render:function(){var t=this;this.$el.html(Hogan.compile(i({data:t.collection.toJSON(),lang:f})).render());var n=this.collection.at(0);n?t._renderDetailBoard(n.get("id")):e("#appr_line_tbody").html(t._renderEmptyTmpl({lang:f}))},_selectRenderDetailBoard:function(t){this._renderDetailBoard(e(t.currentTarget).val())},_callApprLineRuleSelect:function(t){var n=self.$("#apprLineRuleSelect > option[txt-name='"+e("#selectedLineRule").text()+"']").val();self.$("#apprLineRuleSelect > option[txt-name='"+e("#selectedLineRule").text()+"']").attr("selected","true"),this._renderDetailBoard(n)},renderDetailBoard:function(){var e=this.$("#apprLineRuleSelect").val();this._renderDetailBoard(e)},_renderDetailBoard:function(n){var r=t.findWhere(this.ApprLineRuleFormModel.toJSON(),{id:parseFloat(n)});e("#appr_line_tbody").empty(),t.isEmpty(r)?e("#appr_line_tbody").html(this._renderEmptyTmpl({lang:f})):e("#appr_line_tbody").html(s({data:r}))},_renderEmptyTmpl:function(e){var t=[];t.push("    <tr>"),t.push('        <td colspan="4">'),t.push('            <p class="data_null">'),t.push('                <span class="ic_data_type ic_no_data"></span>'),t.push('                <span class="txt">{{lang.empty_msg}}</span>'),t.push("            </p>"),t.push("        </td>"),t.push("    </tr>");var n=Hogan.compile(t.join("\n"));return n.render(e)}});return c});