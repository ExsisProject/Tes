define(["backbone"],function(e){var t=e.Model.extend({defaults:{integrationDetailModel:{}}}),n=e.Model.extend({defaults:{code:null,name:"",alias:"",description:"",state:"HIDDEN",seq:0,creator:null,activityGroups:null,assignedActivityDeletable:!1,receptionActive:!1,receiver:null,receiverEditable:!1,readerActive:!0,reader:null,readerEditable:!1,securityLevelActive:!1,referenceActive:!0,referrer:null,referrerEditable:!0,actCopyAlterable:!0,templateHtml:null,integrationActive:!1,integrationName:"",folder:null,folderChangeable:!1,companyDocFolder:null,arbtDecisionActive:!0,arbtDecisionType:"DOCUMENT",formUserScope:"ALL",formUser:null,preserveDurationInYear:5,preserveDurationEditable:!1,securityLevelEditable:!1,documentEditable:!1,activityEditable:!1,officialDocumentSendable:!1,useDisplayDrafter:!0,useIncludeAgreement:!1,allowAgreement:!1,allowCheck:!1,useApprLineRule:!1,useSelfApproval:!0,useSendMail:!0,usePostRegistable:!0,useReceptionDocModifiable:!0,useRequiredReceiver:!1,formScriptType:"SRC",scriptBody:"",officialFormId:"",officialSenderId:"",officialSignId:"",allowMobileApproval:!1},initialize:function(){_.isUndefined(this.get("activityGroups"))&&this.set("activityGroups",[])},getIntegrationDetailModel:function(){var e=(new t(this.get("integration"))).toJSON();return e.integrationDetailModel},setIntegrationDetailModel:function(e){var t=this.getIntegrationDetailModel();t.integrationDetailModel=e,this.set("integration",t)},url:function(){var e=GO.contextRoot+"ad/api/approval/apprform/";return _.isUndefined(this.get("id"))?e:e+this.get("id")},validate:function(e,t){if(_.isEmpty(e.name))return"name_required";if(_.isEmpty(e.alias))return"alias_required";if(e.name.length>100)return"name_invalid_length";if(e.alias.length>100)return"alias_invalid_length";if(_.isEmpty(e.state))return"state_required";if(_.isEmpty(e.folder)||_.isUndefined(e.folder.id))return"folder_required";if(e.integrationActive&&(_.isEmpty(e.integration)||_.isEmpty(e.integration.beanName)))return"integration_invalid"}},{PRESERVE_YEARS:[1,3,5,10,0],STATES:["NORMAL","HIDDEN"]});return n});