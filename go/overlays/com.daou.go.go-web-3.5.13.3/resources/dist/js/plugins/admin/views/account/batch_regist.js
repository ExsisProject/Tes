define("admin/views/account/batch_regist",function(require){var e=require("jquery"),t=require("backbone"),n=require("app"),r=require("admin/views/account/batch_download"),i=require("admin/views/account/batch_upload"),s=require("admin/views/account/batch_photo_upload"),o=require("hgn!admin/templates/batch_regist"),u=require("hgn!admin/templates/batch_upload_result_member_class_th"),a=require("hgn!admin/templates/batch_upload_result_member_class_td"),f=require("hgn!admin/templates/batch_upload_result_dept_th"),l=require("hgn!admin/templates/batch_upload_result_dept_td"),c=require("hgn!admin/templates/batch_upload_result_member_th"),h=require("hgn!admin/templates/batch_upload_result_member_td"),p=require("i18n!nls/commons"),d=require("i18n!admin/nls/admin");require("GO.util");var v={batch_regist:d["\uc77c\uad04 \ub4f1\ub85d"],member_class:d["\uc9c1\uc704\uccb4\uacc4"],dept:d["\ubd80\uc11c"],member:d["\uba64\ubc84"],member_picture:d["\uba64\ubc84"]+" "+p["\uc0ac\uc9c4"],dept_org_shortcut:d["\uc870\uc9c1\uc124\uacc4"]+" "+d["\ubc14\ub85c\uac00\uae30"],member_class_list_download_desc:d["\uc9c1\uc704\uccb4\uacc4 \uc124\uc815 \ub2e4\uc6b4\ub85c\ub4dc \uc124\uba85"],dept_list_download_desc:d["\ubd80\uc11c \uc124\uc815 \ub2e4\uc6b4\ub85c\ub4dc \uc124\uba85"],member_list_download_desc:d["\uba64\ubc84 \uc124\uc815 \ub2e4\uc6b4\ub85c\ub4dc \uc124\uba85"],member_class_upload_desc:d["\uc9c1\uc704\uccb4\uacc4 \uc77c\uad04\ub4f1\ub85d \uc124\uba85"],dept_upload_desc:d["\ubd80\uc11c \uc77c\uad04\ub4f1\ub85d \uc124\uba85"],member_upload_desc:d["\uba64\ubc84 \uc77c\uad04\ub4f1\ub85d \uc124\uba85"]},m=t.View.extend({events:{"click div.tab_menu_wrap ul li":"changeTab","click span#goToDeptOrgLink":"goToDeptOrgLink"},initialize:function(e){this.options=e||{},this.menus=this.options.menus,this.type=this.options.opt1||"member_class"},render:function(){this.$el.empty(),this.$el.html(o({lang:v,isUseOrgService:n.util.isUseOrgService(!0)})),this.renderBatchRegist()},renderBatchRegist:function(){this.$el.find("span.type").parent().removeClass("active"),this.$el.find("#"+this.type).closest("li").addClass("active"),this.$contentEl=this.$el.find(".content .tab_content"),this.$contentEl.find("span").remove(),this.setViewsByType(),this.appendViews()},setViewsByType:function(){var e;switch(this.type){case"member_class":e={subject:v.member_class,list_download_desc:v.member_class_list_download_desc,upload_desc:v.member_class_upload_desc,downloadFormUrl:"ad/api/domaincode/excel/download/form",downloadListUrl:"ad/api/domaincode/excel/download",uploadUrl:"ad/api/domaincode/excel/upload",uploadResultUrl:"ad/api/domaincode/excel/result",uploadFailResultUrl:"ad/api/domaincode/excel/result/fail",reuploadUrl:"ad/api/domaincode/excel/reupload",uploadResultThTmpl:u,uploadResultTdTmpl:a},this.batchDownloadView=new r(e),this.batchUploadView=new i(e),this.batchPhotoUploadView=null;break;case"dept":e={subject:v.dept,list_download_desc:v.dept_list_download_desc,upload_desc:v.dept_upload_desc,downloadFormUrl:"ad/api/departments/excel/download/form",downloadListUrl:"ad/api/departments/excel/download",uploadUrl:"ad/api/department/excel/upload",uploadResultUrl:"ad/api/department/excel/result",uploadFailResultUrl:"ad/api/department/excel/result/fail",reuploadUrl:"ad/api/department/excel/reupload",uploadResultThTmpl:f,uploadResultTdTmpl:l},this.batchDownloadView=new r(e),this.batchUploadView=new i(e),this.batchPhotoUploadView=null;break;case"member":e={subject:v.member,list_download_desc:v.member_list_download_desc,upload_desc:v.member_upload_desc,downloadFormUrl:"ad/api/user/excel/download/form",downloadListUrl:"ad/api/user/excel/download",uploadUrl:"ad/api/user/excel/upload",uploadResultUrl:"ad/api/user/excel/result",uploadFailResultUrl:"ad/api/user/excel/result/fail",reuploadUrl:"ad/api/user/excel/reupload",passwordSettingUrl:"company/password",passwordMenuAccessible:this.menus.findMenuFromHref("company/password").accessible,uploadResultThTmpl:c,uploadResultTdTmpl:h},this.batchDownloadView=new r(e),this.batchUploadView=new i(e),this.batchPhotoUploadView=null;break;case"member_picture":e={subject:v.member_picture,uploadUrl:"ad/api/user/excel/upload"},this.batchDownloadView=null,this.batchUploadView=null,this.batchPhotoUploadView=new s(e)}},appendViews:function(){this.batchDownloadView!=null&&(this.$contentEl.append(this.batchDownloadView.$el),this.batchDownloadView.render()),this.batchUploadView!=null&&(this.$contentEl.append(this.batchUploadView.$el),this.batchUploadView.render()),this.batchPhotoUploadView!=null&&(this.$contentEl.append(this.batchPhotoUploadView.$el),this.batchPhotoUploadView.render())},changeTab:function(t){var n=e(t.currentTarget),r=n.find("span").attr("id");if(this.type==r)return;this.type=r,this.renderBatchRegist()},goToDeptOrgLink:function(){e.goPopup({width:500,title:"",pclass:"layer_confim",contents:"<p class='q'>"+n.i18n(d["\uba54\ub274\ub85c \uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c"],{menuName:d["\uc870\uc9c1\uc124\uacc4"]})+"</p>",buttons:[{btext:p["\ud655\uc778"],btype:"confirm",autoclose:!0,callback:function(){n.router.navigate("/dept",!0)}},{btext:p["\ucde8\uc18c"]}]})}});return m});