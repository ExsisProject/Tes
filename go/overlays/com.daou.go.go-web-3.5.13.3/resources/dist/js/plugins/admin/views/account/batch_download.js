define("admin/views/account/batch_download",function(require){var e=require("backbone"),t=require("app"),n=require("hgn!admin/templates/batch_download"),r=require("i18n!admin/nls/admin");require("GO.util"),require("jquery.go-grid"),require("jquery.go-preloader"),require("jquery.filedownload");var i={form_download:r["\uc0d8\ud50c \uc591\uc2dd \ub2e4\uc6b4\ub85c\ub4dc"],form_download_desc:r["\uc0d8\ud50c \uc591\uc2dd \ub2e4\uc6b4\ub85c\ub4dc \uc124\uba85"],list_download:r["\ud604\uc7ac \uc124\uc815 \ub2e4\uc6b4\ub85c\ub4dc"]},s=e.View.extend({id:"batch_download",tagName:"span",initialize:function(e){this.list_download_desc=e.list_download_desc,this.downloadListUrl=t.contextRoot+e.downloadListUrl,this.downloadFormUrl=t.contextRoot+e.downloadFormUrl},events:{"click a#download_form":"downloadForm","click a#download_list":"downloadList"},render:function(){$.extend(i,{list_download_desc:this.list_download_desc}),this.$el.html(n({lang:i,downloadFormUrl:this.downloadFormUrl,downloadListUrl:this.downloadListUrl}))},downloadForm:function(e){this.checkDownloading(this.downloadFormUrl)},downloadList:function(e){this.checkDownloading(this.downloadListUrl)},checkDownloading:function(e){this.preloader=$.goPreloader();var t=this;$.fileDownload(e,{successCallback:function(e){t.preloader.release()},failCallback:function(e,n){$.goAlert(r["\ud30c\uc77c \ub2e4\uc6b4\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."]),t.preloader.release()}})}});return s});