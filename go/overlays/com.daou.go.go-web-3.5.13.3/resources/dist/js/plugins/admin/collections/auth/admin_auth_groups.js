define("admin/collections/auth/admin_auth_groups",function(require){var e=require("admin/models/auth/admin_auth_group"),t=require("i18n!admin/nls/admin"),n=require("admin/collections/side_menu_collection"),r=function(e){e.responseJSON&&e.responseJSON.message?$.goMessage(e.responseJSON.message):$.goMessage(t["\uc694\uccad \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."])};return Backbone.Collection.extend({model:e,initialize:function(){this.sideMenuCollection=new n},url:function(){return GO.contextRoot+"ad/api/domainadmin/auth/all"},getDefaultAuthGroup:function(){return this.findWhere({defaultGroup:!0})},getById:function(e){return this.findWhere({id:e})},addGroup:function(t){t=t.trim(),this.validateDuplicatedName(t);var n=this,i=new e({name:t},{collection:n});return i.save().done(function(){n.add(i)}).fail(r)},modifyGroup:function(e,t){t=t.trim(),this.validateDuplicatedName(t,e);var n=this.get(e),i=n.get("name");return n.save({name:t}).fail(r).fail(function(){n.set("name",i)})},validateDuplicatedName:function(e,n){if(!e)return;var r=this.findWhere({name:e});if(!r)return;var i=n!=null&&r.id==n;if(i)return;throw $.goMessage(t["\uc911\ubcf5\ub41c \uc774\ub984\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4."]),new Error},findAuthUsersByUserId:function(e){var t=this,n=[];return _.each(t.models,function(t){var r=t.findAuthUserByUserId(e);r&&n.push(r)}),n},defaultGroupUserList:function(){var e=[];return _.each(this.models,function(t){t.isDefaultGroup()&&(e=t.attributes.domainAdminAuthUsers)}),e}})});