define("admin/views/account/domain_code_sample",function(require){var e=require("backbone"),t=require("app"),n=require("hgn!admin/templates/domain_code_sample"),r=require("hgn!admin/templates/domain_code_sample_list"),i=require("i18n!admin/nls/admin"),s=require("i18n!nls/commons"),o=require("admin/constants/domain_code_sample_data");require("GO.util"),require("jquery.go-grid"),require("jquery.go-preloader");var u={template:i["\ud15c\ud50c\ub9bf"],name:i["\uba85\uce6d"],code:i["\ucf54\ub4dc"]},a=e.View.extend({el:"#sampleArea",events:{"change select#selectCategory":"renderSampleList","click input#sampleCheckAll":"checkAllSample","click input.sampleCheckbox":"checkSample"},initialize:function(e){this.companyLocale=e},render:function(e){this.type=e;var t=this.getTargetSample();this.$el.html(n({lang:u,targetSample:t})),this.renderSampleList(t)},renderSampleList:function(e){this.selectedCategoryVal=this.$el.find("#selectCategory option:selected").val(),this.$el.find("#codeSampleList").empty().html(r({data:_.findWhere(Array.isArray(e)?e:this.getTargetSample(),{category:this.selectedCategoryVal}),isKoLocale:this.companyLocale=="ko",isEnLocale:this.companyLocale=="en",isJpLocale:this.companyLocale=="jp",isZhcnLocale:this.companyLocale=="zhcn",isZhtwLocale:this.companyLocale=="zhtw",isViLocale:this.companyLocale=="vi"}))},getTargetSample:function(){switch(this.type){case"position":return o.positionSample;case"grade":return o.gradeSample;case"duty":return o.dutySample;case"usergroup":return o.usergroupSample}},checkAllSample:function(){this.$el.find("#sampleCheckAll").prop("checked")?this.$el.find("#codeSampleList input:checkbox").prop("checked",!0):this.$el.find("#codeSampleList input:checkbox").prop("checked",!1)},checkSample:function(e){$(e.currentTarget).prop("checked")||this.$el.find("#sampleCheckAll").prop("checked",!1)},setSampleItem:function(){var e=this,n=this.$el.find("#codeSampleTable input.sampleCheckbox:checked");if(n.size()==0){$.goSlideMessage(i["\ud15c\ud50c\ub9bf\uc5d0\uc11c \uac00\uc838\uc62c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694."]);return}var r=[],s=_.findWhere(this.getTargetSample(),{category:this.selectedCategoryVal});$.each(n,function(e,t){var n=_.findWhere(s.data,{code:$(t).attr("id")});r.push(n)}),$.ajax({type:"POST",data:JSON.stringify(r),dataType:"json",contentType:"application/json",async:!1,url:t.config("contextRoot")+"ad/api/domaincodes/"+e.type,success:function(){$.goSlideMessage(i["\uc120\ud0dd\ud55c \ud56d\ubaa9\uc744 \ubaa8\ub450 \uac00\uc838\uc654\uc2b5\ub2c8\ub2e4"]),n.attr("checked",!1),e.$el.find("#sampleCheckAll").attr("checked",!1)},error:function(t){e.alertErrorMsg(t.responseJSON)}})},alertErrorMsg:function(e){var t=e.message;e.code=="400"?$.goError(t):$.goError(s["\uc2e4\ud328"],t!=null?t:s["\uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."])}});return a});