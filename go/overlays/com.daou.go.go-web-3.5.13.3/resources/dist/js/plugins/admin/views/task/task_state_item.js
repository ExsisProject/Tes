(function(){define(["backbone","hogan","i18n!nls/commons","hgn!admin/templates/task_flow_item"],function(e,t,n,r){var i=t.compile('<td class="state">{{model.name}}</td><td class="check"><input type="checkbox" {{#model.end}}checked{{/model.end}}></td><td class="action"><span class="wrapBtn"><span class="ic ic_delete" title="'+n["\uc0ad\uc81c"]+'"></span>'+"</span>"+"</td>"),s=e.View.extend({tagName:"tr",events:{"click input[type=checkbox]":"setEndState"},initialize:function(e){GO.EventEmitter.on("task","reset:endState",function(e){if(this.model==e)return;this.resetEndState()},this),this.editable=e.editable},render:function(){return this.$el.html(i.render({model:this.model.toJSON(),editable:this.editable})),this.$el.attr("data-type","state"),this},setEndState:function(e){var t=$(e.currentTarget),n=t.is(":checked");if(!n){this.resetEndState();return}GO.EventEmitter.trigger("task","reset:endState",this.model),this.model.set("end",n),this.$("input[type=checkbox]").attr("checked",!0),console.log(this.model.get("name")+" => "+this.model.get("end"))},resetEndState:function(){this.model.set("end",!1),this.$("input[type=checkbox]").attr("checked",!1),console.log(this.model.get("name")+" => "+this.model.get("end"))}});return s})}).call(this);