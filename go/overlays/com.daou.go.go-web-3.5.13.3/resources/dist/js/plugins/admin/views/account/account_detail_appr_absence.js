(function(){define(["jquery","underscore","backbone","app","hgn!admin/templates/account_detail_appr_absence","hgn!approval/templates/add_org_member","i18n!nls/commons","i18n!approval/nls/approval","jquery.go-orgslide","jquery.go-popup","jquery.ui","jquery.go-validation"],function(e,t,n,r,i,s,o,u){var a=n.View.extend({el:"#absenceSetting",events:{"click .creat":"_showOrgSlider"},initialize:function(e){this.release(),this.accountId=e.accountId},render:function(){var e={"\ubd80\uc7ac \uae30\uac04":u["\ubd80\uc7ac \uae30\uac04"],"\ub300\uacb0\uc790 \uc120\ud0dd":u["\ub300\uacb0\uc790 \uc120\ud0dd"],"\ubd80\uc7ac \uc0ac\uc720":u["\ubd80\uc7ac \uc0ac\uc720"],"\ub300\uacb0\uc790":u["\ub300\uacb0\uc790"],"\ucde8\uc18c":o["\ucde8\uc18c"]},t=i({lang:e});this.$el.html(t),this._initDate()},_initDate:function(){var t=this;e.datepicker.setDefaults(e.datepicker.regional[GO.config("locale")]);var n=this.$el.find("#startDate"),r=this.$el.find("#endDate");n.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",minDate:GO.util.now().format("YYYY-MM-DD")}),r.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",minDate:GO.util.now().format("YYYY-MM-DD")})},addMember:function(t){var n=this,r=e("#addMembers");if(n.accountId==t.id){e.goError(u["\ud604\uc7ac \uc0ac\uc6a9\uc790 \uc785\ub2c8\ub2e4."]);return}r.find("li").not(".creat").length>=1&&r.find("li").not(".creat").remove(),t&&!r.find('li[data-id="'+t.id+'"]').length&&r.find("li.creat").before(s(t))},_deleteMember:function(t){e(t.currentTarget).parents("li").remove()},_showOrgSlider:function(t){var n=this;return e.goOrgSlide({header:u["\ub300\uacb0\uc790 \uc120\ud0dd"],type:"list",contextRoot:GO.contextRoot,zIndex:200,callback:e.proxy(n.addMember,n),isAdmin:!0})},release:function(){this.$el.off(),this.$el.empty()}});return a})}).call(this);