define(["jquery","backbone","app","i18n!admin/nls/admin","i18n!nls/commons","hgn!admin/templates/board_manage_wrap","admin/models/board_base_config","admin/views/board_company_list"],function(e,t,n,r,i,s,o,u){var a={label_ok:i["\uc800\uc7a5"],label_cancel:i["\ucde8\uc18c"],company_manager:r["\uc804\uc0ac \uac8c\uc2dc\ud310 \uad00\ub9ac"],board_active:r["\uc0ac\uc6a9\uc911\uc778 \uac8c\uc2dc\ud310"],board_closed:r["\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310"],label_title:r["\uae30\ubcf8 \uc124\uc815"],display_closed_board:r["\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \uc870\ud68c \uba54\ub274"],show_closed_board:r["\ubcf4\uc774\uae30"],hide_closed_board:r["\uc228\uae30\uae30"]},f=null,l=!1,c=t.View.extend({unbindEvent:function(){this.$el.off("click",".tab_menu li"),this.$el.off("click","span#ok"),this.$el.off("click","span#cancel"),this.$el.off("submit","form")},bindEvent:function(){this.$el.on("click",".tab_menu li",e.proxy(this.moveCompanyBoardTab,this)),this.$el.on("click","span#ok",e.proxy(this.configSave,this)),this.$el.on("click","span#cancel",e.proxy(this.configCancel,this)),this.$el.on("submit","form",e.proxy(this.formSubmit,this))},initialize:function(){this.unbindEvent(),this.bindEvent(),this.model=o.read({admin:!0})},formSubmit:function(e){e.preventDefault();return},render:function(e){var t=this.model.toJSON(),n=s({model:t,lang:a});this.$el.html(n),u.render("ACTIVE")},moveCompanyBoardTab:function(t){var n=e(t.currentTarget);if(n.hasClass("active"))return;n.siblings("li").removeClass("active"),n.addClass("active"),n.attr("data-type")=="activeBoard"?u.render("ACTIVE"):u.render("CLOSED")},configSave:function(){var t=this,n=this.$el.find("form[name=boardConfig]");if(l)return;l=!0,e.each(n.serializeArray(),function(e,n){console.log(n.name),t.model.set(n.name,n.value,{silent:!0})}),t.model.save({},{success:function(n,r){r.code=="200"&&(e.goMessage(i["\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]),t.render())},error:function(t,n){var r=JSON.parse(n.responseText);r.message!=null?e.goMessage(r.message):e.goMessage(i["\uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4."])},complete:function(){l=!1}})},configCancel:function(){var t=this;e.goCaution(i["\ucde8\uc18c"],i["\ubcc0\uacbd\ud55c \ub0b4\uc6a9\uc744 \ucde8\uc18c\ud569\ub2c8\ub2e4."],function(){t.render(),e.goMessage(i["\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."])},i["\ud655\uc778"])}});return c});