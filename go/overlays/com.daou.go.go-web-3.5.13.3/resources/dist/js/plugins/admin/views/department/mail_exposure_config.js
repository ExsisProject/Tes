define("admin/views/department/mail_exposure_config",function(require){var e=require("backbone"),t=require("app"),n=require("hgn!admin/templates/department/mail_exposure_config"),r=require("i18n!admin/nls/admin"),i=require("i18n!nls/commons"),s=e.View.extend({events:{"click button.btn_toggle":"toggleButton"},initialize:function(){this.configApi=t.contextRoot+"ad/api/mailaddr/exposure/config";var e=this;$.ajax({url:this.configApi,type:"GET",async:!1}).done(function(t){e.useMailExposure=t.data})},render:function(){return this.$el.html(n({useMailExposure:this.useMailExposure,adminLang:r,commonLang:i})),this},toggleButton:function(){this.$el.find("button.btn_toggle").toggleClass("on")},save:function(){$.ajax({url:this.configApi,type:"POST",data:{mailExposure:this.$el.find("button.on").attr("title")==="ON"}}).done(function(){$.goMessage(i["\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."])}).fail(function(){$.goMessage(r["\uc694\uccad \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4."])})}});return s});