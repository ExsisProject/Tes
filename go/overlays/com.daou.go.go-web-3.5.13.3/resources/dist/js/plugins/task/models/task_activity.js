define(["backbone"],function(e){var t=e.Model.extend({initialize:function(e){this.taskId=e.taskId,this.id=e.activityId||e.id||null},defaults:{commentCount:0},urlRoot:function(){return"/api/task/"+this.taskId+"/activity"},setTaskId:function(e){this.taskId=e},commentPresent:function(){return this.get("commentCount")>0},createdAt:function(){return GO.util.basicDate3(this.get("createdAt"))},isModify:function(){return this.get("createdAt")!=this.get("updatedAt")},modifyTime:function(){return this.isModify()?this.get("updatedAt"):this.get("createdAt")},hasAttach:function(){return this.has("attaches")&&this.get("attaches").length>0},hasMobileContent:function(){return this.mobileContent()===""?!1:!0},mobileContent:function(){var e=this.get("content").replace(/[<][^>]*[>]/gi,"").replace(/&nbsp;/gi,"").trim();return e},hasMoreComment:function(){return this.get("commentCount")>this.get("comments").length}});return t});