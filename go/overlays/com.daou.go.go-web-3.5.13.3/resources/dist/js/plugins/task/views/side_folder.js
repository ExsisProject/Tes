(function(){define(["backbone","hogan","app","i18n!task/nls/task","task/models/task_folder"],function(e,t,n,r,i){var s=t.compile('<p class="title"><a><ins class="ic"></ins>{{#isPrivate}}<span class="ic_side ic_private"></span>{{/isPrivate}}<span class="txt" title="{{folder.name}}">{{folder.name}}</span></a>{{#isNew}} <span class="ic_classic ic_new2"></span>{{/isNew}}{{#folder.actions.managable}}{{#isDeptList}}<span class="btn_wrap"><span data-id="{{folder.id}}" class="ic_side ic_side_setting" title="{{lang.folderSetting}}"></span></span>{{/isDeptList}}{{/folder.actions.managable}}</p>'),o={folderSetting:r["\ud3f4\ub354 \uc124\uc815"]},u=e.View.extend({tagName:"li",events:{"click p":"goListFolder","click span[data-id]":"goEditFolder"},initialize:function(e){this.options=e||{},this.folder=new i(this.options.folder),this.isDeptList=this.options.isDeptList,this.department=this.options.department,this.type=this.isDeptList?"departmentFolder":"companyFolder"},render:function(){return this.$el.html(s.render({lang:o,folder:this.folder.toJSON(),isNew:this.folder.isNews(),isDeptList:this.isDeptList,isPrivate:this.folder.isPrivate()})),!this.department.get("shared")&&this.folder.isShare()?this.$el.addClass("task_share"):this.$el.addClass("task"),this.$el.attr("data-item",this.type+this.folder.id),this},goListFolder:function(){var e=this,t=function(){GO.util.store.set("taskFolderId",null,{type:"session"}),GO.util.store.set("sideItem",e.type+e.folder.id,{type:"session"}),n.router.navigate("task/folder/"+e.folder.id+"/task",!0),$(document).scrollTop(0)};GO.util.editorConfirm(t)},goEditFolder:function(e){var t=this,r=function(){e.stopPropagation(),GO.util.store.set("taskFolderId",null,{type:"session"}),GO.util.store.set("sideItem",t.type+t.folder.id,{type:"session"}),n.router.navigate("task/folder/"+t.folder.id,!0),$(document).scrollTop(0)};GO.util.editorConfirm(r)}});return u})}).call(this);