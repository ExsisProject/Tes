(function(){define(["backbone","app","i18n!nls/commons","i18n!task/nls/task","hgn!task/templates/todo_item","views/profile_card"],function(e,t,n,r,i,s){var o={activity:r["\ud65c\ub3d9\uae30\ub85d"],dueDate:r["\uae30\ud55c\uc77c"],assignee:r["\ub2f4\ub2f9\uc790"],delay:r["\uc9c0\uc5f0"],empty:r["\ubbf8\uc9c0\uc815"]},u=e.View.extend({tagName:"li",events:{"click div[data-type=task]":"goTaskDetail","click #assigneeArea":"popupProfile"},initialize:function(e){this.task=e.task},render:function(){return this.$el.html(i({lang:o,task:this.task.toJSON(),dueDate:this.task.getDueDate()||"-",activityFlag:this.task.hasActivity(),assignee:this.task.firstAssignee(),assigneeLabel:this.task.assigneeLabel(r["\uc678"],n["\uba85"]),isDelay:this.task.get("delay")})),this.$el.attr("id",this.task.get("id")),this},popupProfile:function(e){if(!this.task.firstAssignee())return;var t=e.currentTarget,n=$(t).attr("data-userId");s.render(n,t),e.stopPropagation()},goTaskDetail:function(){if(!this.task.isReadable()){$.goPopup({title:r["\uc811\uadfc \uad8c\ud55c \ud655\uc778"],message:r["\uc811\uadfc \uad8c\ud55c \uc5c6\uc74c \uc124\uba85"],buttons:[{btype:"confirm",btext:n["\ud655\uc778"],callback:function(){}}]});return}GO.util.store.set("taskFolderId",null,{type:"session"}),t.router.navigate("task/"+this.task.id+"/detail",!0)}});return u})}).call(this);