define(function(require){var e=require("matrix/constants/matrix_event"),t=require("matrix");return t.extend({render:function(){return this.collection.page==0?(this._render(),this.$el.trigger(e.RENDER_DONE)):this._appendRows(),this},_appendRows:function(){this._appendBackgroundRow(),this._renderRows(!0)},_appendBackgroundRow:function(){var e=Hogan.compile(["{{#rows}}","<tr data-row>",'<td data-row-head="{{rowKey}}" class="info">','<span class="name">{{rowTitle}}</span>','<span class="position">{{rowSubTitle}}</span>',"</td>","{{#columns}}",'<td data-column-key="{{key}}" data-matrix-column class="{{#isToday}}today{{/isToday}}"></td>',"{{/columns}}","</tr>","{{/rows}}"].join(""));this.$("tbody").append(e.render({columns:this.matrix.get("columns"),rows:this.collection.toJSON()}))},_renderRows:function(e){e||this.$("div[data-matrix-body]").empty(),this.collection.each(function(e,t){var n=this.collection.getFullIndex(t);this._appendRow(e,n)},this)}})});