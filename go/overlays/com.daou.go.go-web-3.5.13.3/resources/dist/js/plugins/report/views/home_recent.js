(function(){define(["app","report/collections/report_recent_list","hgn!report/templates/home_recent","i18n!nls/commons","i18n!report/nls/report","i18n!nls/user","jquery.go-grid"],function(e,t,n,r,i,s){var o=null,u={empty_data:i["\ucd5c\uadfc \uc0dd\uc131\ub41c \ubcf4\uace0\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."],submittedAt:i["\ubcf4\uace0\uc77c"],department:i["\ubd80\uc11c"],report:i["\ubcf4\uace0\uc11c"],report_name:i["\ubcf4\uace0\uc11c \uc81c\ubaa9"],reporter:i["\ubcf4\uace0\uc790"],title:r["\uc81c\ubaa9"]},a=Backbone.View.extend({el:"#recent_list",listEl:null,manage:!1,initialize:function(){this.$el.off()},bindEvent:function(){this.$el.on("click","#contactAdd",$.proxy(this.contactCreate,this))},unbindEvent:function(){this.$el.off()},render:function(){var e=this;this.$el.append(e.makeTemplate()),this.seriesReportList=$.goGrid({el:"#recentList",method:"GET",url:GO.contextRoot+"api/report/done",emptyMessage:"<p class='data_null'> <span class='ic_data_type ic_no_data'></span><span class='txt'>"+u.empty_data+"</span>"+"</p>",defaultSorting:[[0,"desc"]],pageUse:!1,sDomUse:!1,displayLength:20,columns:[{mData:"submittedAt",sClass:"date",sWidth:"180px",bSortable:!1,fnRender:function(e){return GO.util.basicDate(e.aData.submittedAt)}},{mData:"department",sClass:"part",bSortable:!1,fnRender:function(e){return e.aData.department.name}},{mData:null,sClass:"folder_type",bSortable:!1,fnRender:function(e){var t=e.aData;return"<span data-id='"+t.folder.id+"'> "+_.escape(t.folder.name)+"</span>"}},{mData:null,sClass:"subject",bSortable:!1,fnRender:function(e){var t=e.aData,n=[],r="",s="<span class='ic_side ic_private'></span>";t.actions.readable&&(r="detail");if(t.folder.type=="PERIODIC"){var o=GO.util.parseOrdinaryNumber(t.series.series,GO.config("locale"));return n.push("<span class='"+r+"' data-id = '"+t.id+"' data-series-id='"+t.series.id+"' data-type='"+t.folder.type+"'> "),t.actions.readable||n.push(s),n.push(GO.i18n(i["\uc81c {{arg1}}\ud68c\ucc28"],{arg1:o})+" "),n.push(_.escape(t.folder.name)),n.push("</span>"),n.join("")}return n.push("<span class='"+r+"' data-id = '"+t.id+"' data-folder-id='"+t.folder.id+"' data-type='"+t.folder.type+"'> "),t.actions.readable||n.push(s),n.push(_.escape(t.name)),n.push("</span>"),n.join("")}},{mData:"reporter",sClass:"name",bSortable:!1,fnRender:function(e){var t=e.aData.reporter;return t.name+" "+t.position}}],fnDrawCallback:function(t,n,r){e.$el.find(this.el+" tr>td:nth-child(3) span").css("cursor","pointer").click(function(e){var t=$(e.currentTarget);folderId=t.attr("data-id"),url="report/folder/"+folderId+"/reports",GO.router.navigate(url,{trigger:!0})}),e.$el.find(this.el+" tr>td:nth-child(4) span.detail").css("cursor","pointer").click(function(e){var t=$(e.currentTarget),n=t.attr("data-id"),r=t.attr("data-type"),i="";r=="PERIODIC"?i="report/series/"+t.attr("data-series-id")+"/report/"+n:i="report/folder/"+t.attr("data-folder-id")+"/report/"+n,GO.router.navigate(i,{trigger:!0})})}})},makeTemplate:function(){return n({lang:u})}});return{render:function(e,t){return o=new a,o.render()}}})}).call(this);