(function(){define(["app","report/collections/report_todos","views/default_card","i18n!nls/commons","i18n!report/nls/report","i18n!nls/user","GO.util"],function(e,t,n,r,i,s){var o=null,u={complete:i["\ubcf4\uace0\uc790"],incomplete:i["\ubbf8\ubcf4\uace0\uc790"],department:i["\ubd80\uc11c"],report_title:i["\ubcf4\uace0\ud604\ud669"],write_report:i["\ubcf4\uace0\ud558\uae30"],empty_data:i["\uc791\uc131\ud560 \ubcf4\uace0\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."]},a=Backbone.View.extend({el:"#todo_list",listEl:null,manage:!1,initialize:function(){this.$el.off()},bindEvent:function(){},unbindEvent:function(){this.$el.off()},render:function(){var e=this;t.fetch({success:function(t){e._renderTodo.call(e,t)}}).done().always(function(){})},_renderTodo:function(t){var r=[],s=this,o="";t.models.length!=0?($.each(t.models,function(t,o){var a=GO.session(),f=o.findReporterByUserId(a.id,"undones").user.reportId,l=o.get("closedAt").substring(0,4),c=_.escape(o.get("folder").name),h=GO.contextRoot+"app/report/series/"+o.get("id"),p=[{label:u.department,data:o.get("department").name},{label:u.report_title,data:GO.i18n(i["\ubcf4\uace0\uc790 {{arg1}}\uba85"],{arg1:o.getCompleteCount()})+" ("+GO.i18n(i["\ubbf8\ubcf4\uace0\uc790 {{arg1}}\uba85"],{arg1:o.getIncompleteCount()})+")",title:u.complete+" : "+o.getCompleteUserName()+"&#13;"+u.incomplete+" : "+o.getIncompleteUserName()}],d=(new n).makeTemplate({header:"",subject:"<a href='"+h+"'><time class='year'>"+l+"</time>"+"<time class='date'>"+GO.util.customDate(o.get("closedAt"),"MM/DD(ddd)")+"</time>"+"<p class='folder_type' title='"+c+"'>"+c+"<span class='times'>("+o.getSeriesStr()+")</span>"+"</p> "+"</a>",customTag:function(){return GO.util.isSameDate(o.get("closedAt"),o.get("currentDate"))?"<span class='btn_custom'>"+i["\uc624\ub298 \ub9c8\uac10"]+"</span>":""},content:s.makeContent(p),buttons:[{label:u.write_report,callback:function(){e.router.navigate("report/series/"+o.get("id")+"/report/"+f,{trigger:!0})}}]});r.push(d)}),o=r.join(""),s.$el.append(o)):(o="<p class='desc'>"+u.empty_data+"</p>",s.$el.replaceWith(o))},makeContent:function(e){var t=[];return t.push("<table class='form_s'>"),t.push("<tbody>"),$.each(e,function(e,n){var r=n.label||"",i=n.title||"",s=n.data||"";t.push("<tr>"),t.push("<th>"+r+"</th>"),t.push("<td title='"+s+"'>"+s+"</td>"),t.push("</tr>")}),t.push("</tbody>"),t.push("</table>"),t.join("")}});return{render:function(e,t){return o=new a,o.render()}}})}).call(this);