(function(){define(["backbone","app"],function(e,t){function i(e,t){if(e=="EDIT")return t=="INPROGRESS"?n.EDIT_INPROGRESS:t=="COPY_CREATE"?n.EDIT_REAPPLY:t=="TEMPSAVE"?n.EDIT_TEMPSAVE:n.EDIT;if(t=="INPROGRESS")return n.VIEW}var n={EDIT:"EDIT",EDIT_TEMPSAVE:"EDIT_TEMPSAVE",EDIT_REAPPLY:"EDIT_REAPPLY",EDIT_INPROGRESS:"EDIT_INPROGRESS",VIEW:"VIEW"},r=e.View.extend({initialize:function(e){this.docMode=t.util.store.get("document.docMode"),this.docStatus=t.util.store.get("document.docStatus"),this.url=e,this.main=null},invokeRender:function(e){var t=this;require([this.url],function(r){t.main=new r;var s={},o=i(t.docMode,t.docStatus);s[n.EDIT]=t.main.render,s[n.EDIT_TEMPSAVE]=t.main.renderForTempSave,s[n.EDIT_REAPPLY]=t.main.renderForReapply,s[n.EDIT_INPROGRESS]=t.main.renderForInprogressEditMode,s[n.VIEW]=t.main.renderForViewMode,s[o].call(t.main,e)})},getVairablesData:function(){return this.main.getVariablesData()},validate:function(){this.main.validate()},beforeSave:function(){this.main.beforeSave()}});return r})})();