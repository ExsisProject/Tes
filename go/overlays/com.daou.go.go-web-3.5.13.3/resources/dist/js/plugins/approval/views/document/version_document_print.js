define(["backbone","underscore","approval/views/document/document_print","approval/models/document","hgn!approval/templates/document/print_toolbar","i18n!nls/commons","i18n!approval/nls/approval"],function(e,t,n,r,i,s){var o={"\uc778\uc1c4 \ubbf8\ub9ac\ubcf4\uae30":s["\uc778\uc1c4 \ubbf8\ub9ac\ubcf4\uae30"],"\uc778\uc1c4":s["\uc778\uc1c4"]};return e.View.extend({deferred:$.Deferred(),events:{"click #printDoc":"printDoc"},initialize:function(e){e=e||{},this.docId=e.docId,this.version=e.version,this.document=new r({},{docId:this.docId}),this.document.fetch({success:t.bind(function(e){console.log(e),this.deferred.resolve()},this)})},render:function(){return this.deferred.done(t.bind(function(){var e=this.document.get("actionLogs").filter(t.bind(function(e){return e.documentVersionModel&&e.documentVersionModel.version+""===this.version},this))[0],r=e.documentVersionModel||{},s=new n({docId:this.docId,docBody:r.docBody,attaches:r.attaches,references:r.references});s.setElement(this.$el),s.render(),this.$el.prepend(i({lang:o})),this.$el.find(".wrap_option").remove()},this)),this},printDoc:function(){GO.util.print(this.$el)}})});