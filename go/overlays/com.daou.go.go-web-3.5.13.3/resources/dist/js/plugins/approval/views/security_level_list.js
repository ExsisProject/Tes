(function(){define(["jquery","backbone","app","approval/models/security_level","approval/collections/security_levels","i18n!nls/commons","i18n!approval/nls/approval"],function(e,t,n,r,i,s,o){var u=t.View.extend({selected:null,securityLevels:null,initialize:function(e){e.selectedData&&(this.selected=e.selectedData),this.securityLevels=new i},render:function(){this.securityLevels.fetch({success:e.proxy(function(e){this._markSelectedSecurityLevel(e,this.selected),this.$el.append(this._renderTmpl({securityLevels:e.toJSON()}))},this)})},getSelectedData:function(){var e=this.$el.val(),t=this.securityLevels.get(e);return t.toJSON()},_markSelectedSecurityLevel:function(e,t){if(t&&t.id)e.each(function(e){e.get("id")==t["id"]&&e.set("isSelected",!0)});else{var n=e.at(0);n&&n.set("isSelected",!0)}},_renderTmpl:function(e){var t=[],n={noUse:o["\ubbf8\uc0ac\uc6a9"]};_.extend(e,{lang:n}),t.push("{{#securityLevels}}"),t.push('    <option value="{{id}}" {{#isSelected}}selected{{/isSelected}}>{{name}}{{^useFlag}}({{lang.noUse}}){{/useFlag}}</option>'),t.push("{{/securityLevels}}");var r=Hogan.compile(t.join("\n"));return r.render(e)}});return u})}).call(this);