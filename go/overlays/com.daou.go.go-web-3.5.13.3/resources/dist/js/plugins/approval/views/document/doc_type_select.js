define(["jquery","underscore","backbone","app","approval/views/apprform/appr_company_folder_tree","hgn!approval/templates/document/doc_type_select","hgn!approval/templates/document/add_docfolder","i18n!nls/commons","i18n!approval/nls/approval"],function(e,t,n,r,i,s,o,u,a){var f=n.View.extend({tag:"appr_setting",treeView:null,formListView:null,el:".layer_doc_type_select .content",initialize:function(e){this.options=e||{},this.release()},events:{},doc_type_confirm:function(){var t=this.treeView.getFullPathName(),n=this.treeView._getSelectedNodeData();if(n.rel=="root")return e.goMessage(a["\ud574\ub2f9 \ud3f4\ub354\ub294 \uc120\ud0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"]),!1;var r={id:"",folderId:n.id,folderName:t,modifiable:!0};if(!r.folderId)return e.goMessage(a["\uc120\ud0dd\ub41c \ub300\uc0c1\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."]),!1;var i=e("#addFolder");return i.find('li[data-folderId="'+r.folderId+'"]').length?e.goMessage(a["\uc774\ubbf8 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]):(i.find("li.creat").before(o(e.extend(r,{}))),this.trigger("docReferenceSelect")),!0},render:function(){var e={"\ud574\ub2f9 \ud3f4\ub354\ub294 \uc120\ud0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":a["\ud574\ub2f9 \ud3f4\ub354\ub294 \uc120\ud0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"]},t=s({lang:e});this.$el.html(t),this.treeView=new i({isAdmin:!1,treeElementId:"doc_type_select_tree",apiCommonUrl:"api/docfolder/sidetree"}),this.treeView.render()},release:function(){this.$el.off(),this.$el.empty()}});return f});