define(function(require){var e=require("jquery"),t=require("app"),n=require("backbone"),r=require("approval/daouform/timeline/views/main"),i={startDate:"#startDate",startTime:"#startTime",endTime:"#endTime",totalTime:"#totalTime",weeklyTotalTime:"#weeklyTotalTime",monthlyTotalTime:"#monthlyTotalTime",description:"#description",approvalName:"#name"},s=n.View.extend({initialize:function(e){this.options=e||{},this.docModel=this.options.docModel,this.variables=this.options.variables,this.infoData=this.options.infoData,this.docStatus=GO.util.store.get("document.docStatus"),this.docMode=GO.util.store.get("document.docMode")},render:function(){this.timeline=new r(_.extend(i,this.options)),_.isEqual(this.docStatus,"TEMPSAVE")?this.timeline.renderEditDocument():this.timeline.render()},renderViewMode:function(){},onEditDocument:function(){this.timeline=new r(_.extend(i,this.options)),this.timeline.renderEditDocument()},beforeSave:function(){},afterSave:function(){},validate:function(){return this.timeline?this.timeline.validate().descriptionLength()&&this.timeline.validate().buttonClick()&&this.timeline.validate().selectApprovalName():!0},getDocVariables:function(){return this.timeline?this.timeline.getVariablesData():this.timeline}});return s});