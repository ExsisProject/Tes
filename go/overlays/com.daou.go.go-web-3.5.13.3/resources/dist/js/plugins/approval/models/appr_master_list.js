(function(){define(["jquery","backbone","app"],function(e,t,n){var r=t.Model.extend({}),i=t.Collection.extend({model:r}),s=t.Model.extend({TYPE:{COMPANY_FOLDER:"companyFolderMasters",OFFICIAL_DOC:"officialDocMasters",DOC:"apprDocMasters"},initialize:function(e){var t=_.extend({},e);this.isAdmin=!1,_.isBoolean(t.isAdmin)&&(this.isAdmin=t.isAdmin)},url:function(){var e="/api/approval/master";return this.isAdmin&&(e="/ad"+e),e},getCompanyFolderMasters:function(){return this._getMasters(this.TYPE.COMPANY_FOLDER)},getDocMasters:function(){return this._getMasters(this.TYPE.DOC)},getOfficialDocMasters:function(){return this._getMasters(this.TYPE.OFFICIAL_DOC)},_getMasters:function(e){var t=new i;return t.set(this.get(e)),t},addCompanyFolderMaster:function(e,t){this._addMaster(this.TYPE.COMPANY_FOLDER,e,t)},addDocMaster:function(e,t){this._addMaster(this.TYPE.DOC,e,t)},addOfficialDocMaster:function(e,t){this._addMaster(this.TYPE.OFFICIAL_DOC,e,t)},_addMaster:function(e,t,n){var s=new i(this.get(e)),o=new r({userId:t,actions:n});s.add(o),this.set(e,s.toJSON())},clearCompanyFolderMasters:function(){this.set(this.TYPE.COMPANY_FOLDER,[])},clearDocMasters:function(){this.set(this.TYPE.DOC,[])},clearOfficialDocMasters:function(){this.set(this.TYPE.OFFICIAL_DOC,[])}});return s})}).call(this);