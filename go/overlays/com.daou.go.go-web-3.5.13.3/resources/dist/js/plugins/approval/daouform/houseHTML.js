define(["jquery","backbone","app","approval/components/appr_integrator_function"],function(e,t,n,r){var i={},s=t.Model.extend({initialize:function(e){}}),o=t.View.extend({initialize:function(e){this.options=e||{},this.docModel=this.options.docModel,this.variables=this.options.variables,this.config=i,this.infoData=this.options.infoData,this.formCode=this.infoData.formCode,this.integratorFunction=new r({variables:this.variables,config:this.config,infoData:this.infoData}),this.eventModel=new s,this.addEventToFormIntegrator()},render:function(){this.integratorFunction.render(),this.unBindEvent(),this.bindEvent()},bindEvent:function(){},unBindEvent:function(){},changeSelect:function(t){var r=this,i=e(t.currentTarget).find("option:selected").attr("data-id");this.eventModel.fetch({url:n.contextRoot+"api/approval/integration/eventinvoker/"+this.formCode+"/showDesc",async:!0,data:{val2:i},success:function(e){var t=e.toJSON();r.renderTableByData(t.returnData.returnDesc)}})},renderTableByData:function(t){e("#testTable tbody td").empty(),e("#testTable tbody td").html(Hogan.compile("<span>{{#data}}{{{val3}}}<br>{{/data}}</span>").render({data:t}))},getIntegrationData:function(){return _.extend(this.variables,e("#document_content").getDocVariables()),this.variables},validateIntegrationData:function(){return!0},clearEmptyIntegrationData:function(){},addEventToFormIntegrator:function(){e.goIntegrationForm={getIntegrationData:_.bind(this.getIntegrationData,this),validateIntegrationData:_.bind(this.validateIntegrationData,this),clearEmptyIntegrationData:_.bind(this.clearEmptyIntegrationData,this)}}});return o});