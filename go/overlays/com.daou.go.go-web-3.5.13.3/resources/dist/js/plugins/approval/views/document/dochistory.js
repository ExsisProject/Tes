define(["jquery","underscore","backbone","hgn!approval/templates/document/dochistory","approval/views/document/docbody_history","approval/views/document/apprflow_history","i18n!nls/commons","i18n!approval/nls/approval"],function(e,t,n,r,i,s,o,u){var a={"\uacb0\uc7ac\uc120 \ubcc0\uacbd":u["\uacb0\uc7ac\uc120 \ubcc0\uacbd"],"\ubc84\uc804":u["\ubc84\uc804"],"\ub0a0\uc9dc":u["\ub0a0\uc9dc"],"\uc0ac\uc6a9\uc790":u["\uc0ac\uc6a9\uc790"],"\uacb0\uc7ac\ubb38\uc11c \ubcc0\uacbd":u["\uacb0\uc7ac\ubb38\uc11c \ubcc0\uacbd"]},f=n.View.extend({tagName:"div",className:"aside_wrapper_body",initialize:function(e){this.options=e||{},t.isObject(this.options.model)&&(this.apprFlowHistories=this.options.model.get("apprFlowVersions"),this.docBodyHistories=this.options.model.get("actionLogs"),this.isSiteAdmin=this.options.model.isAdmin)},events:{"click .apprflowHistoryView":"apprflowHistoryView","click .showApprChangeLog":"showApprChangeLog"},render:function(){return this.$el.html(r({lang:a})),this.docBodyHistoryView=new i({actionLogs:this.docBodyHistories,isSiteAdmin:this.isSiteAdmin}),this.apprFlowHistoryView=new s({apprFlowHistories:this.apprFlowHistories}),this.docBodyHistoryView.setElement(e(this.el).find("#docbody_history")).render(),this.apprFlowHistoryView.setElement(e(this.el).find("#apprflow_history")).render(),this},apprflowHistoryView:function(e){this.apprFlowHistoryView.showApprChangeLog(e)},showApprChangeLog:function(e){var t=this.docBodyHistoryView.showApprChangeLog(e),n=location.protocol+"//"+window.location.host+GO.contextRoot+"app/approval/document/"+this.model.get("id")+"/"+t.version+"/popup/print";window.open(n,"","location=no, directories=no,resizable=yes,status=no,toolbar=no,menubar=no, width=1280,height=650,left=0, top=0, scrollbars=yes")},show:function(){this.$el.show()},hide:function(){this.$el.hide()}});return f});