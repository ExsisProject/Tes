(function(){define(["jquery","backbone","hogan","app","i18n!nls/commons","i18n!approval/nls/approval","approval/views/mobile/m_pagination","approval/views/mobile/m_folderlist_item","approval/models/folderlist_item","collections/paginated_collection","views/mobile/header_toolbar","hgn!approval/templates/mobile/m_doclist_empty","hgn!approval/templates/mobile/m_doclist_item","jquery.go-validation","GO.util"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p={approval:s["\uc804\uc790\uacb0\uc7ac"],"\ud558\uc704 \ubd80\uc11c \ubb38\uc11c\ud568":s["\ud558\uc704 \ubd80\uc11c \ubb38\uc11c\ud568"],move_to_home:i["\ud648\uc73c\ub85c \uc774\ub3d9"]},d=f.extend({model:a,url:function(){return"/api/approval/deptfolder/subfolder/list?"+e.param({page:this.pageNo})}}),v=t.View.extend({el:"#content",events:{},initialize:function(e){r.util.appLoading(!0),this.options=e||{},this.folderId=this.options.folderId,_.bindAll(this,"render","renderPages"),this.collection=new d,this.headerToolbarView=l,this.collection.bind("reset",this.resetList,this),this.collection.fetch()},renderPages:function(){this.pageView=new o({pageInfo:this.collection.pageInfo()}),this.pageView.bind("paging",this.selectPage,this),this.$el.find("div.paging br_no").remove(),this.$el.find("ul.list_box").append(this.pageView.render().el)},render:function(){this.$el.html(h),r.util.appLoading(!1)},selectPage:function(e){this.collection.setPageNo(e),this.collection.fetch()},resetList:function(e){var t=this,n=this.collection.url().replace("/api/",""),i=r.router.getUrl();i.indexOf("?")<0?r.router.navigate(n,{replace:!0}):i!=n&&r.router.navigate(n,{trigger:!1,pushState:!0}),this.toolBarData={title:p["\ud558\uc704 \ubd80\uc11c \ubb38\uc11c\ud568"],isList:!0,isSideMenu:!0,isHome:!0,isSearch:!0},this.headerToolbarView.render(this.toolBarData),this.$el.find("ul.list_box").empty();var o="approval";e.each(function(e){var n=new u({model:e,listType:o});t.$el.find("ul.list_box").append(n.render().el)}),e.length==0&&this.$el.find("ul.list_box").append(c({lang:{doclist_empty:s["\ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."]}})),this.renderPages()}},{__instance__:null,create:function(){return this.__instance__=new this.prototype.constructor({el:e("#content")}),this.__instance__},render:function(){var e=this.create(),t=arguments.length>0?Array.prototype.slice.call(arguments):[];return this.prototype.render.apply(e,t)}});return v})}).call(this);