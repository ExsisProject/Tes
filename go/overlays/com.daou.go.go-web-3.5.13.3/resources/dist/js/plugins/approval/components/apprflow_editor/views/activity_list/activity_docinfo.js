define("approval/components/apprflow_editor/views/activity_list/activity_docinfo",["backbone","text!approval/components/apprflow_editor/templates/activity_list/empty_activity.html","i18n!nls/commons","i18n!approval/nls/approval"],function(e,t,n,r){var i="appr-activity",s=e.View.extend({tagName:"table",className:"type_normal tb_approval_line",dndDropTarget:i,__disabled__:!1,template:function(){},events:{"click .btn-remove":"_onClickRemove"},lang:function(){return{name:n["\uc774\ub984"],department:n["\ubd80\uc11c"],email:n["\uc774\uba54\uc77c"],remove:n["\uc0ad\uc81c"],emptyMessage:this.isDisabled()?r["\ud56d\ubaa9\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"]:r["\ub4dc\ub798\uadf8\ud558\uc5ec \ud56d\ubaa9\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}},initialize:function(t){t=t||{},t.dndDropTarget&&(this.dndDropTarget=t.dndDropTarget),t.observer&&t.observer.hasOwnProperty("bind")?this.observer=t.observer:this.observer=_.extend({},e.Events),this.__disabled__=!1,t.disable&&this.disable(),this.listenTo(this.collection,"add remove",this.render)},render:function(){_.isFunction(this.template)&&(this.$el.html(this.template({dndDropClassName:this.dndDropTarget,activities:this.parseActivities(),isEnabled:!this.isDisabled(),lang:_.result(this,"lang")},{emptyActivity:t})),this.observer.trigger("activateDNDDroppable"))},getUniqId:function(e){return e.id},sortByIds:function(e){var t=[];_.isArray(e)||(e=[e]),_.each(e,function(e){var n=this.collection.find(function(t){return""+this.getUniqId(t)==""+e},this);t.push(n)},this),this.collection.reset(t)},drawDropHelper:function(e){var t;e==="last"?t=this.$el.find("tr.activity:last"):t=this.$el.find("tr.activity:eq("+(e-1)+")");var n=10;setTimeout(function(){t.find("td").each(function(){$(this).css({"border-bottom":"2px solid black"})})},n)},clearDropHelper:function(){this.$el.find("td").each(function(){$(this).attr("style","")})},remove:function(e){var t=this.collection.find(function(t){return this.getUniqId(t)===e},this);this.collection.remove(t)},parseActivities:function(){return this.collection.toJSON()},_onClickRemove:function(e){var t=$(e.currentTarget),n=t.data("id");e.preventDefault(),this.remove(n)},disable:function(){this.__disabled__=!0},isDisabled:function(){return this.__disabled__}});return s});