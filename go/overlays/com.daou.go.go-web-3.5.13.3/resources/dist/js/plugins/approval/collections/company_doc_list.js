(function(){define(["jquery","collections/paginated_collection","approval/models/doclist_item","jquery.go-preloader"],function(e,t,n){var r=null,i=t.extend({model:n.extend({idAttribute:"_id"}),url:function(){return this._makeURL(!1)},getCsvURL:function(){return this._makeURL(!0)},fetch:function(n){typeof n!="undefined"||(n={});var i=this,s=n.beforeSend;_.isFunction(s)||(r=e.goPreloader(),r.render());var o=n.complete;return n.complete=function(e){r!=null&&r.release(),_.isFunction(o)&&o(i,e)},t.prototype.fetch.call(this,n)},_makeURL:function(t){var n="/api/docfolder/"+this.folderId+"/documents";return t&&(n+="/csv"),n+"?"+e.param({page:this.pageNo,offset:this.pageSize,property:this.property,direction:this.direction,searchtype:this.searchtype,keyword:this.keyword})},setFolderId:function(e){this.folderId=e},setSort:function(e,t){this.property=e,this.direction=t,this.pageNo=0},setSearch:function(e,t){this.searchtype=e,this.keyword=t,this.pageNo=0},setListParam:function(){this.pageNo=sessionStorage.getItem(GO.constant("navigator","PAGE-NO")),this.pageSize=sessionStorage.getItem(GO.constant("navigator","PAGE-SIZE")),this.property=sessionStorage.getItem(GO.constant("navigator","PROPERTY")),this.direction=sessionStorage.getItem(GO.constant("navigator","DIRECTION")),this.searchtype=sessionStorage.getItem(GO.constant("navigator","SEARCH-TYPE")),this.keyword=sessionStorage.getItem(GO.constant("navigator","KEYWORD").replace(/\+/gi," "))}});return i})}).call(this);