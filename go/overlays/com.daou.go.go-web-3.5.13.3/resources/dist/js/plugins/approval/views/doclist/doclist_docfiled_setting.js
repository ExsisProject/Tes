define(["jquery","underscore","backbone","app","approval/models/doc_list_field","approval/views/doclist/docfield_setting_layer","i18n!nls/commons","i18n!admin/nls/admin","i18n!approval/nls/approval"],function(e,t,n,r,i,s,o,u,a){return n.View.extend({initialize:function(e){this.options=e||{},this.$appendTarget=this.options.appendTarget,this.toRemoveColumns=this.options.toRemoveColumns,this.targetView=this.options.targetView,this.docFolderType=e.docFolderType},render:function(){var t=[];t.push('<a id="popupDocField" class="btn_tool" data-role="button">'),t.push('  <span class="ic_toolbar setting"></span>  <span class="txt">{{lang.\ud544\ub4dc \uc124\uc815}}</span>'),t.push("</a>"),this.$appendTarget.append(Hogan.compile(t.join("")).render({lang:{"\ud544\ub4dc \uc124\uc815":a["\ud544\ub4dc \uc124\uc815"]}})),this.$appendTarget.find("a#popupDocField").bind("click",e.proxy(this.popupDocField,this))},remove:function(){this.$appendTarget.find("a#popupDocField").remove()},popupDocField:function(t){var n=this;t.preventDefault();var r=e.goPopup({pclass:"layer_normal layer_fieldName",header:a["\ud544\ub4dc \ubaa9\ub85d"],modal:!0,width:600,contents:"",buttons:[{btext:o["\ud655\uc778"],btype:"confirm",autoclose:!1,callback:function(e){n.saveDocListField(),e.close()}},{btext:o["\ucde8\uc18c"],btype:"cancel"}]});return this.docfieldSettingLayerView=new s({docFolderType:this.docFolderType,toRemoveColumns:this.toRemoveColumns}),this.docfieldSettingLayerView.render().done(function(){r.reoffset()}),!1},saveDocListField:function(){var e=this,t=new i;t.set("docListFields",this.docfieldSettingLayerView.getData()),t.save({},{success:function(t,n){e.targetView.render()},error:function(e,t){}})}})});