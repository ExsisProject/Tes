define(["jquery","underscore","backbone","when","app","approval/models/doclist_item","views/profile_card","approval/views/document/apprflow","approval/views/document_attach","hgn!approval/templates/doclist_card_item","i18n!nls/commons","i18n!approval/nls/approval"],function(e,t,n,r,i,s,o,u,a,f,l,c){var h={"\ud31d\uc5c5\ubcf4\uae30":l["\ud31d\uc5c5\ubcf4\uae30"],"\uae30\uc548\uc77c":c["\uae30\uc548\uc77c"],"\uae30\uc548\uc790":c["\uae30\uc548\uc790"],"\uacb0\uc7ac\uc591\uc2dd":c["\uacb0\uc7ac\uc591\uc2dd"],"\ucca8\ubd80":c["\ucca8\ubd80"],"\uacb0\uc7ac\ud558\uae30":c["\uacb0\uc7ac\ud558\uae30"],"\uc218\uc2e0":c["\uc218\uc2e0"],"\uae34\uae09":c["\uae34\uae09"],"\ub313\uae00":c["\ub313\uae00"],"\uc758\uacac":c["\uc758\uacac"],"\ucca8\ubd80":c["\ucca8\ubd80"],"\uc9c0\uc5f0":c["\uc9c0\uc5f0"]},p=n.View.extend({tagName:"section",className:"card_item approval_home_card",events:{"click span.title":"showUrl","click a.btn_lead":"showUrl","click span.popup":"showPopup"},initialize:function(e){this.options=e||{},this.useHold=this.options.useHold||!1,t.bindAll(this,"render")},render:function(){var e={"\ucca8\ubd80":c["\ucca8\ubd80"]},t={id:this.model.getDocumentId(),draftedAt:this.model.getDraftedAt(),formName:this.model.get("formName"),title:this.model.get("title"),hasAttach:this.model.hasAttach(),isReceive:this.model.isReceive(),attachCount:this.model.get("attachCount"),commentCount:this.model.get("commentCount"),replyCount:this.model.get("replyCount"),drafterId:this.model.get("drafterId"),drafterName:this.model.get("drafterName"),drafterPositionName:this.model.get("drafterPositionName"),docStatus:this.model.getDocStatusName(),statusClass:this.model.getDocStatusClass(),completedAt:this.model.getCompletedAt(),docNum:this.model.get("docNum"),showUrl:this.model.getShowUrl(),isEmergency:this.model.get("isEmergency"),holdStatusName:this.model.getHoldStatusName(),holdStatusClass:this.model.getHoldStatusClass(),hasAdditionalInfo:this.model.get("commentCount")||this.model.get("replyCount")||this.model.get("attachCount"),isDelay:this.model.get("isDelay")};return this.$el.html(f({doc:t,lang:h,columns:e,useOngoingState:!this.useHold||this.model.getHoldStatusClass()!="defer"?!0:!1})),t.isDelay&&this.$el.addClass("caution"),this},showUrl:function(e){var t=this.model.getShowUrl();i.router.navigate(t,!0)},showPopup:function(e){var t=this.model.getFullShowUrl()+"/popup";window.open(t,"","locationno, directories=no,resizable=yes,status=no,toolbar=no,menubar=no, width=1280,height=650,left=0, top=0, scrollbars=yes")}});return p});