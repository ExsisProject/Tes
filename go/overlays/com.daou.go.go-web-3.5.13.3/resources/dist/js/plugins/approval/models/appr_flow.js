(function(){define(["jquery","backbone","app","approval/collections/appr_activity_groups"],function(e,t,n,r){var i=t.Model.extend({docId:null,isAdmin:!1,idAttribute:"_id",url:function(){return this.isAdmin?["/ad/api/approval/manage/document",this.docId,"apprflow"].join("/"):["/api/approval/document",this.docId,"apprflow"].join("/")},initialize:function(e){this.docId=e.docId,_.isBoolean(e.isAdmin)&&(this.isAdmin=e.isAdmin)},getAllActivities:function(){var e=[],t=new r(this.get("activityGroups"));return t.each(function(t){t.getActivityCollection().each(function(t){e.push(t.toJSON())})}),e},hasNoActivities:function(){return _.isEmpty(this.getAllActivities())},getCurrentActivity:function(){var e=this.getAllActivities(),t=this.get("currentActivityId");for(var n=0,r=e.length;n<r;n++)if(e[n].id==t)return e[n]}});return i})}).call(this);