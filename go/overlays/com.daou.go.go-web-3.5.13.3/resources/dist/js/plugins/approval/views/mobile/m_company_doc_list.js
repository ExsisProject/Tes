(function(){define(["views/mobile/m_more_list","jquery","backbone","hogan","app","i18n!board/nls/board","i18n!nls/commons","i18n!approval/nls/approval","approval/views/mobile/m_pagination","approval/views/mobile/m_doclist_item","approval/collections/company_doc_list","views/mobile/header_toolbar","hgn!approval/templates/mobile/m_doclist_empty","hgn!approval/templates/mobile/m_doclist_item","jquery.go-validation","GO.util"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){var d={approval:u["\uc804\uc790\uacb0\uc7ac"],"\uc804\uc0ac \ubb38\uc11c\ud568":u["\uc804\uc0ac \ubb38\uc11c\ud568"],move_to_home:o["\ud648\uc73c\ub85c \uc774\ub3d9"]},v=e.extend({el:"#content",initialize:function(e){i.util.appLoading(!0),this.options=e||{},_.bindAll(this,"render","renderPages"),this.folderId=this.options.folderId,this.collection=new l,this.collection.setFolderId(this.folderId);var n=this.collection.url().replace("/api/",""),r=i.router.getUrl();r.indexOf("?")<0?i.router.navigate(n,{replace:!0}):r!=n&&i.router.navigate(n,{trigger:!1,pushState:!0}),this.headerToolbarView=c,this.initProperty="completedAt",this.initDirection="desc",this.ckeyword="";var s=sessionStorage.getItem("list-history-baseUrl");s&&s=="docfolder/"+this.folderId+"/documents"?(this.initProperty=sessionStorage.getItem(i.constant("navigator","PROPERTY")),this.initDirection=sessionStorage.getItem(i.constant("navigator","DIRECTION")),this.initSearchtype=sessionStorage.getItem(i.constant("navigator","SEARCH-TYPE")),this.ckeyword=sessionStorage.getItem(i.constant("navigator","KEYWORD").replace(/\+/gi," "))):this.collection.setSort(this.initProperty,this.initDirection);var o={listFunc:t.proxy(function(e){this.renderList(e)},this),emptyListFunc:t.proxy(function(){this.$el.find("ul.list_box").append(h({lang:{doclist_empty:u["\ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."]}}))},this)};this.setRenderListFunc(o);var a={property:this.collection.property,direction:this.collection.direction,searchtype:this.collection.searchtype,keyword:this.collection.keyword};this.setFetchInfo(a,this.collection)},renderPages:function(){this.$el.find("div.paging br_no").remove()},render:function(){this.$el.html(p),this.dataFetch().done(t.proxy(function(e){e.length===0?this.renderListFunc.emptyListFunc():(this.renderListFunc.listFunc(e),this.scrollToEl())},this)),this.toolBarData={title:this.collection.extData.name,isList:!0,isSideMenu:!0,isHome:!0,isSearch:!0},this.headerToolbarView.render(this.toolBarData),i.util.appLoading(!1)},renderList:function(e){var t=this,n="docfolder";e.each(function(e){var r=new f({model:e,listType:n});t.$el.find("ul.list_box").append(r.render().el)})}},{__instance__:null,create:function(){return this.__instance__=new this.prototype.constructor({el:t("#content")}),this.__instance__},render:function(){var e=this.create(),t=arguments.length>0?Array.prototype.slice.call(arguments):[];return this.prototype.render.apply(e,t)}});return v})}).call(this);