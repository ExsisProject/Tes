(function(){define(["backbone","app"],function(e,t){var n=t.BaseModel.extend({}),r=t.BaseCollection.extend({model:n,url:function(){return this.conditionValidate(),"/api/search/calendar?"+$.param(this.conditions)},initialize:function(){this.conditions={type:"all",page:0,offset:20}},conditionValidate:function(){if(!this.conditions.stype)throw new Error("'stype' \ud30c\ub77c\ubbf8\ud130\ub294 \ud544\uc218\uc785\ub2c8\ub2e4.");if(this.conditions.stype==="simple"&&!this.conditions.keyword)throw new Error("'simple'\ud0c0\uc785 \uac80\uc0c9\uc5d0\ub294 'keyword' \uc18d\uc131\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");return!0},getConditions:function(){return this.conditions},setSearchType:function(e){return this.conditions.stype=e,this},getSearchType:function(){return this.conditions.stype},isDetailSearch:function(){return this.conditions.stype==="detail"},setKeyword:function(e){return this.conditions.keyword=e,this},getKeyword:function(){return this.conditions.keyword?this.conditions.keyword:null},setSummary:function(e){return this.conditions.summary=e,this},getSummary:function(){return this.conditions.summary?this.conditions.summary:null},setType:function(e){return this.conditions.type=e,this},getType:function(){return this.conditions.type},setAttendees:function(e){return this.conditions.attendees=e,this},getAttendees:function(){return this.conditions.attendees?this.conditions.attendees:null},setFromDate:function(e){return this.conditions.fromDate=t.util.toISO8601(e),this},getFromDate:function(){return this.conditions.fromDate},setToDate:function(e){return this.conditions.toDate=t.util.toISO8601(e),this},getToDate:function(){return this.conditions.toDate},setPage:function(e){return this.conditions.page=e,this},getPage:function(){return this.conditions.page},setOffset:function(e){return this.conditions.offset=e,this},getOffset:function(){return this.conditions.offset},parseQueryString:function(){var e=t.router.getSearch();return this.conditions=_.extend(this.conditions,e),this}});return r})}).call(this);