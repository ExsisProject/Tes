(function(){define(["jquery","hogan","app","calendar/collections/calendars","calendar/collections/calendar_feeds","views/layouts/default","calendar/views/content_top","calendar/views/side","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f){function p(t){var n=e.Deferred(),i;return i=r.create(),i.setUserId(t),i.fetch({success:n.resolve,error:n.reject}),n}function d(t){var n=e.Deferred(),r;return r=i.create(),r.setUserId(t),r.fetch({success:n.resolve,error:n.reject}),n}var l=s.prototype,c=n.session("id"),h=s.extend({initialize:function(){console.log("CalendarDefaultLayout#initialize"),l.initialize.apply(this,arguments)},render:function(){var t=this,n=e.Deferred();return p(c).then(function(e){return t.calendars=e,d(c)}).then(function(e){return t.feeds=e,t.appName="calendar",l.render.apply(t)}).then(function(){this.contentTopView=new o,t._renderSide(),t._renderContentTop(),n.resolveWith(t,[t])}),n},setTitle:function(e){if(this.contentTopView===null)throw new Error("contentTopView \uac1d\uccb4\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");return this.contentTopView.setTitle(e),this},_renderContentTop:function(){return this.contentTopView.render(),this.getContentElement().empty().append(this.contentTopView.el),this},_renderSide:function(){return console.log("[CalendarDefaultLayout#_renderSide] called."),this.sideView=new u({el:this.getSideElement(),calendars:this.calendars,feeds:this.feeds}),this.sideView.render(),this},getContentElement:function(){return this.$el.find(".go_content")},getContentTopElement:function(){return this.contentTopView.$el},getSideElement:function(){return this.$el.find("#side")}},{__instance__:null});return h})}).call(this);