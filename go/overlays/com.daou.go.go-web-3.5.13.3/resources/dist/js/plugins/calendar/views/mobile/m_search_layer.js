(function(){define(function(require){var e=require("jquery"),t=require("backbone"),n=require("app"),r=require("i18n!nls/commons"),i=require("i18n!admin/nls/admin"),s=require("i18n!calendar/nls/calendar"),o=require("hgn!calendar/templates/mobile/m_search_layer"),u=require("views/mobile/m_search_header"),a=require("calendar/views/mobile/m_search_result_new");require("GO.util");var f=null,l={"\uac80\uc0c9 \uc870\uac74":r["\uac80\uc0c9 \uc870\uac74"],"\uc804\uccb4":r["\uc804\uccb4"],"\uac80\uc0c9":r["\uac80\uc0c9"],"\ucd08\uae30\ud654":i["\ucd08\uae30\ud654"],"\uac80\uc0c9\uc5b4":r["\uac80\uc0c9\uc5b4"],"\uc77c\uc815\uba85":s["\uc77c\uc815\uba85"],"\ucc38\uc11d\uc790":s["\ucc38\uc11d\uc790"],"\uac80\uc0c9 \ud0a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694":r["\uac80\uc0c9 \ud0a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694."],"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694":r["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."]},c=t.View.extend({el:"#goSearch",events:{"vclick a[data-search]":"_simpleSearch"},initialize:function(e){this.$el.off(),this.packageName=e.packageName},render:function(){return this.$el.html(o({lang:l})),this._renderSearchHeader(),this.el},_renderSearchHeader:function(){var e=this;u.render({enterSimpleSearchCallback:function(t){e._simpleSearch(t)},useDetailSearch:!1})},_simpleSearch:function(t){t.preventDefault();var r=e(t.currentTarget),i=e.trim(e("#commonSearchInput").val());if(!n.util.isValidSearchText(i))return;var s=r.attr("data-search")||"all",o={type:"all",page:0,offset:15};s=="all"?(o.stype="simple",o.keyword=i):(o.stype="detail",o[s]=i,o.attendees="",o.fromDate="",o.toDate=""),a.render(o)}});return{render:function(e){return f=new c(e),f.render()}}})}).call(this);