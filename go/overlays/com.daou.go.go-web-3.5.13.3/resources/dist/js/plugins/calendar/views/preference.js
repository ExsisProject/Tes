(function(){define(["backbone","app","hgn!calendar/templates/preference","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-grid","jquery.go-popup"],function(e,t,n,r,i){function a(e){return _.indexOf(["calendar","follow"],e)>-1}function f(e){$("#calendar-preference-tab > li").each(function(t,n){$(n).data("type")===e?$(n).addClass("active"):$(n).removeClass("active")}),l.call(this,e)}function l(e){this.$el.find(".calendar-config").each(function(t,n){$(n).data("type")===e?$(n).show():$(n).hide()})}var s="calendar",o={tab:{my_cal:i["\ub0b4 \uce98\ub9b0\ub354"],follow:i["\uad00\uc2ec \uce98\ub9b0\ub354"]},label:{calendar_management:i["\uce98\ub9b0\ub354 \uad00\ub9ac"],basic_preference:i["\uae30\ubcf8 \uc124\uc815"],timezone:i["\uce98\ub9b0\ub354 \uc2dc\uac04\ub300"],calendar_option:i["\ub0b4 \uce98\ub9b0\ub354 \uc5f4\ub78c\uc635\uc158"],modify:i["\ubcc0\uacbd\ud558\uae30"],"public":i["\uc5f4\ub78c \ud5c8\uc6a9"],"private":i["\uc218\ub77d\ud6c4 \ud5c8\uc6a9"],save:r["\uc800\uc7a5"],followings:i["\ub0b4\uac00 \ub4f1\ub85d\ud55c \uad00\uc2ec \uce98\ub9b0\ub354"],followers:i["\ub0b4 \uc77c\uc815\uc744 \ubcf4\uace0 \uc788\ub294 \uad00\uc2ec\ub3d9\ub8cc"],accept:i["\uc218\ub77d"],"delete":r["\uc0ad\uc81c"],deny:i["\uac70\uc808"],member:i["\uba64\ubc84"],status:i["\uc0c1\ud0dc"],updated_at:i["\uc124\uc815\uc77c"],go_to_calendar:i["\uce98\ub9b0\ub354\ub85c \ub3cc\uc544\uac00\uae30"],calendar_name:i["\uce98\ub9b0\ub354 \uc774\ub984"],calendar:r["\uce98\ub9b0\ub354"],add_calendar:r["\ucd94\uac00"],default_calendar:i["\uae30\ubcf8 \uce98\ub9b0\ub354"],visibility_state:i["\uacf5\uac1c \uc0c1\ud0dc"],reorder:r["\uc21c\uc11c\ubc14\uafb8\uae30"]},msg:{visibility:i["\ub0b4 \uc77c\uc815\uc744 \ub204\uad6c\ub098 \uc5f4\ub78c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],private1:i["\uc2e0\uccad\uacfc \uc218\ub77d\uc744 \ud1b5\ud558\uc5ec \uc0c1\ub300\ubc29\uc774 \ub0b4 \uc77c\uc815\uc744 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],private2:i["\ube44\uacf5\uac1c \uc77c\uc815\uc740 \uc704 \uc635\uc158\uacfc \uad00\uacc4\uc5c6\uc774 \uc77c\uc815 \ucc38\uc11d\uc790\ub9cc \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}},u=e.View.extend({className:"content_page",events:{"click #calendar-preference-tab > li":"_togglePane"},initialize:function(e){e=e||{},this.calendarType=e.type,this.calendars=e.calendars,this.feeds=e.feeds},render:function(){this.$el.append(n(o)),this.calendarType=="follows"?this.selectTab("follow","follower"):this.selectTab(s,"")},selectTab:function(e,t){var n=this,r={calendar:n.calendars,follow:n.feeds}[e];if(!a(e))return;$("#"+e+"-config-pane").length?f.call(this,e):require(["calendar/views/preference/"+e],function(i){var s=new i({collection:r,type:t});n.$el.append(s.el),s.render(),f.call(n,e)})},_togglePane:function(e){var t=$(e.currentTarget);this.selectTab(t.data("type"),"")}});return u})}).call(this);