(function(){define(["backbone","hogan","app","i18n!nls/commons","i18n!calendar/nls/calendar","hgn!calendar/templates/mobile/m_calendar_comment","calendar/models/event","calendar/libs/recurrence_parser","m_comment","views/mobile/header_toolbar"],function(e,t,n,r,i,s,o,u,a,f){var l={},c=e.View.extend({initialize:function(e){this.model=new o({id:e.eventId,calendarId:e.calendarId})},fetch:function(){return this.model.fetch()},render:function(){f.render({title:r["\ub313\uae00"],isClose:!0});var e=GO.util.basicDate3(this.model.get("startTime"))+" ~ "+GO.util.basicDate3(this.model.get("endTime")),t=this.model.get("recurrence"),n="";if(t){var i=new u;n=i.parse(this.model.get("recurrence")).humanize()}return this.$el.html(s({lang:l,event:this.model.toJSON(),isPrivate:this.model.isPrivate(),timeLabel:e,recurrence:n})),a.create({el:"#comment_list",type:"calendar/"+this.model.get("calendarId")+"/event",typeId:this.model.id,isReply:!0}),GO.EventEmitter.on("common","change:comment",function(e){this.$("#commentCount").text("("+e+")")},this),this}});return c})}).call(this);