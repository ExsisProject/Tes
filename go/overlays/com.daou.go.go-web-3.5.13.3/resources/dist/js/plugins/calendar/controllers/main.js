/**
 * @summary     DataTables
 * @description Paginate, search and sort HTML tables
 * @version     1.9.3
 * @file        jquery.dataTables.js
 * @author      Allan Jardine (www.sprymedia.co.uk)
 * @contact     www.sprymedia.co.uk/contact
 *
 * @copyright Copyright 2008-2012 Allan Jardine, all rights reserved.
 *
 * This source file is free software, under either the GPL v2 license or a
 * BSD style license, available at:
 *   http://datatables.net/license_gpl2
 *   http://datatables.net/license_bsd
 * 
 * This source file is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 * 
 * For details please refer to: http://www.datatables.net
 * 
 *  go custom!!! 
 */

(function(){(function(){define("calendar/libs/util",["underscore","jquery","amplify","app"],function(e,t,n,r){function o(e,t){return t=t||!1,e.type==="company"&&t?!0:!1}function u(e){return e.type==="holiday"}var i=r.session("id"),s={getSavedCalendarType:function(){return r.util.store.get(i+"-calendar-viewtype")},getSavedBasedate:function(){return r.util.store.get(i+"-calendar-basedate")||r.util.now().format("YYYY-MM-DD")},getSavedSelectedCalendar:function(){return r.util.store.get(i+"-calendar-selected")},getSavedSelectedCalendarOwnerId:function(){return r.util.store.get(i+"-calendar-selected-ownerid")},getSavedFeedFoldState:function(){return r.util.store.get(i+"-calendar-feed-folded")},getSavedCalendarFoldState:function(){return r.util.store.get(i+"-calendar-calendar-folded")},getSavedCalendarId:function(){return r.util.store.get(i+"-calendar-saved-calendarid")},saveCalendarType:function(e){return r.util.store.set(i+"-calendar-viewtype",e)},saveCalendarId:function(e){var t=r.util.store;return t.set(i+"-calendar-saved-calendarid",e,{type:"session"})},saveBasedate:function(e){var t=r.util.store;return t.set(i+"-calendar-basedate",r.util.toMoment(e).format("YYYY-MM-DD"),{type:"session"})},saveSideFoldState:function(e,t){r.util.store.set(i+"-calendar-"+e+"-folded",t?"Y":"N")},saveCheckedCalendar:function(e){var n=t.isArray(e)?e:[e],s=r.util.store;return s.set(i+"-calendar-selected",n.join(","))},saveCheckedCalendarOwnerId:function(e){var n=t.isArray(e)?e:[e],s=r.util.store;return s.set(i+"-calendar-selected-ownerid",n.join(","))},getDateForUrl:function(e,t){var n=r.util.toMoment(t||new Date).clone(),i=n.format("YYYY-MM-DD");return e==="monthly"?i=n.format("YYYY-MM"):e==="agenda"&&!r.util.isThisMonth(t)&&(i=n.format("YYYY-MM-01")),i},getCalendarUrl:function(e){var t=this.getSavedCalendarType();return t?["calendar",t,this.getDateForUrl(t,e)].join("/"):"calendar"},goToCalendar:function(){var e=this.getSavedBasedate();return r.router.navigate(this.getCalendarUrl(e),{trigger:!0,pushState:!0}),this},parseEventModel:function(e,t){return e.summary=r.util.XSSFilter(e.summary),e.location=r.util.XSSFilter(e.location),e.description=r.util.XSSFilter(e.description),e.htmlLink=r.util.XSSFilter(e.htmlLink),u(e)&&/^\-(.*)/i.test(e.summary)&&(e.summary=""),e.auth=o(e,typeof t=="undefined"?!0:t),e},triggerReloadFeeds:function(){t(document).trigger("reload:calendar-feeds")},triggerRemoveFeed:function(){t(document).trigger("removed:calendar-feeds")},bindDatepickerIcon:function(e,n){e.on("click."+n,".ic_calendar",function(e){t(e.currentTarget).parent().find(".hasDatepicker").focus()})}};return s})}).call(this),function(){define("calendar/controllers/main",["underscore","app","calendar/libs/util","i18n!nls/commons","i18n!calendar/nls/calendar"],function(e,t,n,r,i){var s=function(){function s(e){require(["calendar/views/layouts/fixed_size","calendar/views/app"],function(r,i){e=e||{};var s=r.create();s.render().then(function(r){var s=new i(e);s.clearCalendars.apply(s),r.setContent(s),r.resizeContentHeight();if(e.userid){var o=parseInt(e.userid),u=s.addCalendarsByUserId(o),a=u.getMyCalendars()[0],f;if(o===t.session("id")){t.router.navigate("calendar",{trigger:!0,replace:!0});return}f=a.getOwnerName(),r.sideView.uncheckAll(),r.setCaledarTags({id:a.id,type:"user",name:f,userid:o})}else{var l=n.getSavedSelectedCalendar(),c=l?l.split(","):r.sideView.getCheckedCalendarIds();s.addCalendars.apply(s,c),r.setCaledarTags()}s.setHeight(r.getContentPageHeight()),s.render(),r.on("resize:content",function(e){s.resize(e)})})})}var e=function(){};return e.prototype={index:function(){return s()},list:function(e,t,n,r){return s({type:e,date:new Date([n,r,t].join("/"))})},usercal:function(e){return s({userid:e})},daily:function(e,t,n){return this.list("daily",e,t,n)},weekly:function(e,t,n){return this.list("weekly",e,t,n)},monthly:function(e,r){var i=n.getSavedBasedate(),s=t.util.toMoment(new Date(+e,+r-1,1)),o;if(!i){var f=t.util.now();f.clone().startOf("month").valueOf()===s.startOf("month").valueOf()?o=f.format("DD"):o="01"}else{var u=t.util.toMoment(i),a=s.endOf("month");o=""+Math.min(u.date(),a.date())}return this.list("monthly",e,r,o)},agenda:function(e,t,n){return this.list("agenda",e,t,n)},regist:function(e){require(["calendar/views/layouts/default","calendar/views/regist"],function(t,n){var r=t.create(),s=new n(e?{startDate:e}:{});r.render().done(function(e){var t=e.getContentElement();e.setTitle(i["\uc77c\uc815 \ub4f1\ub85d"]),e.setContent(s),s.render()})})},event:function(e,t){require(["calendar/views/layouts/default","calendar/views/event_detail"],function(n,r){var s=n.create(),o=new r({calendarId:e,eventId:t});s.render().done(function(e){var t=e.getContentElement();e.setTitle(i["\uc77c\uc815 \uc0c1\uc138"]),e.setContent(o),o.render()})})},copy:function(e,t){require(["calendar/views/layouts/default","calendar/views/regist"],function(n,r){var s=n.create(),o=new r({calendarId:e,eventId:t,isCopied:!0});s.render().done(function(e){e.setTitle(i["\uc77c\uc815 \ub4f1\ub85d"]),e.setContent(o),o.render()})})},preference:function(e,t){t=t||"config",require(["calendar/views/layouts/default","calendar/views/preference"],function(e,n){var r=e.create(),s;r.render().done(function(e){s=new n({calendars:e.calendars,feeds:e.feeds,type:t}),e.setTitle(i["\ub0b4 \uce98\ub9b0\ub354 \uad00\ub9ac"]),e.setContent(s),s.render()})})},follows:function(e){return this.preference(e,"follows")},search:function(){require(["calendar/views/layouts/default","calendar/views/search_result"],function(e,t){var n=e.create();n.render().done(function(e){var n=e.getContentElement(),i=new t;e.setTitle('<span class="txt">'+r["\uac80\uc0c9\uacb0\uacfc"]+'</span><span class="num"></span>'),$(n).append(i.el),i.fetchResult()})})}},e}();return new s})}.call(this),function(){define("calendar/models/calendar",["backbone","app","i18n!calendar/nls/calendar"],function(e,t,n){var r=e.Model.extend({urlRoot:"/api/calendar",addMyCalendar:function(e){var t=$.Deferred();return this.save({name:e},{success:t.resolve,error:t.reject}),t},move:function(e){var n=$.Deferred();return this.save(typeof e=="undefined"?null:{seq:e},{url:t.config("contextRoot")+"api/calendar/"+this.id+"/move",success:n.resolve,error:n.reject}),n},isPublic:function(){return this.get("visibility")==="public"},isProtected:function(){return this.get("visibility")==="protected"},isPrivate:function(){return this.get("visibility")==="private"},isAccessible:function(){return!this.isPrivate()||this.get("permission")},isDefault:function(){return this.get("defaultCalendar")},isMyCalendar:function(){return this.get("type")==="normal"},getCalendarName:function(){return this.get("name")||t.i18n(n["\uce98\ub9b0\ub354 \uae30\ubcf8\uc774\ub984"],{username:this.get("owner").name})},getOwnerName:function(){var e=this.get("owner");return[e.name,e.position].join(" ")},decideDefault:function(e){return this.set("defaultCalendar",this.id===e)},updateDefaultCalendar:function(){var e=$.Deferred();return this.save({defaultCalendar:!0},{success:e.resolve,error:e.reject}),e}});return r})}.call(this),function(){define("calendar/collections/calendars",["underscore","app","calendar/models/calendar"],function(e,t,n){var r=t.BaseCollection.prototype,i=t.BaseCollection.extend({model:n,url:function(){if(this.userId<0)throw new Error("Invalid user id");return["/api/calendar/user/",this.userId,"/calendar"].join("")},isHide:!1,userId:-1,__needFetch__:!1,initialize:function(){},comparator:"seq",isValid:function(){return this.__needFetch__?!1:this.length<=0?!1:!0},setUserId:function(e){return e!==this.userId&&(this.__needFetch__=!0),this.userId=e,this},getMyCalendars:function(){return this.getTypedCalendars("normal")},getUserCalendars:function(){return this.filter(function(t){return e.contains(["normal","holiday"],t.get("type"))})},getNewCompanyCalendarIds:function(){var t=[];return e.each(this.models,function(e){e.get("newCompanyCalendar")&&t.push(e.get("id"))}),t},getCompanyCalendars:function(){return this.getTypedCalendars("company")},getHolidayCalendars:function(){return this.getTypedCalendars("holiday")},getTypedCalendars:function(e){return this.filter(function(t){return t.get("type")===e})},isCalendarManager:function(){var e=this.getWritableCompanyCalendars();return e.length>0},getWritableCompanyCalendars:function(){var e=this.filter(function(e){return e.get("type")==="company"&&e.get("permission")===!0});return e},_reset:function(){r._reset.call(this),this.__needFetch__=!1},setDefaultCalendar:function(e){var t=this,n=this.get(e),r=$.Deferred();return n.updateDefaultCalendar().then(function(){t.each(function(t){t.decideDefault(e)}),r.resolve()},r.reject),r}},{__instance__:null,create:function(){return this.__instance__===null&&(this.__instance__=new this.prototype.constructor),this.__instance__},setUserId:function(e){var t=this.getInstance();return t.setUserId(e),this},getMyCalendars:function(){var e=this.getInstance();return e.length||e.setUserId(t.session("id")).fetch({async:!1}),e.getMyCalendars()},getMyCalendar:function(){return this.getMyCalendars()},getDefaultCalendar:function(){var t=this.getMyCalendar(),n;return n=e.filter(t,function(e){return e.get("defaultCalendar")===!0},this),n[0]||t[0]},getCompanyCalendar:function(){var e=this.getInstance(),n;return e.length||e.setUserId(t.session("id")).fetch({async:!1}),n=e.getCompanyCalendars(),n||[]},isCalendarManager:function(e){var n=this.getInstance(),r;return typeof e=="undefined"&&(e=t.session("id")),this.setUserId(e),n.isCalendarManager()},getWritableCompanyCalendars:function(e){var n=this.getInstance(),r;return typeof e=="undefined"&&(e=t.session("id")),this.setUserId(e),n.getWritableCompanyCalendars()},getCalendars:function(){var e=this.getInstance(),n,r=$.Deferred();return e.setUserId(t.session("id")).fetch({async:!1,success:function(){r.resolve(e)}}),r}});return i})}.call(this),function(){define("calendar/models/calendar_feed",["backbone","app"],function(e,t){var n=e.Model.extend({urlRoot:"/api/calendar/feed",isAccessible:function(){return!!this.isFollowing()||!this.isPrivate()},getCalendarId:function(){return this.get("calendar").id},isFollowing:function(){return this.get("state")==="following"},isPrivate:function(){return this.get("calendar").visibility==="private"}});return n})}.call(this),function(){define("calendar/collections/calendar_feeds",["app","calendar/models/calendar_feed"],function(e,t){var n=e.BaseCollection.extend({model:t,url:function(){return"/api/calendar/feed?sort=sequence asc"},userId:-1,initialize:function(){this.userId=-1},comparator:function(e){return e.sequence},setUserId:function(e){return this.userId=e,this},getUserId:function(){return this.userId},isFollowing:function(e){var t=this.filter(function(t){return t.get("state")==="following"&&t.get("calendar").id===e});return t.length>0},isWaiting:function(e){var t=this.filter(function(t){return t.get("state")==="waiting"&&t.get("calendar").id===e});return t.length>0},isAccessible:function(e){var t=this.filter(function(t){return t.isAccessible(e)});return t.length>0},findByCalendarId:function(e){return this.filter(function(t){return t.get("calendar").id===parseInt(e)})}},{__instance__:null,setUserId:function(e){var t=this.getInstance();return t.setUserId(e),this}});return n})}.call(this),define("hgn!templates/content_top",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<h1></h1>\r"),r.b("\n"+n),r.s(r.f("use_search?",e,t,1),e,t,0,27,755,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<section class="combine_search">\r'),r.b("\n"+n),r.b('	<div class="c_search_wrap'),r.s(r.f("has_keyword?",e,t,1),e,t,0,106,119,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" search_focus")}),e.pop()),r.b('"><!--focus\ub418\uba74 "search_focus" multi class\ub85c \ucd94\uac00\ud574\uc8fc\uc138\uc694.-->\r'),r.b("\n"+n),r.b('		<select class="search_op" id="searchType">\r'),r.b("\n"+n),r.b('			<option value="appSearch"></option>\r'),r.b("\n"+n),r.b('			<option value="totalSearch">'),r.b(r.v(r.f("unified_search",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b("		</select>\r"),r.b("\n"+n),r.b('		<input class="c_search" type="text" id="search-keyword" name="search_keyword" value="'),r.b(r.v(r.f("keyword",e,t,0))),r.b('" placeholder="'),r.b(r.v(r.f("search",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('		<a class="c_btn_detail" id="btn_DetailSearch" title="'),r.b(r.v(r.f("power_search",e,t,0))),r.b('"><span class="txt">'),r.b(r.v(r.f("detail",e,t,0))),r.b('</span><span class="ic ic_cs_detail_arrow  "></span></a>\r'),r.b("\n"+n),r.b('		<input class="btn_c_search" type="button"id="btn-search" value="'),r.b(r.v(r.f("search",e,t,0))),r.b('" title="'),r.b(r.v(r.f("search",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n),r.b("</section>\r"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("json!lang/ko/dashboard.json",function(){return{"\ud3b8\uc9d1\ud654\uba74 \ub2eb\uae30":"\ud3b8\uc9d1\ud654\uba74 \ub2eb\uae30","\uc2e0\uccad\ud558\uae30":"\uc2e0\uccad\ud558\uae30","\ud574\uc9c0\ud558\uae30":"\ud574\uc9c0\ud558\uae30","\uac00\uc82f\ucd94\uac00":"\uac00\uc82f\ucd94\uac00","\uac00\uc82f \uc0ad\uc81c \ud0c0\uc774\ud2c0":"'{{gadget_name}}'\uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac00\uc82f \uc0ad\uc81c \uba54\uc2dc\uc9c0":"'\uc0ad\uc81c'\ub97c \ud074\ub9ad\ud558\uba74 \uc0ac\uc6a9\uc790 \ud654\uba74\uc5d0\uc11c \uac00\uc82f\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\uc815\ub9d0 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac00\uc82f \ub85c\ub4dc \uc624\ub958 \uba54\uc2dc\uc9c0":"\uc694\uccad\ud558\uc2e0 \ub0b4\uc6a9\uc744 \ubd88\ub7ec\uc624\uc9c0 \ubabb\ud588\uc2b5\ub2c8\ub2e4.<br />\uc624\ub958\uac00 \uc9c0\uc18d\ub420 \uacbd\uc6b0, \uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud574 \uc8fc\uc2ed\uc2dc\uc624.","\uac00\uc82f \uc124\uc815\uc800\uc7a5 \uc624\ub958 \uba54\uc2dc\uc9c0":"\uac00\uc82f \uc124\uc815 \uc800\uc7a5\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.","\uac00\uc82f \uc0ad\uc81c \uc624\ub958 \uba54\uc2dc\uc9c0":"\uac00\uc82f \uc0ad\uc81c\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.","\uac00\uc82f \uc774\ub3d9 \uc624\ub958 \uba54\uc2dc\uc9c0":"\uac00\uc82f \uc774\ub3d9\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4.","\uac00\uc82f \uc5c6\uc74c \uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uac00\uc82f\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. <br>\uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud574 \uc8fc\uc138\uc694.","\uc0c8\ub85c\uace0\uce68 \uc548\ud568":"\uc548\ud568","\ubd84\ub2e8\uc704 \uc2dc\uac04 \ud45c\uc2dc":"{{time}}\ubd84","\uc2dc\ub2e8\uc704 \uc2dc\uac04 \ud45c\uc2dc":"{{time}}\uc2dc\uac04","\ub808\uc774\uc544\uc6c3 \uc124\uc815":"\ub808\uc774\uc544\uc6c3 \uc124\uc815","2\ub2e8 \ub808\uc774\uc544\uc6c3":"2\ub2e8 + \uc0ac\uc774\ub4dc","3\ub2e8 \ub808\uc774\uc544\uc6c3":"3\ub2e8","\ub300\uc2dc\ubcf4\ub4dc \uad00\ub9ac":"\ub300\uc2dc\ubcf4\ub4dc \uad00\ub9ac","\ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00":"\ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00","\ub300\uc2dc\ubcf4\ub4dc \ucd5c\ub300\uac2f\uc218 \ucd08\uacfc\uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\ub294 5\uac1c\uae4c\uc9c0 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ub300\uc2dc\ubcf4\ub4dc \uc804\ud658 \uc548\ub0b4":"\ub300\uc2dc\ubcf4\ub4dc \uc804\ud658 \uc548\ub0b4","\ub300\uc2dc\ubcf4\ub4dc \uc804\ud658 \ud655\uc778 \uba54\uc2dc\uc9c0":"\ud3b8\uc9d1\ud654\uba74\uc5d0\uc11c \ub300\uc2dc\ubcf4\ub4dc\ub97c \uc804\ud658\ud558\uba74 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \uc124\uc815\ub0b4\uc6a9\uc774 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \ub300\uc2dc\ubcf4\ub4dc\ub97c \uc804\ud658\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub300\uc2dc\ubcf4\ub4dc \uc0ad\uc81c \uc548\ub0b4":"\ub300\uc2dc\ubcf4\ub4dc \uc0ad\uc81c \uc548\ub0b4","\ub300\uc2dc\ubcf4\ub4dc \uc0ad\uc81c \ud655\uc778 \uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uc9c0\uc815\ub41c \uac00\uc82f\uc815\ubcf4\uac00 \ubaa8\ub450 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \ub300\uc2dc\ubcf4\ub4dc\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub808\uc774\uc544\uc6c3":"\ub808\uc774\uc544\uc6c3","\uc77c\ubc18\uc124\uc815":"\uc77c\ubc18\uc124\uc815","\ud3b8\uc9d1\ub2eb\uae30":"\ud3b8\uc9d1\ub2eb\uae30","\uac00\uc82f \ucd94\uac00 \ud5c8\uc6a9":"\uac00\uc82f \ucd94\uac00 \ud5c8\uc6a9","\uac00\uc82f \ucd94\uac00 \ud5c8\uc6a9 \uc124\uba85":"\uc804\uc0ac \ub300\uc2dc\ubcf4\ub4dc \uc6b4\uc601\uc790\uac00 \uc544\ub2c8\uc5b4\ub3c4, <br>\ub204\uad6c\ub098 \uc804\uc0ac \ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uac00\uc82f\uc744 \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac1c\uc778 \ub300\uc2dc\ubcf4\ub4dc \uac00\uc82f \uc5c6\uc74c \uba54\uc2dc\uc9c0":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \uac00\uc82f\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. <br>\uac00\uc82f\uc744 \ucd94\uac00\ud574 \uc8fc\uc138\uc694.","\ub808\uc774\uc544\uc6c3 \ubcc0\uacbd \uc548\ub0b4":"\ub808\uc774\uc544\uc6c3 \ubcc0\uacbd \uc548\ub0b4","\ub808\uc774\uc544\uc6c3 \ubcc0\uacbd \ud655\uc778 \uba54\uc2dc\uc9c0":"\ub808\uc774\uc544\uc6c3\uc774 \ubcc0\uacbd\ub418\uba74 \uc124\uc815\ub41c \uc77c\ubd80 \uac00\uc82f\uc774 \uc0ac\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.<br />\ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ucd94\uac00":"\ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ucd94\uac00","\uac1c\uc778\ud654":"\uac1c\uc778\ud654","\ud3b8\uc9d1 \uac00\ub2a5":"\ud3b8\uc9d1 \uac00\ub2a5","\uc0ad\uc81c \uac00\ub2a5":"\uc0ad\uc81c \uac00\ub2a5","\uac00\uc82f \ud14c\ub450\ub9ac":"\uac00\uc82f \ud14c\ub450\ub9ac","\uac00\uc82f \ud14c\ub450\ub9ac \uac15\uc870":"\uac15\uc870","\ub300\uc2dc\ubcf4\ub4dc \ubbf8\uc800\uc7a5 \uac00\uc82f \uc548\ub0b4":"\uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \uac00\uc82f\uc774 \uc788\uc2b5\ub2c8\ub2e4.","\ub300\uc2dc\ubcf4\ub4dc \ubbf8\uc800\uc7a5 \uac00\uc82f \ud655\uc778 \uba54\uc2dc\uc9c0":"\uc0c8\ub85c \ucd94\uac00\ub41c \uac00\uc82f\uc758 \uacbd\uc6b0 \uc800\uc7a5\uc744 \ud558\uc9c0 \uc54a\uc73c\uba74 \uc720\uc2e4\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub300\uc2dc\ubcf4\ub4dc \ud3b8\uc9d1\uc744 \uc885\ub8cc\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac00\uc82f \uc774\ub3d9 \uc911 \uba54\uc2dc\uc9c0":"<strong>\uac00\uc82f\uc774 \uc774\ub3d9 \uc911\uc785\ub2c8\ub2e4.</strong><br />\uac00\uc82f \uc774\ub3d9 \uc911\uc5d0\ub294 \ube0c\ub77c\uc6b0\uc800\uc5d0 \ub530\ub77c \uc2a4\ud06c\ub864 \uc9c0\uc6d0\uc774 \uc548\ub418\uac70\ub098 \ubd80\uc790\uc5f0\uc2a4\ub7ec\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac15\uc870":"\uac15\uc870","\uac00\uc82f \ud3b8\uc9d1":"\uac00\uc82f \ud3b8\uc9d1","\uac00\uc82f \ucd94\uac00 \uba54\uc2dc\uc9c0":"[{{gadget_name}}] \uac00\uc82f\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc804\uc0ac\ub300\uc2dc\ubcf4\ub4dc \uc124\uc815 \uc811\uadfc\uc624\ub958 \uba54\uc2dc\uc9c0":"\uc811\uadfc\ud560 \uc218 \uc5c6\ub294 \uba54\ub274 \uc785\ub2c8\ub2e4.","\uba85\uc138\uc11c \ud30c\uc77c \ub3d9\uae30\ud654":"\uba85\uc138\uc11c \ud30c\uc77c \ub3d9\uae30\ud654","\ub3d9\uae30\ud654 \uc2dc\uc791":"\ub3d9\uae30\ud654 \uc2dc\uc791","\ub3d9\uae30\ud654\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.":"\ub3d9\uae30\ud654\uc5d0 \uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.","\ub3d9\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.":"\ub3d9\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.","\ud1b5\ud569\uac80\uc0c9":"\ud1b5\ud569\uac80\uc0c9","\uae30\uac04\uc804\uccb4":"\uae30\uac04\uc804\uccb4","\ucd5c\uadfc 1\uc8fc\uc77c":"\ucd5c\uadfc 1\uc8fc\uc77c","\ucd5c\uadfc 2\uc8fc\uc77c":"\ucd5c\uadfc 2\uc8fc\uc77c","\ucd5c\uadfc 1\uac1c\uc6d4":"\ucd5c\uadfc 1\uac1c\uc6d4","\uc9c1\uc811\uc120\ud0dd":"\uc9c1\uc811\uc120\ud0dd","\ucca8\ubd80\ud30c\uc77c\ub0b4\uc6a9 \uac80\uc0c9":"\ucca8\ubd80\ud30c\uc77c\ub0b4\uc6a9 \uac80\uc0c9","'\uac80\uc0c9\uc5b4' \uc5d0 \ub300\ud55c \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"'{{arg1}}' \uc5d0 \ub300\ud55c \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","- \ub354 \ub9ce\uc740 \uac80\uc0c9\uacb0\uacfc\ub97c \uc6d0\ud558\uc2e0\ub2e4\uba74?":"- \ub354 \ub9ce\uc740 \uac80\uc0c9\uacb0\uacfc\ub97c \uc6d0\ud558\uc2e0\ub2e4\uba74?","- \ub2e8\uc5b4\uc758 \ucca0\uc790\uac00 \uc815\ud655\ud55c\uc9c0 \ud655\uc778\ud574 \ubcf4\uc138\uc694.":"- \ub2e8\uc5b4\uc758 \ucca0\uc790\uac00 \uc815\ud655\ud55c\uc9c0 \ud655\uc778\ud574 \ubcf4\uc138\uc694.","- \uac80\uc0c9\uc5b4\uc758 \ub2e8\uc5b4 \uc218\ub97c \uc904\uc774\uac70\ub098, \ub2e4\ub978 \ub2e8\uc5b4\ub85c \uac80\uc0c9\ud574 \ubcf4\uc138\uc694.":"- \uac80\uc0c9\uc5b4\uc758 \ub2e8\uc5b4 \uc218\ub97c \uc904\uc774\uac70\ub098, \ub2e4\ub978 \ub2e8\uc5b4\ub85c \uac80\uc0c9\ud574 \ubcf4\uc138\uc694.","- \ub450\ub2e8\uc5b4 \uc774\uc0c1\uc778 \uacbd\uc6b0, \ub744\uc5b4\uc4f0\uae30\ub97c \ud655\uc778\ud574 \ubcf4\uc138\uc694":"- \ub450 \ub2e8\uc5b4 \uc774\uc0c1\uc778 \uacbd\uc6b0, \ub744\uc5b4\uc4f0\uae30\ub97c \ud655\uc778\ud574 \ubcf4\uc138\uc694","\ud1b5\ud569\uac80\uc0c9 \uacb0\uacfc\ubcf4\uae30":"\ud1b5\ud569\uac80\uc0c9 \uacb0\uacfc\ubcf4\uae30","msg-can't-put-script-tags":"\ud3b8\uc9d1\uae30\uc5d0 \uc2a4\ud06c\ub9bd\ud2b8 \ud0dc\uadf8\ub97c \ub123\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."}}),define("dashboard/nls/dashboard",["require","json!lang/ko/dashboard.json","json!lang/ko/custom.json"],function(require){var e=require("json!lang/ko/dashboard.json"),t=require("json!lang/ko/custom.json");return{root:_.extend(e,t.dashboard||{}),en:!0,ja:!0,zh_CN:!0,zh_TW:!0,vi:!0}}),define("hgn!dashboard/templates/search/detail_search_popup",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<fieldset>\r"),r.b("\n"+n),r.b('	<table class="form_type">\r'),r.b("\n"+n),r.b("		<colgroup>\r"),r.b("\n"+n),r.b('			<col width="70px">\r'),r.b("\n"+n),r.b('			<col width="*">\r'),r.b("\n"+n),r.b("		</colgroup>\r"),r.b("\n"+n),r.b("		<tbody>\r"),r.b("\n"+n),r.b("		<tr>\r"),r.b("\n"+n),r.b("			<th>\r"),r.b("\n"+n),r.b('				<span class="title">'),r.b(r.v(r.d("lang.keyword",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("			</th>\r"),r.b("\n"+n),r.b("			<td>\r"),r.b("\n"+n),r.b('				<input id="keyword" name="keyword" class="txt_mini w_max" type="text">\r'),r.b("\n"+n),r.b("				\r"),r.b("\n"+n),r.b('				<span class="vertical_option" style="display:none;">\r'),r.b("\n"+n),r.b('					<span class="wrap_option"><input id="searchAttachContents" name="searchAttachContents" type="checkbox"><label for="searchAttachContents">'),r.b(r.v(r.d("lang.content_search",e,t,0))),r.b("</label></span>\r"),r.b("\n"+n),r.b("				</span>\r"),r.b("\n"+n),r.b("			</td>\r"),r.b("\n"+n),r.b("		</tr>\r"),r.b("\n"+n),r.b("		<tr>\r"),r.b("\n"+n),r.b('			<th><span class="title">'),r.b(r.v(r.d("lang.period",e,t,0))),r.b("</span></th>\r"),r.b("\n"+n),r.b('			<td class="last">\r'),r.b("\n"+n),r.b('				<ul class="select_option">\r'),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input id="radioAll" name="term" type="radio" checked="" value="all">\r'),r.b("\n"+n),r.b('							<label for="radioAll">'),r.b(r.v(r.d("lang.all",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input id="radio1Week" name="term" type="radio" value="-1">\r'),r.b("\n"+n),r.b('							<label for="radio1Week">'),r.b(r.v(r.d("lang.aweek",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input type="radio" id="radio2Week" name="term" value="-2">\r'),r.b("\n"+n),r.b('							<label for="radio2Week">'),r.b(r.v(r.d("lang.twoweeks",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input type="radio" id="radio1Month" name="term" value="month">\r'),r.b("\n"+n),r.b('							<label for="radio1Month">'),r.b(r.v(r.d("lang.amonth",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("					\r"),r.b("\n"+n),r.b("					<li>\r"),r.b("\n"+n),r.b('						<span class="option_wrap">\r'),r.b("\n"+n),r.b('							<input type="radio" id="radioDirectly" name="term" value="directly">\r'),r.b("\n"+n),r.b('							<label for="radioDirectly">'),r.b(r.v(r.d("lang.directly",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b('						<span class="noti_date_wrap option_wrap">\r'),r.b("\n"+n),r.b('							<input name="fromDate" data-type="datepicker" id="fromDate" class="input wfix_medium" type="text" disabled="disabled">\r'),r.b("\n"+n),r.b('							<span class="ic ic_calendar"></span>\r'),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("						~\r"),r.b("\n"+n),r.b('						<span class="noti_date_wrap option_wrap">\r'),r.b("\n"+n),r.b('							<input name="toDate" data-type="datepicker" id="toDate" class="input wfix_medium" type="text" disabled="disabled">\r'),r.b("\n"+n),r.b('							<span class="ic ic_calendar"></span>\r'),r.b("\n"+n),r.b("						</span>\r"),r.b("\n"+n),r.b("					</li>\r"),r.b("\n"+n),r.b("				</ul>\r"),r.b("\n"+n),r.b("			</td>	\r"),r.b("\n"+n),r.b("		</tr>							\r"),r.b("\n"+n),r.b("		</tbody>\r"),r.b("\n"+n),r.b("	</table>						\r"),r.b("\n"+n),r.b("</fieldset>\r"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("dashboard/views/search/detail_search_popup",["backbone","app","i18n!nls/commons","i18n!dashboard/nls/dashboard","hgn!dashboard/templates/search/detail_search_popup","jquery.go-validation","jquery.go-sdk"],function(e,t,n,r,i){var s={keyword:n["\uac80\uc0c9\uc5b4"],period:n["\uae30\uac04"],all:n["\uc804\uccb4"],aweek:r["\ucd5c\uadfc 1\uc8fc\uc77c"],twoweeks:r["\ucd5c\uadfc 2\uc8fc\uc77c"],amonth:r["\ucd5c\uadfc 1\uac1c\uc6d4"],directly:r["\uc9c1\uc811\uc120\ud0dd"],content_search:n["\ucca8\ubd80\ud30c\uc77c\ub0b4\uc6a9 \uac80\uc0c9"]};return e.View.extend({tagName:"form",events:{"change input[type=radio]":"changeTerm"},render:function(){this.$el.html(i({lang:s,isMailAttachSearch:this.getMailAttachSearch()})),$.datepicker.setDefaults($.datepicker.regional[GO.config("locale")]),this.renderDatePicker(),this.getMailAttachSearch()},renderDatePicker:function(){this.$("#fromDate").datepicker({yearSuffix:"",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}),this.$("#toDate").datepicker({yearSuffix:"",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0})},renderFolders:function(e){this.$("#folders").empty(),this.$("#folders").append("<option value='all'>"+n["\uc804\uccb4"]+"</option>"),_.each(e,function(e){var t="<option value='"+e.id+"'>"+e.name+"</option>";this.$("#folders").append(t)},this)},renderStatus:function(e){this.$("#status").empty(),this.$("#status").append("<option value=''>"+n["\uc804\uccb4"]+"</option>"),_.each(e,function(e){var t="<option value='"+e+"'>"+e+"</option>";this.$("#status").append(t)},this)},changeTerm:function(e){var t=$(e.currentTarget).attr("id")=="radioDirectly";this.$("input[data-type=datepicker]").prop("disabled",!t),this.renderDatePicker(),t&&this.$("input[data-type=datepicker]").val(GO.util.shortDate(new Date))},getSearchParam:function(){var e=this.$("#keyword").val();e=$.trim(e);if(e==""){$.goError(n["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."]),e.focus();return}if(!$.goValidation.isCheckLength(2,64,e)){$.goMessage(t.i18n(n["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:"2",arg2:"64"})),e.focus();return}if($.goValidation.isInValidEmailChar(e)){$.goMessage(n["\uba54\uc77c \uc0ac\uc6a9 \ubd88\uac00 \ubb38\uc790"]),e.focus();return}var r=this.getSearchTerm();return{stype:"detail",keyword:e,searchAttachContents:this.$("#searchAttachContents").is(":checked"),fromDate:r.fromDate,toDate:r.toDate,searchTerm:r.searchTerm,page:0,offset:5,sdate:this.convertTime(r.fromDate)+"-00-00-00",edate:this.convertTime(r.toDate)+"-23-59-59",adv:"on"}},getSearchTerm:function(){var e=this.$el.find("input[type=radio]:checked").val(),t=GO.util.shortDate(new Date),n=GO.util.toISO8601("1970/01/01"),r=GO.util.toISO8601(new Date),i="all";return e=="-1"?(n=GO.util.calDate(t,"weeks",e),i="1w"):e=="-2"?(n=GO.util.calDate(t,"weeks",e),i="2w"):e=="month"?(n=GO.util.calDate(t,"months",-1),i="1m"):e=="directly"&&(i="",n=GO.util.toISO8601($("#fromDate").val()),r=GO.util.searchEndDate($("#toDate").val())),{fromDate:n,toDate:r,searchTerm:i}},validate:function(){var e=0,t=["keyword"];return _.each(t,function(t){var r=this.$("#"+t);r.val().length>64&&($.goError(GO.i18n(n["\ucd5c\ub300 {{arg1}}\uc790 \uae4c\uc9c0 \uc785\ub825\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."],{arg1:64}),r,!1,!0),e+=1)},this),e==0},convertTime:function(e){var t=e.split("T");return t[0]},getMailAttachSearch:function(){$.go(GO.contextRoot+"api/system/mailattachsearch","",{qryType:"GET",sync:!1,responseFn:function(e){e.code==200&&e.data&&$("#searchAttachContents").parents("span.vertical_option").show()},error:function(e){}})}})}),define("views/content_top",["backbone","app","hgn!templates/content_top","dashboard/views/search/detail_search_popup","i18n!nls/commons","jquery.go-popup","jquery.placeholder","jquery.go-validation"],function(e,t,n,r,i){var s=2,o=64,u={search:i["\uac80\uc0c9"],power_search:i["\uc0c1\uc138\uac80\uc0c9"],app_search:i["\uc571\uac80\uc0c9"],unified_search:i["\ud1b5\ud569\uac80\uc0c9"],detail:i["\uc0c1\uc138"],"use_search?":!0};return e.View.extend({tagName:"header",className:"content_top",title:"",searchUrl:"",rendered:!1,events:{"click #btn-search":"search","keydown #search-keyword":"bindKeyboardEvent","click #btn_DetailSearch":"showDetailSearch"},initialize:function(e){this.options=e||{},this.rendered=!1,this.options.title&&this.setTitle(this.options.title),this.options.hasOwnProperty("use_search")||(this.options.use_search=!0)},render:function(){var e=t.router.getSearch("keyword")||"";return this.$el.html(n(_.defaults({keyword:e,maxlength:o,"has_keyword?":!!e,"use_search?":this.options.use_search},u))),this.$el.find("input[placeholder]").placeholder(),this.renderTitle(),this.rendered=!0,this.setAppSearchTitle(),this.el},setTitle:function(e){return this.title=e,this.rendered&&this.renderTitle(),this},renderTitle:function(){var e=this.title;return typeof e=="object"?/\[object HTML[a-zA-Z\-_]+Element\]/.test(e.toString())?this.$el.find("h1").empty().append(e):"render"in e&&e[render].call(obj):typeof e=="string"&&this.$el.find("h1").empty().html(e),this},search:function(){if(!this.searchUrl)throw new Error("serachUrl\uc774 \uc9c0\uc815\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4.");var e=this.$el.find("#searchType").val(),n=this.$el.find("#search-keyword"),r=n.val(),i={stype:"simple",keyword:r};return this.validate(r)?(e=="totalSearch"&&(this.searchUrl="unified/search",i.offset=5,i.searchTerm="all"),t.router.navigate(this.searchUrl+"?"+t.util.jsonToQueryString(i),!0),this):this},bindKeyboardEvent:function(e){return e.which===13&&this.search(),this},validate:function(e){return e=""+$.trim(e),e?e.length<s||e.length>o?($.goMessage(t.i18n(i["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],{arg1:s,arg2:o})),this.$el.find("#search-keyword").focus(),!1):$.goValidation.isInValidEmailChar(e)?($.goMessage(i["\uba54\uc77c \uc0ac\uc6a9 \ubd88\uac00 \ubb38\uc790"]),!1):!0:($.goSlideMessage(i["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."],"caution"),this.$el.find("#search-keyword").focus(),!1)},detailPopup:function(e){var n=new r,s=$(e.currentTarget).offset();this.searchPopup=$.goSearch({modal:!0,header:i["\uc0c1\uc138\uac80\uc0c9"],offset:{top:parseInt(s.top+30,10),right:7},callback:function(){if(n.validate()){var e=["unified/search","?",t.util.jsonToQueryString(n.getSearchParam())].join("");t.router.navigate(e,{trigger:!0,pushState:!0})}}}),this.searchPopup.find(".content").html(n.el),n.render()},showDetailSearch:function(e){},setAppSearchTitle:function(){}})}),define("hgn!calendar/templates/power_search",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<form id="power-search">\r'),r.b("\n"+n),r.b('    <input type="hidden" name="stype" value="detail" />\r'),r.b("\n"+n),r.b("    <fieldset>\r"),r.b("\n"+n),r.b('        <table class="form_type">\r'),r.b("\n"+n),r.b("            <colgroup>\r"),r.b("\n"+n),r.b('                <col width="110px" />\r'),r.b("\n"+n),r.b('                <col width="*" />\r'),r.b("\n"+n),r.b("            </colgroup>\r"),r.b("\n"+n),r.b("            <tbody>\r"),r.b("\n"+n),r.b("            <tr>\r"),r.b("\n"+n),r.b("                <th>\r"),r.b("\n"+n),r.b('                    <span class="title">'),r.b(r.v(r.d("label.summary",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("                </th>\r"),r.b("\n"+n),r.b("                <td>\r"),r.b("\n"+n),r.b('                    <input id="keyword-summary" class="txt_mini w_max enable_enter" type="text" name="summary" value="" maxlength="'),r.b(r.v(r.f("maxlength",e,t,0))),r.b('" />\r'),r.b("\n"+n),r.b("                </td>\r"),r.b("\n"+n),r.b("            </tr>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("            <tr>\r"),r.b("\n"+n),r.b('                <th><span class="title">'),r.b(r.v(r.d("label.attendee",e,t,0))),r.b("</span></th>\r"),r.b("\n"+n),r.b("                <td>\r"),r.b("\n"+n),r.b('                    <input class="txt_mini w_max enable_enter" type="text" name="attendees" value="" maxlength="'),r.b(r.v(r.f("maxlength",e,t,0))),r.b('" />\r'),r.b("\n"+n),r.b('                    <p class="desc">\u203b '),r.b(r.v(r.d("msg.attendee_input_rule",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b("                </td>\r"),r.b("\n"+n),r.b("            </tr>\r"),r.b("\n"+n),r.b("            \r"),r.b("\n"+n),r.b("            <tr>\r"),r.b("\n"+n),r.b('                <th><span class="title">'),r.b(r.v(r.d("label.period",e,t,0))),r.b("</span></th>\r"),r.b("\n"+n),r.b('                <td class="last">\r'),r.b("\n"+n),r.b('                    <ul class="select_option">\r'),r.b("\n"+n),r.b("                        <li>\r"),r.b("\n"+n),r.b('                            <div id="datepicker" class="select_direct">\r'),r.b("\n"+n),r.b('                            	<span class="noti_date_wrap option_wrap">\r'),r.b("\n"+n),r.b('                                	<input id="custom-start-date" class="txt_mini wfix_small" type="text" name="fromDate" value="" readonly />\r'),r.b("\n"+n),r.b('                                	<span class="ic ic_calendar"></span>\r'),r.b("\n"+n),r.b("                                </span>\r"),r.b("\n"+n),r.b("                                 ~ \r"),r.b("\n"+n),r.b('                                <span class="noti_date_wrap option_wrap">\r'),r.b("\n"+n),r.b('                                	<input id="custom-end-date" class="txt_mini wfix_small" type="text" name="toDate" value="" readonly />\r'),r.b("\n"+n),r.b('                                	<span class="ic ic_calendar"></span>\r'),r.b("\n"+n),r.b("                                </span>\r"),r.b("\n"+n),r.b("                            </div>\r"),r.b("\n"+n),r.b("                        </li>\r"),r.b("\n"+n),r.b("                    </ul>\r"),r.b("\n"+n),r.b("                </td>   \r"),r.b("\n"+n),r.b("            </tr>                           \r"),r.b("\n"+n),r.b("            </tbody>\r"),r.b("\n"+n),r.b("        </table>                        \r"),r.b("\n"+n),r.b("    </fieldset>\r"),r.b("\n"+n),r.b("</form> "),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/views/power_search_layer",["jquery","underscore","app","calendar/libs/util","hgn!calendar/templates/power_search","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.ui","jquery.go-popup","jquery.go-validation"],function(e,t,n,r,i,s,o){var u=n.util.toMoment(new Date),a={maxlength:200,label:{summary:o["\uc77c\uc815\uba85"],category:o["\uc77c\uc815 \uad6c\ubd84"],all:o["\uc804\uccb4"],my_calendar:o["\ub0b4 \uc77c\uc815"],follower:o["\uad00\uc2ec \uce98\ub9b0\ub354"],company_calendar:o["\uc804\uc0ac\uc77c\uc815"],attendee:o["\ucc38\uc11d\uc790"],period:o["\uae30\uac04"],week:o["\uc8fc\uc77c"],month:o["\uac1c\uc6d4"],custom:o["\uc9c1\uc811\uc120\ud0dd"],show_datepicker:o["\ub2ec\ub825\ubcf4\uae30"]},msg:{attendee_input_rule:o["\ubcf5\uc218\uc77c \uacbd\uc6b0 \ucf64\ub9c8(,)\ub85c \uad6c\ubd84"]}},f=function(){var f=function(e){this.template=i(t.extend({start_date:n.util.shortDate(u),end_date:n.util.shortDate(u)},a)),this.render(e),this.delegateEvents()};return f.prototype={render:function(t){var n={width:-1,modal:!0,header:s["\uc0c1\uc138\uac80\uc0c9"],pclass:"address_search_wrap",contents:this.template,closeCallback:e.proxy(this._release,this),callback:e.proxy(this._requestSearch,this)};return"offset"in t&&(n.offset=t.offset),this.el=e.goSearch(n),this.$el=e(this.el),this._prepareDatepicker(),this},delegateEvents:function(){this.undelegateEvents(),this.$el.on("keydown.calendar-power-search","input.enable_enter",e.proxy(this._bindKeyboardEvent,this)),r.bindDatepickerIcon(this.$el,"calendar-power-search")},undelegateEvents:function(){this.$el.off(".calendar-power-search")},close:function(){this.el.close(e.proxy(this._release,this))},_bindKeyboardEvent:function(e){return e.which===13&&this._requestSearch(),this},_prepareDatepicker:function(){var e=this.$el.find("#custom-start-date"),t=this.$el.find("#custom-end-date");return e.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",onClose:function(e){t.datepicker("option","minDate",e)}}),t.datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",minDate:e.val()}),this},_requestSearch:function(){var e=n.util.serializeForm(this.$el.find("#power-search"),!1);return t.map(e,function(t,n){n==="attendees"&&(t=t.replace(/(,\s*)/g,","),t=t.replace(/(\s*,)/g,","),e[n]=t)}),this.validate(e)&&(n.router.navigate("calendar/search?"+n.util.jsonToQueryString(e),{trigger:!0,pushState:!0}),this.close()),this},validate:function(r){var i=this,u=!0,a=!1;return t.map(r,function(t,i){i!=="stype"&&!!t&&(u&=!1),i==="fromDate"&&t&&(r[i]=n.util.toISO8601(n.util.toMoment(t).startOf("day"))),i==="toDate"&&t&&(r[i]=n.util.toISO8601(n.util.toMoment(t).endOf("day"))),e.goValidation.isInValidEmailChar(decodeURIComponent(t||""))&&(a=!0)}),u?(e.goSlideMessage(s["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."],"caution"),!1):r.summary>200?(e.goMessage(n.i18n(o["{{max}}\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574 \uc8fc\uc2ed\uc2dc\uc624"],{max:200})),this.$el.find("#keyword-summary").focus(),!1):a?(e.goMessage(s["\uba54\uc77c \uc0ac\uc6a9 \ubd88\uac00 \ubb38\uc790"]),!1):!0},_release:function(){this.undelegateEvents()},_showDatepicker:function(t){var n=e(t.currentTarget);return n.val()==="custom"?this.$el.find("#datepicker").show():this.$el.find("#datepicker").hide(),this}},f}();return f})}.call(this),function(){define("calendar/views/content_top",["app","views/content_top","calendar/views/power_search_layer","i18n!calendar/nls/calendar","i18n!nls/commons"],function(e,t,n,r,i){var s=t.extend({searchUrl:"calendar/search",showDetailSearch:function(e){e.preventDefault();var t=$(e.currentTarget),r=t.offset(),i=$("#searchType").val();if(i!="appSearch"){this.detailPopup(e);return}return new n({offset:{top:parseInt(r.top+30,10),right:7}}),!1},setAppSearchTitle:function(){this.$el.find('#searchType option[value="appSearch"]').html(i["\uce98\ub9b0\ub354"])}});return s})}.call(this),define("text!calendar/templates/lnb.html",[],function(){return'<ul class="{{ul_classes}}">\r\n	{{#use_check_all?}}\r\n	<li class="star cb-check-all ui-state-disabled">\r\n		<p class="title">\r\n		<input type="checkbox" name="check_all" />\r\n		<label>\r\n			<span class="txt">{{label.all}}</span>\r\n		</label>\r\n		</p>\r\n	</li>\r\n	{{/use_check_all?}}\r\n	\r\n    {{#items}}\r\n    {{#.}}\r\n    <li class="{{li_classes}}" data-id="{{id}}">\r\n        <p class="title">\r\n            {{#checkbox?}}\r\n            <input id="{{name}}_{{value}}" class="normalmode" type="checkbox" name="{{name}}" value="{{value}}"{{#checked?}} checked="checked"{{/checked?}}{{#disabled?}} disabled="disabled"{{/disabled?}} {{&attrs}}/>\r\n            {{/checkbox?}}\r\n            {{#tags?}}\r\n                {{#.}}<span class="{{tag_classes}}"><span class="txt">{{tag_label}}</span></span>{{/.}}\r\n            {{/tags?}}\r\n            <label {{#checkbox?}}for="{{name}}_{{value}}"{{/checkbox?}}>\r\n            	<span class="txt" title="{{label}}">{{label}}</span>\r\n            </label>\r\n            {{#buttons?}}\r\n            <span class="btn_wrap">\r\n                {{#buttons}}\r\n                <span class="{{btn_classes}}"{{&attributes}}">{{btn_label}}</span>\r\n                {{/buttons}}\r\n            </span>\r\n            {{/buttons?}}\r\n        </p>\r\n    </li>\r\n    {{/.}}\r\n    {{/items}}\r\n</ul>'}),function(){define("calendar/helpers/side_lnb",["backbone","hogan","text!calendar/templates/lnb.html","i18n!nls/commons","i18n!calendar/nls/calendar"],function(e,t,n,r,i){var s=t.compile(n),o=Array.prototype.slice,u=function(){var e=function(e){this.model=e,this.__before={context:this,func:function(){}},this.variables={label:"no names"},e.id&&(this.variables.id=e.id)};return e.prototype={build:function(){return this.__before.func.call(this.__before.context,this,this.model),this.variables},before:function(e,t){t=typeof t=="undefined"?this:t;if(typeof e!="function")throw new Error("Type of arguments is not a function.");this.__before.context=t,this.__before.func=e},addButton:function(e,t,n){return"buttons?"in this.variables||(this.variables["buttons?"]={buttons:[]}),this.variables["buttons?"].buttons.push({btn_label:e,btn_classes:t,attributes:n?" "+n:null}),this},addTag:function(e,t){return"tags?"in this.variables||(this.variables["tags?"]=[]),this.variables["tags?"].push({tag_classes:t,tag_label:e}),this},useCheckbox:function(e,t,n,r,i){var s=i||{},o="",u=[];return"checkbox?"in this.variables||(this.variables["checkbox?"]={}),this.variables["checkbox?"].name=e,this.variables["checkbox?"].value=t,this.variables["checkbox?"]["disabled?"]=n||!1,this.variables["checkbox?"]["checked?"]=r||!1,_.each(i,function(e,t){u.push([t,'="',e,'"'].join(""))}),this.variables["checkbox?"].attrs=u.join(" "),this},setClassnames:function(e){return"li_classes"in this.variables||(this.variables.li_classes=[]),this.variables.li_classes=e,this},setLabel:function(e){this.variables.label=e}},e}(),a=function(){var t=function(e,t){this.options=_.defaults(t||{},{useCheckAll:!1}),this.collection=e instanceof Array?e:[e],this.variables={ul_classes:"side_depth",label:{all:r["\uc804\uccb4"]},"use_check_all?":this.options.useCheckAll,items:[]}};return t.prototype={setClassnames:function(e){this.variables.ul_classes=e},setItemVars:function(t,n){_.each(this.collection,function(r){var i=r instanceof e.Model?r.toJSON():r,s=new u(i);s.before(t,n),this.variables.items.push(s.build())},this)},setUseCheckAll:function(e){this.options.useCheckAll=e,this.variables["use_check_all?"]=e},render:function(){return s.render(this.variables)}},t}();return a})}.call(this),define("hgn!calendar/templates/color_picker",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("color_set",e,t,1),e,t,0,14,239,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.d(".",e,t,1),e,t,0,22,231,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<a class="pallete_color bgcolor'),r.b(r.v(r.f("color_code",e,t,0))),r.s(r.f("last_cols?",e,t,1),e,t,0,84,89,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" last")}),e.pop()),r.b('" href="#"\r'),r.b("\n"+n),r.b('   title="'),r.b(r.v(r.f("label_color",e,t,0))),r.b(r.v(r.f("color_code",e,t,0))),r.b('" data-code="'),r.b(r.v(r.f("color_code",e,t,0))),r.b('" data-bypass>'),r.b(r.v(r.f("label_color",e,t,0))),r.b(r.v(r.f("color_code",e,t,0))),r.b("</a>\r"),r.b("\n"+n)}),e.pop())}),e.pop()),r.s(r.f("useAddition",e,t,1),e,t,0,271,453,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<hr/>\r"),r.b("\n"+n),r.s(r.f("useAdditionInput",e,t,1),e,t,0,301,329,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('<input type="checkbox"/>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("useAdditionInput",e,t,1),e,t,1,0,0,"")||(r.b('<span class="bgcolor_group"></span>\r'),r.b("\n"+n)),r.b(r.v(r.f("additionText",e,t,0))),r.b("\r"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("calendar/views/color_picker",["underscore","backbone","app","hgn!calendar/templates/color_picker","i18n!calendar/nls/calendar"],function(e,t,n,r,i){function p(){this.__instance__&&this.__instance__.$el.parents("#main").length<1&&(this.__instance__.remove(),this.__instance__=null)}var s,o={calendar:"calendar",feed:"feed",works:"works"},u={left:"left",right:"right"},a="color-picker",f=18,l=6,c=i["2\uc778 \uc774\uc0c1 \uc77c\uc815"],h=i["\uc0c9\uc0c1"];return s=t.View.extend({id:a,className:"layer_normal layer_pallete",target:null,oldTarget:null,type:o.feed,events:{"click .pallete_color":"selectedColor","change input":"onChangeInput"},initialize:function(e){console.log("[ColorPicker#initialize] ColorPicker initializing..."),this.target=null,this.oldTarget=null,this.useAddition=e.useAddition,this.useAdditionInput=e.useAdditionInput,this.additionText=e.additionText||c,this.$el.hide(),this.render()},delegateEvents:function(e){var n=this;this.undelegateEvents(),t.View.prototype.delegateEvents.call(this,e),t.$("body").on("click.colorpicker",function(e){var t=$(e.target);if(t.is("span.chip"))return;if(!n.isShow())return;if(t.parents("#color-picker").length>0)return;n.hide()})},undelegateEvents:function(e){t.View.prototype.undelegateEvents.call(this,e),t.$("body").off(".colorpicker")},render:function(){var t=r(e.extend({color_set:this.buildColorSetVars(),useAddition:this.useAddition,useAdditionInput:this.useAdditionInput},{additionText:this.additionText,label_color:h}));this.$el.html(t),this.$el.appendTo("#main")},setTargetElement:function(e){return this.target=e,this},setType:function(t){if(e.indexOf(e.values(o),t)===-1)throw new Error("Invalid Caller Type");return this.type=t,this},setPosition:function(e){return this.position=e,this},show:function(e){var t=typeof e=="undefined"?$(this.target):$(e.target),n=t.offset();this.target||(this.target=t),this.$el.show(),this.position==u.left?(this.$el.css("left",n.left-this.$el.outerWidth()-4),this.$el.css("top",n.top+t.height()+7)):(this.$el.css("left",n.left+t.width()+4),this.$el.css("top",n.top-7))},isShow:function(){return $(this.el).is(":visible")},selectedColor:function(e){console.log("[ColorPicker#selectedColor] selected calendar color..."),e.preventDefault();var t=$(e.target);if(!t.attr("data-code"))throw new Error("[ColorPicker#selectedColor] Invalid Color Code");$(this.target).trigger("changed:chip-color",[t.attr("data-code"),this.type]),this.trigger("changed:chip-color",t.attr("data-code")),this.hide()},hide:function(){this.$el.hide()},toggle:function(e){return this.isShow()?this.hide(e):this.show(e)},buildColorSetVars:function(){var e=[];for(var t=1;t<=f;t++)e.push({color_code:t,"last_cols?":t%l===0});return e},onChangeInput:function(e){var t=$(e.currentTarget);this.trigger("changed:addition-checkbox",t.is(":checked")),this.hide()}},{__instance__:null,create:function(e,t,n){return p.call(this),this.type=t,this.__instance__===null&&(this.__instance__=new this.prototype.constructor({type:t})),this.__instance__.setTargetElement(e),this.__instance__.setType(t),this.__instance__.setPosition(n),this.__instance__},show:function(e,t,n){console.log("[ColorPicker.show] show ColorPicker");var r=this.create(e,t,n);r.show()},hide:function(e,t){var n=this.create(e,t);n.hide()},toggle:function(e,t){var n=this.create(e,t);n.toggle()}}),s}),define("text!calendar/templates/side.html",[],function(){return'<section class="gnb_title">\r\n	<h1><a href="{{context_root}}app/calendar">{{appName}}</a></h1>\r\n</section>\r\n\r\n<section class="function">\r\n    <a class="btn_function" href="{{regist_event_url}}"><span class="ic_side ic_app_calendar"></span><span class="txt">{{label.new_event}}</span></a>\r\n</section>\r\n\r\n<section class="lnb mycalendar" id="my-calendar" data-type="calendar">\r\n	<h1 class="user opened">\r\n		<ins class="ic"></ins>\r\n		<span class="ic_side ic_hide_up normalmode" title="{{label.unfold}}"></span>\r\n		<span class="txt">{{label.my_calendar}}</span>\r\n		<span class="btn_wrap">\r\n			<span class="btn_ic_list_reorder normalmode">\r\n				<span class="ic_side ic_list_reorder" title="{{label.edit_my_calendar}}"></span>\r\n			</span>\r\n			<span class="ic_side ic_done editmode" title="{{label.modify}}" style="display:none;"></span>\r\n			<span class="ic_side ic_cancel editmode"  title="{{label.cancel}}" style="display:none;"></span>\r\n		</span>\r\n	</h1>\r\n</section>\r\n\r\n<div class="scroll_wrap" id="feed-list-scroll">\r\n	<section class="lnb" id="feed-list" data-type="feed">\r\n		<h1 class="star opened">\r\n			<ins class="ic"></ins>\r\n			<span class="ic_side ic_hide_up normalmode" title="{{label.unfold}}"></span>\r\n			<span class="txt">{{label.following}}</span>\r\n			<span class="btn_wrap">\r\n				<span class="btn_ic_list_reorder normalmode">\r\n					<span class="ic_side ic_list_reorder" title="{{label.edit_following}}"></span>\r\n				</span>\r\n				<span class="ic_side ic_done editmode" title="{{label.modify}}" style="display:none;"></span>\r\n				<span class="ic_side ic_cancel editmode"  title="{{label.cancel}}" style="display:none;"></span>\r\n			</span>\r\n		</h1>\r\n	</section>\r\n</div>\r\n\r\n<section class="lnb mycalendar" id="company-calendar">\r\n    {{>company_calendar}}\r\n</section>\r\n\r\n<section class="lnb last_lnb" id="lnb-preference">\r\n	<ul class="side_depth">\r\n		<li class="setting">\r\n			<p class="title">\r\n				<a><ins class="ic"></ins><span class="txt" title="{{label.setting}}">{{label.setting}}</span></a>\r\n			</p>\r\n		</li>\r\n	</ul>	\r\n</section>\r\n'}),define("text!calendar/templates/_side_nullguide.html",[],function(){return'<div class="null_guide">\n    <span class="ic_gnb ic_favor_member"></span>\n    <p class="desc">\n        {{&msg.no_feeds}}\n    </p>\n    {{#isOrgServiceOn}}\n    <span class="btn_side_st" id="add-allstaff-btn"> \n        <span class="ic_gnb ic_favor_plus1"></span><span class="txt">{{label.add_all_staff}}</span>\n    </span>\n    {{/isOrgServiceOn}}\n    <span class="btn_side_st add-follow-btn"> \n        <span class="ic_gnb ic_favor_plus2"></span><span class="txt">{{label.add_staff}}</span>\n    </span>\n</div>'}),function(e,t){function n(e){this.isIgnore=!1,this.resizeUID=0,this.delay=e||200}return n.prototype={setDelay:function(e){this.delay=e},bind:function(e){var n=this,r=Array.prototype.slice.call(arguments,1);if(!this.isIgnore){var i=++this.resizeUID;setTimeout(function(){i==n.resizeUID&&!n.isIgnore&&(n.isIgnore=!0,e.apply(t,r),n.isIgnore=!1)},this.delay)}}},window.GOIgnoreDuplicateMethod=n,n}(jQuery),define("go-ignoreduplicatemethod",["jquery"],function(e){return function(){var t,n;return t||e.GOIgnoreDuplicateMethod}}(this)),function(e){var t=Array.prototype.slice,n=e.goOrgSlide=function(){if(arguments[0]==="close")return n.close();var e=t.call(arguments);return n.initialize.apply(n,e)};e.fn.imitateKeyEvent=function(){return this.each(function(){var e=function(e){this._o=e,this._value=e.value,this._bindEvents()};e.prototype._bindEvents=function(){var e=this,t=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n,!1)};t(this._o,"focus",function(){e._timer&&clearInterval(e._timer),e._timer=setInterval(function(){e._value!=e._o.value&&(e._value=e._o.value,e._fireEvent())},50)}),t(this._o,"blur",function(){e._timer&&clearInterval(e._timer),e._timer=null})},e.prototype._fireEvent=function(){if(document.createEvent){var e;window.KeyEvent?(e=document.createEvent("KeyEvents"),e.initKeyEvent("keyup",!0,!0,window,!1,!1,!1,!1,65,0)):(e=document.createEvent("UIEvents"),e.initUIEvent("keyup",!0,!0,window,1),e.keyCode=65),this._o.dispatchEvent(e)}else{var e=document.createEventObject();e.keyCode=65,this._o.fireEvent("onkeyup",e)}},new e(this)})},e.extend(n,{version:"0.0.1",popupEl:null,keyword:null,callback:null,contextRoot:null,eventTime:null,eventId:null,defaultLocale:"ko",lang:{ko:{"\ud655\uc778":"\ud655\uc778","\ub2eb\uae30":"\ub2eb\uae30","\uc120\ud0dd":"\uc120\ud0dd","\uc774\ub984, \uc544\uc774\ub514":"\uc774\ub984, \uc544\uc774\ub514","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514","\uac80\uc0c9":"\uac80\uc0c9","\ub354\ubcf4\uae30":"\ub354\ubcf4\uae30","\uc870\uc9c1\uc21c":"\uc870\uc9c1\uc21c","\uac00\ub098\ub2e4\uc21c":"\uac00\ub098\ub2e4\uc21c","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.","\uc774\ub984":"\uc774\ub984","\ubd80\uc11c":"\ubd80\uc11c","\uc544\uc774\ub514":"\uc544\uc774\ub514","\uc804\ud654\ubc88\ud638":"\uc804\ud654","\uc9c1\uc704":"\uc9c1\uc704","\uc9c1\ucc45":"\uc9c1\ucc45","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694."},ja:{"\ud655\uc778":"\u78ba\u8a8d","\ub2eb\uae30":"\u9589\u3058\u308b","\uc120\ud0dd":"\u9078\u629e","\uc774\ub984, \uc544\uc774\ub514":"\u540d\u524d\u3001ID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\u540d\u524d\u3001\u90e8\u7f72\u540d\u3001ID","\uac80\uc0c9":"\u691c\u7d22","\ub354\ubcf4\uae30":"\u3082\u3063\u3068\u898b\u308b","\uc870\uc9c1\uc21c":"\u7d44\u7e54\u9806","\uac00\ub098\ub2e4\uc21c":"abc\u9806","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u30e1\u30f3\u30d0\u30fc\u304c\u3042\u308a\u307e\u305b\u3093\u3002","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u691c\u7d22\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\u7d50\u679c\u5024\u304c\u591a\u3044\u3067\u3059\u3002\u691c\u7d22\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002","\uc774\ub984":"\u540d\u524d","\ubd80\uc11c":"\u90e8\u7f72","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"\u96fb\u8a71","\uc9c1\uc704":"\u8077\u4f4d","\uc9c1\ucc45":"\u5f79\u8077","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\u5148\u306b\u7d44\u7e54\u56f3\u3067\u9805\u76ee\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002"},en:{"\ud655\uc778":"OK","\ub2eb\uae30":"Close","\uc120\ud0dd":"Select","\uc774\ub984, \uc544\uc774\ub514":"Name, ID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"Name, Department, ID","\uac80\uc0c9":"Search","\ub354\ubcf4\uae30":"View More","\uc870\uc9c1\uc21c":"By Organization","\uac00\ub098\ub2e4\uc21c":"By Alphabet","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"No Member","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"No Result","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"There are too many results. Please use the search function.","\uc774\ub984":"Name","\ubd80\uc11c":"Department","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"Phone","\uc9c1\uc704":"Position","\uc9c1\ucc45":"Title","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"Select Item on the Organization "},zh_CN:{"\ud655\uc778":"\u786e\u8ba4","\ub2eb\uae30":"\u5173\u95ed","\uc120\ud0dd":"\u9009\u62e9","\uc774\ub984, \uc544\uc774\ub514":"\u540d\u5b57\uff0cID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\u540d\u5b57\uff0c\u90e8\u95e8\u540d\u79f0\uff0cID","\uac80\uc0c9":"\u641c\u7d22","\ub354\ubcf4\uae30":"\u67e5\u770b\u66f4\u591a","\uc870\uc9c1\uc21c":"\u7ec4\u7ec7\u987a\u5e8f","\uac00\ub098\ub2e4\uc21c":"abc\u987a\u5e8f","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6ca1\u6709\u4f1a\u5458","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6ca1\u6709\u641c\u7d22\u7ed3\u679c\u3002","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\u7ed3\u679c\u592a\u591a\u3002\u8bf7\u4f7f\u7528\u641c\u7d22\u529f\u80fd\u3002","\uc774\ub984":"\u540d\u5b57","\ubd80\uc11c":"\u90e8\u95e8","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"\u7535\u8bdd","\uc9c1\uc704":"\u804c\u79f0","\uc9c1\ucc45":"\u804c\u4f4d","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\u9996\u5148\u8bf7\u5728\u7ec4\u7ec7\u673a\u6784\u56fe\u9009\u62e9\u9879\u76ee\u3002"},zh_TW:{"\ud655\uc778":"\u78ba\u8a8d","\ub2eb\uae30":"\u95dc\u9589","\uc120\ud0dd":"\u9078\u64c7","\uc774\ub984, \uc544\uc774\ub514":"\u540d\u5b57\uff0cID","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"\u540d\u5b57\uff0c\u90e8\u9580\u540d\u7a31\uff0cID","\uac80\uc0c9":"\u641c\u7d22","\ub354\ubcf4\uae30":"\u67e5\u770b\u66f4\u591a","\uc870\uc9c1\uc21c":"\u7d44\u7e54\u9806\u5e8f","\uac00\ub098\ub2e4\uc21c":"abc\u9806\u5e8f","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6c92\u6709\u6703\u54e1","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6c92\u6709\u641c\u7d22\u7d50\u679c\u3002","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"\u7d50\u679c\u592a\u591a\u3002\u8acb\u4f7f\u7528\u641c\u7d22\u529f\u80fd\u3002","\uc774\ub984":"\u540d\u5b57","\ubd80\uc11c":"\u90e8\u9580","\uc544\uc774\ub514":"ID","\uc804\ud654\ubc88\ud638":"\u96fb\u8a71","\uc9c1\uc704":"\u8077\u7a31","\uc9c1\ucc45":"\u8077\u4f4d","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\u9996\u5148\u8acb\u5728\u7d44\u7e54\u6a5f\u69cb\u5716\u9078\u64c7\u9805\u76ee\u3002"},vi:{"\ud655\uc778":"OK","\ub2eb\uae30":"\u0110\u00f3ng","\uc120\ud0dd":"Ch\u1ecdn","\uc774\ub984, \uc544\uc774\ub514":"H\u1ecd t\u00ean, t\u00e0i kho\u1ea3n","\uc774\ub984, \ubd80\uc11c\uba85, \uc544\uc774\ub514":"H\u1ecd t\u00ean, t\u00ean ph\u00f2ng ban, t\u00e0i kho\u1ea3n","\uac80\uc0c9":"T\u00ecm ki\u1ebfm","\ub354\ubcf4\uae30":"Xem th\u00eam","\uc870\uc9c1\uc21c":"Theo t\u1ed5 ch\u1ee9c","\uac00\ub098\ub2e4\uc21c":"Theo Alphabet","\uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"Kh\u00f4ng c\u00f3 th\u00e0nh vi\u00ean.","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"Kh\u00f4ng c\u00f3 K\u1ebft qu\u1ea3 t\u00ecm ki\u1ebfm.","\uacb0\uacfc\uac12\uc774 \ub9ce\uc2b5\ub2c8\ub2e4. \uac80\uc0c9\uc744 \uc774\uc6a9\ud574 \uc8fc\uc138\uc694.":"C\u00f3 nhi\u1ec1u gi\u00e1 tr\u1ecb k\u1ebft qu\u1ea3. Vui l\u00f2ng s\u1eed d\u1ee5ng t\u00ecm ki\u1ebfm.","\uc774\ub984":"H\u1ecd t\u00ean","\ubd80\uc11c":"Ph\u00f2ng ban","\uc544\uc774\ub514":"H\u1ecd t\u00ean","\uc804\ud654\ubc88\ud638":"tho\u1ea1i nh\u00e0","\uc9c1\uc704":"Ch\u1ee9c v\u1ee5","\uc9c1\ucc45":"Ch\u1ee9c tr\u00e1ch","\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"Select Item on the Organization "}},i18n:{},defaults:{id:"gpopupLayer",treeId:"orgTree",type:"list",isAdmin:!1,isMyDeptOpened:!0,companyIds:null,multiCompanyVisible:!1,selectedMember:null,tpl:{wrap:['<div class="layer_side layer_organogram" id="{popupId}" data-layer><aside class="go_organogram">','<header><h1><ins class="ic"></ins><span class="txt">{header}</span></h1>','<a class="btn_layer_x" data-bypass title="{msg_close}"><span class="ic"></span><span class="txt"></span></a></header>',"{tagWrap}",'<div class="vertical_wrap"><p class="desc">{desc}</p><p class="desc headerOption" style="display:block;">{headerOption}</p></div>',"{searchForm}","{contents}",'<section class="extra_content"></section>','<footer class="btn_layer_wrap">','<a class="btn_minor_s" data-bypass><span class="txt">{msg_close}</span></a>',"</footer>","</aside></div>"],searchForm:['<div class="search_wrap"><form onSubmit="return false;">','<input class="search" type="text" placeholder="{msg_search_placeholder}" title="{msg_search_placeholder}">','<input class="btn_search" type="submit" value="{msg_search}" title="{msg_search}"></form>',"</div>"],contentsTab:['<div class="tab_wrap" id="orgTabs">','<div id="orgTree" class="content_tab_wrap" style="height:100%;"><div></div></div>','<div id="memberList" class="content_tab_wrap xhidden" style="display:none"></div></div>'],tagWrap:['<div class="data_result" id="orgTagWrap">','<ul class="name_tag"></ul>',"</div>"],tagItem:['<li data-id="{id}" data-type="{type}"><span class="name">{name} {position}</span><span class="btn_wrap"><span class="ic_classic ic_del" title="\uc0ad\uc81c"></span></span></li>']}},template:function(e,t){return e.replace(/{(\w*)}/g,function(e,n){return t.hasOwnProperty(n)?t[n]:""})},getPopupEl:function(){return this.popupEl||e("#"+n.defaults.id)},getHeaderHeight:function(){return e(this.isAdmin?".admin_header":".go_header").height()},close:function(){var t=this.getPopupEl();return t.find("#orgTabs").empty(),t.remove(),e(document).trigger("hideLayer.goLayer"),!1},popupOffset:function(t,r){var i=t||null,s=0,o=0,u=n.getPopupEl(),a=200;contentMaxHeight=e(window).height()-500,contentHeight=0,r==1&&(contentHeight=parseInt(e(window).innerHeight()-u.find(".content_wrap:eq(0), .content_tab_wrap:eq(0)").offset().top-120,10),contentHeight<a&&(contentHeight=a),u.find(".content_wrap, .content_tab_wrap").css({minHeight:a,maxHeight:contentMaxHeight<a?a:contentMaxHeight})),i!=null&&i.hasOwnProperty("currentTarget")?(s=e(i.currentTarget).offset().top-30,s<50&&(s=50),e(window).innerHeight()-s<u.height()?u.css({position:"absolute",bottom:40,right:10,top:"auto"}):u.css({position:"absolute",top:s,right:10})):u.css({position:"fixed",top:60,right:10})},initialize:function(t){this.isAjaxDouble=!1,this.options=e.extend(!0,{},this.defaults,t),this.selectedMember=[],this.options.isAdmin||(this.options.displayFormats=this._getDisplayFormats()),t.useTag&&(this.originalCallback=t.callback);if(this.options.lang&&this.lang.hasOwnProperty(this.options.lang))this.i18n=this.lang[this.options.lang];else{var n=e('meta[name="locale"]').attr("content");n=="jp"&&(n="ja"),n&&this.lang.hasOwnProperty(n)?this.i18n=this.lang[n]:this.i18n=this.lang[this.defaultLocale]}return this.render(),this},render:function(){var t=this,r=this.options,i=r.header||this.i18n["\uc120\ud0dd"],s=r.headerOption||"",o=r.desc||"",u=n.defaults.tpl.contentsTab,a="",f="",l=r.searchPlaceHolder||this.i18n["\uc774\ub984"]+"/"+this.i18n["\uc544\uc774\ub514"]+"/"+this.i18n["\ubd80\uc11c"]+"/"+this.i18n["\uc9c1\uc704"]+"/"+this.i18n["\uc9c1\ucc45"]+"/"+this.i18n["\uc804\ud654\ubc88\ud638"];this.circle=r.circle||null,this.popupEl=this.popupEl||null,this.companyIds=r.companyIds||[],this.loadId=r.loadId||"",this.includeLoadIds=r.includeLoadIds||[],this.depts=r.depts||[],this.domainCodeIds=r.domainCodeIds||[],this.userIds=r.userIds||[],this.type=r.type||this.defaults.type,this.callback=r.callback||"",this.contextRoot=r.contextRoot||"",this.isAdmin=r.isAdmin||this.defaults.isAdmin,this.buttons=r.buttons||null,this.hideOrg=r.hasOwnProperty("hideOrg")?r.hideOrg:this.loadId?!0:!1,this.searchUse=this.type!="deleteDept",this.target=r.target||null,this.isOrgServiceOn=this.getOrgUse(r),this.searchPlaceHolder=this.isOrgServiceOn?l:this.i18n["\uc774\ub984, \uc544\uc774\ub514"],this.zIndex=r.zIndex,this.method=r.method||"GET",this.externalLang=r.externalLang||null,this.isOnlyOneMember=r.isOnlyOneMember||!1,this.memberTypeLabel=r.memberTypeLabel||"",this.isCustomType=r.isCustomType||!1,this.isBatchAdd=r.isBatchAdd||!1,this.useTag=r.useTag||!1,this.useApprReception=r.useApprReception||!1,this.useApprReference=r.useApprReference||!1,this.useDisableNodeStyle=r.useDisableNodeStyle||!1,this.multiCompanyVisible=r.multiCompanyVisible||!1,this.popupEl&&(n.close(),n.keyword=null),n.defaults.tpl[this.type]&&(u=n.defaults.tpl[this.type]);if(this.searchUse){if(this.loadId||this.type=="circle")this.searchPlaceHolder=this.i18n["\uc774\ub984, \uc544\uc774\ub514"];a=n.template(n.defaults.tpl.searchForm.join(""),{msg_search_placeholder:this.searchPlaceHolder,msg_search:this.i18n["\uac80\uc0c9"]})}this.useTag&&(f=n.template(n.defaults.tpl.tagWrap.join(""))),this.popupEl=e(n.template(n.defaults.tpl.wrap.join(""),{msg_close:this.i18n["\ub2eb\uae30"],tagWrap:f,contents:u.join(""),searchForm:a,popupId:n.defaults.id,header:i,headerOption:s,desc:o})).appendTo("body"),e(document).trigger("showLayer.goLayer"),this.popupEl.off(),this.searchUse&&this.popupEl.find("input[placeholder]").placeholder(),!this.isOrgServiceOn&&this.type!="circle"||this.type=="community"||this.type=="domaincode"||this.type=="deleteDept"||this.type=="complex"?this._renderNodeList():this._renderNodeTree(r);if(this.searchUse){var c=this.popupEl.find("input.search");(e.browser.mozilla||e.browser.opera)&&c.imitateKeyEvent();var h;c.bind("keyup",function(r){return r.keyCode==13?(e(r.currentTarget).focus(),!1):(clearTimeout(this.clearTimeOut),this.clearTimeOut=setTimeout(function(){if(r){var i=e.trim(e(r.currentTarget).val());i!=""&&n.keyword!=i&&e.proxy(n._renderNodeList()),n.keyword=i,i==""&&(t.render(),t.nodeTree.deferred.done(function(){t.popupEl.find("input.search").focus()}))}},500),!1)})}this.useTag&&(this.selectedMember=_.isArray(this.selectedMember)?this.selectedMember:[],this.callback=e.proxy(this._onAddMemberToTag,this),this.options.callback=e.proxy(this._onAddMemberToTag,this),this.popupEl.find("footer").prepend('<a class="btn_major_s" data-bypass id="btnConfirmCallback"><span class="txt">'+this.i18n["\ud655\uc778"]+"</span></a>").bind("click.org",e.proxy(function(){this.callback=this.originalCallback,this.options.callback=this.originalCallback,this.callback(this._getTagItems()),n.close()},this)),this.popupEl.find("ul.name_tag").on("click.org","span.ic_del",function(){t._removeSelectedMember(this)}),this._renderTag());if(this.buttons!=null){var p=this.popupEl.find(".btn_layer_wrap");e.each(this.buttons,function(e,r){p.prepend('<a id="customButtons'+e+'" class="'+(r.bclass||"btn_major_s")+'" data-bypass=""><span class="txt">'+r.btext+"</span></a> "),p.find("#customButtons"+e).bind("click.org",function(){if(typeof r.callback=="function"){var e=t._getSelectedData();r.callback(e)}r.autoClose&&n.close()})})}this.popupEl.find("a.btn_layer_x, a.btn_minor_s").bind("click.org",function(){n.close()}),this.popupEl.on("data:success",function(){n.popupOffset(t.target,!0)}),this.popupEl.draggable({handle:"header, footer",containment:"parent",scroll:!1,opacity:.9,start:function(){},drag:function(e,t){}}),this.zIndex&&this.popupEl.css("z-index",this.zIndex);return},_getDisplayFormats:function(){var e={};return _.isFunction(GO.config)?(e.orgTreeModeratorFormat=this.convertDisplayFormat(GO.config("orgTreeModeratorFormat")),e.orgTreeMemberFormat=this.convertDisplayFormat(GO.config("orgTreeMemberFormat")),e.orgTreeMasterFormat=this.convertDisplayFormat(GO.config("orgTreeMasterFormat"))):_.isUndefined(BASECONFIG)||(e.orgTreeModeratorFormat=this.convertDisplayFormat(BASECONFIG.data.displayConfigModel.orgTreeModeratorFormat),e.orgTreeMemberFormat=this.convertDisplayFormat(BASECONFIG.data.displayConfigModel.orgTreeMemberFormat),e.orgTreeMasterFormat=this.convertDisplayFormat(BASECONFIG.data.displayConfigModel.orgTreeMasterFormat)),e},_onAddMemberToTag:function(t){var n=this,r=e.isArray(t)?t:e.isPlainObject(t)?new Array(t):[],i=_.pluck(this._getTagItems(),"id"),s=_.filter(r,function(e){return _.indexOf(i,e.id)==-1});_.each(s,function(e){n.selectedMember.push(e)}),this._renderTag()},_renderTag:function(){e("#"+n.defaults.id).find("ul.name_tag").empty(),e.each(this.selectedMember,function(t,r){e("#"+n.defaults.id).find("ul.name_tag").append(n.template(n.defaults.tpl.tagItem.join(""),{id:this.id,name:this.name,position:this.position?this.position:"",type:this.type}))})},_getTagItems:function(){return this.selectedMember},_removeSelectedMember:function(t){var n=e(t).closest("li"),r=n.data("id");n.remove();var i;_.each(this.selectedMember,function(e,t){if(e.id==r)return i=t,!1}),this.selectedMember.splice(i,1)},_getSelectedData:function(){if(n.type=="department"){var t=this.nodeTree.$el.find("a.jstree-clicked").length==0,r=!this.nodeList||this.nodeList.$el.find("a.jstree-clicked").length===0;if(!t||!r)return this.nodeTree.getSelectedData().name?this.nodeTree.getSelectedData():this.nodeList.getSelectedData();e.goSlideMessage(this.i18n["\uba3c\uc800 \uc870\uc9c1\ub3c4\uc5d0\uc11c \ud56d\ubaa9\uc744 \uc120\ud0dd\ud558\uc138\uc694."])}},_renderNodeTree:function(t){this.nodeTree=e.goNodeTree({el:"#"+n.defaults.treeId+">div",url:[this.contextRoot,this.isAdmin?"ad/":"","api/organization/"],companyIds:t.companyIds,loadId:t.loadId,includeLoadIds:t.includeLoadIds||[],type:t.type||this.defaults.type,i18n:this.i18n||{},contextRoot:t.contextRoot||"",isMyDeptOpened:t.loadId==undefined?t.isMyDeptOpened:!1,isAdmin:t.isAdmin||this.defaults.isAdmin,hideOrg:t.hasOwnProperty("hideOrg")?t.hideOrg:this.loadId?!0:!1,target:t.target||null,circle:t.circle||null,method:t.method||"GET",depts:t.depts||[],userIds:t.userIds||[],externalLang:t.externalLang||null,isOnlyOneMember:t.isOnlyOneMember||!1,memberTypeLabel:t.memberTypeLabel||"",isCustomType:t.isCustomType||!1,isBatchAdd:t.isBatchAdd||!1,multiCompanyVisible:this.multiCompanyVisible,useApprReception:t.useApprReception,useApprReference:t.useApprReference,useDisableNodeStyle:t.useDisableNodeStyle,callback:e.proxy(function(n,r){(r.type==="click"||r.type==="select_node")&&e.isFunction(t.callback)&&t.callback(n)},this),displayFormats:t.displayFormats})},_renderNodeList:function(t){var r=n.popupEl.find("input.search"),i=e.trim(r.attr("placeholder")==r.val()?"":r.val());if(!i&&this.type!="community"&&this.type!="domaincode"&&this.type!="deleteDept"&&this.type!="complex"&&this.isOrgServiceOn)return this.popupEl.find("input.search").val(""),this.popupEl.find("#memberList").hide(),this.popupEl.find("#orgTree").show(),!1;this.popupEl.find("#orgTree").hide(),e("#memberList").empty(),this.nodeList=e.goNodeList({i18n:this.i18n,circle:this.circle,type:this.type,companyIds:this.companyIds,isAdmin:this.isAdmin,parentNodeId:this.loadId,parentNodeIds:this.includeLoadIds,depts:this.depts||[],userIds:this.userIds||[],multiCompanyVisible:this.options.multiCompanyVisible,selectQuery:"#memberList",keyword:i,isOrgServiceOn:this.isOrgServiceOn,contextRoot:this.contextRoot,isBatchAdd:this.isBatchAdd||!1,externalLang:this.externalLang,isOnlyOneMember:this.isOnlyOneMember,memberTypeLabel:this.memberTypeLabel,isCustomType:this.isCustomType,useApprReception:this.useApprReception,useApprReference:this.useApprReference,useDisableNodeStyle:this.useDisableNodeStyle,method:this.method||"GET",multiCompanyVisible:this.multiCompanyVisible,hideOrg:this.hideOrg,callback:e.proxy(function(t,n){(n.type==="click"||n.type==="select_node")&&e.isFunction(this.callback)&&this.callback(t)},this),displayFormats:this.displayFormats}),this.nodeList.$el.show()},getOrgUse:function(e){var t=!0;return e.isOrgServiceOn!=undefined?t=e.isOrgServiceOn:this.isAdmin?t=GO.util.isUseOrgService(this.isAdmin):t=GO.session("useOrgAccess"),t},convertDisplayFormat:function(e){var t=e||"";return t=t.replace(/\{\{/g,"{"),t=t.replace(/\}\}/g,"}"),t}})}(jQuery),define("jquery.go-orgslide",function(){}),function(){define("calendar/views/side",["backbone","app","hogan","when","when/sequence","calendar/collections/calendars","calendar/collections/calendar_feeds","calendar/helpers/side_lnb","calendar/views/color_picker","calendar/libs/util","text!calendar/templates/side.html","text!calendar/templates/_side_nullguide.html","i18n!nls/commons","i18n!calendar/nls/calendar","go-ignoreduplicatemethod","jquery.go-popup","jquery.go-orgslide"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){function S(){return $("#feed-list > .null_guide").length>0||$("#feed-list > ul.side_depth").length>0&&$("#feed-list > ul.side_depth").is(":visible")}function x(e){function a(e){var t=[];return _.each(e,function(e){var n=e.find("input[name=calendar_id]");t.push({id:+n.val(),name:n.data("name"),type:n.data("type")})}),t}var t=this,n=this._getActionQueue(e),s=n.get(),o=N.call(this,e),u=[];return _.each(s,function(n){u.push(function(){var r={sort:k,remove:C}[n.action];return r.call(t,e,n.ids)})},this),i(u).then(function(){var i=n.groupByAction();if(i.remove){var s=[];_.each(i.remove,function(e){s.concat(a(e.elements))}),D("hide",s),t._saveCheckedCalendar()}return o.trigger("reset"),r.resolve()})}function T(e,t,n){var i=r.defer();return n=_.isArray(n)?n:[n],$.ajax({url:e,type:t,data:JSON.stringify({ids:n}),dataType:"json",contentType:"application/json"}).then(i.resolve,i.reject),i.promise}function N(e){return{calendar:this.calendars,feed:this.feeds}[e]}function C(e,n){var r=t.config("contextRoot")+"api/calendar",i={calendar:r,feed:r+"/feed"}[e],s=N.call(this,e);return T(i,"DELETE",n).then(function(e){s.remove(n,{silent:!0})})}function k(e,n){var r=t.config("contextRoot")+"api/calendar",i={calendar:r+"/move",feed:r+"/feed/move"}[e],s=N.call(this,e);return T(i,"PUT",n).then(function(e){s.reset(e.data,{silent:!0})})}function L(e,t){var n=[];return n.push('<div class="list_action normalmode">'),n.push('<span class="btn_wrap">'),n.push('<span class="btn_side2 '+e+'">'),n.push(t),n.push("</span>"),n.push("</span>"),n.push("</div>"),n.join("\n")}function A(e){return t.i18n(p["\uce98\ub9b0\ub354 \uae30\ubcf8\uc774\ub984"],{username:e})}function O(e){var n=e.defaultCalendar?p["\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc"]:"";return(e.name||A(t.session("name")))+n}function M(e,t){var n="("+e+")";return(t||A(e))+n}function D(e,t){return $(document).trigger(e+":calendar",[t])}function P(e,t){var n=$(e);return n.prop("checked",t||!1),{id:n.val(),name:n.data("name"),type:n.data("type")}}function H(e){var t=$("#feed-list"),n=t.children("div").hasClass("null_guide")?251:85;e<n&&(e=n);var r=Math.min(t.outerHeight(),e)+1;t.parent().height(r)}function B(e){var n=$(window).height(),r=t.isAdvancedTheme()?0:$("header.go_header").outerHeight(),i=85,s=n-r-i-e;$("#side > section:not([id='company-calendar'])").each(function(){s-=$(this).outerHeight()}),$("#company-calendar").height(s),$("#company-calendar").css("overflow-y","auto")}var v=t.constant("calendar","FEED_STATE"),m=t.constant("calendar","SIDE_TYPE"),g=n.compile(l),y=n.compile(c),b={context_root:t.config("contextRoot"),regist_event_url:t.config("contextRoot")+"app/calendar/regist","use_org?":t.session("useOrg"),label:{calendar:h["\uce98\ub9b0\ub354"],new_event:p["\uc77c\uc815 \ub4f1\ub85d"],waiting:p["\uc2e0\uccad\ub300\uae30"],add_all_staff:p["\uc6b0\ub9ac \ubd80\uc11c\uc6d0 \ubaa8\ub450 \ucd94\uac00"],add_staff:p["\uad00\uc2ec \uce98\ub9b0\ub354 \ucd94\uac00"],modify:p["\uc218\uc815\uc644\ub8cc"],cancel:h["\ucde8\uc18c"],my_calendar_config:h["\ub0b4 \uce98\ub9b0\ub354 \uad00\ub9ac"],color_config:h["\uc0c9\uc0c1 \ubcc0\uacbd"],edit:h["\uc218\uc815"],following:p["\uad00\uc2ec \uce98\ub9b0\ub354"],edit_following:p["\uad00\uc2ec \uce98\ub9b0\ub354 \ud3b8\uc9d1"],edit_my_calendar:p["\ub0b4 \uce98\ub9b0\ub354 \ud3b8\uc9d1"],unfold:h["\uc811\uae30"],my_calendar:p["\ub0b4 \uce98\ub9b0\ub354"],setting:p["\uce98\ub9b0\ub354 \ud658\uacbd\uc124\uc815"]},msg:{no_feeds:p["\uad00\uc2ec \uce98\ub9b0\ub354 \uc5c6\uc74c \uba54\uc2dc\uc9c0"]},isOrgServiceOn:t.session("useOrg"),appName:t.util.getAppName("calendar")},w=function(){var e=function(){this.__index__=0,this.__queue__={}};return e.prototype={get:function(e){return typeof e=="undefined"?_.reject(this.__queue__,function(e){return!e}):this.__queue__[e]},last:function(){return this.__queue__[this.__index__]},placeholder:function(){return this.add(null)},add:function(e){return this.__queue__[++this.__index__]=$.extend(!0,{index:this.__index__},e),this.__index__},update:function(e,t){return this.__queue__.hasOwnProperty(e)&&(this.__queue__[e]=$.extend(!0,this.__queue__[e],t)),this},remove:function(e){return delete this.__queue__[e],this},clear:function(){this.__queue__={}},count:function(){return _.toArray(this.__queue__).length},groupByAction:function(){return _.groupBy(this.get(),function(e){return e.action},this)}},e}(),E=e.View.extend({feeds:[],mainView:null,initialize:function(e){var t=this;console.log("[SideView#initialize] initializing..."),this.calendars=e.calendars,this.feeds=e.feeds,this.mainView=e.mainView,this.actionQueues={},this.checkedCals=f.getSavedSelectedCalendar();if(!_.isUndefined(this.checkedCals)){var n=this.calendars.getNewCompanyCalendarIds();n.length!=0&&(this.checkedCals=this.checkedCals+","+this.calendars.getNewCompanyCalendarIds().join(","),f.saveCheckedCalendar(this.checkedCals.split(",")))}this._prepareTemplate(),this.loadMyCalendars(),this.reloadFeeds(this.$el),this._saveCheckedCalendar(),this.listenTo(this.calendars,"sync",this.reloadMyCalendars),this.listenTo(this.calendars,"remove",this.reloadMyCalendars),this.listenTo(this.calendars,"sort",this.reloadMyCalendars),this.listenTo(this.feeds,"remove",this.reloadFeeds),this.listenTo(this.feeds,"sort",this.reloadFeeds),$(document).off("req:checked-feeds.calendar-side").on("req:checked-feeds.calendar-side",function(){$(document).trigger("res:checked-feeds",[t.getCheckedFeeds()])})},render:function(){return this},loadMyCalendars:function(){var e=this.$el.find("#my-calendar > ul.side_depth"),t=e.is(":hidden");e.remove(),this.$el.find("#my-calendar > div.list_action").remove(),this.$el.find("#my-calendar").append(this._buildMyCalendars()),this.$el.find("#my-calendar > ul.side_depth").toggle(!t),this._setFoldStateForMyCalendar()},_setFoldStateForMyCalendar:function(){var e=f.getSavedCalendarFoldState();return e==="Y"?this._foldLnb($("#my-calendar"),!1):this._unfoldLnb($("#my-calendar"),!1),this},_toggleFoldState:function(e){var t=$(e.currentTarget),n=t.closest("section.lnb");t.closest("h1").hasClass("folded")?this._unfoldLnb(n):this._foldLnb(n)},reloadMyCalendars:function(e){this.checkedCals=f.getSavedSelectedCalendar(),this.loadMyCalendars(),this._setCheckedCalendars(this.$el.find("#my-calendar"))},loadFeeds:function(){this.$el.find("#feed-list > ul.side_depth").remove(),this.$el.find("#feed-list > div.null_guide").remove(),this.$el.find("#feed-list > div.list_action").remove(),this.$el.find("#feed-list").append(this._buildFeeds()),this._toggleFeedActionButtons(),this._setFoldStateForFeeds(),this._setScrollForFeeds()},reloadFeeds:function(e){this.loadFeeds(),this._setCheckedCalendars(e),this._setCheckedAllFeed()},_setCheckedCalendars:function(e){e=e||this.$el.find("#feed-list");if(!this.checkedCals)this._saveCheckedCalendar();else{var t=this.checkedCals.split(",");e.find("input[type=checkbox][name=calendar_id]").each($.proxy(function(e,n){var r=$(n);_.contains(t,$(n).val())&&!$(n).is(":disabled")&&r.prop("checked",!0)},this))}},delegateEvents:function(t){var n=this;console.log("[SideView#delegateEvents] called..."),e.View.prototype.delegateEvents.call(this,t),this.undelegateEvents(),this.$el.on("click.calendar-side",".ic_list_reorder",$.proxy(this._changeEditMode,this)),this.$el.on("click.calendar-side",".ic_cancel",$.proxy(this._cancelEdit,this)),this.$el.on("click.calendar-side",".ic_hide_up",$.proxy(this._toggleFoldState,this)),this.$el.on("click.calendar-side","h1.opened span.txt",$.proxy(this._toggleFoldState,this)),this.$el.on("changed:chip-color.calendar-side",".chip",$.proxy(this._bindChagnedCalendarColor,this)),this.$el.on("click.calendar-side","input[type='checkbox'][name='calendar_id']:not(':disabled')",$.proxy(this._checkToggleCalendar,this)),this.$el.on("click.calendar-side",".ic_list_del, .cancel_following",$.proxy(this._removeCalendar,this)),this.$el.on("click.calendar-side",".ic_done",$.proxy(this._requestModify,this)),this.$el.on("click.calendar-side",".mycalendar span.chip:not([data-unchangable])",$.proxy(this._toggleColorPickerByCalendar,this)),this.$el.on("click.calendar-side","#my-calendar .add-calendar-btn",$.proxy(this._addCalendar,this)),this.$el.on("click.calendar-side","#feed-list span.chip",$.proxy(this._toggleColorPickerByFeed,this)),this.$el.on("click.calendar-side","#feed-list input[name=check_all]",$.proxy(this._toggleCheckAllFeeds,this)),this.$el.on("click.calendar-side","#add-allstaff-btn",$.proxy(this._addFeedsForMyDepts,this)),this.$el.on("click.calendar-side","#feed-list .add-follow-btn",$.proxy(this._addFollow,this)),this.$el.on("click.calendar-side","#lnb-preference",$.proxy(this._goToPreference,this)),$(document).on("reload:calendar-feeds.calendar-side",$.proxy(function(e){this.reloadFeeds(),this._setCheckedAllFeed(),e.stopPropagation()},this)),$(document).on("removed:calendar-feeds.calendar-side",$.proxy(function(e){this.reloadFeeds(),this._saveCheckedCalendar(),this._setCheckedAllFeed(),e.stopPropagation()},this));var r=new d;return $(window).on("resize.calendar-side",function(e){r.bind(function(){console.log("resize.calendar-side"),n._setScrollForFeeds()})}),this},undelegateEvents:function(){return e.View.prototype.undelegateEvents.call(this),this.$el.off(".calendar-side"),$(window).off(".calendar-side"),$(document).off(".calendar-side"),this.$el.find(".chip").off("changed:calendar-color"),t.session("useOrg")&&this.stopListening(this.feeds),this},getCheckedCalendarIds:function(){return _.pluck(this.getCheckedCalendars(),"id")},getCheckedCalendars:function(){var e=[];return _.each(this.calendars.getHolidayCalendars(),function(t,n){e.push({id:t.id,name:"holiday",type:"holiday"})}),this.$el.find("input[type=checkbox][name=calendar_id]:checked").each(function(t,n){var r=$(n);e.push({id:r.val(),name:r.attr("data-name"),type:r.attr("data-type")})}),e},getCheckedFeeds:function(){var e=this.getCheckedCalendars(),t=[];return _.each(e,function(e){e.type==="feed"&&t.push(this.feeds.findByCalendarId(e.id)[0].toJSON())},this),t},uncheckAll:function(){this.$el.find("input[type=checkbox][name=calendar_id]:checked").prop("checked",!1)},saveCheckedCalendar:function(){this._saveCheckedCalendar()},isFollowing:function(e){return this.feeds.isFollowing(e)},isAccessible:function(e){return this.feeds.isAccessible(e)},_setFoldStateForFeeds:function(){var e=f.getSavedFeedFoldState();return this._hasFeeds()?(e||f.saveSideFoldState("feed",!1),e==="Y"?this._foldLnb($("#feed-list"),!1):this._unfoldLnb($("#feed-list"),!1)):!e||f.saveSideFoldState("feed",!1),this},_toggleFeedActionButtons:function(){var e=this.$el.find("#feed-list > h1 > .btn_wrap");return this._hasFeeds()?(e.is(":visible")||e.css("display")==="none")&&e.show():e.hide(),this},_changeEditMode:function(e){var t=$(e.currentTarget).closest("section.lnb"),n=t.data("type"),r={calendar:p["\ub0b4 \uce98\ub9b0\ub354 \ud3b8\uc9d1"],feed:p["\uad00\uc2ec \uce98\ub9b0\ub354 \ud3b8\uc9d1"]}[n],i=null,s;return s=this._getActionQueue(n),this._unfoldLnb(),t.find("h1 > span.txt").text(r),t.find(".cb-check-all").hide(),t.addClass("lnb_edit"),t.find(".normalmode").hide(),t.find(".editmode:not([data-lazyshow])").show(),t.sortable({items:"li:not(.ui-state-disabled)",axis:"y",start:function(e,t){var n=s.last();$(t.helper).addClass("move"),n&&n.action==="sort"?i=n.index:i=s.placeholder()},stop:function(e,n){var r=[];t.find("li:not(.ui-state-disabled)").each(function(e,t){r.push($(t).data("id"))}),s.update(i,{ids:r,action:"sort"}),$(n.item).removeClass("move")}}),t.disableSelection(),this},_changeNormalMode:function(e){var t=$(e.currentTarget).closest("section.lnb"),n=t.data("type"),r={calendar:p["\ub0b4 \uce98\ub9b0\ub354"],feed:p["\uad00\uc2ec \uce98\ub9b0\ub354"]}[n],i={calendar:this.reloadMyCalendars,feed:this.reloadFeeds}[n];return this._clearActionQueue(n),t.find("h1 > span.txt").text(r),t.removeClass("lnb_edit"),t.find(".normalmode").show(),t.find(".editmode").hide(),t.sortable("destroy"),t.enableSelection(),this.render(),i.call(this),this},_getActionQueue:function(e){return this.actionQueues[e]||(this.actionQueues[e]=new w),this.actionQueues[e]},_clearActionQueue:function(e){this.actionQueues[e]&&this.actionQueues[e].clear()},_requestModify:function(e){var t=this,n=$(e.currentTarget).closest("section.lnb").data("type");e.preventDefault(),x.call(this,n).then(function(){t._changeNormalMode(e)})},_cancelEdit:function(e){return this._changeNormalMode(e),this},_removeCalendar:function(e){var t=$(e.currentTarget),n=t.closest("li"),r=t.closest("section.lnb").data("type"),i=this._getActionQueue(r),s=i.last();if(s&&s.action==="remove"){var o=_.isArray(s.ids)?s.ids:[s.ids],u=_.isArray(s.elements)?s.elements:[s.elements];o.push(n.attr("data-id")),u.push(n),i.update(s.index,{ids:o,elements:u})}else i.add({ids:[n.attr("data-id")],action:"remove",elements:[n]});n.remove()},_addFeedsForMyDepts:function(e){var n=this,r=[t.config("contextRoot"),"api/calendar/feed/department?userId=",t.session("id")].join("");return $.ajax(r,{type:"POST"}).done(function(e){e.data&&e.data.length>0?(n.feeds.reset(e.data),f.triggerReloadFeeds()):$.goSlideMessage(p["\uacf5\uac1c \uce98\ub9b0\ub354 \uc5c6\uc74c \uba54\uc2dc\uc9c0"])}),this},_addFollow:function(e){return $.goOrgSlide({header:p["\uad00\uc2ec \uce98\ub9b0\ub354 \ucd94\uac00"],type:"list",desc:p["\uad00\uc2ec \uce98\ub9b0\ub354\ub85c \ucd94\uac00\ud560 \uc0ac\uc6a9\uc790\ub97c \uc544\ub798\uc5d0\uc11c \uc120\ud0dd\ud558\uc138\uc694"],contextRoot:t.config("contextRoot"),memberTypeLabel:p["\uad00\uc2ec \uce98\ub9b0\ub354"],externalLang:h,isBatchAdd:!0,callback:$.proxy(function(e){var n=_.isArray(e)?e:[e],r=_.map(n,function(e){return e.id});if(t.session().id==r[0]){$.goSlideMessage(p["\uacf5\uac1c \uce98\ub9b0\ub354 \uc5c6\uc74c \uba54\uc2dc\uc9c0"]);return}var i=_.reject(r,function(e){return e==t.session().id}),s=this.feeds.length+i.length;if(s>50){$.goSlideMessage(p["\uad00\uc2ec \uce98\ub9b0\ub354 50\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5 \ubb38\uad6c"]);return}var o=this,u=[t.config("contextRoot"),"api/calendar/user/feed"].join("");$.ajax(u,{type:"POST",data:JSON.stringify({ids:i}),contentType:"application/json"}).done(function(e){e.data&&e.data.length>0?(o.feeds.add(e.data),f.triggerReloadFeeds()):$.goSlideMessage(p["\uacf5\uac1c \uce98\ub9b0\ub354 \uc5c6\uc74c \uba54\uc2dc\uc9c0"])})},this)})},_addCalendar:function(e){var t=$(e.currentTarget),n=t.offset();require(["calendar/views/add_mycal_popup"],_.bind(function(e){var r={left:n.left+t.outerWidth()+5,top:n.top-5};e({offset:r}).then(_.bind(function(e){this.calendars.add(e)},this))},this))},_prepareTemplate:function(){var e=g.render(b,this._buildPartials());this.$el.empty().html(e)},_goToPreference:function(e){var n=this._getCalendarIdFromCheckbox(e.currentTarget);return t.router.navigate(["calendar",n,"preference"].join("/"),{trigger:!0,pushState:!0}),this},_hasFeeds:function(){return this.feeds.length>0},_buildPartials:function(){return{company_calendar:this._buildCompanyCalendars()}},_buildMyCalendars:function(){var e=new u(this.calendars.getMyCalendars()),t=[],r;return e.setItemVars(function(e,t){var n=O(t),r=!this.checkedCals;e.setLabel(n),e.setClassnames("default"),e.useCheckbox("calendar_id",t.id,!1,r,{"data-name":n,"data-type":"my"}),e.addButton(null,"normalmode chip bgcolor"+t.color,"title='"+h["\uc0c9\uc0c1 \ubcc0\uacbd"]+"'"),t.defaultCalendar||e.addButton(null,"ic_side ic_list_del editmode remove_following",'style="display:none" title="'+h["\uc0ad\uc81c"]+'"')},this),r=n.compile(e.render()),t.push(r.render(b)),t.push(L("add-calendar-btn",p["\ub0b4 \uce98\ub9b0\ub354 \ucd94\uac00"])),t.join("\n")},_buildCompanyCalendars:function(){var e=new u(this.calendars.getCompanyCalendars()),t=!this.checkedCals;return e.setItemVars(function(e,n){var r=n.name;e.setLabel(r),e.setClassnames("default"),e.useCheckbox("calendar_id",n.id,!1,t,{"data-name":r,"data-type":"company"}),e.addButton(null,"chip bgcolor"+n.color)}),n.compile(e.render())},_buildFeeds:function(){var e=[];if(this._hasFeeds()){var t=new u(this.feeds.toJSON(),{useCheckAll:!0,display:"none"});t.setItemVars(function(e,t){var n=!1,r=t.calendar,i=r.owner.name,s=M(i,r.name);t.state===v.following?(e.setClassnames("star"),e.addButton(null,"normalmode chip bgcolor"+t.color,'title="'+p["\uc0c9\uc0c1 \ubcc0\uacbd"]+'"'),e.addButton(null,"ic_side ic_list_del editmode remove_following",'style="display:none" title="'+h["\uc0ad\uc81c"]+'"')):(n=!0,e.setClassnames("star_waiting"),e.addTag(p["\uc2e0\uccad\ub300\uae30"],"btn_state_disable normalmode"),e.addButton(p["\uc2e0\uccad\ucde8\uc18c"],"btn_side3 editmode cancel_following",'style="display:none"')),e.setLabel(s),e.useCheckbox("calendar_id",t.calendar.id,n,!1,{"data-feedid":t.id,"data-name":s,"data-type":"feed"})});var r=n.compile(t.render());e.push(r.render(b)),e.push(L("add-follow-btn",p["\uad00\uc2ec \uce98\ub9b0\ub354 \ucd94\uac00"]))}else e.push(y.render(b));return e.join("")},_getSideFeedsElement:function(){return this.$el.find("#feed-list")},_toggleColorPickerByCalendar:function(e){console.log("[SideView#toggleColorPickerByMyCalendar] toggled color picker"),a.show(e.target,"calendar")},_toggleColorPickerByFeed:function(e){console.log("[SideView#_toggleColorPickerByFeed] toggled color picker"),a.show(e.target,"feed")},_checkToggleCalendar:function(e){console.log("[SideView#_checkToggleCalendar] triggered event");var t=$(e instanceof $.Event?e.currentTarget:e),n=t.val(),r=t.attr("data-name"),i=t.attr("data-type"),s=t.is(":checked"),o=s?"show":"hide";this._saveCheckedCalendar(),this.checkedCals=f.getSavedSelectedCalendar(),this._triggerEventToggle(o,n,r,i),this._setCheckedAllFeed()},_triggerEventToggle:function(e,t,n,r){return D(e,[{id:t,name:n,type:r}])},_saveCheckedCalendar:function(){f.saveCheckedCalendar(this.getCheckedCalendarIds())},_bindChagnedCalendarColor:function(e,t,n){console.log("[SideView#_bindChagnedCalendarColor] called function");var r=this,i=e.target,s=this._getCalendarOrFeedId(e.target),o=this._getCollectionBySideType(n),u=o.get(s),a=this._getCalendarIdFromCheckbox(e.target);u.save({color:t},{success:function(e){var t=e.get("color");r._resetCalendarColor(i,t),$(document).trigger("changed:calendar-color",[a,t])}})},_getCollectionBySideType:function(e){var t={};return t[m.calendar]=this.calendars,t[m.feed]=this.feeds,t[e]},_resetCalendarColor:function(e,t){return $(e).attr("class",""),$(e).addClass("chip"),$(e).addClass("bgcolor"+t),this},_setCheckedAllFeed:function(){var e=$("#feed-list");e.find(".star input[type=checkbox][name=calendar_id]:not(:checked)").length?e.find("input[name=check_all]").prop("checked",!1):e.find("input[name=check_all]").prop("checked",!0)},_foldLnb:function(e,t){var n=e instanceof $.Event?$(e.currentTarget).closest("section.lnb"):$(e),r=n.data("type"),i=typeof t=="undefined"?!0:t,s=i?"slideUp":"hide";n.find("ul.side_depth").is(":visible")&&$.prototype[s].call(n.find("ul.side_depth"),"fast",$.proxy(function(){this._setScrollForFeeds(),f.saveSideFoldState(r,!0),n.find(".ic_hide_up").attr("title",h["\ud3bc\uce58\uae30"])},this)),n.find("h1").addClass("folded")},_unfoldLnb:function(e,t){var n=e instanceof $.Event?$(e.currentTarget).closest("section.lnb"):$(e),r=n.data("type"),i=typeof t=="undefined"?!0:t,s=i?"slideDown":"show";n.find("ul.side_depth").is(":hidden")&&$.prototype[s].call(n.find("ul.side_depth"),"fast",$.proxy(function(){this._setScrollForFeeds(),f.saveSideFoldState(r,!1),n.find(".ic_hide_up").attr("title",h["\uc811\uae30"])},this)),n.find("h1").removeClass("folded")},_toggleCheckAllFeeds:function(e){var t,n;$(e.currentTarget).is(":checked")?(t=this._checkAllFeed(),n="show"):(t=this._uncheckAllFeed(),n="hide"),this._saveCheckedCalendar(),this.checkedCals=f.getSavedSelectedCalendar(),D(n,t)},_checkAllFeed:function(){var e=[];return $("#feed-list").find("input[type=checkbox][name=calendar_id]:not(:checked, :disabled)").each(function(t,n){e.push(P(this,!0))}),e},_uncheckAllFeed:function(){var e=[];return $("#feed-list").find("input[type=checkbox][name=calendar_id]:checked").each(function(t,n){e.push(P(this,!1))}),e},_setScrollForFeeds:function(){return setTimeout(function(){var e=$("#feed-list").outerHeight();if(S()){var n=$(window).height(),r=t.isAdvancedTheme()?0:$("header.go_header").outerHeight(),i=t.isAdvancedTheme()?0:85,s=n-r-i;$("#side > section:not([id='feed-list'])").each(function(){s-=$(this).outerHeight()}),H(s)}else H(e)},300),this},_getCalendarOrFeedId:function(e){return $(e).parent().parent().parent().attr("data-id")},_getCalendarIdFromCheckbox:function(e){return $(e).parent().parent().find("input[name='calendar_id']").val()}});return E})}.call(this),function(){define("calendar/views/layouts/default",["jquery","hogan","app","calendar/collections/calendars","calendar/collections/calendar_feeds","views/layouts/default","calendar/views/content_top","calendar/views/side","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f){function p(t){var n=e.Deferred(),i;return i=r.create(),i.setUserId(t),i.fetch({success:n.resolve,error:n.reject}),n}function d(t){var n=e.Deferred(),r;return r=i.create(),r.setUserId(t),r.fetch({success:n.resolve,error:n.reject}),n}var l=s.prototype,c=n.session("id"),h=s.extend({initialize:function(){console.log("CalendarDefaultLayout#initialize"),l.initialize.apply(this,arguments)},render:function(){var t=this,n=e.Deferred();return p(c).then(function(e){return t.calendars=e,d(c)}).then(function(e){return t.feeds=e,t.appName="calendar",l.render.apply(t)}).then(function(){this.contentTopView=new o,t._renderSide(),t._renderContentTop(),n.resolveWith(t,[t])}),n},setTitle:function(e){if(this.contentTopView===null)throw new Error("contentTopView \uac1d\uccb4\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");return this.contentTopView.setTitle(e),this},_renderContentTop:function(){return this.contentTopView.render(),this.getContentElement().empty().append(this.contentTopView.el),this},_renderSide:function(){return console.log("[CalendarDefaultLayout#_renderSide] called."),this.sideView=new u({el:this.getSideElement(),calendars:this.calendars,feeds:this.feeds}),this.sideView.render(),this},getContentElement:function(){return this.$el.find(".go_content")},getContentTopElement:function(){return this.contentTopView.$el},getSideElement:function(){return this.$el.find("#side")}},{__instance__:null});return h})}.call(this),function(){define("calendar/views/layouts/fixed_size",["jquery","underscore","app","calendar/collections/calendars","calendar/collections/calendar_feeds","calendar/views/layouts/default","calendar/libs/util","i18n!nls/commons","i18n!calendar/nls/calendar","go-ignoreduplicatemethod","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f){function h(){var e=[];return e.push("<span>",a["\uc77c\uc815\ubaa9\ub85d"],"</span>"),e.push('<ul id="calendar-tag-base" class="name_tag calendar_tag"></ul>'),e.join("")}function p(t){var r=e("#calendar-tag-base"),i=e("#side input[name=calendar_id]:checked");r.empty(),e(".layer_name_tag").remove();if(t){var s=t.type;s==="user"?r.append(d(t.name,"user",t.userid)):v(r,s,t.name,t.id)}else if(i.length>1){var o=n.i18n(a["\uce98\ub9b0\ub354 \ud0c0\uc774\ud2c0 \uc120\ud0dd \uce98\ub9b0\ub354 \uba54\uc2dc\uc9c0"],{count:i.length});r.append(d(o))}else i.length===1&&e("#side input[name=calendar_id]:checked").each(function(t,n){var i=e(n);v(r,i.data("type"),i.data("name"),i.data("feedid"))})}function d(e,t,n){var r=[];return t=t||"my",r.push('<li class="default_option">'),r.push('<span class="name">'),r.push(e),r.push("</span>"),r.push("</li>"),r.push('<li class="desc">'),r.push('<span class="btn_wrap">'),r.push('<span class="ic_classic ic_open" title="'+u["\uc790\uc138\ud788 \ubcf4\uae30"]+'" data-type="'+t+'"'+(n?' data-userid="'+n+'"':"")+"></span>"),r.push("</span>"),r.push("</li>"),r.join("\n")}function v(t,n,r,s){require(["hgn!calendar/templates/_calendar_tag"],function(o){var u=n==="my",f=n==="feed",l=n==="user",c={calendar_name:r,"show_star?":l||f,"follower?":f,title_attr:f?a["\uad00\uc2ec \uce98\ub9b0\ub354 \ud574\uc81c"]:a["\uad00\uc2ec \uce98\ub9b0\ub354 \ucd94\uac00"],data_id:s};if(l){var h=i.getInstance(),p=h.isFollowing(s);c["follower?"]=p,c.data_id=p?h.findByCalendarId(s)[0].id:s}e(o(c)).addClass(function(){var e=[];return u&&e.push("default_option"),e.join(" ")}).appendTo(t)})}function m(t){t.off(".calendarAppView"),e(document).off(".calendarAppView"),t.on("click.calendarAppView","#calendar-tag-base .ic_open",function(t){var n=e(t.currentTarget),i=n.data("type"),s;s=g();if(i==="user"){var o=new r,u=n.data("userid");o.setUserId(u),o.fetch({success:function(e){e.each(function(e){if(e.isMyCalendar()){var t=e.get("name");e.isProtected()&&(t+="("+a["\uc218\ub77d \ud6c4 \uacf5\uac1c"]+")"),v(s.find(".calendar_tag"),i,t,e.id)}})}})}else{var f=e("#side input[name=calendar_id]:checked");f.each(function(t,n){var r=e(n);v(s.find(".calendar_tag"),r.data("type"),r.data("name"),r.data("feedid"))})}e(".content_page").append(s),s.show(),e(t.currentTarget).removeClass("ic_open").addClass("ic_close")}),t.on("click.calendarAppView",".layer_name_tag .btn_layer_x, #calendar-tag-base .ic_close",function(){e(".layer_name_tag").remove(),e("#calendar-tag-base .ic_close").removeClass("ic_close").addClass("ic_open")}),t.on("click.calendarAppView",".calendar_star",function(){}),e(document).on("show:calendar.calendarAppView",function(){p()}),e(document).on("hide:calendar.calendarAppView",function(){p()})}function g(){e(".layer_name_tag").remove();var t=[],n;return t.push('<div class="layer_slide layer_name_tag" style="top:-8px; left:-1px;">'),t.push("<header></header>"),t.push('<a class="btn_layer_x" title="'+u["\ub2eb\uae30"]+'">'),t.push('<span class="ic"></span><span class="txt">'+u["\ub2eb\uae30"]+"</span>"),t.push("</a>"),t.push("</header>"),t.push('<ul class="name_tag calendar_tag">'),t.push("</ul>"),t.push("</div>"),n=e(t.join("\n")).hide(),n}var l=s.prototype,c=s.extend({events:t.extend({"click ins.calendar_star":"_editFeed"},l.events),initialize:function(){console.log("CalendarFixedSizeLayout#initialize"),l.initialize.apply(this,arguments)},render:function(){var t=this,n=e.Deferred();return l.render.apply(this).done(function(e){t.$el.find("#content").css("padding-bottom","0px").addClass("go_calendar_list go_renew"),t._bindWindowResize(),this.setTitle(h()),n.resolveWith(t,[t])}),n},delegateEvents:function(e){this.undelegateEvents(),l.delegateEvents.call(this,e)},undelegateEvents:function(){l.undelegateEvents.call(this),e(document).off(".fixedsize-layout")},resizeContentHeight:function(){var t=this.$el.find(".go_body"),r=e(window).height(),i=parseInt(t.css("min-height")),s=this.getContentTopElement().outerHeight(),o=3;s+=this.$el.find(".tool_bar").outerHeight(),n.isAdvancedTheme()||this.$el.find(".go_wrap").children(":not(.go_body)").each(function(t,n){r-=e(n).outerHeight()}),r=Math.max(i,r),this.$el.find(".go_body").height(r),this.$el.find("#content").height(r),this.$el.find(".content_page").height(r-s-o)},getContentPageHeight:function(){return this.$el.find(".content_page").height()},_bindWindowResize:function(){var t=this,n=new f;e(window).on("resize.fixedsize-layout",function(r){if(!e.isWindow(r.target))return;n.bind(function(){t.resizeContentHeight(),t.triggerResizeEvent()})})},triggerResizeEvent:function(){this.trigger("resize:content",this.getContentPageHeight(),this)},setCaledarTags:function(e){p(e),m(this.getContentElement()),e&&e.type==="user"&&this.$el.find("#calendar-tag-base .ic_open").trigger("click")},_editFeed:function(t){var n=e(t.currentTarget);return n.hasClass("ic_star_off")?this._addFeed(t):this._removeFeed(t),this},_addFeed:function(t){var r=this,i=e(t.currentTarget),s=i.attr("data-id");return Backbone.ajax(this._getCreateFeedUrl(s),{type:"POST"}).done(function(t){e.goPopup(
{title:a["\uad00\uc2ec \uce98\ub9b0\ub354\ub85c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"],message:"",modal:!0,buttons:[{btext:u["\ud655\uc778"],btype:"confirm"}],closeCallback:function(){r._updateCookieForCal(s),n.router.navigate("calendar",{trigger:!0,pushState:!0})}})}),this},_removeFeed:function(t){var r=this,s=e(t.currentTarget),o=s.attr("data-id"),u=i.getInstance().get(o);return e.goConfirm(a["\uad00\uc2ec \uce98\ub9b0\ub354 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],a["\uad00\uc2ec \uce98\ub9b0\ub354 \ud574\uc81c \uc54c\ub9bc \uba54\uc2dc\uc9c0"],function(){var e=n.config("contextRoot")+"api/calendar/feed/"+o;Backbone.ajax(e,{type:"DELETE"}).done(function(){r._removeSavedCalendars(u.getCalendarId()),u.isPrivate()?n.router.navigate("calendar",{trigger:!0,pushState:!1}):location.reload()})}),this},_updateCookieForCal:function(e){var n=o.getSavedSelectedCalendar().split(",");return n.push(e),o.saveCheckedCalendar(t.uniq(n)),this},_removeSavedCalendars:function(e){var n=o.getSavedSelectedCalendar().split(","),r;return t.isArray(e)||(e=[e]),e=t.map(e,function(e){return""+e}),r=t.difference(n,e||[]),o.saveCheckedCalendar(t.uniq(r)),this},_getCreateFeedUrl:function(e){return n.config("contextRoot")+"api/calendar/feed?calendarId="+e}},{__instance__:null});return c})}.call(this),function(){define("calendar/models/event",["underscore","app","calendar/collections/calendars","i18n!calendar/nls/calendar","calendar/libs/util"],function(e,t,n,r,i){var s=500,o=500,u=4e3,a=t.BaseModel.extend({recurChangeType:null,originCalendarId:null,url:function(){var e=this.originCalendarId||this.get("calendarId");return["/api/calendar/",e,"/event/",this.id,this.isMove?"/move":"",this.recurChangeType?"?"+$.param({recurChangeType:this.recurChangeType}):""].join("")},initialize:function(e,t){e&&e.hasOwnProperty("calendarId")&&(this.originCalendarId=e.calendarId),this.recurChangeType=null},validate:function(n){var i=!1,u="error:validate",a=e.filter(n.attendees,function(t){return!e.isUndefined(t.id)});if(!n.summary)this.trigger(u,this,"required:summary",r["\uc77c\uc815\uba85\uc744 \uc785\ub825\ud558\uc138\uc694"]);else if(!n.calendarId)this.trigger(u,this,"required:calendarId",r["\uce98\ub9b0\ub354 \ubbf8\uc120\ud0dd \uba54\uc2dc\uc9c0"]);else if(n.summary.length>s)this.trigger(u,this,"max:summary",t.i18n(r["\uc77c\uc815\uba85\uc740 {{max}}\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574 \uc8fc\uc2ed\uc2dc\uc624"],"max",s));else if(!n.startTime)this.trigger(u,this,"required:startTime",r["\uc2dc\uc791\uc77c\uc790\ub97c \uc785\ub825\ud574 \uc8fc\uc2ed\uc2dc\uc624"]);else if(!n.endTime)this.trigger(u,this,"required:startTime",r["\uc885\ub8cc\uc77c\uc790\ub97c \uc785\ub825\ud574 \uc8fc\uc2ed\uc2dc\uc624"]);else if(n.location&&n.location.length>o)this.trigger(u,this,"max:location",t.i18n(r["\uc7a5\uc18c\ub294 {{max}}\uc790\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4"],"max",o));else if(n.type==="normal"&&(n.attendees&&n.attendees.length<=0||e.isEmpty(a)))this.isNew()?this.trigger(u,this,"required:attendees",r["\ucc38\uc11d\uc790\ub97c \uc9c0\uc815\ud574 \uc8fc\uc2ed\uc2dc\uc624"]):i=!0;else if(n.reminders){for(var f=0,l=n.reminders.length;f<l;f++){var c=n.reminders[f],h=c.time,p=parseInt(h);if(!/^[\-\+]?[\d\,]*\.?[\d]*$/.test(h))return this.trigger(u,this,"numeric:reminder_time",r["\ubbf8\ub9ac\uc54c\ub9bc \uac12\uc740 \uc22b\uc790\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4"],f),!0;if(p<0)return this.trigger(u,this,"min:reminder_time",r["\ubbf8\ub9ac\uc54c\ub9bc \uac12\uc740 \ucd5c\uc18c 0\uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4"],f),!0;if(p>1e4)return this.trigger(u,this,"max:reminder_time",t.i18n(r["\ubbf8\ub9ac\uc54c\ub9bc \uac12\uc740 \ucd5c\ub300 {{max}}\uc774\ud558\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4"],"max",1e4),f),!0}i=!0}else i=!0;return!i},parse:function(e,r){var s=t.BaseModel.prototype.parse.call(this,e,r);return i.parseEventModel(s,n.isCalendarManager())},isCreator:function(e){return this.get("creator").id===e},isCompanyEvent:function(){return this.get("type")==="company"},isNormalEvent:function(){return this.get("type")==="normal"},isHolidayEvent:function(){return this.get("type")==="holiday"},isRecurrence:function(){return!!this.get("recurrence")},isEmptyAttendees:function(){return!(this.get("attendees").length>0)},isIncludedAttendee:function(t){return e.where(this.get("attendees"),{id:parseInt(t)}).length>0},setRecurChangeType:function(e){this.recurChangeType=e},isAllday:function(){return this.get("timeType")==="allday"},isPublic:function(){return this.get("visibility")==="public"},isPrivate:function(){return this.get("visibility")==="private"},isTimed:function(){return this.get("timeType")==="timed"},hasPermission:function(e){var t=!1;return this.isCompanyEvent()||this.isHolidayEvent()?t=!1:this.isCreator(e)?t=!0:this.isIncludedAttendee(e)&&(t=!0),t},getExternalAttendees:function(){return e.filter(this.get("attendees"),function(t){return e.isUndefined(t.id)})},hasExternalAttendees:function(){return this.getExternalAttendees().length>0},isAlone:function(){var e=this.get("attendees");return e&&e.length-this.getExternalAttendees().length==1&&e[0].id==t.session().id}});return a})}.call(this),function(){define("calendar/collections/events",["jquery","underscore","backbone","moment","app","calendar/models/event"],function(e,t,n,r,i,s){var o="YYYY-MM-DDThh:mm:ssZZ",u,a=i.BaseCollection.prototype,f=Array.prototype.slice,l=i.util.toMoment,c=i.util.now(),h=c.clone().startOf("day").format(o),p=c.clone().endOf("day").format(o);return u=i.BaseCollection.extend({model:s,calendarId:-1,conditions:{timeMin:h,timeMax:p,maxResult:1e3},initialize:function(){this.__dateslots__=[],this.resetConditions()},url:function(){if(!this.isValidBoundary())throw new Error("Invalid boundary conditions.");return"/api/calendar/"+this.calendarId+"/event?"+e.param(this.conditions)},getCalendarId:function(){return this.calendarId},setCalendarId:function(e){if(e<0)throw new Error("Invalid Calendar ID");return this.calendarId=e,this},setBoundaryTime:function(e,t){return this.setTimeMin(e),this.setTimeMax(t),this},setTimeMin:function(e){return this.conditions.timeMin=l(e).format(o),this},setTimeMax:function(e){return this.conditions.timeMax=l(e).format(o),this},setMaxResult:function(e){return this.conditions.maxResult=e,this},isValidBoundary:function(){var e=!0;return this.calendarId<0&&(e&=!1),l(this.conditions.timeMin).diff(l(this.conditions.timeMax),"seconds")>0&&(e&=!1),e},isInBoundary:function(e,t){var n=l(e),r=l(t),i=l(this.conditions.timeMin),s=l(this.conditions.timeMax),o=!0;return o&=!(Math.floor(n.diff(i,"seconds",!0))<0),o&=!(Math.floor(r.diff(s,"seconds",!0))>0),o},resetConditions:function(){this.calendarId=-1,this.__needFetch__=!1,this.conditions={timeMin:h,timeMax:p,maxResult:1e3}}},{__instance__:null}),u})}.call(this),function(){define("calendar/collections/events_pool",["jquery","underscore","app","calendar/collections/calendars","calendar/collections/events","calendar/libs/util"],function(e,t,n,r,i,s){function f(e){var r=n.session("id"),i=!1;return e.type==="company"||e.type==="holiday"?i=!1:e.creator.id===r?i=!0:t.where(e.attendees,{id:r}).length>0&&(i=!0),e.summary=n.util.XSSFilter(e.summary),e.location=n.util.XSSFilter(e.location),e.description=n.util.XSSFilter(e.description),e.htmlLink=n.util.XSSFilter(e.htmlLink),e.auth=i,e}var o=Array.prototype.slice,u="YYYY-MM-DDTHH:mm:ss.SSSZ",a=function(){var a=function(){this.timeMin=null,this.timeMax=null,this.maxResult=1e3,this.isMyCalSelected=!1,this.isCached=!1,this.includingAttendees=!0,this.__collections__={},this.__updateStatus__={},this.isFetching=!1,this.fetching=e.Deferred()};return a.prototype={getCollections:function(){return this.__collections__},setTimeMin:function(e){return this.timeMin=n.util.toMoment(e).format(u),this},setTimeMax:function(e){return this.timeMax=n.util.toMoment(e).format(u),this},setBoundaryTime:function(e,t){return this.setTimeMin(e),this.setTimeMax(t),this.isCached=!1,this},setIncludingAttendees:function(e){this.includingAttendees=e},setMaxResult:function(e){return this.maxResult=e,this},contains:function(e){return t.has(this.__collections__,e)},findEvent:function(e,t){if(!this.contains(e))throw new Error("\uce98\ub9b0\ub354\uac00 \ud480\uc5d0 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");return this.__collections__[e].get(t)},addEvent:function(e){var t=this.__collections__[e.get("calendarId")];return t.add(e),this},add:function(e){if(this._isInstanceOf(e))this.__collections__[collection.getCalendarId()]=e;else{var t=new i;t.setCalendarId(e),this.__collections__[e]=t}return this},show:function(e){return this.__collections__[e].isHide=!1,this},hide:function(e){return this.__collections__[e].isHide=!0,this},remove:function(e){var t=e;return this._isInstanceOf(e)&&(t=e.getCalendarId()),delete this.__collections__[t],this},clear:function(){return this.__collections__=null,this.__collections__={},this},updateCalendar:function(e){var t=o.call(arguments,1);return this.contains(e)&&this.__collections__[e].map(function(e,n){e.set.apply(e,t)}),this},updateEvents:function(e){var n=o.call(arguments,1);t.map(this.__collections__,function(t,r){var i=t.get(e);i&&i.set.apply(i,n)})},fetch:function(){var o=this;o.fetching=e.Deferred(),this.isFetching=!0;var u=t.keys(o.__collections__);return t.each(u,function(e,t){e===""&&u.splice(t,1)}),e.ajax(n.config("contextRoot")+"api/calendar/event",{type:"GET",data:{timeMin:this.timeMin,timeMax:this.timeMax,includingAttendees:this.includingAttendees,calendarIds:u},beforeSend:function(){o.fetching.notify()}}).done(function(e){if(!e.__go_checksum__)throw o.fetching.reject(),new Error("\uc798\ubabb\ub41c \uc751\ub2f5\uc785\ub2c8\ub2e4");e.code==="200"&&t.each(e.data,function(e){var t;this.contains(e.calendarId)||(t=new i,t.setCalendarId(e.calendarId),this.add(t)),t=this.__collections__[e.calendarId],t.add(s.parseEventModel(e,r.isCalendarManager()),{merge:!0})},o),o.isCached=!0,o.isFetching=!1,o.fetching.resolveWith(o,[o])}).fail(function(){o.isFetching=!1,o.fetching.rejectWith(o,[o])}),o.fetching},merge:function(){var e={},i=[],s=r.getMyCalendars();return t.each(this.__collections__,function(e,n){var r=e.isHide?[]:e.toJSON();i=t.union(i,r)}),t.each(i,function(r,i){var o=r.id;if(t.has(e,o)){var u=e[o],a=u.__merged__||{include_me:!1},f=t.filter(s,function(e){return e.id===r.calendarId||e.id===u.calendarId}),l=f.length>0;l&&(t.extend(a,{include_me:t.where(r.attendees,{id:n.session("id")}).length>0,color:f[0].get("color")}),r.calendarOwnerId===n.session("id")&&(e[o].calendarId=r.calendarId)),e[o].__merged__=a}else e[r.id]=r}),t.values(e)},setMyCalSelected:function(e){this.isMyCalSelected=e},_afterFetchSuccess:function(e,n){return this.__updateStatus__[e.getCalendarId()]=!0,t.without(this.__updateStatus__,!0).length===0&&(this.__updateStatus__={},n.resolveWith(this,[this])),this},_isInstanceOf:function(e){return e instanceof i}},a}();return a})}.call(this),function(){define("calendar/views/calendar",["jquery","underscore","backbone","calendar/collections/events_pool","calendar/libs/util","jquery.go-preloader"],function(e,t,n,r,i){var s=new r,o=new r,u=new r,a=n.View.extend({tagName:"div",id:"calendar-viewport",eventsPool:s,beforePool:o,afterPool:u,initialize:function(){this._registCalViewRef()},release:function(){this.undelegateEvents(),this.remove()},addCalendar:function(e){return this.beforePool.add(e),this.eventsPool.add(e),this.afterPool.add(e),this},clearCalendars:function(){return this.beforePool.clear(),this.eventsPool.clear(),this.afterPool.clear(),this},beforeSideSelect:function(){var e=i.getSavedSelectedCalendar().split(",");t.each(t.keys(this.eventsPool.getCollections()),function(n){t.contains(e,n)||this.eventsPool.remove(n)},this)},hasAuth:function(){return!0},changeDate:function(e){},resize:function(e){},changeType:function(e){return this},_registCalViewRef:function(){var e="GO_ref_calendar_view";if(!this.name)throw new Error("name \uc18d\uc131\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");window[e]||(window[e]=this),window[e].name!==this.name&&(window[e].release(),window[e]=this)},showCalendar:function(n){var r=e.Deferred(),i=t.isArray(n)?n:[n],s=!1;return t.each(i,function(e,t){this.eventsPool.contains(e.id)?this.eventsPool.show(e.id):(this.beforeSideSelect(),this.eventsPool.isCached=!1,this.eventsPool.add(e.id),this.beforePool.add(e.id),this.afterPool.add(e.id),s=!0)},this),s&&r.notify(),r.resolve(),r},hideCalendar:function(n){var r=e.Deferred(),i=t.isArray(n)?n:[n],s=!1;return t.each(i,function(e,t){this.eventsPool.contains(e.id)&&(this.eventsPool.remove(e.id),this.beforePool.remove(e.id),this.afterPool.remove(e.id),s=!0)},this),s&&r.notify(this),r.resolve(this),r},getCalendarEvent:function(t,n,r){this.eventsPool.setBoundaryTime(t,n),this.eventsPool.setIncludingAttendees(!0);var i=this.eventsPool.fetch();this.eventsPool.setIncludingAttendees(!1);var s=e.goPreloader();return i.progress(function(){s.render()}),i.always(function(){s.release()}),i},getCalendarEvents:function(t,n,r){var i=this._isContained(t,n),s=this._getBoundaryDate(),o=e.Deferred();if(i&&this.eventsPool.isCached&&!r)o.resolve(this.eventsPool);else if(this.eventsPool.isCached&&!r){var u=this._makeNewPool();this._outOfBoundary(t,n)?this._renewalPools(t,n):this._isMoveForward(t)?(this.afterPool=this.eventsPool,this.eventsPool=this.beforePool,this.beforePool=u,this.beforePool.setBoundaryTime(s.beforeStartDate,s.beforeEndDate),this.beforePool.fetch()):(this.beforePool=this.eventsPool,this.eventsPool=this.afterPool,this.afterPool=u,this.afterPool.setBoundaryTime(s.afterStartDate,s.afterEndDate),this.afterPool.fetch()),this.eventsPool.isFetching?(GO.util.preloader(this.eventsPool.fetching),this.eventsPool.fetching.done(e.proxy(function(){o.resolve(this.eventsPool)},this))):o.resolve(this.eventsPool)}else this.beforePool.setBoundaryTime(s.beforeStartDate,s.beforeEndDate),this.afterPool.setBoundaryTime(s.afterStartDate,s.afterEndDate),this.eventsPool.setBoundaryTime(t,n),o=this.eventsPool.fetch(),this.beforePool.fetch(),this.afterPool.fetch(),GO.util.preloader(o);return o},_makeNewPool:function(){var e=new r;return t.each(this.eventsPool.getCollections(),function(t){e.add(t.calendarId)}),e},_outOfBoundary:function(e,t){var n=moment(this.beforePool.timeMin),r=moment(this.afterPool.timeMax);return e.isBefore(n)||t.isAfter(r)},_renewalPools:function(e,t){this.beforePool.setBoundaryTime(e.clone().add("months",-1),t.clone().add("months",-1)),this.eventsPool.setBoundaryTime(e,t),this.afterPool.setBoundaryTime(e.clone().add("months",1),t.clone().add("months",1)),this.beforePool.fetch(),this.eventsPool.fetch(),this.afterPool.fetch()},_isMoveForward:function(e){var t=moment(this.eventsPool.timeMin);return e-t<=0},_isContained:function(e,t){if(!this.eventsPool.timeMin||!this.eventsPool.timeMax)return!1;var n=moment(this.eventsPool.timeMin),r=moment(this.eventsPool.timeMax);return e-n>=0&&t-r<=0}});return a})}.call(this),function(e,t,n,r,i,s){var o=t(),u=typeof define=="function"&&define.amd,a=typeof module!="undefined"&&module.exports;if(u)define("go-calendar",o);else if(a)module.exports=o;else{var f=null,l=e.split("."),c=this;for(var h=0,p=l.length;h<p;h++){var d=l[h];f&&h==p-1?f[d]=o:typeof c[d]=="undefined"&&(c[d]={}),f=c[d]}}}("GO.Calendar",function(){function i(){return!!window.Backbone&&GO.hasOwnProperty("router")}var e,t,n,r=window.$||jQuery;return e=function(){var e=Array.prototype.slice;return{fixedUrl:function(e){return e.replace("//","/")},fixLocaleCode:function(e){return e==="jp"?"ja":e},navigate:function(e,t,n){n=n||"/";var s=r.extend({},{trigger:!0,replace:!1},t||{});i()?GO.router.navigate(e,s):window.opener?s.replace?location.replace(e):location.assign(e):s.replace?window.top.window.location.replace(e):window.top.window.location.assign(e)},isSupportHistoryAPI:function(){return!!window.history&&!!history.pushState},hourMinute:function(e,t){return this.formatDatetime(e,t,"HH:mm")},formatDatetime:function(e,t,n){return this.toMoment(e).format(n)},toMoment:function(){var t=e.call(arguments),n=t[0];if(!moment.isMoment(n)){if(!moment.apply(moment,t).isValid())throw new Error("Invalid Date Format");n=moment.apply(moment,t)}return n},isSameDate:function(e,t){var n=this.toMoment(e).clone().startOf("days"),r=this.toMoment(t).clone().startOf("days");return Math.floor(n.diff(r))===0}}}(),t=function(){function t(t){this.languages=_.defaults(t||{},e)}var e={"\ub0b4 \uce98\ub9b0\ub354":"\ub0b4 \uce98\ub9b0\ub354","\uc77c\uc815 \ub4f1\ub85d":"\uc77c\uc815 \ub4f1\ub85d","\uc77c\uc815\uba85":"\uc77c\uc815\uba85","\uc77c\uc2dc":"\uc77c\uc2dc","\uc2dc\uac04":"\uc2dc\uac04","\ubd84":"\ubd84","\uc885\uc77c":"\uc885\uc77c","\ud655\uc778":"\ud655\uc778","\ucde8\uc18c":"\ucde8\uc18c","\uc77c\uc815\uc0c1\uc138 \uc785\ub825":"\uc77c\uc815\uc0c1\uc138 \uc785\ub825","\uae30\ubcf8 \uce98\ub9b0\ub354 \uc774\ub984":"{{username}}\uc758 \uc77c\uc815","\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc":"(\uae30\ubcf8)","\uc7a5\uc18c":"\uc7a5\uc18c","\uc804\uc0ac\uc77c\uc815":"\uc804\uc0ac\uc77c\uc815","\uc54c\ub9bc\uba54\uc77c \ud655\uc778":"\uc54c\ub9bc\uba54\uc77c \ud655\uc778","\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ubcf4\ub0b4\uae30":"\ubcf4\ub0b4\uae30","\ubcf4\ub0b4\uc9c0 \uc54a\uc74c":"\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"};return t.prototype.set=function(e,t){r.isPlainObject(e)?r.extend(!0,this.languages,e):this.languages[e]=t},t.prototype.get=function(e){return _.isUndefined(e)?this.languages:this.languages[e]},t}(),n=function(e,t){function h(e){s=moment(),this.options=e,this.contextRoot=e.contextRoot||"/",this.session=e.session||{},this.calendarId=e.calendarId,this.location=e.location||"",this.summary=e.summary||"",this.timeType=e.timeType||"timed",this.type=e.type||"normal",this.visibility=e.visibility||"public",this.startDate=e.startDate||s.format(u),this.endDate=e.endDate||this.startDate,this.startTime=e.startTime||Q().format(a),this.endTime=e.endTime||Q().add("hours",1).format(a),this.afterAddEvent=e.afterAddEvent||function(){},this.onCreateError=e.onCreateError||function(){},this.modal=e.modal||!1,this.width=e.width||f,e.returnType=="related"?this.returnType=!1:this.returnType=!0,this._sdate=moment(this.startDate+"T"+this.startTime+":00"),this._edate=moment(this.endDate+"T"+this.endTime+":00"),this.lang=new t(e.lang||{}),this.afterChangeCallbacks=r.Callbacks(),this.el=e.el,this.submitFlag=!1,this.changeEvent=e.changeEvent}function p(e){var t=this,n=this.contextRoot+"api/calendar/user/"+this.session.id+"/calendar";r.ajax(n).then(function(n){var i=[],s=[],o=_.filter(n.data||[],function(e){return e.type==="normal"}),u=_.filter(n.data||[],function(e){return e.type==="company"&&e.permission==1});u.length>0&&(r(e).find("#company_calendar").closest("tr").show(),_.each(u,function(e,t){s.push('<option value="',e.id,'">',e.name,"</option>")},t),r(e).find("select[name=companyId]").empty().append(s.join(""))),_.each(o,function(e,t){i.push('<option value="',e.id,'"',e.defaultCalendar?"selected":"",">",e.defaultCalendar?this.lang.get("\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc"):"",e.name||d.call(this,e.owner.name),"</option>")},t),t.type&&t.type=="company"&&r(e).find("input[name=companyType]").click(),r(e).find("select[name=calendarId]").empty().append(i.join("")),t.calendarId&&r(e).find("select[name=calendarId]").val(t.calendarId),t.timeType=="allday"&&r(e).find("input[name=timeType]").click()}).always(function(){t.preloader&&t.preloader.release()})}function d(e){var t=this.lang.get("\uae30\ubcf8 \uce98\ub9b0\ub354 \uc774\ub984");return t.replace(/\{\{username\}\}/,e),t}function v(e){e.find("#startDate").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",onClose:_.bind(function(e){g.call(this,e),this.el.trigger("calendarDate:change")},this)}),e.find("#endDate").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,yearSuffix:"",onClose:_.bind(function(e){y.call(this,e),this.el.trigger("calendarDate:change")},this),minDate:this.startDate})}function m(){var e=r("#startDate").val(),t=r("#endDate").length?r("#endDate").val():r("#startDate").val(),n=r("#startDate").attr("data-prev"),i="",s=null;if(t){var a=moment(e+" "+r("#startTime").val(),o),f=moment(n+" "+r("#startTime").attr("data-prev"),o),l=moment(t+" "+r("#endTime").val(),o),h=l.diff(f,"minutes");h<c?(s=a.clone().add("minutes",h),i=s.format(u)):i=moment(t).format(u)}else i=moment(e).format(u);return r(this.el).find("#endDate").datepicker("setDate",i),r("#endTimeList").empty(),E.call(this,this.el,s),r(this.el).find("#endDate").datepicker("option","minDate",e),et.call(this,r("#endDate").val()),this}function g(e){var t={isDateDiff:r("#endDate").val()!==r("#startDate").val(),prevStartDate:this.startDate,prevEndDate:this.endDate};Z.call(this,r("#startDate").val()),m.call(this),this.afterChangeCallbacks.fire(),this.changeEvent&&this.changeEvent(t)}function y(e){var t={isDateDiff:r("#endDate").val()!==r("#startDate").val(),prevStartDate:this.startDate,prevEndDate:this.endDate},n=moment(e+" "+this.endTime,o);r("#startTimeList").empty(),r("#endTimeList").empty(),E.call(this,this.el,n);if(j()){G.call(this),this.afterChangeCallbacks.fire();return}et.call(this,e),this.afterChangeCallbacks.fire(),this.changeEvent&&this.changeEvent(t)}function b(e){var t=r.Deferred(),n,i=[];return this.returnType?i=[z.call(this),W.call(this),{btext:this.lang.get("\ucde8\uc18c"),btype:"cancel"}]:i=[W.call(this),{btext:this.lang.get("\ucde8\uc18c"),btype:"cancel"}],n={header:this.lang.get("\uc77c\uc815 \ub4f1\ub85d"),modal:this.modal,width:this.width,contents:K.call(this),buttons:i,closeCallback:function(e){r(".ui-droppable").removeClass("conti_schedule")}},!this.modal&&this.options.hasOwnProperty("offset")&&(n.offset=this.options.offset),this.el=r.goPopup(n),t.resolve(w(this.el)),t}function w(e){var t=e.offset(),n=e.outerWidth(),i=e.outerHeight(),s=t.left+n,o=t.top+i,u=r(window).width(),a=r(window).height();return s>u&&e.css("left",u-n-10),o>a&&e.css("top",a-i-10),e}function E(e){r(e).find("#startTimeList").empty().append(I.call(this,this.startTime)).end().find("#endTimeList").empty().append(q.call(this,this.startTime)).end(),r(e).find("#startTime").val(this.startTime),r(e).find("#endTime").val(this.endTime)}function S(e){r(e).on("submit","form[name=f_regist_event]",_.bind(M,this)).on("click",'input[name="timeType"]',_.bind(D,this)).on("click",'input[name="companyType"]',_.bind(P,this)).on("click","#startTime",_.bind(k,this)).on("click","#endTime",_.bind(k,this)).on("click","#startTimeList li",_.bind(L,this)).on("click","#endTimeList li",_.bind(L,this)).on("keydown","#startTime",_.bind(N,this)).on("keydown","#endTime",_.bind(N,this)).on("change","#startTime",_.bind(H,this)).on("change","#endTime",_.bind(B,this));var t={start:"end",end:"start"};r(document).off("click.outside-calendar"),r(document).on("click.outside-calendar",function(e){var n=r(e.target).attr("data-outside");n==undefined?(x(),C()):C(t[n])})}function x(){var e=r("#startTime"),t=r("#endTime");e.val(A(e.val())),t.val(A(t.val()))}function T(e){return parseInt(e.split(":").join(""))}function N(e){if(e.keyCode&&e.keyCode!=13)return;e.preventDefault();var t=O(e),n=r(e.currentTarget),i=n.val();r("#"+t+"TimeList").hide(),n.val(A(i)),n.attr("data-prev",A(i)),n.trigger("change")}function C(e){e?r("#"+e+"TimeList").hide():(r("#startTimeList").hide(),r("#endTimeList").hide())}function k(e){var t=O(e),n=r("#"+t+"TimeList"),i=r("#"+t+"Time");n.show();if(t=="start"){n.scrollTop(0);var s=n.find("li[data-value='"+i.val()+"']").position(),o=s?s.top:0;n.scrollTop(o)}}function L(e){var t=r(e.currentTarget),n=t.parent().attr("data-type"),i=t.text(),s=r("#"+n+"Time");r("#"+n+"TimeList").hide(),s.val(A(i)),s.attr("data-prev",A(i)),s.trigger("change")}function A(t){if(!t)return"";var n=/[^(0-9)]/gi;t=t.replace(n,""),t=t.substr(0,4);var r=t.substr(0,1);parseInt(r)>2&&(t="0"+t.substr(0,3));var i=t,s=i.substr(0,2),o=i.substr(2,2);o.length==0&&(o="00"),o.length==1&&(o="0"+o);var u=parseInt(s)<=23&&parseInt(s)>=0&&parseInt(o)<=59&&parseInt(o)>=0;return u?i=s+":"+o:i=e.hourMinute(),i}function O(e){var t=r(e.currentTarget),n=t.attr("id")=="startTime"?"start":"end";return n}function M(e){e.preventDefault()}function D(e){var t=r(e.delegateTarget).find(".wrap-selecttime");r(e.currentTarget).is(":checked")?t.hide():t.show()}function P(e){var t=r(e.delegateTarget).find("#compnay_event_list"),n=r(e.delegateTarget).find("#my_calendar").closest("tr");r(e.currentTarget).is(":checked")?(t.show(),n.hide()):(t.hide(),n.show())}function H(e){var t=A(r("#startTime").val()),n=moment(this._sdate.format("YYYY-MM-DDT")+t+":00"),i=this._edate.diff(this._sdate,"minutes",!0),s=moment(n).add("minutes",i);tt.call(this,t),r(e.delegateTarget).find("#startTimeList").empty().append(I.call(this,t)),r(e.delegateTarget).find("#endTimeList").empty().append(q.call(this,t)),r("#endTime").removeClass("error");var o=s.format("HH:mm"),u=r("#startDate").val(),a=r("#endDate").val();nt.call(this,o),u==a&&o<t&&et(s.format("YYYY-MM-DD")),this.afterChangeCallbacks.fire(),this.changeEvent&&this.changeEvent(!1)}function B(e){if(j()){G.call(this);return}nt.call(this,A(r("#endTime").val())),this.afterChangeCallbacks.fire(),this.changeEvent&&this.changeEvent(!1)}function j(){var e=r("#startDate").val(),t=r("#endDate").val()||e,n=r("#startTime").val(),i=r("#endTime").val(),s=A(n),o=A(i),u=moment(e+"T"+s+":00"),a=moment(t+"T"+o+":00");return u>a}function F(e,t){r.goError(t,e),e.addClass("enter error").focus()}function I(e){var t=30,n=moment().startOf("days"),r=60/t*24,i=[],s=0;typeof e=="string"&&(s=e.split(":")[1]),n.add("minutes",parseInt(s));for(var o=0;o<r;o++){var u=n.format("HH:mm");i.push('<li data-value="'+u+'">'+u+"</li>"),n.add("minutes",t)}return i.join("\n")}function q(t){var n=[],i=r("#startDate").val(),s=r("#startTime").val()||this.startTime,u=moment(i+" "+s,o),a=r("#endDate").length?r("#endDate").val():r("#startDate").val(),f=e.isSameDate(i,a),l=t,c=R.call(this,l);for(var h=0,p=c.length;h<p;h++){var d=c[h].time,v=moment(a+" "+d,o),m=Math.floor(v.diff(u,"hours",!0)*10)/10,g=null,y=!1;f&&m>=0&&m<1&&(g="("+m*60+this.lang.get("\ubd84")+")"),f&&m>=1&&(g="("+m+this.lang.get("\uc2dc\uac04")+")"),f&&m<0&&(y=!0);if(y)continue;var b=U().render({option_value:d,option_label:d,duration:g});n.push(b),l===d&&r("#endTime").val(l)}return n.join("\n")}function R(e){var t=s.startOf("days"),r=new Array(60/n*24),i=parseInt(e.split(":")[1])%30;t.add("minutes",parseInt(i));for(var o=0,u=r.length;o<u;o++)r[o]={time:t.format(a)},t.add("minutes",n);return _.where(r,{time:e}).length||(r.push({time:e}),r=_.sortBy(r,function(e){return parseInt((""+e.time).replace(":",""))})),r}function U(){var e=[];return e.push('<li data-value="{{option_label}}" data-outside><span class="txt" data-outside>'),e.push("{{option_label}}{{duration}}"),e.push("</span></li>"),Hogan.compile(e.join("\n"))}function z(){return{btext:this.lang.get("\uc77c\uc815\uc0c1\uc138 \uc785\ub825"),btype:"confirm",callback:_.bind(function(t){var n=[],r=t.find("input[name=timeType]:checked").val()||this.timeType,s=t.find('input[name="companyType"]:checked').val()||"public",o=t.find("input[name=summary]").val(),u=t.find("select[name=calendarId]").val(),a="calendar/regist",f=this._sdate,l=this._edate;i()||(a=e.fixedUrl(this.contextRoot+"/app/"+a)),!o||n.push("summary="+encodeURIComponent(o)),s=="company"&&(u=t.find("select[name=companyId]").val()),n.push("calendar="+u),n.push("tt="+r),n.push("ct="+s),n.push("sd="+f.format("YYYY-MM-DD")),n.push("ed="+l.format("YYYY-MM-DD")),n.push("location="+t.find("input[name=location]").val()),r==="timed"&&(n.push("st="+t.find("#startTime").val()),n.push("et="+t.find("#endTime").val())),e.navigate([a,n.join("&")].join("?"),{trigger:!0,pushState:!0})},this)}}function W(){return{btext:this.lang.get("\ud655\uc778"),btype:"confirm",autoclose:!1,callback:_.bind(function(e){var t=this,n=r(e),i=this.getCurrentTimeInfo(),s=moment(i.startTime),o=moment(i.endTime),u=[],a=J(r(e)),f=n.find("input[name=timeType]:checked").val()||"timed",l=n.find('input[name="companyType"]:checked').val()||"public";if(f==="allday"){var c=n.find("input[name=start_date]").val(),h=n.find("input[name=end_date]").val();s=moment(c,"YYYY-MM-DD").clone().startOf("day"),o=moment(h,"YYYY-MM-DD").clone().endOf("day")}if(a)return t.onCreateError(a),!1;if(this.submitFlag)return!1;this.submitFlag=!0;var p,d;l=="company"?(d="company",p=parseInt(r(e).find("select[name=companyId]").val())):(d="normal",p=parseInt(r(e).find("select[name=calendarId]").val()),u.push({id:this.session.id}));var v="YYYY-MM-DDTHH:mm:ss.SSSZ";f==="allday"&&(v="YYYY-MM-DDTHH:mm:ss.SSS"+this.session.serverTZOffset);var m=n.find("input[name=summary]").val();GO.util.isXSSPettern(m)&&(m=GO.util.escapeXssToBlank(m));var g={type:d,calendarId:p,attendees:u,timeType:f,summary:m,startTime:s.format(v),endTime:o.format(v),visibility:"public",timeZoneOffset:moment(new Date).format("Z"),location:n.find("input[name=location]").val()};l=="company"?X.call(this,g).done(function(){V.call(t,e,g,p)}):V.call(this,e,g,p)},this)}}function X(e){var t=this,n=r.Deferred();return r.goPopup({allowPrevPopup:!0,modal:!1,title:t.lang.get("\uc54c\ub9bc\uba54\uc77c \ud655\uc778"),message:t.lang.get("\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"),buttons:[{btext:t.lang.get("\ubcf4\ub0b4\uae30"),btype:"confirm",callback:function(){r.extend(e,{mailNoti:!0}),n.resolve()}},{btext:t.lang.get("\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"),btype:"normal",callback:function(){r.extend(e,{mailNoti:!1}),n.resolve()}}],closeCallback:function(){t.submitFlag=!1}}),n}function V(e,t,n){var i=this;i.returnType?r.ajax({url:i.contextRoot+"api/calendar/"+n+"/event",type:"POST",contentType:"application/json",data:JSON.stringify(t)}).done(function(t){e.close(),i.afterAddEvent(t.data)}).error(function(){i.onCreateError()}).always(function(){i.submitFlag=!1}):(e.close(),i.afterAddEvent(t))}function J(e){var t=e.find("input[name=summary]").val(),n=e.find("select[name=calendarId]").val();return t?t.length>l?"max:summary":n?!1:"required:calendarId":"required:summary"}function K(){var e=[];return e.push('<form name="f_regist_event">'),e.push("<fieldset>"),e.push('<table class="form_type go_renew">'),e.push("<tbody>"),e.push("<tr>"),e.push('<th><span class="title">'+this.lang.get("\uc77c\uc815\uba85")+'<ins class="asterisk">*</ins></span></span></th>'),e.push('<td><div class="wrap_txt w_max"><input class="txt_mini w_max" type="text" name="summary" value="'+this.summary+'"maxlength="500"></div></td>'),e.push("</tr>"),e.push("<tr>"),e.push('<th><span class="title">'+this.lang.get("\uc77c\uc2dc")+"</span></th>"),e.push("<td>"),e.push('<span class="wrap_date">'),e.push('<input id="startDate" class="start-date txt wfix_small" type="text" name="start_date" value="'+this.startDate+'" readonly="readonly">'),e.push('<span class="ic ic_calendar"></span>'),e.push("</span>"),e.push('<span class="wrap_multiselect wrap-selecttime">'),e.push('<span class="wrap_select">'),e.push('<span class="wrap_select_list">'),e.push('<input id="startTime" name="start_time" type="text" class="txt wfix_small" data-outside="start">'),e.push('<ul id="startTimeList" data-type="start" class="select_list" style="display:none" data-outside="start">'),e.push("</ul>"),e.push("</span>"),e.push("</span>"),e.push("</span>"),e.push('<span class="date_wave">~</span>'),e.push('<span class="wrap_date">'),e.push('<input id="endDate" class="end-date txt wfix_small" type="text" name="end_date" value="'+this.endDate+'" readonly="readonly">'),e.push('<span class="ic ic_calendar"></span>'),e.push("</span>"),e.push('<span class="wrap_multiselect wrap-selecttime">'),e.push('<span class="wrap_select">'),e.push('<span class="wrap_select_list">'),e.push('<input id="endTime" name="end_time" type="text" class="txt wfix_normal" data-outside="end">'),e.push('<ul id="endTimeList" data-type="end" class="select_list" style="display:none" data-outside="end">'),e.push("</ul>"),e.push("</span>"),e.push("</span>"),e.push("</span>"),e.push('<span class="horspace1"></span>'),e.push('<span class="wrap_option"><input id="checkbox-allday" type="checkbox" name="timeType" value="allday"><label for="checkbox-allday">'+this.lang.get("\uc885\uc77c")+"</label></span>"),e.push("</td>"),e.push("</tr>"),e.push('<tr style="display:none;">'),e.push('<th><span id="company_calendar" class="title">'+this.lang.get("\uc804\uc0ac\uc77c\uc815")+"</span></th>"),e.push("<td>"),e.push('<span class="wrap_option"><input id="checkbox-company" type="checkbox" name="companyType" value="company"><label for="checkbox-company">'+this.lang.get("\uc804\uc0ac\uc77c\uc815")+"</label></span><br>"),e.push('<span id="compnay_event_list" class="wrap_multiselect" style="display: none;">'),e.push('<span class="wrap_select"><select name="companyId"></select></span>'),e.push("</span>"),e.push("</td>"),e.push("</tr>"),e.push("<tr>"),e.push('<th><span id="my_calendar" class="title">'+this.lang.get("\ub0b4 \uce98\ub9b0\ub354")+"</span></th>"),e.push('<td class="">'),e.push('<span class="wrap_multiselect">'),e.push('<span class="wrap_select"><select name="calendarId"></select></span>'),e.push("</span>"),e.push("</td>"),e.push("</tr>"),e.push("<tr>"),e.push('<th><span class="title">'+this.lang.get("\uc7a5\uc18c")+"</span></th>"),e.push('<td><div class="wrap_txt w_max"><input class="txt_mini w_max" type="text" name="location" value="'+this.location+'"maxlength="500"></div></td>'),e.push("</tr>"),e.push("</tbody>"),e.push("</table>"),e.push("</fieldset>"),e.push("</form>"),e.join("\n")}function Q(e,t){var n=moment(e||new Date),r=n.isSame(new Date,"day")?n:n.clone().startOf("day"),i=60*(t||30);return moment(Math.ceil(Math.floor(r.valueOf()/1e3)/i)*i*1e3)}function G(){et.call(this,r("#startDate").val()),nt.call(this,r("#startTime").val())}function Y(e,t){e=="start"?tt.call(this,t):e=="end"&&nt.call(this,t)}function Z(e){r("#startDate").val(e),r("#startDate").attr("data-prev",e),this.startDate=e,this._sdate=moment(this.startDate+"T"+this.startTime+":00")}function et(e){r("#endDate").val(e),r("#endDate").attr("data-prev",e),this.endDate=e,this._edate=moment(this.endDate+"T"+this.endTime+":00")}function tt(e){r("#startTime").val(e),r("#startTime").attr("data-prev",e),this.startTime=e,this._sdate=moment(this.startDate+"T"+this.startTime+":00")}function nt(e){r("#endTime").val(e),r("#endTime").attr("data-prev",e),this.endTime=e,this._edate=moment(this.endDate+"T"+this.endTime+":00")}var n=30,s=moment(),o="YYYY-MM-DD HH:mm",u="YYYY-MM-DD",a="HH:mm",f=620,l=500,c=60;return h.prototype.open=function(){var e=this;this.preloader=null,r&&r.goPreloader&&(this.preloader=r.goPreloader(),this.preloader.render()),b.call(this).then(function(t){t.addClass("layer_calendar_speed"),v.call(e,t),E.call(e,t),p.call(e,t),S.call(e,t)})},h.prototype.init=function(){v.call(this,this.el),E.call(this,this.el),S.call(this,this.el)},h.prototype.afterChanged=function(e){this.afterChangeCallbacks.add(e)},h.prototype.getCurrentTimeInfo=function(){var e=r("#endDate"),t=e.length?e.val():r("#startDate").val();return{startTime:r("#startDate").val()+"T"+r("#startTime").val()+":00",endTime:t+"T"+r("#endTime").val()+":00"}},h.prototype.updateSelectedTime=function(e,t){var i=Q(e,n);return typeof t=="undefined"&&(t=i.clone().add("hours",1)),r("#startTime").attr("data-prev",i.format(a)),E.call(this,this.el),this},h.prototype.reset=function(e){r("#startDate").val(e.startDate),r("#startTime").val(e.startTime),r("#endDate").val(e.endDate),r("#endTime").val(e.endTime),r("#startDate").attr("data-prev",e.startDate),r("#startTime").attr("data-prev",e.startTime),r("#endDate").attr("data-prev",e.endDate),r("#endTime").attr("data-prev",e.endTime)},h.prototype.updatePrevDate=function(e){Z.call(this,e.prevStartDate),et.call(this,e.prevEndDate)},h}(e,t),{addSimpleEvent:function(e){var t=new n(e||{});t.open()},init:function(e){var t=new n(e||{});return t.init(),t}}},jQuery,_,moment),function(e,t){var n=this,r=Array.prototype.slice,i=7,s={day:"day",time:"time"},o={timed:"timed",allday:"allday"},u={time:"txtcolor",day:"bgcolor"},a={"public":"public","private":"private"},f={company:"company",normal:"normal",holiday:"holiday",anniversary:"anniversary"},l={update_calendar_color:"update:calendar-color",add_events:"add:events",reset_events:"reset:events",clear_events:"clear:events",remove_calendars:"remove:calendars",change_view_type:"change:view-type",change_date:"change:date",resize:"resize:calendar",request_show_event:"request:show-event",request_create_event:"request:create-event",changed_date:"changed:date",changed_time:"changed:time",changed_view_type:"changed:view-type"},c=function(e,t){typeof t=="undefined"&&(t=!1);if(e.constructor===Array)return r.call(e);var n=new Object;for(var i in e)n[i]=typeof e[i]=="object"&&t?c(e[i]):e[i];return n},h=function(e,t){if(typeof e!="object")throw new Error("Invalid object.");for(var n in e)if(e[n]===t)return!0;return!1},p=function(){var e=function(){return new Error("Invalid date format")};return e}(),d=function(){var e=r.call(arguments),n=e.length;for(var i=0;i<n;i++)if(!t(e[i]).isValid())return!1;return!0},v=function(e){return t(e).day()===0},m=function(e){return t(e).day()===6},g=function(e,n){var r=t(e).clone().startOf("day"),i=t(n).clone().startOf("day");return r.diff(i)===0},y=function(e){return g(e,new Date)},b=function(e,n){var r=t(e).clone().startOf("month"),i=t(n).clone().startOf("month");return r.diff(i)===0},w=function(e,n){var r=t(n).clone().startOf("month").toDate(),i=t(e).clone().startOf("month").toDate();return i<r},E=function(e,n){var r=t(n).clone().startOf("month").toDate(),i=t(e).clone().startOf("month").toDate();return i>r},S=function(t){e(t).attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})},x=function(e,n){return Math.ceil(t(n).diff(e,"day",!0))},T=function(){function r(e,t){var n=e.day()-t;return n<0&&(n=this.options.width+n),n}function s(){var e=new Date(this.options.date.getTime()),n=t(e),i=n.clone().startOf("month"),s=r(i,this.options.startday),o=n.clone().endOf("month"),u=i.clone().subtract("days",s),a={cols:this.options.width,rows:Math.ceil((o.date()+s)/this.options.width)};for(var f=0;f<a.rows;f++)for(var l=0;l<a.cols;l++)this.matrix[f]instanceof Array||(this.matrix[f]=[]),this.matrix[f][l]={instance:u.clone().toDate(),year:u.year(),month:u.month(),date:u.date(),day:u.day(),today:y(u),events:[],flags:[],axisX:f,axisY:l},u.add("days",1);return this.rows=a.rows,this.cols=a.cols,this.matrix}function u(e){return e.type===f.holiday||e.type===f.anniversary}function a(e){return e.timeType===o.allday}function l(){var e=this.getFirstCell().instance,n=this.getLastCell().instance,i=this.options.events.length;for(var s=0;s<i;s++){var o,f,l=0,h=0,p=0,d,v,m,y={x:0,y:0},b=0,w=0,E=1,S=!0,T=-1,N=this.options.events[s],C=t(this.getFirstCell().instance);if(!this.isValidEvent(N))continue;u(N)||a(N)?(o=t(N.startTime,"YYYY-MM-DD").clone().startOf("days"),f=t(N.endTime,"YYYY-MM-DD").clone()):(o=t(N.startTime).clone().startOf("days"),f=t(N.endTime).clone()),f.format("HH:mm:ss")==="00:00:00"&&N.timeType==="timed"?(N.endTime=f.format("YYYY-MM-DDTHH:mm:ss.SSSZ"),f.subtract("seconds",1)):f.endOf("days"),l=r(o,this.options.startday),h=x(o,f),this.options.width>1?p=Math.ceil((h+l)/this.options.width):p=h,d=t(N.startTime).toDate()<e?t(e).clone().startOf("days"):o,v=t(N.endTime).toDate()>n?t(n).clone().endOf("days"):f,y=this.getAxis(d),m=x(d,v),b=+y.x,w=+m;if(o.isBefore(t(C),"day")){var k=x(o,C),L=Math.ceil(k/this.options.width);E+=L}while(w>0){var A=this.getCell(y.x,y.y),O=A.flags,M=A.events,_=this.options.width-d.day()-1+this.options.startday,D={id:N.id,type:N.type,summary:N.summary,range:m,total_rows:p,current_row:+E,_ref:N};u(N)?O.push(D):(D.render=!0,T===-1&&(T=c(M)),m>1&&(S?(_>0&&(D.colspan=w>_?_+1:w),S=!1):D.render=!1),A.events[T]=D),this.__eventsIndex__[N.id]=s;if(g(d,v))break;b=+y.x,d.add("days",1),y=this.getAxis(d),y.x>b&&(E++,S=!0,T=-1),w--}}}var n=function(t){this.options=e.extend({date:new Date,startday:0,width:i,events:[]},t||{}),this.matrix=[],this.rows=0,this.cols=0,this.__eventsIndex__={},s.call(this),l.call(this)};n.prototype={updateEvent:function(t){if(!t.id)throw new Error("\uc774\ubca4\ud2b8 ID\uac00 \ud544\uc694\ud569\ub2c8\ub2e4.");var n=this.findEventById(t.id);e.extend(!0,n,t),this.reset()},resetEvents:function(e){this.options.events=e,l.call(this)},setStartday:function(e){if(this.options.startday===e)return;this.options.startday=e,l.call(this)},isValidEvent:function(e){var n=t(e.startTime),r=t(e.endTime);return d(n,r)&&!(r.diff(n)<0)},findEventById:function(e){return this.options.events[this.__eventsIndex__[e]]},getAxis:function(e){var n=t(e),r=t(this.options.date).clone().startOf("month").day(),i=b(e,this.options.date)?r:n.clone().startOf("month").day()+this.options.startday,s=this.options.width===1?i:i%this.options.width,o=s+n.date(),u={x:0,y:0};w(e,this.options.date)?u.x=0:E(e,this.options.date)?u.x=this.getAxisXOfLast():u.x=this.options.width===1?o-1:Math.floor((o-1)/this.options.width),u.y=this.options.width===1?0:(s+n.date())%this.options.width-1,u.y<0&&(u.y=this.options.width+u.y);if(u.x<0||u.x>this.getRowCount()||u.y>this.getColCount())throw new Error("Invalid axis of matrix");return u},getAll:function(){return this.matrix},getCell:function(e,t){return this.matrix[e][t]},getCellByDate:function(e){var t=this.getAxis(e);return this.getCell(t.x,t.y)},getRow:function(e){return this.matrix[e]},getRowByDate:function(e){return this.getRow(this.getAxis(e).x)},getRowCount:function(){return this.rows},getColCount:function(){return this.cols},getFirstCell:function(){return this.matrix[0][0]},getLastCell:function(){return this.matrix[this.getAxisXOfLast()][this.getAxisYOfLast()]},getAxisXOfLast:function(){return this.rows-1},getAxisYOfLast:function(){return this.cols-1}};var c=function(e){var t=0;for(var n=0,r=e.length;n<=r;n++)if(typeof e[n]=="undefined"){t=n;break}return t};return n.__cache__={},n.getInstance=function(e){var r=t(e.date||new Date),i=r.format("YYYYMM");if(n.__cache__[i]==null||typeof n.__cache__[i]=="undefined")n.__cache__[i]=new n(e);return n.__cache__[i]},n}();e.fn.calbean=function(n){function Y(e){return e=e||"td","<"+e+' class="scroll_area timeline-scrollfix"></'+e+">"}var i=e.extend(!0,{type:"weekly",startday:0,date:new Date,lang:"ko",lazy:!1,height:0,maxRows:4,events:[],useAttendeeFetch:!1,i18n:{"\uc885\uc77c\uc77c\uc815":"\uc885\uc77c\uc77c\uc815","\uc2dc\uac04":"\uc2dc\uac04","\ub2eb\uae30":"\ub2eb\uae30","{{count}} \uac1c":"","\uc804\uc0ac\uc77c\uc815":"\uc804\uc0ac\uc77c\uc815"}},n||{}),w=t.weekdaysShort(),E={d:"daily",w:"weekly",m:"monthly"},C="calbean-calendar-",k="calbean_calendar_view",A=i.i18n,O={},M=e(this);S(this);var D=function(){var t=e("."+k).length;M.attr("id")||M.attr("id",C+t),M.hasClass(k)||M.addClass(k),H(),V()},P=function(){function e(e,i){var s={allday:1,timed:2};return(new r(e,i)).pipe(function(t,r){return n(t.startTime,r.startTime)}).pipe(function(t,r){return n(r.endTime,t.endTime)}).pipe(function(t,n){return s[t.timeType]-s[n.timeType]}).pipe(function(n,r){return t(n.startTime).valueOf()-t(r.startTime).valueOf()}).pipe(function(n,r){return t(n.createdAt).valueOf()-t(r.createdAt).valueOf()}).run()}function n(e,t){var n=e.split("T")[0],r=t.split("T")[0],i=-1;return n>r?i=1:n===r&&(i=0),i}function r(e,t){this.a=e,this.b=t,this.__result__=0,this.pipe=function(e){return this.__result__===0&&(this.__result__=e(this.a,this.b)),this},this.run=function(){return this.__result__}}i.events.sort(e)},H=function(){for(var e in l)M.off(l[e]);M.off("click","a.schedule")},B=function(t){t.preventDefault();var n=e(t.currentTarget),r=n.attr("is-init")?n:n.parent(),i=r.data()&&!!r.data().promise?r.data().promise:null;t.stopImmediatePropagation(),i&&i.done(function(){var e=r.data().event;e&&(e.visibility!=="private"||e.auth)&&M.trigger(l.request_show_event,[n.attr("data-calendarId"),n.attr("data-id")])})},j=function(e,t){M.height(t),i.height=t,st()},F=function(e,t){if(!h(E,t))throw new Error("Invalid view type.");i.type=t,st()},I=function(e,n,r){var s=t(n);r=r||[];if(!d(s))throw new p;i.date=s.toDate(),U(r||[]),st()},q=function(e,t,n){var r=!1,s=i.events.length;for(var o=0;o<s;o++){var u=i.events[o];if(u.__merged__&&u.__merged__.include_me&&parseInt(t)===u.__merged__.calendarId)u.__merged__.color=n;else{if(u.calendarId!=t)continue;if(u.color===n)continue;u.color=n}r=!0}r&&st()},R=function(e){var t=i.events.length;for(var n=0;n<t;n++)if(i.events[n].id===e)return!0},U=function(e){var t=!1;e=e||[];if(e.length>0){var n=e.length;for(var r=0;r<n;r++){var s=e[r];if(R(s.id))continue;i.events.push(s),t=!0}t&&P()}return t},z=function(e,t){U(t)&&st()},W=function(e,t,n){i.events=[],st(t||[],n)},X=function(t,n){var r=[],s=!1,o=i.events.length;for(var u=0;u<o;u++){if(e.inArray(i.events[u].calendarId,n)>-1){s=!0;continue}r.push(i.events[u])}s&&(i.events=r,st())},V=function(){M.on(l.update_calendar_color,q),M.on(l.add_events,z),M.on(l.reset_events,W),M.on(l.remove_calendars,X),M.on(l.change_view_type,F),M.on(l.change_date,I),M.on(l.resize,j),M.on("click","a.schedule",B)},J=function(e,t){return t>1||t<=1&&e.timeType===o.allday},K=function(e){return['<span class="time">',t(e).format("HH:mm"),"</span>"].join("")},Q=function(e){return e===a["private"]},G=function(){return'<span class="ic_classic ic_lock"></span>'},Z=function(){var n={calendar:"calendar",timeline:"timeline"},r=function(e){this.matrix=e,this.limit=0,this.type=""+n.calendar,this.classnames={tr:[],td:[]}};return r.prototype={setLimit:function(e){return this.limit=e,this},setType:function(e){return this.type=e,this},addClass:function(e,t){return this.classnames[e].push(t),this},build:function(){var e=[],n=this.matrix.length,r=this._computeTotalRows(this.matrix,this.limit),i=this._generateClassForTable("tr"),s=this._generateClassForTable("td"),o=0;this._rebuildEventsAndFlags();do{e.push(["<tr",i,">"].join("")),o===0&&this._isTimelineType()&&e.push("<th",r>0?[' rowspan="',r+1,'"'].join(""):"",">",this._hasEhrInfo(this.matrix)?A["\uc885\uc77c\uadfc\ud0dc\uc77c\uc815"]:A["\uc885\uc77c\uc77c\uc815"],"</th>");for(var u=0;u<n;u++){var a=this.matrix[u].rebuildSchedule,f=t(this.matrix[u].instance).format("YYYY-MM-DD"),l="",c="";if(a.length>o&&a[o]){if(a[o].render===!1)continue;a[o].colspan&&(c=' colspan="'+a[o].colspan+'"'),l=this._buildDayEvent(a[o])}e.push(["<td",s,c,' data-date="',f,'">'].join("")),e.push(l),e.push("</td>")}this._isTimelineType()&&e.push(Y()),e.push("</tr>"),o++}while(o<r);return r>0&&e.push(this._buildBlankRow(r)),e.join("")},_hasEhrInfo:function(t){var n=!1;return e.each(t,function(t,r){if(r.events.length==0)return!0;e.each(r.events,function(e,t){if(t&&t._ref.hasOwnProperty("referenceId"))return n=!0,!1});if(n)return!1}),n},_computeTotalRows:function(){var e=this.matrix.length,t=0,n=0;for(var r=0;r<e;r++)t=Math.max(t,this._getEventCount(this.matrix[r].events)),this._isTimelineType()&&(n=Math.max(n,this._getEventCount(this.matrix[r].flags)));return t+n},_rebuildEventsAndFlags:function(){var e=0;for(var t=0;t<this.matrix.length;t++)e=Math.max(this._getEventCount(this.matrix[t].flags),e);for(var n=0;n<this.matrix.length;n++)if(this.type=="timeline"){var r=[],i=this.matrix[n].events,s=this.matrix[n].flags,o=new Array(e-s.length);r=r.concat(o,s,i),this.matrix[n].rebuildSchedule=r}else this.matrix[n].rebuildSchedule=this.matrix[n].events},_buildBlankRow:function(e){var n=[],r=this.matrix.length,i=this._generateClassForTable("tr"),s=this._generateClassForTable("td");n.push(["<tr",i,">"].join(""));for(var o=0;o<r;o++){var u=this.matrix[o].events,a=t(this.matrix[o].instance).format("YYYY-MM-DD"),f=u.length-e;n.push(["<td",s,' data-date="',a,'">'].join("")),!this._isTimelineType()&&f>0&&n.push(['<a class="btn_schedule_more" href="#" data-bypass>+',f,A["{{count}} \uac1c"],"</a>"].join("")),n.push("</td>")}return n.push("</tr>"),n.join("")},_getEventCount:function(e){var t=0;if(this._isTimelineType()){var n=e.length;for(var r=0;r<n;r++){var i=e[r];i&&J(i._ref,i.range)&&t++}}else t=this.limit>0?Math.min(e.length,this.limit):e.length;return t},_generateClassForTable:function(e){return this.classnames[e].length>0?[' class="',this.classnames[e].join(" "),'"'].join(""):""},_buildDayEvent:function(e){var t=[],n=["draggable"],r=["schedule"],i="schedule_",u=e.range,a=s.time+"",f=c(e._ref),l=[],h=f.summary;J(f,u)&&(a=s.day);if(this._isTimelineType()&&a===s.time)return"";L(f)&&n.push("ehr_info"),(!L(f)||u!=1)&&n.push(i+a),e.total_rows>1&&(e.current_row>1&&(n.push("schedule_day_left"),l.push('<div class="tail_l"><div></div></div>')),e.current_row<e.total_rows&&(n.push("schedule_day_right"),l.push('<div class="tail_r"><div></div></div>'))),a===s.day&&(f.__merged__?n.push("bgcolor_group"):(!L(f)||u!=1)&&n.push("bgcolor"+(f.color||"1"))),n.push("ev-"+f.id);var p=[];return f.type==="company"&&p.push(f.calendarName),t.push('<div el-event class="',n.join(" "),'">',"\n"),t.push(l.join("\n")),t.push('<a href="#" class="',r.join(" "),'" title="',[h,p.join(",")].join(" ; "),'" data-id="',e.id,'" data-calendarId="',f.calendarId,'" data-duration="',e.range,'" data-startdate="',f.startTime,'" data-bypass>',"\n"),f.timeType===o.timed&&(a===s.time&&t.push('<span class="chip bgcolor'+(f.__merged__?"_group":f.color||"1")+'"></span>',"\n"),t.push(K(f.startTime),"\n")),Q(f.visibility)&&t.push(G(),"\n"),L(f)?(t.push('<span class="chip bgcolor',f.color,'"></span>'),t.push('<span class="info">',h,"</span>",'<span class="name">(',f.creator.name,")</span>","\n")):t.push("<span>",h,"</span>","\n"),t.push("</a>","\n"),t.push("</div>","\n"),t.join("")},_isTimelineType:function(){return this.type===n.timeline}},r}(),et=function(){var n=function(){this.id="layer-schedule-more",this.$el=this._createElement(),this.$el.draggable({containment:e("#calendar-viewport"),handle:".drag_area",cursor:"move"}),this.delegateEvents()};return n.prototype={render:function(e,n,r,i){return this._setPosition(e.currentTarget),this.$el.find("ul").empty().append(this._buildEventList(n,r)),this.$el.find("span.date").text(t(n).format("DD")),i.useAttendeeFetch&&N.call(this,this.$el),this._bindDraggable(),this},_bindDraggable:function(){var t=e("table.bg_row td").first().width();this.$el.find(".draggable").draggable({containment:".month_body",cursor:"move",appendTo:".month_body",revert:"invalid",cursorAt:{left:t/2,top:10},helper:function(n){var r=e(this).clone();return r.width(t),r.addClass("dragged"),r},start:function(){var t=e(this),n=t.find("a").data("id");e(".ev-"+n).css("opacity",.7)},stop:function(t,n){var r=e(this),i=r.find("a").data("id"),s=e(n.helper.context).data("promise");typeof s===undefined?(e(".ev-"+i).css("opacity",1),this.remove()):s.done(e.proxy(function(){e(".ev-"+i).css("opacity",1),this.remove()},this))}})},delegateEvents:function(){return e("body").on("click.schedule-more",e.proxy(this._blur,this)),this.$el.on("click","a.schedule",e.proxy(this._showEvent,this)),this.$el.on("click",".ic_close_s2",e.proxy(this.remove,this)),this.$el.on("mouseover",".drag_area > .btn_border",e.proxy(this._disableDrag,this)),this.$el.on("mouseout",".drag_area > .btn_border",e.proxy(this._enableDrag,this)),this},undelegateEvents:function(){return e("body").off("click.schedule-more"),this.$el.off(),this},remove:function(){return this.undelegateEvents(),this.$el.remove(),n.__instance__=null,this},_showEvent:function(e){return B(e),this.remove(),this},_blur:function(t){var n=e(t.target);if(n.is("a.btn_schedule_more"))return;if(!this.$el.is(":visible"))return;if(n.parents("#"+this.id).length>0)return;return this.remove(),this},_enableDrag:function(){return this.$el.draggable("enable"),this},_disableDrag:function(){return this.$el.draggable("disable"),this},_setPosition:function(e){return this._setOffsetX(e),this._setOffsetY(e),this},_setOffsetX:function(t){var n=e(t),r=e(window).width(),i=n.offset().left,s=i+this.$el.outerWidth();return s>r&&(i=r-this.$el.outerWidth()),this.$el.css("left",i+"px"),this},_setOffsetY:function(t){var n=e(t),r=n.parent().parent().parent().offset().top;return this.$el.css("top",r+"px"),this},_createElement:function(){return e("#"+this.id).length||this._buildLayerWrapper(),e("#"+this.id)},_buildLayerWrapper:function(){var t=[];return t.push(['<div id="',this.id,'" class="layer_normal layer_schedule_more">'].join("")),t.push('<div class="title drag_area">'),t.push(['<span class="date"></span>'].join("")),t.push('<span class="btn_border">'),t.push('<span class="ic_classic ic_close_s2" title="'+A["\ub2eb\uae30"]+'"></span>'),t.push("</span>"),t.push("</div>"),t.push("<ul>"),t.push("</ul>"),t.push("</div>"),e("body").append(t.join("\n")),this},_buildEventList:function(e,n){var r=[];r.push("<li>");for(var i=0,a=n.length;i<a;i++){if(!n[i]||typeof n[i]=="undefined")continue;var f=n[i],l=f._ref,c=l.color,h=t(l.startTime),p=J(l,f.range),d=p&&f.range>1,v=g(e,h),m=g(e,l.endTime),y="",b=["draggable"];p?(L(l)&&b.push("ehr_info"),(!L(l)||!!d)&&b.push("schedule_day"),d&&v&&b.push("schedule_day_left"),d&&m&&b.push("schedule_day_right"),y=u[s.day]):(b.push("schedule_time"),y=u[s.time]),l.__merged__?b.push(y+"_group"):(!L(l)||!!d)&&b.push(y+c),r.push(['<div el-event class="',b.join(" "),'">'].join("")),d&&(v&&r.push('<div class="tail_l"><div></div></div>'),m&&r.push('<div class="tail_r"><div></div></div>'));var w=l.summary+" ; ";l.type=="company"&&(w+=l.calendarName),r.push(['<a href="#" class="schedule" title="',w,'" data-startdate="',h,'" data-calendarId="',l.calendarId,'" data-id="',f.id,'" data-duration="',1,'" data-bypass>'].join("")),l.__merged__&&l.__merged__.include_me&&r.push('<span class="chip bgcolor'+l.__merged__.color+'"></span>',"\n"),l.timeType===o.timed&&r.push(['<span class="time">',h.format("HH:mm"),"</span>"].join("")),L(l)?(r.push(['<span class="chip bgcolor',c,'"></span>'].join("")),r.push(['<span class="info">',l.summary,"</span>",'<span class="name">(',l.creator.name,")</span>"].join(""))):r.push(["<span>",l.summary,"</span>"].join("")),r.push("</a>"),r.push("</div>")}return r.push("</li>"),r.join("\n")}},n.__instance__=null,n.create=function(){return this.__instance__===null&&(this.__instance__=new n),this.__instance__},n.release=function(){var e=this.create();e.remove(),this.__instance__=null},n}(),tt=function(){var n="calendar_month",r="calbean-monthly",i,s,u=function(e){this.options=_.clone(e),this.matrix=new T(this.options),this.rowCount=this.matrix.getRowCount(),this.maxRows=e.maxRows,this.undelegateEvents(),this.delegateEvents()};return u.prototype={render:function(){var e=[];return this.maxRows=Math.floor(this.options.height/this.rowCount/22)-2,e.push(this._buildTableHeader()),e.push(this._buildMonthBody()),M.empty().html(e.join("\n")),this._resetClass(this,E.m),this._resize(this.options.height),this.options.useAttendeeFetch&&N.call(this,M),this._bindDND(),this},_bindDND:function(){var t=M.find("table.bg_row td").first().width();M.find(".draggable").draggable({containment:".month_body",cursor:"move",appendTo:".month_body",revert:"invalid",cursorAt:{left:t/2,top:10},helper:function(n){var r=e(this).clone();return r.width(t),r.addClass("dragged"),r},start:function(){var t=e(this),n=t.find("a").data("id");e(".ev-"+n).css("opacity",.7)},stop:function(t,n){var r=e(n.helper.context).data("promise"),i=e(this),s=i.find("a").data("id");typeof r===undefined?e(".ev-"+s).css("opacity",1):r.done(function(){e(".ev-"+s).css("opacity",1)})}}),M.find("table.bg_row td").droppable({accept:".draggable",tolerance:"intersect",drop:function(t,n){var r=e(n.draggable).find("a"),i=r.data("id"),s=r.data("calendarid"),o=r.data("startdate"),u=e(this).data("date");e(this).removeClass("on");if(!g(o,u)){var a=n.draggable.data("promise"),f=function(){M.trigger(l.changed_date,[i,s,u,e(n.draggable)])};typeof a===undefined?f():a.done(function(){f()})}},over:function(t,n){e(this).addClass("on")},out:function(t,n){e(this).removeClass("on")}})},delegateEvents:function(){return M.on(l.change_view_type+"."+r,e.proxy(this._resetClass,this)),M.on("click."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td:empty",e.proxy(this._requestCreateEvent,this)),M.on("click."+r,"table.schedule_row span.day",function(t){var n=e(t.target);M.trigger(l.changed_view_type,[E.d,n.parent().attr("data-date")])}),M.on("click."+r,"a.btn_schedule_more",e.proxy(this._showMoreEvent,this)),M.on("mousedown."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td:empty",e.proxy(function(t){this._initDragValue(!0);if(!this._isDefaultMouseButton(t))return;i=e(t.target).attr("data-date")||e(t.target).parent().attr("data-date"),M.find("td.dt"+i).addClass("conti_schedule")},this)),M.on("mouseup."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td",e.proxy(this._createEventByDragEvent,this)),M.on("mouseover."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td",e.proxy(this._sameWeekdayByDragEvent,this)),M.on("mouseout."+r,"table.bg_row, table.schedule_row th, table.schedule_row th note, table.schedule_row td",e.proxy(this._sameWeekdayByDragEvent,this)),this},_createEventByDragEvent:function(t){if(!this._isDefaultMouseButton(t)){this._initDragValue(!0);return}var n=this._getDataDate(e(t.target));s=_.isEmpty(s)?n:s;if(!this._validateByDragRegistration()||_.isEmpty(n)){console.info("Skip1 Event, DRAG_DOWN_DATE: "+i),this._initDragValue(!0);return}if(!this._isSameWeekdayAndAfter(n)){if(!this._isSameWeekdayAndAfter(s)){console.info("Skip2 Event, DRAG_DOWN_DATE: "+i),this._initDragValue(!0);return}n=s}var r=GO.util.isAfterOrSameDate(i,n),u=r?i:n,a=r?n:i,f=GO.util.toMoment(a).startOf("day").diff(GO.util.toMoment(u).startOf("day"),"days");for(var c=0;c<f;c++){var h=GO.util.shortDate(GO.util.toMoment(u).add("days",c+1));M.find("td.dt"+h).addClass("conti_schedule")}M.trigger(l.request_create_event,[o.timed,u,null,a]),this._initDragValue(!1)},_painting:function(e){var t=this._getSameWeekdayDates().sort();_.each(t,function(t){GO.util.isAfterOrSameDate(i,t)&&GO.util.isAfterOrSameDate(t,e)&&M.find("td.dt"+t).addClass("conti_schedule")})},_restorePainting:function(e){M.find("td.dt"+e).removeClass("conti_schedule")},_sameWeekdayByDragEvent:function(t){if(!i||!this._isDefaultMouseButton(t))return!1;s||(s=i);var n=this._getDataDate(e(t.target));_.isEmpty(n)&&(e.goError(A["\ub4f1\ub85d\ud560 \uc218 \uc5c6\ub294 \uc77c\uc815 \uacbd\uace0"]),this._initDragValue(!0)),this._isSameWeekdayAndAfter(n)&&(GO.util.isAfterOrSameDate(s,n)?this._painting(n):this._restorePainting(s),s=n)},_initDragValue:function(t){i="",s="",t&&e(".ui-droppable").removeClass("conti_schedule")},_getDataDate:function(e){if(e.attr("data-date"))return e.attr("data-date");var t="";return e.parents().each(function(e,n){n.getAttribute("data-date")&&(t=n.getAttribute("data-date"))}),t},_getSameWeekdayDates:function(){if(!this._validateByDragRegistration())return[];var e=_.map(M.find("td.dt"+i).siblings(),function(e){return e.getAttribute("data-date")});return e.push(i),e},_isSameWeekdayAndAfter:function(e){return this._validateByDragRegistration()&&!GO.util.isAfter(e,i)&&_.contains(this._getSameWeekdayDates(),e)},_validateByDragRegistration:function(){return!_.isEmpty(i)},_isDefaultMouseButton:function(e){return!_.isUndefined(e.button)&&0==e.button},undelegateEvents:function(){return M.off("."+r),this},_showMoreEvent:function(t){t.preventDefault();var n=e(t.currentTarget),r=n.parent().attr("data-date"),i=this.matrix.getCellByDate(r),s=et.create();return s.render(t,r,i.events,this.options),t.stopImmediatePropagation(),this},_resetClass:function(e,t){return t===E.m?M.addClass(n):M.removeClass(n),this},_bindResizeJSEvent:function(e,t){return this._resize(t),this},_resize:function(e){var t=Math.floor((e-M.find(".tb_month_header").outerHeight())/this.rowCount);return M.find(".week_schedule").height(t),this},_requestCreateEvent:function(t){var n=e(t.target),r=n.attr("data-date")||n.parent().attr("data-date");r&&M.trigger(l.request_create_event,[o.timed,r])},_buildTableHeader:function(){var e=[],t=this.matrix.getRow(0);e.push('<table class="type_normal tb_month_header tb_fix">',"<thead><tr>","\n");for(var n=0,r=t.length;n<r;n++){var i=t[n].day,s=w[i],o=[];i===0&&o.push("sun"),i===6&&o.push("sat"),e.push('<th class="',o.join(" "),'">',s,"</th>","\n")}return e.push("</tr></thead>","</table>"),e.join("")},_buildMonthBody:function(){var e=[];e.push('<div class="month_body">');for(var t=0,n=this.matrix.getRowCount();t<n;t++){var r=this.matrix.getRow(t);e.push('<div class="week_schedule">'),e.push(this._buildWeekBgCells(r)),e.push(this._buildWeekScheduleRows(r)),e.push("</div>")}return e.push("</div>"),e.join("\n")},_buildWeekBgCells:function(e){var n=[];n.push("<tr>");for(var r=0,i=e.length;r<i;r++){var s=e[r],o=t(s.instance).format("YYYY-MM-DD"),u=["dt"+o];s.today&&u.push("today"),n.push('<td class="',u.join(" "),'" data-date="',o,'"></td>',"\n")}return n.push("</tr>"),this._tableRowDecorator(n.join(""),"bg_row")},_buildWeekScheduleRows:function(e){var t=[];return t.push(this._buildWeekHeaders(e)),t.push(this._buildWeekEvents(e)),this._tableRowDecorator(t.join(""),"schedule_row")},_buildWeekHeaders:function(e){var n=[],r=e.length;n.push("<tr>");for(var i=0;i<r;i++){var s=e[i],o=t(s.instance).format("YYYY-MM-DD"),u=this._generateClassesOfWeekHeaders(s,this.options.date);n.push('<th class="',u.join(" "),'" data-date="',o,'">',"\n"),n.push('<span class="day">',s.date,"</span>","\n"),n.push(this._buildFlaggedEvent(s.flags)),n.push("</th>","\n")}return n.push("</tr>"),n.join("")},_buildWeekEvents:function(e){var t=new Z(e);return t.setLimit(this.maxRows),t.build()},_hasFlagType:function(e,t){if(!f[t])return!1;for(var n=0,r=e.length;n<r;n++)if(b(GO.util.toMoment(GO.util.dateFormatWithoutTimeZone(e[n]._ref.startTime)),this.options.date)&&e[n].type===f[t])return!0;return!1},_hasHolidayFlag:function(e){return this._hasFlagType(e,"holiday")},_generateClassesOfWeekHeaders:function(e,n){var r=[],i=t(n).month();return e.month===i&&e.day===0&&r.push("sun"),e.month===i&&e.day===6&&r.push("sat"),e.flags.length>0&&r.push("holiday_"+(this._hasHolidayFlag(e.flags)?"on":"off")),e.month<i&&r.push("before"),e.month>i&&r.push("next"),e.today&&r.push("today"),r},_buildFlaggedEvent:function(e){var t=[],n=[];if(e.length<1)return"";for(var r=0,i=e.length;r<i;r++){var s=e[r];!s.summary||n.push(s.summary)}return n.length>0&&t.push('<span title="',n.join(", "),'" class="note">',n.join(", "),"</span>","\n"),t.join("")},_tableRowDecorator:function(e,t){typeof t=="undefined"&&(t=""),t!==""&&(t+=" ");var n=[];return n.push('<table class="',t,'tb_fix"><tbody>',"\n"),n.push(e,"\n"),n.push("</tbody></table>"),n.join("")}},u}(),nt=function(){var n=12,r=60/n,a=r,f=15,c="calendar_week",h="calbean-timeline",b=function(e,n){typeof n=="undefined"&&(n=e),this.__range={from:new Date,to:new Date};if(!d(e,n))throw new p;this.startday=0,this.__range.from=t(e).clone().toDate(),this.__range.to=t(n).clone().toDate(),this.__duration=this._computeDuration(this.__range.from,this.__range.to),this.__scrollTop=-1,this.matrix=new T({date:this.__range.from,width:this.__duration}),M.addClass(c),this.undelegateEvents(),this.delegateEvents()};return b.prototype={buildSkelecton:function(){var e=[],t=0;e.push(this._buildTimelineHeader()),e.push(this._buildTimelineBody()),M.empty().html(e.join("\n")),this._resize(i.height),this._scrollTo(),t=M.find("div.day_schedule table.schedule_row tr.row").length*19,M.find("div.day_schedule table.bg_row tr").height(t),M.find("div.day_schedule table.bg_row th").height(t)},render:function(n){var i=this;this.buildSkelecton(),n.useAttendeeFetch&&N.call(this,M);if(this.__duration>1){var s=M.find("table.schedule_row td").last().width();M.find("table.schedule_row .draggable").draggable({containment:"table.schedule_row tbody",cursor:"move",appendTo:"#calendar-viewport",revert:"invalid",cursorAt:{left:s/2,top:10},helper:function(t){var n=e(this).clone();return n.width(s),n.addClass("dragged"),n},start:function(){var t=e(this),n=t.find("a").attr("data-id");e(".ev-"+n).css("opacity",.7)},stop:function(){var t=e(this),n=t.find("a").data("id");e(".ev-"+n).css("opacity",1)}}),M.find("div.day_schedule table.bg_row td").droppable({greedy:!0,accept:"table.schedule_row .draggable",tolerance:"intersect",drop:function(t,n){var r=e(n.draggable).find("a"),i=r.data("id"),s=r.data("calendarid"),o=r.data("startdate"),u=e(this).data("date");e(this).removeClass("on"),g(o,u)||M.trigger(l.changed_date,[i,s,u,null])},over:function(t,n){e(this).addClass("on")},out:function(t,n){e(this).removeClass("on")}})}var o=0,u=e(".schedule_wrap").first().outerWidth();return M.find(".schedule_wrap .draggable").draggable({containment:".timeline_wrap",cursor:"move",appendTo:".timeline_wrap",revert:"invalid",grid:[e(".schedule_wrap").first().outerWidth()+21,f],drag:function(n,r){var i=r.offset.top,s=i-o,u=Math.abs(s)+5;if(u>f){var a=e(this),l=t(a.attr("data-starttime")),c=t(a.attr("data-endtime")),h=c.diff(l,"minutes"),p=l.clone().startOf("days"),d=Math.ceil(r.position.top+1),v=p.add("minutes",d),m=v.clone().add("minutes",h);e(this).find(".time").text(v.format("HH:mm")),e(this).attr("data-starttime",v.format("YYYY-MM-DDTHH:mm:ss.SSSZ")),e(this).attr("data-endtime",m.format("YYYY-MM-DDTHH:mm:ss.SSSZ")),o=+parseInt(i)}},start:function(t,n){var r=e(this).width(),s=parseInt(e(this).css("left")||"0")>0?e(this).width():u+16;i.preventClickEvent(),e(this).click(function(){return!1}),o=+parseInt(n.offset.top),e(this).css({width:s,opacity:.8,"z-index":"100"}),e(this).attr({"data-org-starttime":e(this).data("starttime"),"data-org-width":r})},stop:function(){e(this).css({width:e(this).attr("data-org-width"),opacity:1,"z-index":"auto"}),e(this).removeAttr("data-org-starttime").removeAttr("data-org-width"),o=0}}),M.find(".tb_week_body tr.cols td").droppable({greedy:!0,accept:".schedule_time",tolerance:"intersect",drop:function(n,r){var i=e(r.draggable),s=i.attr("data-id"),o=i.attr("data-calendarid"),u=i.attr("data-org-starttime"),a=t(i.attr("data-starttime")),f=t(i.attr("data-endtime")),c=f.diff(a,"minutes"),h=e(this).data("date"),p=[h,"T",a.format("HH:mm:ss.SSSZ")].join(""),d=t(p).clone().add("minutes",c).format("YYYY-MM-DDTHH:mm:ss.SSSZ");t(d).format("HH:mm:ss")==="00:00:00"&&(d=t(d).subtract("seconds",1).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),t(u).valueOf()!==t(p).valueOf()&&i.attr({"data-starttime":p,"data-endtime":d}),M.trigger(l.changed_time,[s,o,p,d,M.find("div.week_body_wrap").scrollTop()])}}),M.find(".schedule_wrap .resizable").resizable({containment:"parent",handles:{s:".resize"},grid:a,minHeight:a,autoHide:!0,start:function(e,t){i.preventClickEvent()},stop:function(n,i){var s=e(this),o=s.attr("data-id"),u=s.attr("data-calendarId"),f=s.attr("data-starttime"),c=s.attr("data-endtime"),h=r*Math.ceil(s.outerHeight()/a),p=t(f).add("minutes",h).format("YYYY-MM-DDTHH:mm:ss.SSSZ");t(p).format("HH:mm:ss")==="00:00:00"&&(p=t(p).subtract("seconds",1).format("YYYY-MM-DDTHH:mm:ss.SSSZ")),M.trigger(l.changed_time,[o,u,f,p,M.find("div.week_body_wrap").scrollTop()])}}),this},scrollTo:function(e){this.__scrollTop=e},preventClickEvent:function(e){M.off(".calbean-timeline")},delegateEvents:function(){return M.on("click."+h,"div.schedule_time",B),M.on(l.change_view_type+"."+h,e.proxy(this._resetClass,this)),M.on("click."+h,"td.cell:not(:has(div.schedule_day))",e.proxy(this._createEventFromAlldayEvent,this)),M.on("click."+h,".timeline_wrap",e.proxy(this._createEventFromTimelineWrap,this)),M.on("click."+h,".schedule_wrap",e.proxy(this._createEventFromScheduleWrap,this)),M.on("mouseover."+h,".resizable",function(t){e(t.currentTarget).find(".resize").show()}),M.on("mouseleave."+h,".resizable",function(t){e(t.currentTarget).find(".resize").hide()}),this},undelegateEvents:function(){return M.off("."+h),this},setEvents:function(e){return this.matrix.resetEvents(e),this},resetEvents:function(e){this.matrix.resetEvents(e),this.render()},setStartday:function(e){this.matrix.setStartday(e)},_resetClass:function(t,n){e.inArray(n,[E.w,E.d])>-1?M.addClass(c):M.removeClass(c)},_bindResizeJSEvent:function(e,t){this._resize(t)},_createEventFromAlldayEvent:function(t){return M.trigger(l.request_create_event,[o.allday,e(t.currentTarget).attr("data-date")]),this},_createTimedEvent:function(e,t){var n=this._computeTimeFromTimeline(e,t),r=n.startTime,i=n.endTime;return M.trigger(l.request_create_event,[o.timed,r.format("YYYY-MM-DD"),r.format("HH:mm"),i.format("YYYY-MM-DD"),i.format("HH:mm")]),this},_createEventFromScheduleWrap:function(t){return this._createTimedEvent(t,e(t.currentTarget).attr("data-date"))},_createEventFromTimelineWrap:function(n){var r=e(n.currentTarget),i=r.outerWidth(),s=r.offset(),o=n.pageX-s.left,u=i/this.__duration,a=Math.floor(o/u),f=t(this.__range.from).clone().add("days",a).format("YYYY-MM-DD");return this._createTimedEvent(n,f)},_computeTimeFromTimeline:function(n,i){i=i||new Date;var s=t(i).clone().startOf("days"),o=e(n.currentTarget).offset(),u=n.pageY-o.top,f=Math.floor(u/a)*r,l=s.add("minutes",f),c=l.clone().add("hours",1);return{startTime:l,endTime:c}},_resize:function(e){var t=e-M.find(".tb_week_header").outerHeight()-M.find(".day_schedule").outerHeight();return M.find(".timeline-scrollfix").width(M.find(".week_body_wrap").width()-M.find(".tb_week_body").width()),M.find(".week_body_wrap").height(t),this},_scrollTo:function(){var t=M.find("div.week_body_wrap"),n=t.innerHeight(),r;if(this.__scrollTop>-1)r=this.__scrollTop;else{var i=M.find("#current-timeline"),s=i.position().top;s<550?r=e(".timeline_wrap div[data-time='07:00:00']").position().top:r=s-n/2}return r>0&&M.find("div.week_body_wrap").scrollTop(r),this},_computeDuration:function(e,n){var r=t(e).clone().startOf("day"),i=t(n).clone().endOf("day");return x(r,i)},_buildTimelineHeader:function(){var e=[];return e.push(this._buildWeekHeader()),e.push('<div class="day_schedule">'),e.push(this._buildRangeEventBgCells()),e.push('<table class="schedule_row tb_fix">'),e.push("<tbody>"),e.push(this._buildRangeEvents()),e.push("</tbody>"),e.push("</table>"),e.push("</div>"),e.join("\n")},_buildWeekHeader:function(){var e=[],n=t(this.__range.from).clone();e.push('<table class="tb_week_header tb_fix">'),e.push('<thead class="type_normal">'),e.push("<tr>"),e.push("<th>"+A["\uc2dc\uac04"]+"</th>");for(var r=0;r<this.__duration;r++){var i=[],s=n.format("MM.DD(ddd)");v(n)&&i.push("sun"),m(n)&&i.push("sat"),y(n)&&i.push("today"),e.push(["<th",i.length>0?[' class="',i.join(" "),'"'].join(""):"",'><span class="day">',s,"</span></th>"].join("")),n.add("days",1)}return e.push(Y("th")),e.push("</tr>"),e.push("</thead>"),e.push("</table>"),e.join("\n")},_buildRangeEventBgCells:function(){var e=[],n=t(this.__range.from).clone();e.push('<table class="bg_row tb_fix">'),e.push("<tbody>"),e.push("<tr>"),e.push("<th></th>");for(var r=0;r<this.__duration;r++)e.push('<td data-date="'+n.format("YYYY-MM-DD")+'"></td>'),n.add("days",1);return e.push(Y()),e.push("</tr>"),e.push("</tbody>"),e.push("</table>"),e.join("\n")},_buildRangeEvents:function(){var e=this.matrix.getAxis(this.__range.from),t=this.matrix.getRow(e.x),n=new Z(t);return n.setType("timeline"),n.addClass("tr","row"),n.addClass("td","cell"),n.build()},_buildTimelineBody:function(){var e=[];return e.push('<div class="week_body_wrap">'),e.push('<table class="tb_week_body tb_fix">'),e.push("<tbody>"),e.push(this._buildTimelineBgGrid()),e.push(this._buildTimelineEvents()),e.push("</tbody>"),e.push("</table>"),e.push("</div>"),e.join("\n")},_buildTimelineBgGrid:function(){var e=[],n=t(new Date).startOf("days");e.push('<tr style="height: 1px">'),e.push('<th style="width: 70px; height: 0"></th>'),e.push(['<td class="time_wrap"',this.__duration>1?' colspan="'+this.__duration+'"':"",">"].join("")),e.push('<div class="timeline_wrap">');for(var r=0;r<48;r++)e.push('	<div class="timeline" data-time="'+n.format("HH:mm:ss")+'"></div>'),n.add("minutes",30);return e.push("</div>"),e.push("</td>"),e.push("</tr>"),e.join("\n")},_buildTimelineEvents:function(){var e=[];return e.push('<tr class="cols">'),e.push("<th>"),e.push(this._buildTimelineLabel()),e.push("</th>"),e.push(this._buileTimelineEventCols()),e.push("</tr>"),e.join("\n")},_buildTimelineLabel:function(){var e=[],n=[],r=t().startOf("days"),i={am:r.clone().hours(1).format("A"),pm:r.clone().hours(12).format("A")};n[0]=["<span>",i.am,"</span> "].join(""),n[12]=["<span>",i.pm,"</span> "].join(""),e.push('<div class="time_wrap">');for(var s=0;s<24;s++)e.push(['	<div class="time">',n[s],r.format("hh"),"</div>"].join("")),r.add("hours",1);return e.push(this._buildFlagOfCurrentTime()),e.push("</div>"),e.join("\n")},_buildFlagOfCurrentTime:function(){var e=t(new Date),n=e.clone().startOf("days"),r=Math.ceil(e.diff(n,"minutes",!0)/parseInt(1));return['<div id="current-timeline" class="real_time" style="top: ',r,'px; left: 0px"></div>'].join("")},_getOffsetYByDate:function(e){var n=t(e),r=n.clone().startOf("days");return Math.ceil(n.diff(r,"minutes",!0))},_buileTimelineEventCols:function(){var e=[],n=this.matrix.getRowByDate(this.__range.from);for(var r=0,i=n.length;r<i;r++){var s=n[r],o=s.instance,u=t(o).format("YYYY-MM-DD"),a=s.events;e.push(["<td",y(o)?' class = "today"':"",' data-date="',u,'"',">"].join("")),a.length>0&&e.push('<div class="schedule_wrap" data-date="'+u+'">'),e.push(this._buildScheduleTimeDiv(a)),a.length>0&&e.push("</div>"),e.push("</td>")}return e.join("\n")},_buildScheduleTimeDiv:function(e){if(e.length<1)return"";var t=[],n=this._getTimelineEvents(e);for(var r in n){var i=n[r],o=i._ref,a=i.summary,f="",l=["schedule_time"],c=Q(o.visibility)?G():"";l.push("draggable","resizable"),i.width=this._getPercetageValue(100/i.concurrent,"floor",1),i.left=i.hindex*i.width,i.width=i.isLastIndex&&i.concurrent>i.hindex?i.width*(i.concurrent-i.hindex):i.width,o.__merged__?l.push(u[s.day]+"_group"):l.push(u[s.day]+o.color),f=["top:",i.top,"px;","left:",i.left,"%;","width:",i.width,"%;","height:",i.height,"px"].join(""),t.push('<div class="',l.join(" "),'" style="',f,'" data-id="',r,'" data-calendarId="',o.calendarId,'" data-startTime="',o.startTime,'" data-endTime="',o.endTime,'">',"\n"),t.push('<p class="head">'),o.__merged__&&o.__merged__.include_me&&t.push('<span class="me bgcolor'+o.__merged__.color+'"></span>'),t.push(K(o.startTime)),t.push("</p>"),t.push('<p class="content" title="',a," ; ",'">',c,a,"</p>"),t.push('<div class="resize ui-resizable-handle ui-resizable-s"></div>'),t.push("</div>")}return t.join("")},_getPercetageValue:function(t,n,r){r=r||0,n=n||"round";if(e.inArray(n,["ceil","round","floor"])===-1)throw new Error("Illegal type.");var i=Math.pow(10,r);return Math[n].call(Math,t*i)/i},_getSlotIndexByDate:function(e){return Math.ceil(this._getOffsetYByDate(e)/r)},_getTimelineEvents:function(n){var r={},i=new Array(48);for(var s=0,o=n.length;s<o;s++){if(!n[s])continue;var u=n[s],f=u._ref,l=t(f.startTime),c=this._getSlotIndexByDate(f.startTime),h=this._getSlotIndexByDate(f.endTime),p=h-c;if(J(f,u.range))continue;u.top=l.hour()*60+l.minute()-1,u.height=(p===0?1:p)*a,r[u.id]=u;if(p>0)for(var d=c;d<h;d++)this._createTimeslot(i,u.id,d);else this._createTimeslot(i,u.id,c)}var v=0;for(var d=0,o=i.length;d<o;d++){if(!i[d])continue;var m=i[d].length,g=[];for(var y=0;y<m;y++)g[y]=0;if(m>0)for(var b=0;b<m;b++){var u=r[i[d][b]];v<m&&(v=m),typeof u.hindex=="undefined"&&(u.hindex=e.inArray(0,g)),g[u.hindex]=u.id,u.hindex+1==g.length?typeof u.isLastIndex=="undefined"&&(u.isLastIndex=!0):u.isLastIndex=!1}}for(var w in r){var u=r[w];u.concurrent=v}return r},_createTimeslot:function(e,t,n){return e[n]||(e[n]=[]),e[n].push(t),this}},b}(),rt=function(){var e=function(e){var n=t(e.date).clone(),r=new nt(n);r.setEvents(e.events),r.setStartday(e.startday),this.timlineView=r,this.options=e};return e.prototype.render=function(){this.timlineView.scrollTo(this.options.scrollTo),this.timlineView.render(this.options)},e}(),it=function(){var e=function(e){var n=t(e.date).clone(),r=n.clone().day(0).add("days",e.startday),i=n.clone().day(6).add("days",e.startday),s=new nt(r,i);s.setEvents(e.events),s.setStartday(e.startday),this.timlineView=s,this.options=e};return e.prototype.render=function(){this.timlineView.scrollTo(this.options.scrollTo),this.timlineView.render(this.options)},e}();O.getElement=function(){return M},O.bind=O.on=function(){var t=r.call(arguments);e.fn.on.apply(M,t)},O.unbind=O.off=function(){var t=r.call(arguments);e.fn.off.apply(M,t)},O.resize=function(e){return M.trigger(l.resize,[e]),this},O.changeViewType=function(e){return M.trigger(l.change_view_type,[e]),this},O.changeDate=function(e,t){return M.trigger(l.change_date,[e,t]),this},O.updateCalendarColor=function(e,t){return M.trigger(l.update_calendar_color,[e,t]),this},O.addEvents=function(){var e=r.call(arguments),t=[];for(var n=0,i=e.length;n<i;n++)e[n]instanceof Array?t=t.concat(e[n]):t.push(e[n]);return M.trigger(l.add_events,[t]),this},O.resetEvents=function(e,t){return t=t||!1,M.trigger(l.reset_events,[e,t]),this},O.clearEvents=function(){return M.trigger(l.clear_events),this},O.removeCalendars=function(){var e=r.call(arguments),t=[];for(var n=0,i=e.length;n<i;n++)t.push(e[n]);M.trigger(l.remove_calendars,[t])},O.render=function(e,t){i.lazy&&st(e,t)};var st=function(t,n){typeof t!="undefined"&&t instanceof Array&&(i.events=i.events.concat(t)),e.extend(!0,i,n||{}),P();switch(i.type){case E.d:(new rt(i)).render();break;case E.w:(new it(i)).render();break;case E.m:(new tt(i)).render();break;default:return new Error("Illegal view type")}},ot=function(){D(),i.lazy||st()};return ot(),O};var N=function(t){t.find(".draggable").on("mouseenter",e.proxy(function(t){var n=e(t.currentTarget);if(n.attr("is-init"))return;var r=n.attr("data-id")?n:n.find("[data-id]"),i=r.attr("data-id"),s=r.attr("data-calendarid"),o=e.Deferred();n.data("promise",o),A(s,i).done(e.proxy(function(e){C(n,e.data,o)},this)).fail(function(){k(o)}),n.attr("is-init",!0)},this))},C=function(e,t,n){var r=_.map(t.attendees,function(e){return e.name}).join(","),i=_.where(t.attendees,{id:GO.session("id")}).length>0;t.auth=t.auth||i;if(!t.auth||L(t))e.hasClass("draggable")&&(e.removeClass("draggable"),e.draggable().draggable("destroy")),e.hasClass("resizable")&&(e.removeClass("resizable"),e.resizable("destroy"));e.data("event",t),n.resolve();var s=e.find("[title]");t.type=="normal"&&(t.visibility=="private"&&t.auth||t.visibility=="public")?s.attr("title",s.attr("title")+r):s.attr("title",s.attr("title"))},k=function(e){e.resolve()},L=function(e){return e.referenceId?!0:!1},A=function(t,n){return e.ajax({url:GO.contextRoot+"api/calendar/"+t+"/event/"+n,contentType:"application/json"})}}.call(this,jQuery,moment),define("jquery.calbean",function(){}),function(){define("calendar/views/calbean",["backbone","when","app","calendar/models/event","calendar/views/calendar","calendar/libs/util","i18n!nls/commons","i18n!calendar/nls/calendar","go-calendar","jquery.calbean"],function(e,t,n,r,i,s,o,u,a){function E(e){var t={"required:summary":u["\uc77c\uc815\uba85\uc744 \uc785\ub825\ud558\uc138\uc694"],"max:summary":n.i18n(u["\uc77c\uc815\uba85\uc740 {{max}}\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574 \uc8fc\uc2ed\uc2dc\uc624"],"max",y)};return t[e]||u["\uc77c\uc815 \ub4f1\ub85d\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4"]}function S(e){var t=$.Deferred();return x(e).done(function(e){e.hasAsset?$.goConfirm(u["\uc77c\uc815 \ubcc0\uacbd\uc2dc \uc790\uc0b0 \uc608\uc57d \ucde8\uc18c \uba54\uc2dc\uc9c0"],"",function(){$.ajax({url:n.config("contextRoot")+"api/asset/item/reservation",contentType:"application/json",dataType:"json",data:JSON.stringify({ids:e.reservedId}),type:"DELETE",success:t.resolve})},t.reject,""):t.resolve()}),t}function x(e){var t=$.Deferred(),r={hasAsset:!1};return $.ajax({url:n.contextRoot+"api/asset/my/reservation/calendar/"+e,success:function(e){e.data.length&&(r.hasAsset=!0),r.reservedId=_.map(e.data,function(e){return e.id}),t.resolve(r)}}),t}var f="calbeanview",l=[n.constant("calendar","EVENT_SHOW_CAL"),f].join("."),c=[n.constant("calendar","EVENT_HIDE_CAL"),f].join("."),h=[n.constant("calendar","EVENT_CHANGED_COLOR"),f].join("."),p=[n.constant("calendar","EVENT_SHOW_EVENT"),f].join("."),d=[n.constant("calendar","EVENT_CREATE_EVENT"),f].join("."),v=["changed:date",f].join("."),m=["changed:time",f].join("."),g=["changed:view-type",f].join("."),y=500,b=i.prototype,w=i.extend({name:"Calendar.CalbeanView",type:"calbean",height:0,initialize:function(e){this.options=e||{},b.initialize.call(this),this.__initRendered__=!1,this.options=_.extend({date:new Date,startday:0,type:"monthly",lang:n.config("locale"),i18n:{"\uc885\uc77c\uc77c\uc815":u["\uc885\uc77c\uc77c\uc815"],"\uc2dc\uac04":u["\uc2dc\uac04"],"\ub2eb\uae30":o["\ub2eb\uae30"],"\uac1c":"","\uc804\uc0ac\uc77c\uc815":u["\uc804\uc0ac\uc77c\uc815"],"\uc885\uc77c\uadfc\ud0dc\uc77c\uc815":u["\uc885\uc77c\uadfc\ud0dc\uc77c\uc815"],"\ub4f1\ub85d\ud560 \uc218 \uc5c6\ub294 \uc77c\uc815 \uacbd\uace0":u["\ub4f1\ub85d\ud560 \uc218 \uc5c6\ub294 \uc77c\uc815 \uacbd\uace0"]},collection:this.eventsPool,useAttendeeFetch:!0},_.pick(this.options,"date","startday","type"),{lazy:!0}),this.calbean=this.$el.calbean(this.options)},render:function(e,t){return this._getCalendarEvents().done($.proxy(function(n){var r=n.merge();e&&(r=_.filter(r,{calendarId:+e})),this.calbean.render(r,t)},this)).fail($.proxy(function(){this.calbean.render([],t)},this)),this.__initRendered__=!0,this},delegateEvents:function(e){b.delegateEvents.call(this,e),this.undelegateEvents(),this._delegateCustomEvents(),this._delegateCalbeanEvents()},undelegateEvents:function(){b.undelegateEvents.call(this),$(document).off("."+f),this.calbean.off("."+f)},resize:function(e){return this.calbean.resize(e),this},changeDate:function(e){var t=this;this.options.date=n.util.toMoment(e).toDate(),this._getCalendarEvents().done(function(e){t.calbean.changeDate(t.options.date,e.merge())})},changeType:function(e){this.calbean.changeViewType(e)},_showCalendar:function(e,t){var n=this;this.showCalendar(t).done(function(){n._getCalendarEvents().done(function(e){n.calbean.resetEvents(e.merge())})})},_hideCalendar:function(e,t){var n=this;this.hideCalendar(t).progress(function(){n.calbean.resetEvents(n.eventsPool.merge())})},_removeOrgSlideSelectedCalendar:function(){this.beforeSideSelect()},_changeCalendarColor:function(e,t,n){this.calbean.updateCalendarColor(t,n),this.eventsPool.updateCalendar(t,"color",n,{silent:!0})},_isAllowedViewType:function(e){return _.contains(["daily","weekly","monthly"],e)},_getStartDate:function(e){var t=n.util.toMoment(this.options.date);t=e?t.add("months",e):t;var r=t.clone().startOf("months"),i=r.day()-this.options.startday;return r.subtract("days",i<0?7+i:i)},_getEndDate:function(e){var t=n.util.toMoment(this.options.date);t=e?t.add("months",e):t;var r=t.clone().endOf("months"),i=r.day()-this.options.startday;return r.add("days",7-(i<0?7+i:i)-1)},_getBoundaryDate:function(){return{beforeStartDate:this._getStartDate(-1),beforeEndDate:this._getEndDate(-1),afterStartDate:this._getStartDate(1),afterEndDate:this._getEndDate(1)}},_getCalendarEvents:function(){var e=this._getStartDate(),t=this._getEndDate();return this.getCalendarEvents(e,t,!this.__initRendered__)},_setCalendarInfo:function(e){var t=s.getSavedSelectedCalendar(),n=[];t&&(n=t.split(","),n.push(e.toString())),s.saveCheckedCalendar(n)},_goToCalendar:function(){s.goToCalendar()},_delegateCustomEvents:function(){$(document).on(l,$.proxy(this._showCalendar,this)),$(document).on(c,$.proxy(this._hideCalendar,this)),$(document).on(h,$.proxy(this._changeCalendarColor,this))},_delegateCalbeanEvents:function(){function e(e){var t=$.Deferred();return $.goPopup({title:u["\uc54c\ub9bc\uba54\uc77c \ud655\uc778"],message:u["\uc77c\uc815\uc218\uc815\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],buttons:[{btext:o["\ubcf4\ub0b4\uae30"],btype:"confirm",callback:function(){e.set("mailNoti",!0),t.resolve()}},{btext:u["\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"],btype:"normal",callback:function(){e.set("mailNoti",!1),t.resolve()}}],closeIconVisible:!1,closeCallback:function(){self.submitFlag=!1,t.reject()}}),t}function t(t,n,r){var i=$.Deferred();t.isRecurrence()&&t.setRecurChangeType("instance"),t.isAlone()?i.resolve():e(t).done(function(){i.resolve()}).fail(function(){}),i.done(function(){t.isMove=!0,t.save(n,{success:function(e){n.recurrence="",r.eventsPool.updateEvents(e.id,n),r.calbean.resetEvents(r.eventsPool.merge())},error:function(e,t){r.calbean.render();var n=JSON.parse(t.responseText);$.goMessage(n.message)}})})}this.calbean.on(p,$.proxy(function(e,t,r){var i=this,s=n.session("id"),o=i.eventsPool.findEvent(t,r);n.router.navigate(["calendar",t,"event",r].join("/"),{trigger:!0,pushState:!0})},this)),this.calbean.on(d,$.proxy(function(e,t,i,s,f,l){var c=this;a.addSimpleEvent({contextRoot:n.config("contextRoot"),session:n.session(),timeType:t,startDate:i,startTime:s,endDate:f,endTime:l,modal:!0,afterAddEvent:function(e){var t=c.eventsPool,n=new r(e);t.contains(n.get("calendarId"))&&(n.set("auth",!0),t.addEvent(n),c.calbean.resetEvents(t.merge())),c._setCalendarInfo(n.get("calendarId")),c._goToCalendar()},onCreateError:function(e){$.goMessage(E(e))},lang:{"\ub0b4 \uce98\ub9b0\ub354":u["\ub0b4 \uce98\ub9b0\ub354"],"\uc77c\uc815 \ub4f1\ub85d":u["\uc77c\uc815 \ub4f1\ub85d"],"\uc77c\uc815\uba85":u["\uc77c\uc815\uba85"],"\uc77c\uc2dc":u["\uc77c\uc2dc"],"\uc2dc\uac04":u["\uc2dc\uac04"],"\uc885\uc77c":u["\uc885\uc77c"],"\ud655\uc778":o["\ud655\uc778"],"\ucde8\uc18c":o["\ucde8\uc18c"],"\uc77c\uc815\uc0c1\uc138 \uc785\ub825":u["\uc77c\uc815\uc0c1\uc138 \uc785\ub825"],"\uae30\ubcf8 \uce98\ub9b0\ub354 \uc774\ub984":u["\uce98\ub9b0\ub354 \uae30\ubcf8\uc774\ub984"],"\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc":u["\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc"],"\ubd84":u["\ubd84"],"\uc7a5\uc18c":u["\uc7a5\uc18c"],"\uc804\uc0ac\uc77c\uc815":u["\uc804\uc0ac\uc77c\uc815"],"\uc54c\ub9bc\uba54\uc77c \ud655\uc778":u["\uc54c\ub9bc\uba54\uc77c \ud655\uc778"],"\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":u["\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],"\ubcf4\ub0b4\uae30":o["\ubcf4\ub0b4\uae30"],"\ubcf4\ub0b4\uc9c0 \uc54a\uc74c":u["\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"]}})},this)),this.calbean.on(v,$.proxy(function(e,r,i,s,o,u){var a=this,f=a.eventsPool.findEvent(i,r),l=n.util.toMoment(f.get("startTime")),c=n.util.toMoment(s+l.format("THH:mm:ssZZ")),h=c.diff(l,"days"),p=n.util.toMoment(f.get("endTime")),d=p.clone().add("days",h),v={startTime:n.util.toISO8601(c),endTime:n.util.toISO8601(d)},m=a.$(".ev-"+r).data("event");if(m){var g=m.attendees;f.set("attendees",g)}var y=n.isAvailableApp("asset");y?S(r).then(function(){t(f,v,a)}):t(f,v,a)},this)),this.calbean.on(m,$.proxy(function(e,r,i,s,o,u){var a=this,f=this.eventsPool.findEvent(i,r),l={startTime:s,endTime:o},c=a.$('[data-id="'+r+'"]').data(),h=null;c&&(h=c.promise,h&&h.then(function(){f.set("attendees",c.event?c.event.attendees:undefined);var e=n.isAvailableApp("asset");e?S(r).then(function(){t(f,l,a)}):t(f,l,a)}))},this)),this.calbean.on(g,$.proxy(function(e,t,r){n.router.navigate(["calendar",t,r].join("/"),{trigger:!0,pushState:!0}),e.stopImmediatePropagation()},this))}});return w})}.call(this),define("hgn!calendar/templates/agenda",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<table class="type_normal tb_agenda">\r'),r.b("\n"+n),r.b("<thead>\r"),r.b("\n"+n),r.b("    <tr>\r"),r.b("\n"+n),r.b('        <th class="day">'),r.b(r.v(r.d("label.date",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('        <th class="time">'),r.b(r.v(r.d("label.period",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('        <th class="subject">'),r.b(r.v(r.d("label.title",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('        <th class="attend">'),r.b(r.v(r.d("label.attendees",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b("    </tr>\r"),r.b("\n"+n),r.b("</thead>\r"),r.b("\n"+n),r.b("<tbody>\r"),r.b("\n"+n),r.b(r.rp("<agenda_list0",e,t,"    ")),r.b("</tbody>\r"),r.b("\n"+n),r.b("</table>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<span class="wrap_alert agenda-duration-wrap" style="display: none;">\r'),r.b("\n"+n),r.b('	<span class="alert_box">\r'),r.b("\n"+n),r.b('		<span class="txt" id="agenda-duration">'),r.b(r.v(r.f("duration",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("	</span>\r"),r.b("\n"+n),r.b("</span>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<div class="bottom_action" style="display:none;">\r'),r.b("\n"+n),r.b('	<a id="more-load-btn" class="btn_list_reload"><span class="ic"></span><span class="txt">'),r.b(r.v(r.d("label.more",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{"<agenda_list0":{name:"agenda_list",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!calendar/templates/agenda_list",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<tr>\r"),r.b("\n"+n),r.s(r.f("empty?",e,t,1),e,t,0,18,178,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<td colspan="4">\r'),r.b("\n"+n),r.b('		<p class="data_null">\r'),r.b("\n"+n),r.b('			<span class="ic_data_type ic_no_data"></span>\r'),r.b("\n"+n),r.b('			<span class="txt">'),r.b(r.v(r.d("message.empty",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("		</p>\r"),r.b("\n"+n),r.b("	</td>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("empty?",e,t,1),e,t,1,0,0,"")||(r.b("    "),r.s(r.f("first_row?",e,t,1),e,t,0,224,302,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("<th"),n.s(n.f("rowspan?",e,t,1),e,t,0,240,268,"{{ }}")&&(n.rs(e,t,function(e,t,n){n.b(' rowspan="'),n.b(n.v(n.f("rowspan_count",e,t,0))),n.b('"')}),e.pop()),n.b(">"),n.b(n.v(n.f("format_date",e,t,0))),n.b("</th>")}),e.pop()),r.b("\r"),r.b("\n"+n),r.b('    <td><span class="time">'),r.b(r.v(r.f("format_time",e,t,0))),r.b("</span></td>\r"),r.b("\n"+n),r.b('    <td class="align_l">\r'),r.b("\n"+n),r.s(r.f("is_ehr_event",e,t,1),e,t,0,426,756,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('        <div class="ehr_info">\r'),r.b("\n"+n),r.b('            <a class="event_link" href="'),r.b(r.v(r.f("detail_url",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('                <span class="chip bgcolor'),r.b(r.v(r.f("calendar_color",e,t,0))),r.b('" title="'),r.b(r.v(r.f("calendar_name",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b('                <span class="info">'),r.b(r.t(r.f("summary",e,t,0))),r.b('</span><span class="name">('),r.b(r.v(r.f("creator_name",e,t,0))),r.b(")</span>\r"),r.b("\n"+n),r.b("            </a>\r"),r.b("\n"+n),r.b("        </div>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("is_ehr_event",e,t,1),e,t,1,0,0,"")||(r.b('        <a class="event_link" href="'),r.b(r.v(r.f("detail_url",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('            <span class="chip_schedule">\r'),r.b("\n"+n),r.s(r.f("show_color?",e,t,1),e,t,0,927,1041,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <span class="chip bgcolor'),r.b(r.v(r.f("calendar_color",e,t,0))),r.b('" title="'),r.b(r.v(r.f("calendar_name",e,t,0))),r.b('"></span>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("is_group_event?",e,t,1),e,t,0,1095,1201,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <span class="chip bgcolor_group" title="'),r.b(r.v(r.d("label.group_event",e,t,0))),r.b('"></span>\r'),r.b("\n"+n)}),e.pop()),r.s(r.f("is_private?",e,t,1),e,t,0,1255,1381,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('                <span class="ic_classic ic_lock" title="'),r.b(r.v(r.d("label.private",e,t,0))),r.b('" alt="'),r.b(r.v(r.d("label.private",e,t,0))),r.b('"></span>\r'),r.b("\n"+n)}),e.pop()),r.b("                <span>"),r.b(r.t(r.f("summary",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </span>\r"),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n)),r.b("    </td>\r"),r.b("\n"+n),r.b('    <td class="align_l">'),r.b(r.v(r.f("attendees",e,t,0))),r.b("</td>\r"),r.b("\n"+n)),r.b("</tr>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/views/agenda",["underscore","app","calendar/views/calendar","hgn!calendar/templates/agenda","hgn!calendar/templates/agenda_list","i18n!nls/commons","i18n!calendar/nls/calendar"],function(e,t,n,r,i,s,o){function v(e){return e.referenceId?!0:!1}function m(e,n){function s(e,t){var n=e.split("T")[0],r=t.split("T")[0],i=-1;return n>r?i=1:n===r&&(i=0),i}function o(e,t){this.a=e,this.b=t,this.__result__=0,this.pipe=function(e){return this.__result__===0&&(this.__result__=e(this.a,this.b)),this},this.run=function(){return this.__result__}}var r={holiday:1,anniversary:1,company:2,normal:2},i={allday:1,timed:2};return(new o(e,n)).pipe(function(t,n){return r[t.type]-r[n.type]}).pipe(function(t,n){if(t.timeType=="allday"&&n.timeType=="allday"){if(t.is_ehr_event&&!n.is_ehr_event)return 1;if(!t.is_ehr_event&&n.is_ehr_event)return-1}return 0}).pipe(function(t,n){return s(t.startTime,n.startTime)}).pipe(function(t,n){return s(n.endTime,t.endTime)}).pipe(function(t,n){return i[t.timeType]-i[n.timeType]}).pipe(function(n,r){return t.util.toMoment(n.startTime).valueOf()-t.util.toMoment(r.startTime).valueOf()}).pipe(function(n,r){return t.util.toMoment(n.createdAt).valueOf()-t.util.toMoment(r.createdAt).valueOf()}).run()}var u="agendaview",a=[t.constant("calendar","EVENT_SHOW_CAL"),u].join("."),f=[t.constant("calendar","EVENT_HIDE_CAL"),u].join("."),l=[t.constant("calendar","EVENT_CHANGED_COLOR"),u].join("."),c=t.util.toMoment,h=n.prototype,p={"empty?":!1,label:{date:o["\ub0a0\uc9dc"],period:o["\uae30\uac04"],title:s["\uc81c\ubaa9"],attendees:o["\ucc38\uc11d\uc790"],"private":s["\ube44\uacf5\uac1c"],more:t.i18n(o["\uc77c\uc815\ubaa9\ub85d \ub354\ubcf4\uae30 \ub77c\ubca8"],{duration:15})},message:{empty:o["\uc77c\uc815\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"]}},d=n.extend({name:"Calendar.AgendaView",type:"agenda",__haveEvents__:!1,startDate:null,endDate:null,events:{"click #more-load-btn":"_loadMoreList"},initialize:function(t){this.options=t||{},console.log("[AgendaView#initialize] called..."),h.initialize.call(this),this.calendarId=null,this.options=e.extend({date:c(new Date).startOf("day")},e.pick(this.options,"date")),this.$el.css("padding-bottom","20px"),this._prepareTemplate(),this._init()},_init:function(){this.__haveEvents__=!1,this.__infinitScrollCount__=0,this.startDate=null,this.endDate=null,this.setBoundaryTime()},setBoundaryTime:function(){this.startDate===null&&(this.startDate=c(this.options.date).clone().startOf("day")),this.endDate=this.startDate.clone().add("days",15).endOf("days")},render:function(e){return e&&(this.calendarId=e),this._renderList(),this},delegateEvents:function(e){console.log("[AgendaView#delegateEvents] called..."),h.delegateEvents.call(this,e),$(document).on(a,$.proxy(this._showCalendar,this)),$(document).on(f,$.proxy(this._hideCalendar,this)),$(document).on(l,$.proxy(this._changeCalendarColor,this))},undelegateEvents:function(){console.log("[AgendaView#undelegateEvents] called...");var e="."+u;h.undelegateEvents.call(this),$(document).off(e),$(window).off(e)},changeDate:function(e){this.options.date=c(e).toDate(),this._init(),this.$el.find("tbody").empty(),this._renderList()},_renderList:function(t){t=t||!1;var n=this,r=this.calendarId,s=t?this.startDate:this.options.date;return this.getCalendarEvent(s,this.endDate,!0).done(function(t){var s=t.merge(),o,u=[];r&&(s=e.where(s,{calendarId:r+""})),o=n._buildEventSlots(t.timeMin,t.timeMax,s),o.length>0?(e.each(o,function(e,t){u.push(i(e))}),n.__haveEvents__=!0):n.__haveEvents__||u.push(i(e.extend(p,{"empty?":!0}))),n.$el.find("tbody").append(u.join("\n")),n.__haveEvents__?($(".bottom_action").show(),$(".agenda-duration-wrap").show()):($(".bottom_action").hide(),$(".agenda-duration-wrap").hide()),n._renderDuration()}),this},_loadMoreList:function(){this.startDate=this.endDate.clone().startOf("day").add("days",1),this.setBoundaryTime(),this._renderList(!0)},_renderDuration:function(){$("#agenda-duration").empty().text(t.i18n(o["\uc77c\uc815\ubaa9\ub85d \uc885\ub8cc\uc77c \ud45c\uc2dc"],{date:c(this.endDate).format("YYYY-MM-DD")}))},_resetList:function(){return this.$el.find("tbody").empty(),this._renderList(),this},_showCalendar:function(e,t){console.log("[AgendaView#_showCalendar] loading...");var n=this;this.showCalendar(t).progress(function(){n._resetList()})},_hideCalendar:function(e,t){console.log("[AgendaView#_hideCalendar] loading...");var n=this;this.hideCalendar(t).progress(function(){n._resetList()})},_changeCalendarColor:function(e,t,n){this.eventsPool.updateCalendar(t,"color",n,{silent:!0}),this._resetList()},_buildEventSlots:function(n,r,i){var s=e.filter(i,function(e){return e.summary&&e.summary.length>0}),o=15,u=c(n).clone(),a=c(r).clone(),f=new Array(o),l=[];for(var h=0,p=s.length;h<p;h++){if(!s[h])continue;var d,g;s[h].timeType=="allday"?(d=t.util.dateWithoutTimeZone(s[h].startTime),g=t.util.dateWithoutTimeZone(s[h].endTime)):(d=s[h].startTime,g=s[h].endTime);var y=s[h],b=Math.max(c(d).valueOf(),u.valueOf()),w=Math.min(c(g).valueOf(),a.valueOf()),E=c(b),S=c(w),x=E.clone(),T=this._getDuration(u,E)-1,N=this._getDuration(E,S);for(var C=0;C<N;C++){var k=T+C;if(k>=0){f[k]instanceof Array||(f[k]=[]);var L=t.config("root")+["calendar",y.calendarId,"event",y.id].join("/"),A=!0,O="",M="";y.creator&&(O=y.creator.name,M=y.creator.position),y.__merged__&&!y.__merged__.include_me&&(A=!1),f[k].push({type:y.type,timeType:y.timeType,startTime:y.startTime,endTime:y.endTime,createdAt:y.createdAt,detail_url:L,format_date:x.format("MM.DD(ddd)"),format_time:this._getFormattedTime(x,y),duration:N,calendar_color:y.color,calendar_name:[O,M].join(" "),summary:y.summary,attendees:this._getAttendeedsString(y.attendees),"show_color?":A,"is_private?":y.visibility==="private","is_group_event?":!!y.__merged__&&!!y.__merged__.calendarId,"first_row?":!1,"rowspan?":!1,is_ehr_event:v(y),creator_name:O,event_id:y.id,calendar_id:y.calendarId})}x.add("days",1)}}return e.each(f,function(t,n){t&&(l[n]?l[n].concat(t):l[n]=t,l[n].sort(m),e.extend(l[n][0],{"first_row?":!0,"rowspan?":l[n].length>1?!0:!1,rowspan_count:l[n].length}))}),e.flatten(e.compact(l),!0)},_getFormattedTime:function(e,n){var r="",i,s,u=this._getDuration(n.startTime,n.endTime),a=c(n.startTime).format("A hh:mm"),f=c(n.endTime).format("A hh:mm");return n.timeType==="allday"?r=v(n)?o["\uadfc\ud0dc\uc77c\uc815"]:o["\uc885\uc77c\uc77c\uc815"]:(u>1?(i=t.util.isSameDate(e,n.startTime)?a:o["\uacc4\uc18d"],s=t.util.isSameDate(e,n.endTime)?f:o["\uacc4\uc18d"]):(i=a,s=f),r=[i,s].join(" ~ ")),r},_getDuration:function(e,t){return Math.ceil(c(t).clone().endOf("days").diff(c(e).clone().startOf("days"),"days",!0))},_getAttendeedsString:function(t){var n=e.map(t,function(e){return e.name?[e.name,e.position].join(" "):e.email});return n.join(", ")},_prepareTemplate:function(){this.$el.empty().html(r(p))}});return d})}.call(this),define("hgn!calendar/templates/calendar",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<section class="tool_bar calendar_tool_bar">\r'),r.b("\n"+n),r.b("            \r"),r.b("\n"+n),r.b('    <p class="timezone">'),r.b(r.v(r.f("timezone",e,t,0))),r.b("</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('    <div class="critical">\r'),r.b("\n"+n),r.b('        <ul class="tab_nav">            \r'),r.b("\n"+n),r.b('            <li class="first" data-type="daily"><span>'),r.b(r.v(r.f("tab_daily",e,t,0))),r.b("</span></li>          \r"),r.b("\n"+n),r.b('            <li data-type="weekly"><span>'),r.b(r.v(r.f("tab_weekly",e,t,0))),r.b("</span></li>                           \r"),r
.b("\n"+n),r.b('            <li data-type="monthly"><span>'),r.b(r.v(r.f("tab_monthly",e,t,0))),r.b("</span></li>\r"),r.b("\n"+n),r.b('            <li class="last" data-type="agenda"><span>'),r.b(r.v(r.f("tab_agenda",e,t,0))),r.b("</span></li>\r"),r.b("\n"+n),r.b("        </ul>       \r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b('    <div class="current_date">  \r'),r.b("\n"+n),r.b('        <span class="prev-btn btn_ic_prev2 btn_border" title="'),r.b(r.v(r.f("text_prev",e,t,0))),r.b('"><span class="ic ic_prev2"></span></span>\r'),r.b("\n"+n),r.b('        <span class="date datepicker-btn" id="date-indicator">'),r.b(r.v(r.f("date_str",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b('        <span class="next-btn btn_ic_next2 btn_border" title="'),r.b(r.v(r.f("text_next",e,t,0))),r.b('"><span class="ic ic_next2"></span></span>\r'),r.b("\n"+n),r.b('        <input id="calendarDatepicker" type="text" style="border:0px;width:0px;height:0px;">\r'),r.b("\n"+n),r.b('        <span class="today-btn btn_tool"><span class="txt">'),r.b(r.v(r.f("today",e,t,0))),r.b("</span></span>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b('    <div class="optional">      \r'),r.b("\n"+n),r.b('        <ul class="">\r'),r.b("\n"+n),r.b("        </ul>               \r"),r.b("\n"+n),r.b("    </div>          \r"),r.b("\n"+n),r.b("</section>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/views/app",["underscore","backbone","amplify","app","moment","calendar/models/calendar_feed","calendar/collections/calendar_feeds","calendar/collections/calendars","calendar/views/calbean","calendar/views/agenda","calendar/libs/util","hgn!calendar/templates/calendar","i18n!calendar/nls/calendar","i18n!nls/commons","jquery.ui","jquery.calbean","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p){function w(){var t=r.session("id")+"-calendar",n={viewtype:{storetype:"local","default":"monthly"},basedate:{storetype:"session","default":r.util.toMoment(new Date).format("YYYY-MM-DD")}},i={};return e.each(n,function(e,n){var s=t+"-"+n,o=r.util.store,u=o.get(s);u?i[n]=u:(o.set(s,e["default"],{type:e.storetype}),i[n]=e["default"])}),i}var d=r.constant("calendar","EVENT_CHANGE_CAL_TYPE"),v=i().lang(r.config("locale")),m=Array.prototype.slice,g=t.View.prototype,y={timezone:"",tab_daily:h["\uc77c\uac04"],tab_weekly:h["\uc8fc\uac04"],tab_monthly:h["\uc6d4\uac04"],tab_agenda:h["\ubaa9\ub85d"],date_str:v.format(h["YYYY\ub144 MM\uc6d4"]),today:h["\uc624\ub298"],print:p["\uc778\uc1c4"],text_prev:p["\uc774\uc804"],text_next:p["\ub2e4\uc74c"]},b=t.View.extend({tagName:"div",className:"content_page",calendarView:null,conditions:{},height:0,events:{"click .tab_nav > li":"_changeCalendarType","click .current_date .prev-btn":"_goToPrev","click .current_date .next-btn":"_goToNext","click .current_date .datepicker-btn":"_goToDate","click .current_date .today-btn":"_goToToday","click .ic_print":"_printPage"},initialize:function(t){this.options=t||{},this.height=0,this.calendarView=null,this.datastore=w(),this.options=e.defaults(this.options,{type:this.datastore.viewtype,date:r.util.toMoment(this.datastore.basedate).toDate()}),this.__calendarIds__={},this.conditions={date:this.options.date,startday:0,type:this.options.type},this.datastore.viewtype!==this.conditions.type&&this._saveViewTypeToStore(this.conditions.type),this.$el.empty().append(c(y)),this.setDateIndicator(),this._createCalendarView(),this._initTab(),$.datepicker.setDefaults($.datepicker.regional[r.config("locale")]),this._initDatepicker()},render:function(e){return this.calendarView.render(e,{height:this.getHeight()}),this.$el.append(this.calendarView.el),this.el},delegateEvents:function(e){g.delegateEvents.call(this,e),this._bindTabEvent()},undelegateEvents:function(){g.undelegateEvents.call(this),this.getTabElement().off(d)},resize:function(e){if(this._isAgendaView())return;typeof e!="undefined"&&this.setHeight(e),this.$el.height(this.height),this.calendarView.resize(this.height)},setHeight:function(e){var t=24;this.height=e-this.getToolbarView().outerHeight()+t},getHeight:function(){return this.height},setDateIndicator:function(){var e="YYYY.MM.DD",t=r.util.toMoment(this.conditions.date),n=t.format(e),i=t.format("YYYY.MM"),s=r.util.toMoment(r.util.getStartDateOfWeek(t,this.conditions.startday)),o=r.util.toMoment(r.util.getEndDateOfWeek(t,this.conditions.startday)),u={monthly:i,weekly:[s.format(e),o.format(e)].join(" ~ "),daily:n,agenda:n}[this.getCalendarType()];return this.getToolbarView().find("#date-indicator").empty().html(u),this},getCalendarType:function(){return this.conditions.type},setCalendarType:function(e){return console.log("[CalendarAppView#setCalendarType] loading..."),this.conditions.type=e,this._saveViewTypeToStore(e),this.resetCalendarView(),this},resetCalendarView:function(){return this.calendarView.type!==this._getCalendarViewType()?(this.calendarView.remove(),this.calendarView=null,this._createCalendarView(),this.render(),this.resize()):this.calendarView.changeType(this.getCalendarType()),this},getToolbarView:function(){return this.$el.find(".tool_bar")},getTabElement:function(){return this.$el.find(".tab_nav")},addCalendars:function(){var t=m.call(arguments);return e.each(t,function(e,t){this.calendarView.addCalendar(parseInt(e))},this),this},clearCalendars:function(){this.calendarView.clearCalendars()},addCalendarsByUserId:function(n){var i=this,s=new u;return s.setUserId(n).fetch({async:!1,success:function(n){var s=n.getMyCalendars()[0],u=o.getInstance(),a=s.id;u.isFollowing(a)||!s.isPrivate()?i.addCalendars.apply(i,e.pluck(n.getUserCalendars(),"id")):$.goPopup({title:h["\uc77c\uc815\uc744 \uc5f4\ub78c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4"],message:h["\uad00\uc2ec \uce98\ub9b0\ub354\uac00 \ub418\uba74 \uc77c\uc815\uc744 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],buttons:[{btext:h["\uad00\uc2ec\ub3d9\ub8cc \uc2e0\uccad"],btype:"confirm",callback:function(){var e=r.config("contextRoot")+"api/calendar/feed?calendarId="+a;t.ajax(e,{type:"POST"}).done(function(e){r.router.navigate("calendar",{trigger:!0,replace:!0})}).fail(function(){r.router.navigate("calendar",{trigger:!0})})}},{btext:p["\ucde8\uc18c"],btype:"normal",callback:function(){r.router.navigate("calendar",{trigger:!0,pushState:!0})}}]})}}),s},_showTagLayer:function(){var e=$("#side input[name=calendar_id]:checked"),t;t=createCalendarTagLayer(e),t.appendTo($("header.content_top")),t.show()},_initTab:function(){return this.getTabElement().find('li[data-type="'+this.conditions.type+'"]').addClass("on"),this},_createCalendarView:function(){return this.calendarView=this._isAgendaView()?new f({date:this.conditions.date}):new a(this.conditions),this},_getCalendarViewType:function(){return this._isAgendaView()?"agenda":"calbean"},_isAgendaView:function(){return this.conditions.type==="agenda"},_goToPrev:function(e){return this._goToOffset(-1),this},_goToNext:function(e){return this._goToOffset(1),this},_goToOffset:function(e){var t={monthly:"months",weekly:"weeks",daily:"days",agenda:"days"}[this.getCalendarType()],n=r.util.toMoment(this.conditions.date).clone().add(t,e);return this._changeDate(n),this},_goToDate:function(e){this.$el.find("#calendarDatepicker").trigger("focus")},_initDatepicker:function(){var e=this,t=this.$el.find("#calendarDatepicker").datepicker({changeMonth:!0,changeYear:!0,yearSuffix:"",onSelect:function(t){e._changeDate(t)}});this.$el.find("#calendarDatepicker").datepicker("setDate",this.conditions.date)},_goToToday:function(e){return this._changeDate(),this},_changeDate:function(e){var t=this.conditions.type,n=this.conditions.date=r.util.toMoment(e||new Date).toDate(),i=["calendar",t,this._getDateForType(t)].join("/");return r.EventEmitter.trigger("common","layout:setOverlay",""),this.calendarView.changeDate(n),this._saveBasedateToStore(n),this.setDateIndicator(),r.router.navigate(i,{trigger:!1,pushState:!0}),r.EventEmitter.trigger("common","layout:clearOverlay",!0),this},_bindTabEvent:function(){var e=this.getTabElement();return $(this.getTabElement()).find("li").each(function(t,n){$(e).on(d,function(e,t){$(n).attr("data-type")===t?$(n).addClass("on"):$(n).removeClass("on")})}),this},_changeCalendarType:function(e){var t=$(e.currentTarget).is("span")?$(e.currentTarget).parent():$(e.currentTarget),n=t.attr("data-type")||"monthly",i={trigger:!0,pushState:!0},s="";return s=["calendar",n,this._getDateForType(n)].join("/"),this.conditions.type!=="agenda"&&n!=="agenda"&&(this.setCalendarType(n),this.setDateIndicator(),this.getTabElement().trigger(d,[n]),i.trigger=!1),r.router.navigate(s,i),this},_getDateForType:function(e){return l.getDateForUrl(e,this.conditions.date)},_saveViewTypeToStore:function(e){l.saveCalendarType(e)},_saveBasedateToStore:function(e){l.saveBasedate(e)},_printPage:function(){window.print()}});return b})}.call(this),function(){define("calendar/collections/search_results",["backbone","app"],function(e,t){var n=t.BaseModel.extend({}),r=t.BaseCollection.extend({model:n,url:function(){return this.conditionValidate(),"/api/search/calendar?"+$.param(this.conditions)},initialize:function(){this.conditions={type:"all",page:0,offset:20}},conditionValidate:function(){if(!this.conditions.stype)throw new Error("'stype' \ud30c\ub77c\ubbf8\ud130\ub294 \ud544\uc218\uc785\ub2c8\ub2e4.");if(this.conditions.stype==="simple"&&!this.conditions.keyword)throw new Error("'simple'\ud0c0\uc785 \uac80\uc0c9\uc5d0\ub294 'keyword' \uc18d\uc131\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");return!0},getConditions:function(){return this.conditions},setSearchType:function(e){return this.conditions.stype=e,this},getSearchType:function(){return this.conditions.stype},isDetailSearch:function(){return this.conditions.stype==="detail"},setKeyword:function(e){return this.conditions.keyword=e,this},getKeyword:function(){return this.conditions.keyword?this.conditions.keyword:null},setSummary:function(e){return this.conditions.summary=e,this},getSummary:function(){return this.conditions.summary?this.conditions.summary:null},setType:function(e){return this.conditions.type=e,this},getType:function(){return this.conditions.type},setAttendees:function(e){return this.conditions.attendees=e,this},getAttendees:function(){return this.conditions.attendees?this.conditions.attendees:null},setFromDate:function(e){return this.conditions.fromDate=t.util.toISO8601(e),this},getFromDate:function(){return this.conditions.fromDate},setToDate:function(e){return this.conditions.toDate=t.util.toISO8601(e),this},getToDate:function(){return this.conditions.toDate},setPage:function(e){return this.conditions.page=e,this},getPage:function(){return this.conditions.page},setOffset:function(e){return this.conditions.offset=e,this},getOffset:function(){return this.conditions.offset},parseQueryString:function(){var e=t.router.getSearch();return this.conditions=_.extend(this.conditions,e),this}});return r})}.call(this),define("hgn!calendar/templates/search_result",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="content_search_wrap">\r'),r.b("\n"+n),r.b('    <h1><ins class="bullet"></ins><span class="title">'),r.b(r.v(r.d("label.keyword",e,t,0))),r.b(" :</span></h1>\r"),r.b("\n"+n),r.s(r.f("detail_search?",e,t,1),e,t,1,0,0,"")||(r.b('    <span class="info">'),r.b(r.v(r.f("keyword",e,t,0))),r.b("</span>\r"),r.b("\n"+n)),r.s(r.f("detail_search?",e,t,1),e,t,0,238,718,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <dl class="info">   \r'),r.b("\n"+n),r.s(r.d("keyword.summary",e,t,1),e,t,0,294,380,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("        <dt>["),r.b(r.v(r.d("label.summary",e,t,0))),r.b("]</dt>\r"),r.b("\n"+n),r.b("        <dd>"),r.b(r.v(r.d("keyword.summary",e,t,0))),r.b("</dd>\r"),r.b("\n"+n)}),e.pop()),r.s(r.d("keyword.attendees",e,t,1),e,t,0,432,521,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("        <dt>["),r.b(r.v(r.d("label.attendee",e,t,0))),r.b("]</dt>\r"),r.b("\n"+n),r.b("        <dd>"),r.b(r.v(r.d("keyword.attendees",e,t,0))),r.b("</dd>\r"),r.b("\n"+n)}),e.pop()),r.s(r.d("keyword.period",e,t,1),e,t,0,572,682,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("        <dt>["),r.b(r.v(r.d("label.period",e,t,0))),r.b("]</dt>\r"),r.b("\n"+n),r.b('        <dd><span class="date">'),r.b(r.v(r.d("keyword.period",e,t,0))),r.b("</span></dd>\r"),r.b("\n"+n)}),e.pop()),r.b("    </dl>\r"),r.b("\n"+n)}),e.pop()),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<div class="calendar_body">\r'),r.b("\n"+n),r.b('    <table class="type_normal tb_agenda tb_search_result">\r'),r.b("\n"+n),r.b("        <thead>\r"),r.b("\n"+n),r.b("            <tr>\r"),r.b("\n"+n),r.b('                <th class="day">'),r.b(r.v(r.d("label.date",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('                <th class="time">'),r.b(r.v(r.d("label.period",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('                <th class="subject">'),r.b(r.v(r.d("label.summary",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('                <th class="attend">'),r.b(r.v(r.d("label.attendee",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b("            </tr>\r"),r.b("\n"+n),r.b("        </thead>\r"),r.b("\n"+n),r.b("        <tbody>\r"),r.b("\n"+n),r.b(r.rp("<search_results0",e,t,"            ")),r.b("        </tbody>\r"),r.b("\n"+n),r.b("    </table>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<div class="bottom_action" id="searchMoreButton" style="display:none">\r'),r.b("\n"+n),r.b('    <a class="btn_list_reload" data-bypass><span class="ic"></span><span class="txt">'),r.b(r.v(r.d("label.more",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{"<search_results0":{name:"search_results",partials:{},subs:{}}},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!calendar/templates/_search_results",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("search_results",e,t,1),e,t,0,19,426,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("<tr>\r"),r.b("\n"+n),r.b("    <th>"),r.b(r.v(r.f("event_date",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('    <td><span class="time">'),r.b(r.v(r.f("event_time",e,t,0))),r.b("</span></td>\r"),r.b("\n"+n),r.b('    <td class="align_l">\r'),r.b("\n"+n),r.b('        <a href="#" class="summary_link" data-id="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-calendar-id="'),r.b(r.v(r.f("calendarId",e,t,0))),r.b('" data-bypass>\r'),r.b("\n"+n),r.b('            <span class="chip_schedule">\r'),r.b("\n"+n),r.b("                <span>"),r.b(r.t(r.f("summary",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("            </span>\r"),r.b("\n"+n),r.b("        </a>\r"),r.b("\n"+n),r.b("    </td>\r"),r.b("\n"+n),r.b('    <td class="align_l">'),r.b(r.t(r.f("attendees",e,t,0))),r.b("</td>\r"),r.b("\n"+n),r.b("</tr>\r"),r.b("\n"+n)}),e.pop()),r.s(r.f("search_results",e,t,1),e,t,1,0,0,"")||(r.b("<tr>\r"),r.b("\n"+n),r.b('    <td colspan="4">\r'),r.b("\n"+n),r.b('        <p class="data_null">\r'),r.b("\n"+n),r.b('        <span class="ic_classic ic_no_result"></span>\r'),r.b("\n"+n),r.b('        <span class="txt">'),r.b(r.v(r.d("msg.no_matched",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("        </p>\r"),r.b("\n"+n),r.b("    </td>\r"),r.b("\n"+n),r.b("</tr>\r"),r.b("\n"+n)),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/views/search_result",["jquery","underscore","backbone","app","calendar/collections/search_results","hgn!calendar/templates/search_result","hgn!calendar/templates/_search_results","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-preloader"],function(e,t,n,r,i,s,o,u,a){var f={label:{keyword:u["\uac80\uc0c9\uc5b4"],summary:a["\uc77c\uc815\uba85"],category:a["\uc77c\uc815 \uad6c\ubd84"],attendee:a["\ucc38\uc11d\uc790"],description:u["\ub0b4\uc6a9"],period:a["\uae30\uac04"],date:a["\ub0a0\uc9dc"],more:u["\ub354\ubcf4\uae30"]}},l=r.BaseView.extend({className:"content_page",events:{"click a.summary_link":"_goToEvent","click #searchMoreButton":"_showMore"},initialize:function(){this.collection=new i,this.collection.parseQueryString(),this._prepareTemplate()},fetchResult:function(){var t=this,n=e.Deferred(),r=e.goPreloader();return this.collection.fetch({beforeSend:function(){r.render(),n.notify()},complete:function(){r.release()},success:function(){t.render()},fail:n.reject}),n},render:function(){return this.$el.find("table.tb_search_result > tbody").empty().append(this._makeList()),this._renderMoreButton(),e("header.content_top > h1 > span.num").html(r.i18n(u["\ucd1d\uac74\uc218"],{num:this.getResultCount()})),this._bindScrollEvent(),this},_showMore:function(){var e=this;this.collection.setPage(e.collection.getPage()+1),this.collection.fetch({success:function(){e.$el.find("table.tb_search_result > tbody").append(e._makeList()),e._renderMoreButton()}})},_makeList:function(){return o({search_results:this._parseSearchResults(),msg:{no_matched:a["\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \uc77c\uc815\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"]}})},_renderMoreButton:function(){this.collection.page.lastPage?this.$("#searchMoreButton").hide():this.$("#searchMoreButton").show()},_bindScrollEvent:function(){var t=this;e(window).unbind("scroll.board"),e(window).bind("scroll.board",function(n){d_height=e(document).height(),w_height=e(window).height(),s_height=d_height-w_height,d_top=e(document).scrollTop(),s_height-d_top<2&&t.$el.find("div.bottom_action").is(":visible")&&t._showMore()})},reload:function(){this.$el.find(".tb_search_result").empty(),this.render()},getResultCount:function(){return this.collection.length},_prepareTemplate:function(){this.$el.empty();var e=s(t.extend({"detail_search?":this.collection.isDetailSearch(),keyword:this._parseKeyword()},f));return this.$el.append(e),this},_parseKeyword:function(){var e=null;return this.collection.isDetailSearch()?(e={summary:u["\uc804\uccb4"],attendees:u["\uc804\uccb4"],period:u["\uc804\uccb4"]},this.collection.getSummary()&&(e.summary=this.collection.getSummary()),this.collection.getAttendees()&&(e.attendees=this.collection.getAttendees()),this.collection.getFromDate()&&this.collection.getToDate()&&(e.period=[r.util.shortDate(this.collection.getFromDate()),r.util.shortDate(this.collection.getToDate())].join(" ~ "))):e=this.collection.getKeyword(),e},_parseSearchResults:function(){var e=this.collection.toJSON();return t.map(e,function(e,t){e.event_date=r.util.basicDate2(e.startTime);if(e.timeType==="allday")e.event_time=a["\uc885\uc77c\uc77c\uc815"];else{var i=r.util.hourMinute(e.startTime),s=r.util.isSameDate(e.startTime,e.endTime)?r.util.hourMinute(e.endTime):a["\uacc4\uc18d"];e.event_time=[i,s].join(" ~ ")}e.calendarId=n.$.trim(e.calendarId)},this),e},_goToEvent:function(t){t.preventDefault();var n=e(t.currentTarget);return r.router.navigate(["calendar",n.attr("data-calendar-id"),"event",n.attr("data-id")].join("/"),{trigger:!0,pushState:!0}),this}});return l})}.call(this),define("hgn!calendar/templates/preference",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="tab_menu_wrap">\r'),r.b("\n"+n),r.b('    <ul id="calendar-preference-tab" class="tab_menu">\r'),r.b("\n"+n),r.b('        <li class="active" data-type="calendar"><span class="txt">'),r.b(r.v(r.d("tab.my_cal",e,t,0))),r.b("</span></li>\r"),r.b("\n"+n),r.b('        <li data-type="follow"><span class="txt">'),r.b(r.v(r.d("tab.follow",e,t,0))),r.b("</span></li>\r"),r.b("\n"+n),r.b("    </ul>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<!-- div id="basic-config-pane" class="tab_conent_wrap"'),r.s(r.f("show_follows_pane?",e,t,1),e,t,0,355,377,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' style="display:none;"')}),e.pop()),r.b(">\r"),r.b("\n"+n),r.b('    <div class="vertical_wrap">\r'),r.b("\n"+n),r.b('		<form id="form-add-mycal">\r'),r.b("\n"+n),r.b("			<label>"),r.b(r.v(r.d("label.calendar_name",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b('			<input type="text" class="input wfix_large">\r'),r.b("\n"+n),r.b('			<a class="btn_fn10" href="#" data-bypass>'),r.b(r.v(r.d("label.add_calendar",e,t,0))),r.b("</a>\r"),r.b("\n"+n),r.b("		</form> \r"),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n),r.b('	<div class="tool_bar">\r'),r.b("\n"+n),r.b('		<div class="critical">						\r'),r.b("\n"+n),r.b('			<a class="btn_tool" data-role="button"><span class="txt">'),r.b(r.v(r.d("label.reorder",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b('			<a class="btn_tool" data-role="button"><span class="txt_caution">'),r.b(r.v(r.d("label.delete",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("		</div>						\r"),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n),r.b('	<table class="type_normal tb_admin_myCalendar">\r'),r.b("\n"+n),r.b("		<thead>\r"),r.b("\n"+n),r.b("			<tr>\r"),r.b("\n"+n),r.b('				<th class="check"><input type="checkbox"></th>\r'),r.b("\n"+n),r.b('				<th class="tit">'),r.b(r.v(r.d("label.calendar",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('				<th class="opt">'),r.b(r.v(r.d("label.default_calendar",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b('				<th class="state">'),r.b(r.v(r.d("label.visibility_state",e,t,0))),r.b("</th>\r"),r.b("\n"+n),r.b("			</tr>\r"),r.b("\n"+n),r.b("		</thead>\r"),r.b("\n"+n),r.b("		<tbody>\r"),r.b("\n"+n),r.b("		</tbody>\r"),r.b("\n"+n),r.b("	</table>\r"),r.b("\n"+n),r.b('	<div class="page_action_wrap">\r'),r.b("\n"+n),r.b('		<span id="button-gotocal" data-role="button" class="btn_minor">							\r'),r.b("\n"+n),r.b('			<span class="txt">'),r.b(r.v(r.d("label.go_to_calendar",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("		</span>\r"),r.b("\n"+n),r.b('		<span id="button-save" class="btn_major" data-role="button">                         \r'),r.b("\n"+n),r.b('			<span class="txt">'),r.b(r.v(r.d("label.save",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.b("		</span>\r"),r.b("\n"+n),r.b("	</div>\r"),r.b("\n"+n),r.b("</div -->\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('<!-- div id="follow-list-pane" class="tab_conent_wrap"'),r.s(r.f("show_follows_pane?",e,t,1),e,t,1,0,0,"")||r.b(' style="display:none;"'),r.b(">\r"),r.b("\n"+n),r.b('    <div class="vertical_wrap">\r'),r.b("\n"+n),r.b('        <span class="option_wrap"><input type="radio" name="view_type" value="feed" id="radio-following" checked="checked"><label for="radio-following">'),r.b(r.v(r.d("label.followings",e,t,0))),r.b("</label></span>\r"),r.b("\n"+n),r.b('        <span class="option_wrap"><input type="radio" name="view_type" value="follower" id="radio-followers"><label for="radio-followers">'),r.b(r.v(r.d("label.followers",e,t,0))),r.b("</label></span>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b('    <div id="customButtons" class="tool_bar" style="display:none">\r'),r.b("\n"+n),r.b("        <div>                      \r"),r.b("\n"+n),r.b('            <a id="button-accept" class="btn_tool" data-role="button" data-type="accept" data-bypass><span class="txt">'),r.b(r.v(r.d("label.accept",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b('            <a id="button-delete" class="btn_tool" data-role="button" data-type="deny" data-bypass><span class="txt_caution">'),r.b(r.v(r.d("label.delete",e,t,0))),r.b("</span></a>\r"),r.b("\n"+n),r.b("        </div>                      \r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('    <table id="feed-list-table" class="type_normal">  \r'),r.b("\n"+n),r.b("        <colgroup>\r"),r.b("\n"+n),r.b('			<col style="width:40px" />\r'),r.b("\n"+n),r.b('			<col width="*" />\r'),r.b("\n"+n),r.b('			<col style="width:150px" />\r'),r.b("\n"+n),r.b('			<col style="width:150px" />\r'),r.b("\n"+n),r.b("		</colgroup>\r"),r.b("\n"+n),r.b("        <thead>\r"),r.b("\n"+n),r.b("            <tr>\r"),r.b("\n"+n),r.b('                <th class="sorting align_l"><span class="title_sort">'),r.b(r.v(r.d("label.member",e,t,0))),r.b('<ins class="ic"></ins></span></th>\r'),r.b("\n"+n),r.b('                <th class="sorting_desc"><span class="title_sort">'),r.b(r.v(r.d("label.status",e,t,0))),r.b('<ins class="ic"></ins><span class="selected"></span></span></th>\r'),r.b("\n"+n),r.b('                <th class="sorting"><span class="title_sort">'),r.b(r.v(r.d("label.updated_at",e,t,0))),r.b('<ins class="ic"></ins></span></th>\r'),r.b("\n"+n),r.b("            </tr>\r"),r.b("\n"+n),r.b("        </thead>        \r"),r.b("\n"+n),r.b("    </table>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b("</div -->"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function($,window,document,undefined){var DataTable=function(oInit){function _fnAddColumn(e,t){var n=DataTable.defaults.columns,r=e.aoColumns.length,i=$.extend({},DataTable.models.oColumn,n,{sSortingClass:e.oClasses.sSortable,sSortingClassJUI:e.oClasses.sSortJUI,nTh:t?t:document.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[r],mData:n.mData?n.oDefaults:r});e.aoColumns.push(i);if(e.aoPreSearchCols[r]===undefined||e.aoPreSearchCols[r]===null)e.aoPreSearchCols[r]=$.extend({},DataTable.models.oSearch);else{var s=e.aoPreSearchCols[r];s.bRegex===undefined&&(s.bRegex=!0),s.bSmart===undefined&&(s.bSmart=!0),s.bCaseInsensitive===undefined&&(s.bCaseInsensitive=!0)}_fnColumnOptions(e,r,null)}function _fnColumnOptions(e,t,n){var r=e.aoColumns[t];n!==undefined&&n!==null&&(n.mDataProp&&!n.mData&&(n.mData=n.mDataProp),n.sType!==undefined&&(r.sType=n.sType,r._bAutoType=!1),$.extend(r,n),_fnMap(r,n,"sWidth","sWidthOrig"),n.iDataSort!==undefined&&(r.aDataSort=[n.iDataSort]),_fnMap(r,n,"aDataSort"));var i=r.mRender?_fnGetObjectDataFn(r.mRender):null,s=_fnGetObjectDataFn(r.mData);r.fnGetData=function(e,t){var n=s(e,t);return r.mRender&&t&&t!==""?i(n,t,e):n},r.fnSetData=_fnSetObjectDataFn(r.mData),e.oFeatures.bSort||(r.bSortable=!1),!r.bSortable||$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1?(r.sSortingClass=e.oClasses.sSortableNone,r.sSortingClassJUI=""):r.bSortable||$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)==-1?(r.sSortingClass=e.oClasses.sSortable,r.sSortingClassJUI=e.oClasses.sSortJUI):$.inArray("asc",r.asSorting)!=-1&&$.inArray("desc",r.asSorting)==-1?(r.sSortingClass=e.oClasses.sSortableAsc,r.sSortingClassJUI=e.oClasses.sSortJUIAscAllowed):$.inArray("asc",r.asSorting)==-1&&$.inArray("desc",r.asSorting)!=-1&&(r.sSortingClass=e.oClasses.sSortableDesc,r.sSortingClassJUI=e.oClasses.sSortJUIDescAllowed)}function _fnAdjustColumnSizing(e){if(e.oFeatures.bAutoWidth===!1)return!1;_fnCalculateColumnWidths(e);for(var t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].nTh.style.width=e.aoColumns[t].sWidth}function _fnVisibleToColumnIndex(e,t){var n=_fnGetColumns(e,"bVisible");return typeof n[t]=="number"?n[t]:null}function _fnColumnIndexToVisible(e,t){var n=_fnGetColumns(e,"bVisible"),r=$.inArray(t,n);return r!==-1?r:null}function _fnVisbleColumns(e){return _fnGetColumns(e,"bVisible").length}function _fnGetColumns(e,t){var n=[];return $.map(e.aoColumns,function(e,r){e[t]&&n.push(r)}),n}function _fnDetectType(e){var t=DataTable.ext.aTypes,n=t.length;for(var r=0;r<n;r++){var i=t[r](e);if(i!==null)return i}return"string"}function _fnReOrderIndex(e,t){var n=t.split(","),r=[];for(var i=0,s=e.aoColumns.length;i<s;i++)for(var o=0;o<s;o++)if(e.aoColumns[i].sName==n[o]){r.push(o);break}return r}function _fnColumnOrdering(e){var t="";for(var n=0,r=e.aoColumns.length;n<r;n++)t+=e.aoColumns[n].sName+",";return t.length==r?"":t.slice(0,-1)}function _fnApplyColumnDefs(e,t,n,r){var i,s,o,u,a,f;if(t)for(i=t.length-1;i>=0;i--){var l=t[i].aTargets;$.isArray(l)||_fnLog(e,1,"aTargets must be an array of targets, not a "+typeof l);for(o=0,u=l.length;o<u;o++)if(typeof l[o]=="number"&&l[o]>=0){while(e.aoColumns.length<=l[o])_fnAddColumn(e);r(l[o],t[i])}else if(typeof l[o]=="number"&&l[o]<0)r(e.aoColumns.length+l[o],t[i]);else if(typeof l[o]=="string")for(a=0,f=e.aoColumns.length;a<f;a++)(l[o]=="_all"||$(e.aoColumns[a].nTh).hasClass(l[o]))&&r(a,t[i])}if(n)for(i=0,s=n.length;i<s;i++)r(i,n[i])}function _fnAddData(e,t){var n,r=$.isArray(t)?t.slice():$.extend(!0,{},t),i=e.aoData.length,s=$.extend(!0,{},DataTable.models.oRow);s._aData=r,e.aoData.push(s);var o,u;for(var a=0,f=e.aoColumns.length;a<f;a++){n=e.aoColumns[a],typeof n.fnRender=="function"&&n.bUseRendered&&n.mData!==null?_fnSetCellData(e,i,a,_fnRender(e,i,a)):_fnSetCellData(e,i,a,_fnGetCellData(e,i,a));if(n._bAutoType&&n.sType!="string"){var l=_fnGetCellData(e,i,a,"type");l!==null&&l!==""&&(u=_fnDetectType(l),n.sType===null?n.sType=u:n.sType!=u&&n.sType!="html"&&(n.sType="string"))}}return e.aiDisplayMaster.push(i),e.oFeatures.bDeferRender||_fnCreateTr(e,i),i}function _fnGatherData(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;if(e.bDeferLoading||e.sAjaxSource===null){a=e.nTBody.childNodes;for(n=0,r=a.length;n<r;n++)if(a[n].nodeName.toUpperCase()=="TR"){c=e.aoData.length,a[n]._DT_RowIndex=c,e.aoData.push($.extend(!0,{},DataTable.models.oRow,{nTr:a[n]})),e.aiDisplayMaster.push(c),u=a[n].childNodes,o=0;for(i=0,s=u.length;i<s;i++){m=u[i].nodeName.toUpperCase();if(m=="TD"||m=="TH")_fnSetCellData(e,c,o,$.trim(u[i].innerHTML)),o++}}}a=_fnGetTrNodes(e),u=[];for(n=0,r=a.length;n<r;n++)for(i=0,s=a[n].childNodes.length;i<s;i++)f=a[n].childNodes[i],m=f.nodeName.toUpperCase(),(m=="TD"||m=="TH")&&u.push(f);for(d=0,v=e.aoColumns.length;d<v;d++){g=e.aoColumns[d],g.sTitle===null&&(g.sTitle=g.nTh.innerHTML);var b=g._bAutoType,w=typeof g.fnRender=="function",E=g.sClass!==null,S=g.bVisible,x,T,N,C;if(b||w||E||!S)for(h=0,p=e.aoData.length;h<p;h++)y=e.aoData[h],x=u[h*v+d],b&&g.sType!="string"&&(C=_fnGetCellData(e,h,d,"type"),C!==""&&(T=_fnDetectType(C),g.sType===null?g.sType=T:g.sType!=T&&g.sType!="html"&&(g.sType="string"))),typeof g.mData=="function"&&(x.innerHTML=_fnGetCellData(e,h,d,"display")),w&&(N=_fnRender(e,h,d),x.innerHTML=N,g.bUseRendered&&_fnSetCellData(e,h,d,N)),E&&(x.className+=" "+g.sClass),S?y._anHidden[d]=null:(y._anHidden[d]=x,x.parentNode.removeChild(x)),g.fnCreatedCell&&g.fnCreatedCell.call(e.oInstance,x,_fnGetCellData(e,h,d,"display"),y._aData,h,d)}if(e.aoRowCreatedCallback.length!==0)for(n=0,r=e.aoData.length;n<r;n++)y=e.aoData[n],_fnCallbackFire(e,"aoRowCreatedCallback",null,[y.nTr,y._aData,n])}function _fnNodeToDataIndex(e,t){return t._DT_RowIndex!==undefined?t._DT_RowIndex:null}function _fnNodeToColumnIndex(e,t,n){var r=_fnGetTdNodes(e,t);for(var i=0,s=e.aoColumns.length;i<s;i++)if(r[i]===n)return i;return-1}function _fnGetRowData(e,t,n,r){var i=[];for(var s=0,o=r.length;s<o;s++)i.push(_fnGetCellData(e,t,r[s],n));return i}function _fnGetCellData(e,t,n,r){var i,s=e.aoColumns[n],o=e.aoData[t]._aData;if((i=s.fnGetData(o,r))===undefined)return e.iDrawError!=e.iDraw&&s.sDefaultContent===null&&(_fnLog(e,0,"Requested unknown parameter "+(typeof s.mData=="function"?"{mData function}":"'"+s.mData+"'")+" from the data source for row "+t),e.iDrawError=e.iDraw),s.sDefaultContent;if(i===null&&s.sDefaultContent!==null)i=s.sDefaultContent;else if(typeof i=="function")return i();return r=="display"&&i===null?"":i}function _fnSetCellData(e,t,n,r){var i=e.aoColumns[n],s=e.aoData[t]._aData;i.fnSetData(s,r)}function _fnGetObjectDataFn(e){if(e===null)return function(e,t){return null};if(typeof e=="function")return function(t,n,r){return e(t,n,r)};if(typeof e!="string"||e.indexOf(".")===-1&&e.indexOf("[")===-1)return function(t,n){return t[e]};var t=function(e,n,r){var i=r.split("."),s,o,u;if(r!=="")for(var a=0,f=i.length;a<f;a++){s=i[a].match(__reArray);if(s){i[a]=i[a].replace(__reArray,""),i[a]!==""&&(e=e[i[a]]),o=[],i.splice(0,a+1),u=i.join(".");for(var l=0,c=e.length;l<c;l++)o.push(t(e[l],n,u));var h=s[0].substring(1,s[0].length-1);e=h===""?o:o.join(h);break}if(e===null||e[i[a]]===undefined)return undefined;e=e[i[a]]}return e};return function(n,r){return t(n,r,e)}}function _fnSetObjectDataFn(e){if(e===null)return function(e,t){};if(typeof e=="function")return function(t,n){e(t,"set",n)};if(typeof e!="string"||e.indexOf(".")===-1&&e.indexOf("[")===-1)return function(t,n){t[e]=n};var t=function(e,n,r){var i=r.split("."),s,o,u,a;for(var f=0,l=i.length-1;f<l;f++){o=i[f].match(__reArray);if(o){i[f]=i[f].replace(__reArray,""),e[i[f]]=[],s=i.slice(),s.splice(0,f+1),a=s.join(".");for(var c=0,h=n.length;c<h;c++)u={},t(u,n[c],a),e[i[f]].push(u);return}if(e[i[f]]===null||e[i[f]]===undefined)e[i[f]]={};e=e[i[f]]}e[i[i.length-1].replace(__reArray,"")]=n};return function(n,r){return t(n,r,e)}}function _fnGetDataMaster(e){var t=[],n=e.aoData.length;for(var r=0;r<n;r++)t.push(e.aoData[r]._aData);return t}function _fnClearTable(e){e.aoData.splice(0,e.aoData.length),e.aiDisplayMaster.splice(0,e.aiDisplayMaster.length),e.aiDisplay.splice(0,e.aiDisplay.length),_fnCalculateEnd(e)}function _fnDeleteIndex(e,t){var n=-1;for(var r=0,i=e.length;r<i;r++)e[r]==t?n=r:e[r]>t&&e[r]--;n!=-1&&e.splice(n,1)}function _fnRender(e,t,n){var r=e.aoColumns[n];return r.fnRender({iDataRow:t,iDataColumn:n,oSettings:e,aData:e.aoData[t]._aData,mDataProp:r.mData},_fnGetCellData(e,t,n,"display"))}function _fnCreateTr(e,t){var n=e.aoData[t],r;if(n.nTr===null){n.nTr=document.createElement("tr"),n.nTr._DT_RowIndex=t,n._aData.DT_RowId&&(n.nTr.id=n._aData.DT_RowId),n._aData.DT_RowClass&&$(n.nTr).addClass(n._aData.DT_RowClass);for(var i=0,s=e.aoColumns.length;i<s;i++){var o=e.aoColumns[i];r=document.createElement(o.sCellType),r.innerHTML=typeof o.fnRender!="function"||!!o.bUseRendered&&o.mData!==null?_fnGetCellData(e,t,i,"display"):_fnRender(e,t,i),o.sClass!==null&&(r.className=o.sClass),o.bVisible?(n.nTr.appendChild(r),n._anHidden[i]=null):n._anHidden[i]=r,o.fnCreatedCell&&o.fnCreatedCell.call(e.oInstance,r,_fnGetCellData(e,t,i,"display"),n._aData,t,i)}_fnCallbackFire(e,"aoRowCreatedCallback",null,[n.nTr,n._aData,t])}}function _fnBuildHead(e){var t,n,r,i,s,o=e.nTHead.getElementsByTagName("th").length,u=0,a;if(o!==0)for(t=0,r=e.aoColumns.length;t<r;t++)n=e.aoColumns[t].nTh,n.setAttribute("role","columnheader"),e.aoColumns[t].bSortable&&(n.setAttribute("tabindex",e.iTabIndex),n.setAttribute("aria-controls",e.sTableId)),e.aoColumns[t].sClass!==null&&$(n).addClass(e.aoColumns[t].sClass),e.aoColumns[t].sTitle!=n.innerHTML&&(n.innerHTML=e.aoColumns[t].sTitle);else{var f=document.createElement("tr");for(t=0,r=e.aoColumns.length;t<r;t++)n=e.aoColumns[t].nTh,n.innerHTML=e.aoColumns[t].sTitle,n.setAttribute("tabindex","0"),e.aoColumns[t].sClass!==null&&$(n).addClass(e.aoColumns[t].sClass),f.appendChild(n);$(e.nTHead).html("")[0].appendChild(f),_fnDetectHeader(e.aoHeader,e.nTHead)}$(e.nTHead).children("tr").attr("role","row");if(e.bJUI)for(t=0,r=e.aoColumns.length;t<r;t++){n=e.aoColumns[t].nTh;var l=document.createElement("div");l.className=e.oClasses.sSortJUIWrapper,$(n).contents().appendTo(l);var c=document.createElement("span");c.className=e.oClasses.sSortIcon,l.appendChild(c),n.appendChild(l)}if(e.oFeatures.bSort)for(t=0;t<e.aoColumns.length;t++)e.aoColumns[t].bSortable!==!1?_fnSortAttachListener(e,e.aoColumns[t].nTh,t):$(e.aoColumns[t].nTh).addClass(e.oClasses.sSortableNone);e.oClasses.sFooterTH!==""&&$(e.nTFoot).children("tr").children("th").addClass(e.oClasses.sFooterTH);if(e.nTFoot!==null){var h=_fnGetUniqueThs(e,null,e.aoFooter);for(t=0,r=e.aoColumns.length;t<r;t++)h[t]&&(e.aoColumns[t].nTf=h[t],e.aoColumns[t].sClass&&$(h[t]).addClass(e.aoColumns[t].sClass))}}function _fnDrawHead(e,t,n){var r,i,s,o,u,a,f,l,c=[],h=[],p=e.aoColumns.length,d,v;n===undefined&&(n=!1);for(r=0,i=t.length;r<i;r++){c[r]=t[r].slice(),c[r].nTr=t[r].nTr;for(s=p-1;s>=0;s--)!e.aoColumns[s].bVisible&&!n&&c[r].splice(s,1);h.push([])}for(r=0,i=c.length;r<i;r++){l=c[r].nTr;if(l)while(f=l.firstChild)l.removeChild(f);for(s=0,o=c[r].length;s<o;s++){d=1,v=1;if(h[r][s]===undefined){l.appendChild(c[r][s].cell),h[r][s]=1;while(c[r+d]!==undefined&&c[r][s].cell==c[r+d][s].cell)h[r+d][s]=1,d++;while(c[r][s+v]!==undefined&&c[r][s].cell==c[r][s+v].cell){for(u=0;u<d;u++)h[r+u][s+v]=1;v++}c[r][s].cell.rowSpan=d,c[r][s].cell.colSpan=v}}}}function _fnDraw(e){var t=_fnCallbackFire(e,"aoPreDrawCallback","preDraw",[e]);if($.inArray(!1,t)!==-1){_fnProcessingDisplay(e,!1);return}var n,r,i,s=[],o=0,u=e.asStripeClasses.length,a=e.aoOpenRows.length;e.bDrawing=!0,e.iInitDisplayStart!==undefined&&e.iInitDisplayStart!=-1&&(e.oFeatures.bServerSide?e._iDisplayStart=e.iInitDisplayStart:e._iDisplayStart=e.iInitDisplayStart>=e.fnRecordsDisplay()?0:e.iInitDisplayStart,e.iInitDisplayStart=-1,_fnCalculateEnd(e));if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++;else if(!e.oFeatures.bServerSide)e.iDraw++;else if(!e.bDestroying&&!_fnAjaxUpdate(e))return;if(e.aiDisplay.length!==0){var f=e._iDisplayStart,l=e._iDisplayEnd;e.oFeatures.bServerSide&&(f=0,l=e.aoData.length);for(var c=f;c<l;c++){var h=e.aoData[e.aiDisplay[c]];h.nTr===null&&_fnCreateTr(e,e.aiDisplay[c]);var p=h.nTr;if(u!==0){var d=e.asStripeClasses[o%u];h._sRowStripe!=d&&($(p).removeClass(h._sRowStripe).addClass(d),h._sRowStripe=d)}_fnCallbackFire(e,"aoRowCallback",null,[p,e.aoData[e.aiDisplay[c]]._aData,o,c]),s.push(p),o++;if(a!==0)for(var v=0;v<a;v++)if(p==e.aoOpenRows[v].nParent){s.push(e.aoOpenRows[v].nTr);break}}}else{s[0]=document.createElement("tr"),e.asStripeClasses[0]&&(s[0].className=e.asStripeClasses[0]);var m=e.oLanguage,g=m.sZeroRecords;e.iDraw==1&&e.sAjaxSource!==null&&!e.oFeatures.bServerSide?g=m.sLoadingRecords:m.sEmptyTable&&e.fnRecordsTotal()===0&&(g=m.sEmptyTable);var y=document.createElement("td");y.setAttribute("valign","top"),y.colSpan=_fnVisbleColumns(e),y.className=e.oClasses.sRowEmpty,y.innerHTML=_fnInfoMacros(e,g),s[o].appendChild(y)}_fnCallbackFire(e,"aoHeaderCallback","header",[$(e.nTHead).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]),_fnCallbackFire(e,"aoFooterCallback","footer",[$(e.nTFoot).children("tr")[0],_fnGetDataMaster(e),e._iDisplayStart,e.fnDisplayEnd(),e.aiDisplay]);var b=document.createDocumentFragment(),w=document.createDocumentFragment(),E,S;if(e.nTBody){E=e.nTBody.parentNode,w.appendChild(e.nTBody);if(!e.oScroll.bInfinite||!e._bInitComplete||e.bSorted||e.bFiltered)while(i=e.nTBody.firstChild)e.nTBody.removeChild(i);for(n=0,r=s.length;n<r;n++)b.appendChild(s[n]);e.nTBody.appendChild(b),E!==null&&E.appendChild(e.nTBody)}_fnCallbackFire(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1,e.oFeatures.bServerSide&&(_fnProcessingDisplay(e,!1),e._bInitComplete||_fnInitComplete(e))}function _fnReDraw(e){e.oFeatures.bSort?_fnSort(e,e.oPreviousSearch):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(_fnCalculateEnd(e),_fnDraw(e))}function _fnAddOptionsHtml(e){var t=$("<div></div>")[0];e.nTable.parentNode.insertBefore(t,e.nTable),e.nTableWrapper=$('<div id="'+e.sTableId+'_wrapper" class="'+e.oClasses.sWrapper+'" role="grid"></div>')[0],e.nTableReinsertBefore=e.nTable.nextSibling;var n=e.nTableWrapper,r=e.sDom.split(""),i,s,o,u,a,f,l;for(var c=0;c<r.length;c++){s=0,o=r[c];if(o=="<"){u=$("<div></div>")[0],a=r[c+1];if(a=="'"||a=='"'){f="",l=2;while(r[c+l]!=a)f+=r[c+l],l++;f=="H"?f=e.oClasses.sJUIHeader:f=="F"&&(f=e.oClasses.sJUIFooter);if(f.indexOf(".")!=-1){var h=f.split(".");u.id=h[0].substr(1,h[0].length-1),u.className=h[1]}else f.charAt(0)=="#"?u.id=f.substr(1,f.length-1):u.className=f;c+=l}n.appendChild(u),n=u}else if(o==">")n=n.parentNode;else if(o=="l"&&e.oFeatures.bPaginate&&e.oFeatures.bLengthChange)i=_fnFeatureHtmlLength(e),s=1;else if(o=="f"&&e.oFeatures.bFilter)i=_fnFeatureHtmlFilter(e),s=1;else if(o=="r"&&e.oFeatures.bProcessing)i=_fnFeatureHtmlProcessing(e),s=1;else if(o=="t")i=_fnFeatureHtmlTable(e),s=1;else if(o=="i"&&e.oFeatures.bInfo)i=_fnFeatureHtmlInfo(e),s=1;else if(o=="p"&&e.oFeatures.bPaginate)i=_fnFeatureHtmlPaginate(e),s=1;else if(DataTable.ext.aoFeatures.length!==0){var p=DataTable.ext.aoFeatures;for(var d=0,v=p.length;d<v;d++)if(o==p[d].cFeature){i=p[d].fnInit(e),i&&(s=1);break}}s==1&&i!==null&&(typeof e.aanFeatures[o]!="object"&&(e.aanFeatures[o]=[]),e.aanFeatures[o].push(i),n.appendChild(i))}t.parentNode.replaceChild(e.nTableWrapper,t)}function _fnDetectHeader(e,t){var n=$(t).children("tr"),r,i,s,o,u,a,f,l,c=function(e,t,n){while(e[t][n])n++;return n};e.splice(0,e.length);for(i=0,a=n.length;i<a;i++)e.push([]);for(i=0,a=n.length;i<a;i++){var h=0;for(s=0,f=n[i].childNodes.length;s<f;s++){r=n[i].childNodes[s];if(r.nodeName.toUpperCase()=="TD"||r.nodeName.toUpperCase()=="TH"){var p=r.getAttribute("colspan")*1,d=r.getAttribute("rowspan")*1;p=!p||p===0||p===1?1:p,d=!d||d===0||d===1?1:d,l=c(e,i,h);for(u=0;u<p;u++)for(o=0;o<d;o++)e[i+o][l+u]={cell:r,unique:p==1?!0:!1},e[i+o].nTr=n[i]}}}}function _fnGetUniqueThs(e,t,n){var r=[];n||(n=e.aoHeader,t&&(n=[],_fnDetectHeader(n,t)));for(var i=0,s=n.length;i<s;i++)for(var o=0,u=n[i].length;o<u;o++)n[i][o].unique&&(!r[o]||!e.bSortCellsTop)&&(r[o]=n[i][o].cell);return r}function _fnAjaxUpdate(e){if(e.bAjaxDataGet){e.iDraw++,_fnProcessingDisplay(e,!0);var t=e.aoColumns.length,n=_fnAjaxParameters(e);return _fnServerParams(e,n),e.fnServerData.call(e.oInstance,e.sAjaxSource,n,function(t){_fnAjaxUpdateDraw(e,t)},e),!1}return!0}function _fnAjaxParameters(e){var t=e.aoColumns.length,n=[],r,i,s,o,u;n.push({name:"sEcho",value:e.iDraw}),n.push({name:"iColumns",value:t}),n.push({name:"sColumns",value:_fnColumnOrdering(e)}),n.push({name:"iDisplayStart",value:e._iDisplayStart}),n.push({name:"iDisplayLength",value:e.oFeatures.bPaginate!==!1?e._iDisplayLength:-1});for(o=0;o<t;o++)r=e.aoColumns[o].mData,n.push({name:"mDataProp_"+o,value:typeof r=="function"?"function":r});if(e.oFeatures.bFilter!==!1){n.push({name:"sSearch",value:e.oPreviousSearch.sSearch}),n.push({name:"bRegex",value:e.oPreviousSearch.bRegex});for(o=0;o<t;o++)n.push({name:"sSearch_"+o,value:e.aoPreSearchCols[o].sSearch}),n.push({name:"bRegex_"+o,value:e.aoPreSearchCols[o].bRegex}),n.push({name:"bSearchable_"+o,value:e.aoColumns[o].bSearchable})}if(e.oFeatures.bSort!==!1){var a=0;i=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(o=0;o<i.length;o++){s=e.aoColumns[i[o][0]].aDataSort;for(u=0;u<s.length;u++)n.push({name:"iSortCol_"+a,value:s[u]}),n.push({name:"sSortDir_"+a,value:i[o][1]}),a++}n.push({name:"iSortingCols",value:a});for(o=0;o<t;o++)n.push({name:"bSortable_"+o,value:e.aoColumns[o].bSortable})}return n}function _fnServerParams(e,t){_fnCallbackFire(e,"aoServerParams","serverParams",[t])}function _fnAjaxUpdateDraw(e,t){if(t.sEcho!==undefined){if(t.sEcho*1<e.iDraw)return;e.iDraw=t.sEcho*1}(!e.oScroll.bInfinite||e.oScroll.bInfinite&&(e.bSorted||e.bFiltered))&&_fnClearTable(e),e._iRecordsTotal=parseInt(t.iTotalRecords,10),e._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10),e.sAjaxRecordTotalProp&&(e._iRecordsTotal=_fnGetObjectDataFn(e.sAjaxRecordTotalProp)(t)),e.sAjaxRecordDisplayProp&&(e._iRecordsDisplay=_fnGetObjectDataFn(e.sAjaxRecordDisplayProp)(t));var n=_fnColumnOrdering(e),r=t.sColumns!==undefined&&n!==""&&t.sColumns!=n,i;r&&(i=_fnReOrderIndex(e,t.sColumns));var s=_fnGetObjectDataFn(e.sAjaxDataProp)(t)||[];for(var o=0,u=s.length;o<u;o++)if(r){var a=[];for(var f=0,l=e.aoColumns.length;f<l;f++)a.push(s[o][i[f]]);_fnAddData(e,a)}else _fnAddData(e,s[o]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,_fnDraw(e),e.bAjaxDataGet=!0,_fnProcessingDisplay(e,!1)}function _fnFeatureHtmlFilter(e){var t=e.oPreviousSearch,n=e.oLanguage.sSearch;n=n.indexOf("_INPUT_")!==-1?n.replace("_INPUT_",'<input type="text" />'):n===""?'<input type="text" />':n+' <input type="text" />';var r=document.createElement("div");r.className=e.oClasses.sFilter,r.innerHTML="<label>"+n+"</label>",e.aanFeatures.f||(r.id=e.sTableId+"_filter");var i=$('input[type="text"]',r);return r._DT_Input=i[0],i.val(t.sSearch.replace('"',"&quot;")),i.bind("keyup.DT",function(n){var r=e.aanFeatures.f,i=this.value===""?"":this.value;for(var s=0,o=r.length;s<o;s++)r[s]!=$(this).parents("div.dataTables_filter")[0]&&$(r[s]._DT_Input).val(i);i!=t.sSearch&&_fnFilterComplete(e,{sSearch:i,bRegex:t.bRegex,bSmart:t.bSmart,bCaseInsensitive:t.bCaseInsensitive})}),i.attr("aria-controls",e.sTableId).bind("keypress.DT",function(e){if(e.keyCode==13)return!1}),r}function _fnFilterComplete(e,t,n){var r=e.oPreviousSearch,i=e.aoPreSearchCols,s=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(!e.oFeatures.bServerSide){_fnFilter(e,t.sSearch,n,t.bRegex,t.bSmart,t.bCaseInsensitive),s(t);for(var o=0;o<e.aoPreSearchCols.length;o++)_fnFilterColumn(e,i[o].sSearch,o,i[o].bRegex,i[o].bSmart,i[o].bCaseInsensitive);_fnFilterCustom(e)}else s(t);e.bFiltered=!0,$(e.oInstance).trigger("filter",e),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e),_fnBuildSearchArray(e,0)}function _fnFilterCustom(e){var t=DataTable.ext.afnFiltering,n=_fnGetColumns(e,"bSearchable");for(var r=0,i=t.length;r<i;r++){var s=0;for(var o=0,u=e.aiDisplay.length;o<u;o++){var a=e.aiDisplay[o-s],f=t[r](e,_fnGetRowData(e,a,"filter",n),a);f||(e.aiDisplay.splice(o-s,1),s++)}}}function _fnFilterColumn(e,t,n,r,i,s){if(t==="")return;var o=0,u=_fnFilterCreateSearch(t,r,i,s);for(var a=e.aiDisplay.length-1;a>=0;a--){var f=_fnDataToSearch(_fnGetCellData(e,e.aiDisplay[a],n,"filter"),e.aoColumns[n].sType);u.test(f)||(e.aiDisplay.splice(a,1),o++)}}function _fnFilter(e,t,n,r,i,s){var o,u=_fnFilterCreateSearch(t,r,i,s),a=e.oPreviousSearch;n||(n=0),DataTable.ext.afnFiltering.length!==0&&(n=1);if(t.length<=0)e.aiDisplay.splice(0,e.aiDisplay.length),e.aiDisplay=e.aiDisplayMaster.slice();else if(e.aiDisplay.length==e.aiDisplayMaster.length||a.sSearch.length>t.length||n==1||t.indexOf(a.sSearch)!==0){e.aiDisplay.splice(0,e.aiDisplay.length),_fnBuildSearchArray(e,1);for(o=0;o<e.aiDisplayMaster.length;o++)u.test(e.asDataSearch[o])&&e.aiDisplay.push(e.aiDisplayMaster[o])}else{var f=0;for(o=0;o<e.asDataSearch.length;o++)u.test(e.asDataSearch[o])||(e.aiDisplay.splice(o-f,1),f++)}}function _fnBuildSearchArray(e,t){if(!e.oFeatures.bServerSide){e.asDataSearch=[];var n=_fnGetColumns(e,"bSearchable"),r=t===1?e.aiDisplayMaster:e.aiDisplay;for(var i=0,s=r.length;i<s;i++)e.asDataSearch[i]=_fnBuildSearchRow(e,_fnGetRowData(e,r[i],"filter",n))}}function _fnBuildSearchRow(e,t){var n=t.join("  ");return n.indexOf("&")!==-1&&(n=$("<div>").html(n).text()),n.replace(/[\n\r]/g," ")}function _fnFilterCreateSearch(e,t,n,r){var i,s;return n?(i=t?e.split(" "):_fnEscapeRegex(e).split(" "),s="^(?=.*?"+i.join(")(?=.*?")+").*$",new RegExp(s,r?"i":"")):(e=t?e:_fnEscapeRegex(e),new RegExp(e,r?"i":""))}function _fnDataToSearch(e,t){return typeof DataTable.ext.ofnSearch[t]=="function"?DataTable.ext.ofnSearch[t](e):e===null?"":t=="html"?e.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):typeof e=="string"?e.replace(/[\r\n]/g," "):e}function _fnEscapeRegex(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"],n=new RegExp("(\\"+t.join("|\\")+")","g");return e.replace(n,"\\$1")}function _fnFeatureHtmlInfo(e){var t=document.createElement("div");return t.className=e.oClasses.sInfo,e.aanFeatures.i||(e.aoDrawCallback.push({fn:_fnUpdateInfo,sName:"information"}),t.id=e.sTableId+"_info"),e.nTable.setAttribute("aria-describedby",e.sTableId+"_info"),t}function _fnUpdateInfo(e){if(!e.oFeatures.bInfo||e.aanFeatures.i.length===0)return;var t=e.oLanguage,n=e._iDisplayStart+1,r=e.fnDisplayEnd(),i=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),o;s===0&&s==i?o=t.sInfoEmpty:s===0?o=t.sInfoEmpty+" "+t.sInfoFiltered:s==i?o=t.sInfo:o=t.sInfo+" "+t.sInfoFiltered,o+=t.sInfoPostFix,o=_fnInfoMacros(e,o),t.fnInfoCallback!==null&&(o=t.fnInfoCallback.call(e.oInstance,e,n,r,i,s,o));var u=e.aanFeatures.i;for(var a=0,f=u.length;a<f;a++)$(u[a]).html(o)}function _fnInfoMacros(e,t){var n=e._iDisplayStart+1,r=e.fnFormatNumber(n),i=e.fnDisplayEnd(),s=e.fnFormatNumber(i),o=e.fnRecordsDisplay(),u=e.fnFormatNumber(o),a=e.fnRecordsTotal(),f=e.fnFormatNumber(a);return e.oScroll.bInfinite&&(r=e.fnFormatNumber(1)),t.replace("_START_",r).replace("_END_",s).replace("_TOTAL_",u).replace("_MAX_",f)}function _fnInitialise(e){var t,n,r=e.iInitDisplayStart;if(e.bInitialised===!1){setTimeout(function(){_fnInitialise(e)},200);return}_fnAddOptionsHtml(e),_fnBuildHead(e),_fnDrawHead(e,e.aoHeader),e.nTFoot&&_fnDrawHead(e,e.aoFooter),_fnProcessingDisplay(e,!0),e.oFeatures.bAutoWidth&&_fnCalculateColumnWidths(e);for(t=0,n=e.aoColumns.length;t<n;t++)e.aoColumns[t].sWidth!==null&&(e.aoColumns[t].nTh.style.width=_fnStringToCss(e.aoColumns[t].sWidth));e.oFeatures.bSort?_fnSort(e):e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e));if(e.sAjaxSource!==null&&!e.oFeatures.bServerSide){var i=[];_fnServerParams(e,i),e.fnServerData.call(e.oInstance,e.sAjaxSource,i,function(n){var i=e.sAjaxDataProp!==""?_fnGetObjectDataFn(e.sAjaxDataProp)(n):n;for(t=0;t<i.length;t++)_fnAddData(e,i[t]);e.iInitDisplayStart=r,e.oFeatures.bSort?_fnSort(e):(e.aiDisplay=e.aiDisplayMaster.slice(),_fnCalculateEnd(e),_fnDraw(e)),_fnProcessingDisplay(e,!1),_fnInitComplete(e,n)},e);return}e.oFeatures.bServerSide||(_fnProcessingDisplay(e,!1),_fnInitComplete(e))}function _fnInitComplete(e,t){e._bInitComplete=!0,_fnCallbackFire(e,"aoInitComplete","init",[e,t])}function _fnLanguageCompat(e){var t=DataTable.defaults.oLanguage;!e.sEmptyTable&&e.sZeroRecords&&t.sEmptyTable==="No data available in table"&&_fnMap(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&e.sZeroRecords&&t.sLoadingRecords==="Loading..."&&_fnMap(e,e,"sZeroRecords","sLoadingRecords")}function _fnFeatureHtmlLength(e){if(e.oScroll.bInfinite)return null;var t='name="'+e.sTableId+'_length"',n='<select size="1" '+t+">",r,i,s=e.aLengthMenu;if(s.length==2&&typeof s[0]=="object"&&typeof s[1]=="object")for(r=0,i=s[0].length;r<i;r++)n+='<option value="'+s[0][r]+'">'+s[1][r]+"</option>";else for(r=0,i=s.length;r<i;r++)n+='<option value="'+s[r]+'">'+s[r]+"</option>";n+="</select>";var o=document.createElement("div");return e.aanFeatures.l||(o.id=e.sTableId+"_length"),o.className=e.oClasses.sLength,o.innerHTML="<label>"+e.oLanguage.sLengthMenu.replace("_MENU_",n)+"</label>",$('select option[value="'+e._iDisplayLength+'"]',o).attr("selected",!0),$("select",o).bind("change.DT",function(t){var n=$(this).val(),s=e.aanFeatures.l;for(r=0,i=s.length;r<i;r++)s[r]!=this.parentNode&&$("select",s[r]).val(n);e._iDisplayLength=parseInt(n,10),_fnCalculateEnd(e),e._iDisplayStart=0,e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),e._iDisplayLength==-1&&(e._iDisplayStart=0),_fnDraw(e)}),$("select",o).attr("aria-controls",e.sTableId),o}function _fnCalculateEnd(e){e.oFeatures.bPaginate===!1?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayStart+e._iDisplayLength>e.aiDisplay.length||e._iDisplayLength==-1?e._iDisplayEnd=e.aiDisplay.length:e._iDisplayEnd=e._iDisplayStart+e._iDisplayLength}function _fnFeatureHtmlPaginate(e){if(e.oScroll.bInfinite)return null;var t=document.createElement("div");return t.className=e.oClasses.sPaging+e.sPaginationType,DataTable.ext.oPagination[e.sPaginationType].fnInit(e,t,function(e){_fnCalculateEnd(e),_fnDraw(e)}),e.aanFeatures.p||e.aoDrawCallback.push({fn:function(e){DataTable.ext.oPagination[e.sPaginationType].fnUpdate(e,function(e){_fnCalculateEnd(e),_fnDraw(e)})},sName:"pagination"}),t}function _fnPageChange(e,t){var n=e._iDisplayStart;if(typeof t=="number")e._iDisplayStart=t*e._iDisplayLength,e._iDisplayStart>e.fnRecordsDisplay()&&(e._iDisplayStart=0);else if(t=="first")e._iDisplayStart=0;else if(t=="previous")e._iDisplayStart=e._iDisplayLength>=0?e._iDisplayStart-e._iDisplayLength:0,e._iDisplayStart<0&&(e._iDisplayStart=0);else if(t=="next")e._iDisplayLength>=0?e._iDisplayStart+e._iDisplayLength<e.fnRecordsDisplay()&&(e._iDisplayStart+=e._iDisplayLength):e._iDisplayStart=0;else if(t=="last")if(e._iDisplayLength>=0){var r=parseInt((e.fnRecordsDisplay()-1)/e._iDisplayLength,10)+1;e._iDisplayStart=(r-1)*e._iDisplayLength}else e._iDisplayStart=0;else _fnLog(e,0,"Unknown paging action: "+t);return $(e.oInstance).trigger("page",e),n!=e._iDisplayStart}function _fnFeatureHtmlProcessing(e){var t=document.createElement("div");return e.aanFeatures.r||(t.id=e.sTableId+"_processing"),t.innerHTML=e.oLanguage.sProcessing,t.className=e.oClasses.sProcessing,e.nTable.parentNode.insertBefore(t,e.nTable),t}function _fnProcessingDisplay(e,t){t=!0;if(e.oFeatures.bProcessing){var n=e.aanFeatures.r;for(var r=0,i=n.length;r<i;r++)n[r].style.visibility=t?"visible":"hidden"}$(e.oInstance).trigger("processing",[e,t])}function _fnFeatureHtmlTable(e){if(e.oScroll.sX===""&&e.oScroll.sY==="")return e.nTable;var t=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),u=e.nTable.cloneNode(!1),a=e.nTable.cloneNode(!1),f=e.nTable.getElementsByTagName("thead")[0],l=e.nTable.getElementsByTagName("tfoot").length===0?null:e.nTable.getElementsByTagName("tfoot")[0],c=e.oClasses;n.appendChild(r),s.appendChild(o),i.appendChild(e.nTable),t.appendChild(n),t.appendChild(i),r.appendChild(u),u.appendChild(f),l!==null&&(t.appendChild(s),o.appendChild(a),a.appendChild(l)),t.className=c.sScrollWrapper,n.className=c.sScrollHead,r.className=c.sScrollHeadInner,i.className=c.sScrollBody,s.className=c.sScrollFoot,o.className=c.sScrollFootInner,e.oScroll.bAutoCss&&(n.style.overflow="hidden",n.style.position="relative",s.style.overflow="hidden",i.style.overflow="auto"),n.style.border="0",n.style.width="100%",s.style.border="0",r.style.width=e.oScroll.sXInner!==""?e.oScroll.sXInner:"100%",u.removeAttribute("id"),u.style.marginLeft="0",e.nTable.style.marginLeft="0",l!==null&&(a.removeAttribute("id"),a.style.marginLeft="0");var h=$(e.nTable).children("caption");return h.length>0&&(h=h[0],h._captionSide==="top"?u.appendChild(h):h._captionSide==="bottom"&&l&&a.appendChild(h)),e.oScroll.sX!==""&&(n.style.width=_fnStringToCss(e.oScroll.sX),i.style.width=_fnStringToCss(e.oScroll.sX),l!==null&&(s.style.width=_fnStringToCss(e.oScroll.sX)),$(i).scroll(function(e){n.scrollLeft=this.scrollLeft,l!==null&&(s.scrollLeft=this.scrollLeft)})),e.oScroll.sY!==""&&(i.style.maxHeight=_fnStringToCss(e.oScroll.sY)),e.aoDrawCallback.push({fn:_fnScrollDraw,sName:"scrolling"}),e.oScroll.bInfinite&&$(i).scroll(function(){!e.bDrawing&&$(this).scrollTop()!==0&&$(this).scrollTop()+$(this).height()>$(e.nTable).height()-e.oScroll.iLoadGap&&e.fnDisplayEnd()<e.fnRecordsDisplay()&&(_fnPageChange(e,"next"),_fnCalculateEnd(e),_fnDraw(e))}),e.nScrollHead=n,e.nScrollFoot=s,t}function _fnScrollDraw(e){var t=e.nScrollHead.getElementsByTagName("div")[0],n=t.getElementsByTagName("table")[0],r=e.nTable.parentNode,i,s,o,u,a,f,l,c,h,p,d,v,m,g=[],y,b=e.nTFoot!==null?e.nScrollFoot.getElementsByTagName("div")[0]:null,w=e.nTFoot!==null?b.getElementsByTagName("table")[0]:null,E=e.oBrowser.bScrollOversize;$(e.nTable).children("thead, tfoot").remove(),d=$(e.nTHead).clone()[0],e.nTable.insertBefore(d,e.nTable.childNodes[0]),e.nTFoot!==null&&(v=$(e.nTFoot).clone()[0],e.nTable.insertBefore(v,e.nTable.childNodes[1])),e.oScroll.sX===""&&(r.style.width="100%",t.parentNode.style.width="100%");var S=_fnGetUniqueThs(e,d);for(i=0,s=S.length;i<s;i++)p=_fnVisibleToColumnIndex(e,i),S[i].style.width=e.aoColumns[p].sWidth;e.nTFoot!==null&&_fnApplyToChildren(function(e){e.style.width=""},v.getElementsByTagName("tr")),e.oScroll.bCollapse&&e.oScroll.sY!==""&&(r.style.height=r.offsetHeight+e.nTHead.offsetHeight+"px"),y=$(e.nTable).outerWidth(),e.oScroll.sX===""?(e.nTable.style.width="100%",E&&($("tbody",r).height()>r.offsetHeight||$(r).css("overflow-y")=="scroll")&&(e.nTable.style.width=_fnStringToCss($(e.nTable).outerWidth()-e.oScroll.iBarWidth))):e.oScroll.sXInner!==""?e.nTable.style.width=_fnStringToCss(e.oScroll.sXInner):y==$(r).width()&&$(r).height()<$(e.nTable).height()?(e.nTable.style.width=_fnStringToCss(y-e.oScroll.iBarWidth),$(e.nTable).outerWidth()>y-e.oScroll.iBarWidth&&(e.nTable.style.width=_fnStringToCss(y))):e.nTable.style.width=_fnStringToCss(y),y=$(e.nTable).outerWidth(),a=e.nTHead.getElementsByTagName("tr"),f=d.getElementsByTagName("tr"),_fnApplyToChildren(function(e,t){h=e.style,h.paddingTop="0",h.paddingBottom="0",h.borderTopWidth="0",h.borderBottomWidth="0",h.height=0,m=$(e).width(),t.style.width=_fnStringToCss(m),g.push(m)},f,a),$(f).height(0),e.nTFoot!==null&&(l=v.getElementsByTagName("tr"),c=e.nTFoot.getElementsByTagName("tr"),_fnApplyToChildren(function(e,t){h=e.style,h.paddingTop="0",h.paddingBottom="0",h.borderTopWidth="0",h.borderBottomWidth="0",h.height=0,m=$(e).width(),t.style.width=_fnStringToCss(m),g.push(m)},l,c),$(l).height(0)),_fnApplyToChildren(function(e){e.innerHTML="",e.style.width=_fnStringToCss(g.shift())},f),e.nTFoot!==null&&_fnApplyToChildren(function(e){e.innerHTML="",e.style.width=_fnStringToCss(g.shift())},l);if($(e.nTable).outerWidth()<y){var x=r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll"?y+e.oScroll.iBarWidth:y;E&&(r.scrollHeight>r.offsetHeight||$(r).css("overflow-y")=="scroll")&&(e.nTable.style.width=_fnStringToCss(x-e.oScroll.iBarWidth)),r.style.width=_fnStringToCss(x),t.parentNode.style.width=_fnStringToCss(x),e.nTFoot!==null&&(b.parentNode.style.width=_fnStringToCss(x)),e.oScroll.sX===""?_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):e.oScroll.sXInner!==""&&_fnLog(e,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")}else r.style.width=_fnStringToCss("100%"),t.parentNode.style.width=_fnStringToCss("100%"),e.nTFoot!==null&&(b.parentNode.style.width=_fnStringToCss("100%"));e.oScroll.sY===""&&E&&(r.style.height=_fnStringToCss(e.nTable.offsetHeight+e.oScroll.iBarWidth));if(e.oScroll.sY!==""&&e.oScroll.bCollapse){r.style.height=_fnStringToCss(e.oScroll.sY);var T=e.oScroll.sX!==""&&e.nTable.offsetWidth>r.offsetWidth?e.oScroll.iBarWidth:0;e.nTable.offsetHeight<r.offsetHeight&&(r.style.height=_fnStringToCss(e.nTable.offsetHeight+T))}var N=$(e.nTable).outerWidth();n.style.width=_fnStringToCss(N),t.style.width=_fnStringToCss(N);var C=$(e.nTable).height()>r.clientHeight||$(r).css("overflow-y")=="scroll";t.style.paddingRight=C?e.oScroll.iBarWidth+"px":"0px",e.nTFoot!==null&&(w.style.width=_fnStringToCss(N),b.style.width=_fnStringToCss(N),b.style.paddingRight=C?e.oScroll.iBarWidth+"px":"0px"),$(r).scroll();if(e.bSorted||e.bFiltered)r.scrollTop=0}function _fnApplyToChildren(e,t,n){for(var r=0,i=t.length;r<i;r++)for(var s=0,o=t[r].childNodes.length;s<o;s++)t[r].childNodes[s].nodeType==1&&(n?e(t[r].childNodes[s],n[r].childNodes[s]):e(t[r].childNodes[s]))}function _fnConvertToWidth(e,t){if(!e||e===null||e==="")return 0;t||(t=document.getElementsByTagName("body")[0]);var n,r=document.createElement("div");return r.style.width=_fnStringToCss(e),t.appendChild(r),n=r.offsetWidth,t.removeChild(r),n}function _fnCalculateColumnWidths(e){var t=e.nTable.offsetWidth,n=0,r,i=0,s=e.aoColumns.length,o,u,a,f,l=$("th",e.nTHead),c=e.nTable.getAttribute("width");for(o=0;o<s;o++)e.aoColumns[o].bVisible&&(i++,e.aoColumns[o].sWidth!==null&&(r=_fnConvertToWidth(e.aoColumns[o].sWidthOrig,e.nTable.parentNode),r!==null&&(e.aoColumns[o].sWidth=_fnStringToCss(r)),n++));if(s==l.length&&n===0&&i==s&&e.oScroll.sX===""&&e.oScroll.sY==="")for(o=0;o<e.aoColumns.length;o++)r=$(l[o]).width(),r!==null&&(e.aoColumns[o].sWidth=_fnStringToCss(r));else{var h=e.nTable.cloneNode(!1),p=e.nTHead.cloneNode(!0),d=document.createElement("tbody"),v=document.createElement("tr"),m;h.removeAttribute("id"),h.appendChild(p),e.nTFoot!==null&&(h.appendChild(e.nTFoot.cloneNode(!0)),_fnApplyToChildren(function(e){e.style.width=""},h.getElementsByTagName("tr"))),h.appendChild(d),d.appendChild(v);var g=$("thead th",h);g.length===0&&(g=$("tbody tr:eq(0)>td",h));var y=_fnGetUniqueThs(e,p);a=0;for(o=0;o<s;o++){var b=e.aoColumns[o];b.bVisible&&b.sWidthOrig!==null&&b.sWidthOrig!==""?y[o-a].style.width=_fnStringToCss(b.sWidthOrig):b.bVisible?y[o-a].style.width="":a++}for(o=0;o<s;o++)if(e.aoColumns[o].bVisible){var w=_fnGetWidestNode(e,o);w!==null&&(w=w.cloneNode(!0),e.aoColumns[o].sContentPadding!==""&&(w.innerHTML+=e.aoColumns[o].sContentPadding),v.appendChild(w))}var E=e.nTable.parentNode;E.appendChild(h),e.oScroll.sX!==""&&e.oScroll.sXInner!==""?h.style.width=_fnStringToCss(e.oScroll.sXInner):e.oScroll.sX!==""?(h.style.width="",$(h).width()<E.offsetWidth&&(h.style.width=_fnStringToCss(E.offsetWidth))):e.oScroll.sY!==""?h.style.width=_fnStringToCss(E.offsetWidth):c&&(h.style.width=_fnStringToCss(c)),h.style.visibility="hidden",_fnScrollingWidthAdjust(e,h);var S=$("tbody tr:eq(0)",h).children();S.length===0&&(S=_fnGetUniqueThs(e,$("thead",h)[0]));if(e.oScroll.sX!==""){var x=0;a=0;for(o=0;o<e.aoColumns.length;o++)e.aoColumns[o].bVisible&&(e.aoColumns[o].sWidthOrig===null?x+=$(S[a]).outerWidth():x+=parseInt(e.aoColumns[o].sWidth.replace("px",""),10)+($(S[a]).outerWidth()-$(S[a]).width()),a++);h.style.width=_fnStringToCss(x),e.nTable.style.width=_fnStringToCss(x)}a=0;for(o=0;o<e.aoColumns.length;o++)e.aoColumns[o].bVisible&&(f=$(S[a]).width(),f!==null&&f>0&&(e.aoColumns[o].sWidth=_fnStringToCss(f)),a++);var T=$(h).css("width");e.nTable.style.width=T.indexOf("%")!==-1?T:_fnStringToCss($(h).outerWidth()),h.parentNode.removeChild(h)}c&&(e.nTable.style.width=_fnStringToCss(c))}function _fnScrollingWidthAdjust(e,t){if(e.oScroll.sX===""&&e.oScroll.sY!==""){var n=$(t).width();t.style.width=_fnStringToCss($(t).outerWidth()-e.oScroll.iBarWidth)}else e.oScroll.sX!==""&&(t.style.width=_fnStringToCss($(t).outerWidth()))}function _fnGetWidestNode(e,t){var n=_fnGetMaxLenString(e,t);if(n<0)return null;if(e.aoData[n].nTr===null){var r=document.createElement("td");return r.innerHTML=_fnGetCellData(e,n,t,""),r}return _fnGetTdNodes(e,n)[t]}function _fnGetMaxLenString(e,t){var n=-1,r=-1;for(var i=0;i<e.aoData.length;i++){var s=_fnGetCellData(e,i,t,"display")+"";s=s.replace(/<.*?>/g,""),s.length>n&&(n=s.length,r=i)}return r}function _fnStringToCss(e){if(e===null)return"0px";if(typeof e=="number")return e<0?"0px":e+"px";var t=e.charCodeAt(e.length-1);return t<48||t>57?e:e+"px"}function _fnScrollBarWidth(){var e=document.createElement("p"),t=e.style;t.width="100%",t.height="200px",t.padding="0px";var n=document.createElement("div");t=n.style,t.position="absolute",t.top="0px",t.left="0px",t.visibility="hidden",t.width="200px",t.height="150px",t.padding="0px",t.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var r=e.offsetWidth;n.style.overflow="scroll";var i=e.offsetWidth;return r==i&&(i=n.clientWidth),document.body.removeChild(n),r-i}function _fnSort(e,t){var n,r,i,s,o,u,a,f,l=[],c=[],h=DataTable.ext.oSort,p=e.aoData,d=e.aoColumns,v=e.oLanguage.oAria;if(!e.oFeatures.bServerSide&&(e.aaSorting.length!==0||e.aaSortingFixed!==null)){l=e.aaSortingFixed!==null?e.aaSortingFixed.concat(e.aaSorting):e.aaSorting.slice();for(n=0;n<l.length;n++){var m=l[n][0],g=_fnColumnIndexToVisible(e,m);a=e.aoColumns[m].sSortDataType;if(DataTable.ext.afnSortData[a]){var y=DataTable.ext.afnSortData[a].call(e.oInstance,e,m,g);if(y.length===p.length)for(i=0,s=p.length;i<s;i++)_fnSetCellData(e,i,m,y[i]);else _fnLog(e,0,"Returned data sort array (col "+m+") is the wrong length")}}for(n=0,r=e.aiDisplayMaster.length;n<r;n++)c[e.aiDisplayMaster[n]]=n;var b=l.length,w,E;for(n=0,r=p.length;n<r;n++)for(i=0;i<b;i++){E=d[l[i][0]].aDataSort;for(o=0,u=E.length;o<u;o++)a=d[E[o]].sType,w=h[(a?a:"string")+"-pre"],p[n]._aSortData[E[o]]=w?w(_fnGetCellData(e,n,E[o],"sort")):_fnGetCellData(e,n,E[o],"sort")}e.aiDisplayMaster.sort(function(e,t){var n,r,i,s,o,u;for(n=0;n<b;n++){o=d[l[n][0]].aDataSort;for(r=0,i=o.length;r<i;r++){u=d[o[r]].sType,s=h[(u?u:"string")+"-"+l[n][1]](p[e]._aSortData[o[r]],p[t]._aSortData[o[r]]);if(s!==0)return s}}return h["numeric-asc"](c[e],c[t])})}(t===undefined||t)&&!e.oFeatures.bDeferRender&&_fnSortingClasses(e);for(n=0,r=e.aoColumns.length;n<r;n++){var S=d[n].sTitle.replace(/<.*?>/g,"");f=d[n].nTh,f.removeAttribute("aria-sort"),f.removeAttribute("aria-label");if(d[n].bSortable)if(l.length>0&&l[0][0]==n){f.setAttribute("aria-sort",l[0][1]=="asc"?"ascending":"descending");var x=d[n].asSorting[l[0][2]+1]?d[n].asSorting[l[0][2]+1]:d[n].asSorting[0];f.setAttribute("aria-label",S+(x=="asc"?v.sSortAscending:v.sSortDescending))}else f.setAttribute("aria-label",S+(d[n].asSorting[0]=="asc"?v.sSortAscending:v.sSortDescending));else f.setAttribute("aria-label",S)}e.bSorted=!0,$(e.oInstance).trigger("sort",e),e.oFeatures.bFilter?_fnFilterComplete(e,e.oPreviousSearch,1):(e.aiDisplay=e.aiDisplayMaster.slice(),e._iDisplayStart=0,_fnCalculateEnd(e),_fnDraw(e))}function _fnSortAttachListener(e,t,n,r){_fnBindAction(t,{},function(t){if(e.aoColumns[n].bSortable===!1)return;var i=function(){var r,i;if(t.shiftKey){var s=!1;for(var o=0;o<e.aaSorting.length;o++)if(e.aaSorting[o][0]==n){s=!0,r=e.aaSorting[o][0],i=e.aaSorting[o][2]+1,e.aoColumns[r].asSorting[i]?(e.aaSorting[o][1]=e.aoColumns[r].asSorting[i],e.aaSorting[o][2]=i):e.aaSorting.splice(o,1);break}s===!1&&e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0])}else e.aaSorting.length==1&&e.aaSorting[0][0]==n?(r=e.aaSorting[0][0],i=e.aaSorting[0][2]+1,e.aoColumns[r].asSorting[i]||(i=0),e.aaSorting[0][1]=e.aoColumns[r].asSorting[i],e.aaSorting[0][2]=i):(e.aaSorting.splice(0,e.aaSorting.length),e.aaSorting.push([n,e.aoColumns[n].asSorting[0],0]));_fnSort(e)};e.oFeatures.bProcessing?(_fnProcessingDisplay(e,!0),setTimeout(function(){i(),e.oFeatures.bServerSide||_fnProcessingDisplay(e,!1)},0)):i(),typeof r=="function"&&r(e)})}function _fnSortingClasses(e){var t,n,r,i,s,o,u,a=e.aoColumns.length,f=e.oClasses;for(t=0;t<a;t++)e.aoColumns[t].bSortable&&$(e.aoColumns[t].nTh).removeClass(f.sSortAsc+" "+f.sSortDesc+" "+e.aoColumns[t].sSortingClass);e.aaSortingFixed!==null?o=e.aaSortingFixed.concat(e.aaSorting):o=e.aaSorting.slice();for(t=0;t<e.aoColumns.length;t++)if(e.aoColumns[t].bSortable){u=e.aoColumns[t].sSortingClass,s=-1;for(r=0;r<o.length;r++)if(o[r][0]==t){u=o[r][1]=="asc"?f.sSortAsc:f.sSortDesc,s=r;break}$(e.aoColumns[t].nTh).addClass(u);if(e.bJUI){var l=$("span."+f.sSortIcon,e.aoColumns[t].nTh);l.removeClass(f.sSortJUIAsc+" "+f.sSortJUIDesc+" "+f.sSortJUI+" "+f.sSortJUIAscAllowed+" "+f.sSortJUIDescAllowed);var c;s==-1?c=e.aoColumns[t].sSortingClassJUI:o[s][1]=="asc"?c=f.sSortJUIAsc:c=f.sSortJUIDesc,l.addClass(c)}}else $(e.aoColumns[t].nTh).addClass(e.aoColumns[t].sSortingClass);u=f.sSortColumn;if(e.oFeatures.bSort&&e.oFeatures.bSortClasses){var h=_fnGetTdNodes(e);if(e.oFeatures.bDeferRender)$(h).removeClass(u+"1 "+u+"2 "+u+"3");else if(h.length>=a)for(t=0;t<a;t++)if(h[t].className.indexOf(u+"1")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(u+"1",""));else if(h[t].className.indexOf(u+"2")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(u+"2",""));else if(h[t].className.indexOf(u+"3")!=-1)for(r=0,i=h.length/a;r<i;r++)h[a*r+t].className=$.trim(h[a*r+t].className.replace(" "+u+"3",""));var p=1,d;for(t=0;t<o.length;t++){d=parseInt(o[t][0],10);for(r=0,i=h.length/a;r<i;r++)h[a*r+d].className+=" "+u+p;p<3&&p++}}}function _fnSaveState(e){if(!e.oFeatures.bStateSave||e.bDestroying)return;var t,n,r=e.oScroll.bInfinite,i={iCreate:(new Date).getTime(),iStart:r?0:e._iDisplayStart,iEnd:r?e._iDisplayLength:e._iDisplayEnd,iLength:e._iDisplayLength,aaSorting:$.extend(!0,[],e.aaSorting),oSearch:$.extend(!0,{},e.oPreviousSearch),aoSearchCols:$.extend(!0,[],e.aoPreSearchCols),abVisCols:[]};for(t=0,n=e.aoColumns.length;t<n;t++)i.abVisCols.push(e.aoColumns[t].bVisible);_fnCallbackFire(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.fnStateSave.call(e.oInstance,e,i)}function _fnLoadState(e,t){if(!e.oFeatures.bStateSave)return;var n=e.fnStateLoad.call(e.oInstance,e);if(!n)return;var r=_fnCallbackFire(e,"aoStateLoadParams","stateLoadParams",[e,n]);if($.inArray(!1,r)!==-1)return;e.oLoadedState=$.extend(!0,{},n),e._iDisplayStart=n.iStart,e.iInitDisplayStart=n.iStart,e._iDisplayEnd=n.iEnd,e._iDisplayLength=n.iLength,e.aaSorting=n.aaSorting.slice(),e.saved_aaSorting=n.aaSorting.slice(),$.extend(e.oPreviousSearch,n.oSearch),$.extend(!0,e.aoPreSearchCols,n.aoSearchCols),t.saved_aoColumns=[];for(var i=0;i<n.abVisCols.length;i++)t.saved_aoColumns[i]={},t.saved_aoColumns[i].bVisible=n.abVisCols[i];_fnCallbackFire(e,"aoStateLoaded","stateLoaded",[e,n])}function _fnCreateCookie(sName,sValue,iSecs,sBaseName,fnCallback){var date=new Date;date.setTime(date.getTime()+iSecs*1e3);var aParts=window.location.pathname.split("/"),sNameFile=sName+"_"+aParts.pop().replace(/[\/:]/g,"").toLowerCase(),sFullCookie,oData;fnCallback!==null?(oData=typeof $.parseJSON=="function"?$.parseJSON(sValue):eval("("+sValue+")"),sFullCookie=fnCallback(sNameFile,oData,date.toGMTString(),aParts.join("/")+"/")):sFullCookie=sNameFile+"="+encodeURIComponent(sValue)+"; expires="+date.toGMTString()+"; path="+aParts.join("/")+"/";var sOldName="",iOldTime=9999999999999,iLength=_fnReadCookie(sNameFile)!==null?document.cookie.length:sFullCookie.length+document.cookie.length;if(iLength+10>4096){var aCookies=document.cookie.split(";");for(var i=0,iLen=aCookies.length;i<iLen;i++)if(aCookies[i].indexOf(sBaseName)!=-1){var aSplitCookie=aCookies[i].split("=");try{oData=eval("("+decodeURIComponent(aSplitCookie[1])+")")}catch(e){continue}oData.iCreate&&oData.iCreate<iOldTime&&(sOldName=aSplitCookie[0],iOldTime=oData.iCreate)}sOldName!==""&&(document.cookie=sOldName+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+aParts.join("/")+"/")}document.cookie=sFullCookie}function _fnReadCookie(e){var t=window.location.pathname.split("/"),n=e+"_"+t[t.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",r=document.cookie.split(";");for(var i=0;i<r.length;i++){var s=r[i];while(s.charAt(0)==" ")s=s.substring(1,s.length);if(s.indexOf(n)===0)return decodeURIComponent(s.substring(n.length,s.length))}return null}function _fnSettingsFromNode(e){for(var t=0;t<DataTable.settings.length;t++)if(DataTable.settings[t].nTable===e)return DataTable.settings[t];return null}function _fnGetTrNodes(e){var t=[],n=e.aoData;for(var r=0,i=n.length;r<i;r++)n[r].nTr!==null&&t.push(n[r].nTr);return t}function _fnGetTdNodes(e,t){var n=[],r,i,s,o=e.aoData.length,u,a,f,l,c=0,h=o;t!==undefined&&(c=t,h=t+1);for(s=c;s<h;s++){f=e.aoData[s];if(f.nTr!==null){i=[];for(u=0,a=f.nTr.childNodes.length;u<a;u++)l=f.nTr.childNodes[u].nodeName.toLowerCase(),(l=="td"||l=="th")&&i.push(f.nTr.childNodes[u]);r=0;for(u=0,a=e.aoColumns.length;u<a;u++)e.aoColumns[u].bVisible?n.push(i[u-r]):(n.push(f._anHidden[u]),r++)}}return n}function _fnLog(e,t,n){var r=e===null?"DataTables warning: "+n:"DataTables warning (table id = '"+e.sTableId+"'): "+n;if(t===0){if(DataTable.ext.sErrMode!="alert")throw new Error(r);alert(r);return}window.console&&console.log&&console.log(r)}function _fnMap(e,t,n,r){r===undefined&&(r=n),t[n]!==undefined&&(e[r]=t[n])}function _fnExtend(e,t){var n;for(var r in t)t.hasOwnProperty(r)&&(n=t[r],typeof oInit[r]=="object"&&n!==null&&$.isArray(n)===!1?$.extend(!0,e[r],n):e[r]=n);return e}function _fnBindAction(e,t,n){$(e).bind("click.DT",t,function(t){e.blur(),n(t)}).bind("keypress.DT",t,function(e){e.which===13&&n(e)}).bind("selectstart.DT",function(){return!1})}function _fnCallbackReg(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function _fnCallbackFire(e,t,n,r){var i=e[t],s=[];for(var o=i.length-1;o>=0;o--)s.push(i[o].fn.apply(e.oInstance,r));return n!==null&&$(e.oInstance).trigger(n,r),s}function _fnBrowserDetect(e){var t=$('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; height:50px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"></div></div></div>')[0];document.body.appendChild(t),e.oBrowser.bScrollOversize=$("#DT_BrowserTest",t)[0].offsetWidth===100?!0:!1,document.body.removeChild(t)}function _fnExternApiFunc(e){return function(){var t=[_fnSettingsFromNode(this[DataTable.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return DataTable.ext.oApi[e].apply(this,t)}}var __reArray=/\[.*?\]$/,_fnJsonString=window.JSON?JSON.stringify:function(e){var t=typeof e;if(t!=="object"||e===null)return t==="string"&&(e='"'+e+'"'),e+"";var n,r,i=[],s=$.isArray(e);for(n in e)r=e[n],t=typeof r,t==="string"?r='"'+r+'"':t==="object"&&r!==null&&(r=_fnJsonString(r)),i.push((s?"":'"'+n+'":')+r);return(s?"[":"{")+i+(s?"]":"}")};this.$=function(e,t){var n,r,i=[],s,o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),u=o.aoData,a=o.aiDisplay,f=o.aiDisplayMaster;t||(t={}),t=$.extend({},{filter:"none",order:"current",page:"all"},t);if(t.page=="current")for(n=o._iDisplayStart,r=o.fnDisplayEnd();n<r;n++)s=u[a[n]].nTr,s&&i.push(s);else if(t.order=="current"&&t.filter=="none")for(n=0,r=f.length;n<r;n++)s=u[f[n]].nTr,s&&i.push(s);else if(t.order=="current"&&t.filter=="applied")for(n=0,r=a.length;n<r;n++)s=u[a[n]].nTr,s&&i.push(s);else if(t.order=="original"&&t.filter=="none")for(n=0,r=u.length;n<r;n++)s=u[n].nTr,s&&i.push(s);else if(t.order=="original"&&t.filter=="applied")for(n=0,r=u.length;n<r;n++)s=u[n].nTr,$.inArray(n,a)!==-1&&s&&i.push(s);else _fnLog(o,1,"Unknown selection options");var l=$(i),c=l.filter(e),h=l.find(e);return $([].concat($.makeArray(c),$.makeArray(h)))},this._=function(e,t){var n=[],r,i,s,o=this.$(e,t);for(r=0,i=o.length;r<i;r++)n.push(this.fnGetData(o[r]));return n},this.fnAddData=function(e,t){if(e.length===0)return[];var n=[],r,i=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(typeof e[0]=="object"&&e[0]!==null)for(var s=0;s<e.length;s++){r=_fnAddData(i,e[s]);if(r==-1)return n;n.push(r)}else{r=_fnAddData(i,e);if(r==-1)return n;n.push(r)}return i.aiDisplay=i.aiDisplayMaster.slice(),(t===undefined||t)&&_fnReDraw(i),n},this.fnAdjustColumnSizing=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnAdjustColumnSizing(t),e===undefined||e?this.fnDraw(!1):(t.oScroll.sX!==""||t.oScroll.sY!=="")&&this.oApi._fnScrollDraw(t)},this.fnClearTable=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnClearTable(t),(e===undefined||e)&&_fnDraw(t)},this.fnClose=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);for(var n=0;n<t.aoOpenRows.length;n++)if(t.aoOpenRows[n].nParent==e){var r=t.aoOpenRows[n].nTr.parentNode;return r&&r.removeChild(t.aoOpenRows[n].nTr),t.aoOpenRows.splice(n,1),0}return 1},this.fnDeleteRow=function(e,t,n){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i,s,o;o=typeof e=="object"?_fnNodeToDataIndex(r,e):e;var u=r.aoData.splice(o,1);for(i=0,s=r.aoData.length;i<s;i++)r.aoData[i].nTr!==null&&(r.aoData[i].nTr._DT_RowIndex=i);var a=$.inArray(o,r.aiDisplay);r.asDataSearch.splice(a,1),_fnDeleteIndex(r.aiDisplayMaster,o),_fnDeleteIndex(r.aiDisplay,o),typeof t=="function"&&t.call(this,r,u),r._iDisplayStart>=r.fnRecordsDisplay()&&(r._iDisplayStart-=r._iDisplayLength,r._iDisplayStart<0&&(r._iDisplayStart=0));if(n===undefined||n)_fnCalculateEnd(r),_fnDraw(r);return u},this.fnDestroy=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=t.nTableWrapper.parentNode,r=t.nTBody,i,s;e=e===undefined?!1:!0,t.bDestroying=!0,_fnCallbackFire(t,"aoDestroyCallback","destroy",[t]);for(i=0,s=t.aoColumns.length;i<s;i++)t.aoColumns[i].bVisible===!1&&this.fnSetColumnVis(i,!0);$(t.nTableWrapper).find("*").andSelf().unbind(".DT"),$("tbody>tr>td."+t.oClasses.sRowEmpty,t.nTable).parent().remove(),t.nTable!=t.nTHead.parentNode&&($(t.nTable).children("thead").remove(),t.nTable.appendChild(t.nTHead)),t.nTFoot&&t.nTable!=t.nTFoot.parentNode&&($(t.nTable).children("tfoot").remove(),t.nTable.appendChild(t.nTFoot)),t.nTable.parentNode.removeChild(t.nTable),$(t.nTableWrapper).remove(),t.aaSorting=[],t.aaSortingFixed=[],_fnSortingClasses(t),$(_fnGetTrNodes(t)).removeClass(t.asStripeClasses.join(" ")),$("th, td",t.nTHead).removeClass([t.oClasses.sSortable,t.oClasses.sSortableAsc,t.oClasses.sSortableDesc,t.oClasses.sSortableNone].join(" ")),t.bJUI&&($("th span."+t.oClasses.sSortIcon+", td span."+t.oClasses.sSortIcon,t.nTHead).remove(),$("th, td",t.nTHead).each(function(){var e=$("div."+t.oClasses.sSortJUIWrapper,this),n=e.contents();$(this).append(n),e.remove()})),!e&&t.nTableReinsertBefore?n.insertBefore(t.nTable,t.nTableReinsertBefore):e||n.appendChild(t.nTable);for(i=0,s=t.aoData.length;i<s;i++)t.aoData[i].nTr!==null&&r.appendChild(t.aoData[i].nTr);t.oFeatures.bAutoWidth===!0&&(t.nTable.style.width=_fnStringToCss(t.sDestroyWidth)),$(r).children("tr:even").addClass(t.asDestroyStripes[0]),$(r).children("tr:odd").addClass(t.asDestroyStripes[1]);for(i=0,s=DataTable.settings.length;i<s;i++)DataTable.settings[i]==t&&DataTable.settings.splice(i,1);t=null},this.fnDraw=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);e===!1?(_fnCalculateEnd(t),_fnDraw(t)):_fnReDraw(t)},this.fnFilter=function(e,t,n,r,i,s){var o=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(!o.oFeatures.bFilter)return;if(n===undefined||n===null)n=!1;if(r===undefined||r===null)r=!0;if(i===undefined||i===null)i=!0;if(s===undefined||s===null)s=!0;if(t===undefined||t===null){_fnFilterComplete(o,{sSearch:e+"",bRegex:n,bSmart:r,bCaseInsensitive:s},1);if(i&&o.aanFeatures.f){var u=o.aanFeatures.f;for(var a=0,f=u.length;a<f;a++)$(u[a]._DT_Input).val(e)}}else $.extend(o.aoPreSearchCols[t],{sSearch:e+"",bRegex:n,bSmart:r,bCaseInsensitive:s}),_fnFilterComplete(o,o.oPreviousSearch,1)},this.fnGetData=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);if(e!==undefined){var r=e;if(typeof e=="object"){var i=e.nodeName.toLowerCase();i==="tr"?r=_fnNodeToDataIndex(n,e):i==="td"&&(r=_fnNodeToDataIndex(n,e.parentNode),t=_fnNodeToColumnIndex(n,r,e))}return t!==undefined?_fnGetCellData(n,r,t,""):n.aoData[r]!==undefined?n.aoData[r]._aData:null}return _fnGetDataMaster(n)},this.fnGetNodes=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);return e!==undefined?t.aoData[e]!==undefined?t.aoData[e].nTr:null:_fnGetTrNodes(t)},this.fnGetPosition=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=e.nodeName.toUpperCase();if(n=="TR")return _fnNodeToDataIndex(t,e);if(n=="TD"||n=="TH"){var r=_fnNodeToDataIndex(t,e.parentNode),i=_fnNodeToColumnIndex(t,r,e);return[r,_fnColumnIndexToVisible(t,i),i]}return null},this.fnIsOpen=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),n=t.aoOpenRows;for(var r=0;r<t.aoOpenRows.length;r++)if(t.aoOpenRows[r].nParent==e)return!0;return!1},this.fnOpen=function(e,t,n){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i=_fnGetTrNodes(r);if($.inArray(e,i)===-1)return;this.fnClose(e);var s=document.createElement("tr"),o=document.createElement("td");s.appendChild(o),o.className=n,o.colSpan=_fnVisbleColumns(r),typeof t=="string"?o.innerHTML=t:$(o).html(t);var u=$("tr",r.nTBody);return $.inArray(e,u)!=-1&&$(s).insertAfter(e),r.aoOpenRows.push({nTr:s,nParent:e}),s},this.fnPageChange=function(e,t){var n=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);_fnPageChange(n,e),_fnCalculateEnd(n),(t===undefined||t)&&_fnDraw(n)},this.fnSetColumnVis=function(e,t,n){var r=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),i,s,o=r.aoColumns,u=r.aoData,a,f,l;if(o[e].bVisible==t)return;if(t){var c=0;for(i=0;i<e;i++)o[i].bVisible&&c++;f=c>=_fnVisbleColumns(r);if(!f)for(i=e;i<o.length;i++)if(o[i].bVisible){l=i;break}for(i=0,s=u.length;i<s;i++)u[i].nTr!==null&&(f?u[i].nTr.appendChild(u[i]._anHidden[e]):u[i].nTr.insertBefore(u[i]._anHidden[e],_fnGetTdNodes(r,i)[l]))}else for(i=0,s=u.length;i<s;i++)u[i].nTr!==null&&(a=_fnGetTdNodes(r,i)[e],u[i]._anHidden[e]=a,a.parentNode.removeChild(a));o[e].bVisible=t,_fnDrawHead(r,r.aoHeader),r.nTFoot&&_fnDrawHead(r,r.aoFooter);for(i=0,s=r.aoOpenRows.length;i<s;i++)r.aoOpenRows[i].nTr.colSpan=_fnVisbleColumns(r);if(n===undefined||n)_fnAdjustColumnSizing(r),_fnDraw(r);_fnSaveState(r)},this.fnSettings=function(){return _fnSettingsFromNode(this[DataTable.ext.iApiIndex])},this.fnSort=function(e){var t=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]);t.aaSorting=e,_fnSort(t)},this.fnSortListener=function(e,t,n){_fnSortAttachListener(_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),e,t,n)},this.fnUpdate=function(e,t,n,r,i){var s=_fnSettingsFromNode(this[DataTable.ext.iApiIndex]),o,u,a,f=typeof t=="object"?_fnNodeToDataIndex(s,t):t;if($.isArray(e)&&n===undefined){s.aoData[f]._aData=e.slice();for(o=0;o<s.aoColumns.length;o++)this.fnUpdate(_fnGetCellData(s,f,o),f,o,!1,!1)}else if($.isPlainObject(e)&&n===undefined){s.aoData[f]._aData=$.extend(!0,{},e);for(o=0;o<s.aoColumns.length;o++)this.fnUpdate(_fnGetCellData(s,f,o),f,o,!1,!1)}else{_fnSetCellData(s,f,n,e),a=_fnGetCellData(s,f,n,"display");var l=s.aoColumns[n];l.fnRender!==null&&(a=_fnRender(s,f,n),l.bUseRendered&&_fnSetCellData(s,f,n,a)),s.aoData[f].nTr!==null&&(_fnGetTdNodes(s,f)[n].innerHTML=a)}var c=$.inArray(f,s.aiDisplay);return s.asDataSearch[c]=_fnBuildSearchRow(s,_fnGetRowData(s,f,"filter",_fnGetColumns(s,"bSearchable"))),(i===undefined||i)&&_fnAdjustColumnSizing(s),(r===undefined||r)&&_fnReDraw(s),0},this.fnVersionCheck=DataTable.ext.fnVersionCheck,this.oApi={_fnExternApiFunc:_fnExternApiFunc,_fnInitialise:_fnInitialise,_fnInitComplete:_fnInitComplete,_fnLanguageCompat:_fnLanguageCompat,_fnAddColumn:_fnAddColumn,_fnColumnOptions:_fnColumnOptions,_fnAddData:_fnAddData,_fnCreateTr:_fnCreateTr,_fnGatherData:_fnGatherData,_fnBuildHead:_fnBuildHead,_fnDrawHead:_fnDrawHead,_fnDraw:_fnDraw,_fnReDraw:_fnReDraw,_fnAjaxUpdate:_fnAjaxUpdate,_fnAjaxParameters:_fnAjaxParameters,_fnAjaxUpdateDraw:_fnAjaxUpdateDraw,_fnServerParams:_fnServerParams,_fnAddOptionsHtml:_fnAddOptionsHtml,_fnFeatureHtmlTable:_fnFeatureHtmlTable,_fnScrollDraw:_fnScrollDraw,_fnAdjustColumnSizing:_fnAdjustColumnSizing,_fnFeatureHtmlFilter:_fnFeatureHtmlFilter,_fnFilterComplete:_fnFilterComplete,_fnFilterCustom:_fnFilterCustom,_fnFilterColumn:_fnFilterColumn,_fnFilter:_fnFilter,_fnBuildSearchArray:_fnBuildSearchArray,_fnBuildSearchRow:_fnBuildSearchRow,_fnFilterCreateSearch:_fnFilterCreateSearch,_fnDataToSearch:_fnDataToSearch,_fnSort:_fnSort,_fnSortAttachListener:_fnSortAttachListener,_fnSortingClasses:_fnSortingClasses,_fnFeatureHtmlPaginate:_fnFeatureHtmlPaginate,_fnPageChange:_fnPageChange,_fnFeatureHtmlInfo:_fnFeatureHtmlInfo,_fnUpdateInfo:_fnUpdateInfo,_fnFeatureHtmlLength:_fnFeatureHtmlLength,_fnFeatureHtmlProcessing:_fnFeatureHtmlProcessing,_fnProcessingDisplay:_fnProcessingDisplay,_fnVisibleToColumnIndex:_fnVisibleToColumnIndex,_fnColumnIndexToVisible:_fnColumnIndexToVisible,_fnNodeToDataIndex:_fnNodeToDataIndex,_fnVisbleColumns:_fnVisbleColumns,_fnCalculateEnd:_fnCalculateEnd,_fnConvertToWidth:_fnConvertToWidth,_fnCalculateColumnWidths:_fnCalculateColumnWidths,_fnScrollingWidthAdjust:_fnScrollingWidthAdjust,_fnGetWidestNode:_fnGetWidestNode,_fnGetMaxLenString:_fnGetMaxLenString,_fnStringToCss:_fnStringToCss,_fnDetectType:_fnDetectType,_fnSettingsFromNode:_fnSettingsFromNode,_fnGetDataMaster:_fnGetDataMaster,_fnGetTrNodes:_fnGetTrNodes,_fnGetTdNodes:_fnGetTdNodes,_fnEscapeRegex:_fnEscapeRegex,_fnDeleteIndex:_fnDeleteIndex,_fnReOrderIndex:_fnReOrderIndex,_fnColumnOrdering:_fnColumnOrdering,_fnLog:_fnLog,_fnClearTable:_fnClearTable,_fnSaveState:_fnSaveState,_fnLoadState:_fnLoadState,_fnCreateCookie:_fnCreateCookie,_fnReadCookie:_fnReadCookie,_fnDetectHeader:_fnDetectHeader,_fnGetUniqueThs:_fnGetUniqueThs,_fnScrollBarWidth:_fnScrollBarWidth,_fnApplyToChildren:_fnApplyToChildren,_fnMap:_fnMap,_fnGetRowData:_fnGetRowData,_fnGetCellData:_fnGetCellData,_fnSetCellData:_fnSetCellData,_fnGetObjectDataFn:_fnGetObjectDataFn,_fnSetObjectDataFn:_fnSetObjectDataFn,_fnApplyColumnDefs:_fnApplyColumnDefs,_fnBindAction:_fnBindAction,_fnExtend:_fnExtend,_fnCallbackReg:_fnCallbackReg,_fnCallbackFire:_fnCallbackFire,_fnJsonString:_fnJsonString,_fnRender:_fnRender,_fnNodeToColumnIndex:_fnNodeToColumnIndex,_fnInfoMacros:_fnInfoMacros,_fnBrowserDetect:_fnBrowserDetect,_fnGetColumns:_fnGetColumns},$.extend(DataTable.ext.oApi,this.oApi);for(var sFunc in DataTable.ext.oApi)sFunc&&(this[sFunc]=_fnExternApiFunc(sFunc));var _that=this;return this.each(function(){var e=0,t,n,r,i,s,o=this.getAttribute("id"),u=!1,a=!1;if(this.nodeName.toLowerCase()!="table"){_fnLog(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);return}for(e=0,t=DataTable.settings.length;e<t;e++){if(DataTable.settings[e].nTable==this){if(oInit===undefined||oInit.bRetrieve)return DataTable.settings[e].oInstance;if(oInit.bDestroy){DataTable.settings[e].oInstance.fnDestroy();break}_fnLog(DataTable.settings[e],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}if(DataTable.settings[e].sTableId==this.id){DataTable.settings.splice(e,1);break}}if(o===null||o==="")o="DataTables_Table_"+DataTable.ext._oExternConfig.iNextUnique++,this.id=o;var f=$.extend(!0,{},DataTable.models.oSettings,{nTable:this,oApi:_that.oApi,oInit:oInit,sDestroyWidth:$(this).width(),sInstance:o,sTableId:o});DataTable.settings.push(f),f.oInstance=_that.length===1?_that:$(this).dataTable(),oInit||(oInit={}),oInit.oLanguage&&_fnLanguageCompat(oInit.oLanguage),oInit=_fnExtend($.extend(!0,{},DataTable.defaults),oInit),_fnMap(f.oFeatures,oInit,"bPaginate"),_fnMap(f.oFeatures,oInit,"bLengthChange"),_fnMap(f.oFeatures,oInit,"bFilter"),_fnMap(f.oFeatures,oInit,"bSort"),_fnMap(f.oFeatures,oInit,"bInfo"),_fnMap(f.oFeatures,oInit,"bProcessing"),_fnMap(f.oFeatures,oInit,"bAutoWidth"),_fnMap(f.oFeatures,oInit,"bSortClasses"),_fnMap(f.oFeatures,oInit,"bServerSide"),_fnMap(f.oFeatures,oInit,"bDeferRender"),_fnMap(f.oScroll,oInit,"sScrollX","sX"),_fnMap(f.oScroll,oInit,"sScrollXInner","sXInner"),_fnMap(f.oScroll,oInit,"sScrollY","sY"),_fnMap(f.oScroll,oInit,"bScrollCollapse","bCollapse"),_fnMap(f.oScroll,oInit,"bScrollInfinite","bInfinite"),_fnMap(f.oScroll,oInit,"iScrollLoadGap","iLoadGap"),_fnMap(f.oScroll,oInit,"bScrollAutoCss","bAutoCss"),_fnMap(f,oInit,"asStripeClasses"),_fnMap(f,oInit,"asStripClasses","asStripeClasses"),_fnMap(f,oInit,"fnServerData"),_fnMap(f,oInit,"fnFormatNumber"),_fnMap(f,oInit,"sServerMethod"),_fnMap(f,oInit,"aaSorting"),_fnMap(f,oInit,"aaSortingFixed"),_fnMap(f,oInit,"aLengthMenu"),_fnMap(f,oInit,"sPaginationType"),_fnMap(f,oInit,"sAjaxSource"),_fnMap(f,oInit,"sAjaxDataProp"),_fnMap(f,oInit,"sAjaxRecordTotalProp"),_fnMap(f,oInit,"sAjaxRecordDisplayProp"),_fnMap(f,oInit,"iCookieDuration"),_fnMap(f,oInit,"sCookiePrefix"),_fnMap(f,oInit,"sDom"),_fnMap(f,oInit,"bSortCellsTop"),_fnMap(f,oInit,"iTabIndex"),_fnMap(f,oInit,"oSearch","oPreviousSearch"),_fnMap(f,oInit,"aoSearchCols","aoPreSearchCols"),_fnMap(f,oInit,"iDisplayLength","_iDisplayLength"),_fnMap(f,oInit,"bJQueryUI","bJUI"),_fnMap(f,oInit,"fnCookieCallback"),_fnMap(f,oInit,"fnStateLoad"),_fnMap(f,oInit,"fnStateSave"),_fnMap(f.oLanguage,oInit,"fnInfoCallback"),_fnCallbackReg(f,"aoDrawCallback",oInit.fnDrawCallback,"user"),_fnCallbackReg(f,"aoServerParams",oInit.fnServerParams,"user"),_fnCallbackReg(f,"aoStateSaveParams",oInit.fnStateSaveParams,"user"),_fnCallbackReg(f,"aoStateLoadParams",oInit.fnStateLoadParams,"user"),_fnCallbackReg(f,"aoStateLoaded",oInit.fnStateLoaded,"user"),_fnCallbackReg(f,"aoRowCallback",oInit.fnRowCallback,"user"),_fnCallbackReg(f,"aoRowCreatedCallback",oInit.fnCreatedRow,"user"),_fnCallbackReg(f,"aoHeaderCallback",oInit.fnHeaderCallback,"user"),_fnCallbackReg(f,"aoFooterCallback",oInit.fnFooterCallback,"user"),_fnCallbackReg(f,"aoInitComplete",oInit.fnInitComplete,"user"),_fnCallbackReg(f,"aoPreDrawCallback",oInit.fnPreDrawCallback,"user"),f.oFeatures.bServerSide&&f.oFeatures.bSort&&f.oFeatures.bSortClasses?_fnCallbackReg(f,"aoDrawCallback",_fnSortingClasses,"server_side_sort_classes"):f.oFeatures.bDeferRender&&_fnCallbackReg(f,"aoDrawCallback",_fnSortingClasses,"defer_sort_classes"),oInit.bJQueryUI?($.extend(f.oClasses,DataTable.ext.oJUIClasses),oInit.sDom===DataTable.defaults.sDom&&DataTable.defaults.sDom==="lfrtip"&&(f.sDom='<"H"lfr>t<"F"ip>')):$.extend(f.oClasses,DataTable.ext.oStdClasses),$(this).addClass(f.oClasses.sTable);if(f.oScroll.sX!==""||f.oScroll.sY!=="")f.oScroll.iBarWidth=_fnScrollBarWidth();f.iInitDisplayStart===undefined&&(f.iInitDisplayStart=oInit.iDisplayStart,f._iDisplayStart=oInit.iDisplayStart),oInit.bStateSave&&(f.oFeatures.bStateSave=!0,_fnLoadState(f,oInit),_fnCallbackReg(f,"aoDrawCallback",_fnSaveState,"state_save"));if(oInit.iDeferLoading!==null){f.bDeferLoading=!0;var l=$.isArray(oInit.iDeferLoading);f._iRecordsDisplay=l?oInit.iDeferLoading[0]:oInit.iDeferLoading,f._iRecordsTotal=l?oInit.iDeferLoading[1]:oInit.iDeferLoading}oInit.aaData!==null&&(a=!0),oInit.oLanguage.sUrl!==""?(f.oLanguage.sUrl=oInit.oLanguage.sUrl,$.getJSON(f.oLanguage.sUrl,null,function(e){_fnLanguageCompat(e),$.extend(!0,f.oLanguage,oInit.oLanguage,e),_fnInitialise(f)}),u=!0):$.extend(!0,f.oLanguage,oInit.oLanguage),oInit.asStripeClasses===null&&(f.asStripeClasses=[f.oClasses.sStripeOdd,f.oClasses.sStripeEven]);var c=!1,h=$(this).children("tbody").children("tr");for(e=0,t=f.asStripeClasses.length;e<t;e++)if(h.filter(":lt(2)").hasClass(f.asStripeClasses[e])){c=!0;break}c&&(f.asDestroyStripes=["",""],$(h[0]).hasClass(f.oClasses.sStripeOdd)&&(f.asDestroyStripes[0]+=f.oClasses.sStripeOdd+" "),$(h[0]).hasClass(f.oClasses.sStripeEven)&&(f.asDestroyStripes[0]+=f.oClasses.sStripeEven),$(h[1]).hasClass(f.oClasses.sStripeOdd)&&(f.asDestroyStripes[1]+=f.oClasses.sStripeOdd+" "),$(h[1]).hasClass(f.oClasses.sStripeEven)&&(f.asDestroyStripes[1]+=f.oClasses.sStripeEven),h.removeClass(f.asStripeClasses.join(" ")));var p=[],d,v=this.getElementsByTagName("thead");v.length!==0&&(_fnDetectHeader(f.aoHeader,v[0]),p=_fnGetUniqueThs(f));if(oInit.aoColumns===null){d=[];for(e=0,t=p.length;e<t;e++)d.push(null)}else d=oInit.aoColumns;for(e=0,t=d.length;e<t;e++)oInit.saved_aoColumns!==undefined&&oInit.saved_aoColumns.length==t&&(d[e]===null&&(d[e]={}),d[e].bVisible=oInit.saved_aoColumns[e].bVisible),_fnAddColumn(f,p?p[e]:null);_fnApplyColumnDefs(f,oInit.aoColumnDefs,d,function(e,t){_fnColumnOptions(f,e,t)});for(e=0,t=f.aaSorting.length;e<t;e++){f.aaSorting[e][0]>=f.aoColumns.length&&(f.aaSorting[e][0]=0);var m=f.aoColumns[f.aaSorting[e][0]];f.aaSorting[e][2]===undefined&&(f.aaSorting[e][2]=0),oInit.aaSorting===undefined&&f.saved_aaSorting===undefined&&(f.aaSorting[e][1]=m.asSorting[0]);for(n=0,r=m.asSorting.length;n<r;n++)if(f.aaSorting[e][1]==m.asSorting[n]){f.aaSorting[e][2]=n;break}}_fnSortingClasses(f),_fnBrowserDetect(f);var g=$(this).children("caption").each(function(){this._captionSide=$(this).css("caption-side")}),y=$(this).children("thead");y.length===0&&(y=[document.createElement("thead")],this.appendChild(y[0])),f.nTHead=y[0];var b=$(this).children("tbody");b.length===0&&(b=[document.createElement("tbody")],this.appendChild(b[0])),f.nTBody=b[0],f.nTBody.setAttribute("role","alert"),f.nTBody.setAttribute("aria-live","polite"),f.nTBody.setAttribute("aria-relevant","all");var w=$(this).children("tfoot");w.length===0&&g.length>0&&(f.oScroll.sX!==""||f.oScroll.sY!=="")&&(w=[document.createElement("tfoot")],this.appendChild(w[0])),w.length>0&&(f.nTFoot=w[0],_fnDetectHeader(f.aoFooter,f.nTFoot));if(a)for(e=0;e<oInit.aaData.length;e++)_fnAddData(f,oInit.aaData[e]);else _fnGatherData(f);f.aiDisplay=f.aiDisplayMaster.slice(),f.bInitialised=!0,u===!1&&_fnInitialise(f)})};DataTable.fnVersionCheck=function(e){var t=function(e,t){while(e.length<t)e+="0";return e},n=DataTable.ext.sVersion.split("."),r=e.split("."),i="",s="";for(var o=0,u=r.length;o<u;o++)i+=t(n[o],3),s+=t(r[o],3);return parseInt(i,10)>=parseInt(s,10)},DataTable.fnIsDataTable=function(e){var t=DataTable.settings;for(var n=0;n<t.length;n++)if(t[n].nTable===e||t[n].nScrollHead===e||t[n].nScrollFoot===e)return!0;return!1},DataTable.fnTables=function(e){var t=[];return jQuery.each(DataTable.settings,function(n,r){(!e||e===!0&&$(r.nTable).is(":visible"))&&t.push(r.nTable)}),t},DataTable.version="1.9.3",DataTable.settings=[],DataTable.models={},DataTable.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:DataTable.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:DataTable.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}},DataTable.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},DataTable.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""},DataTable.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},DataTable.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){if(e<1e3)return e;var t=e+"",n=t.split(""),r="",i=t.length;for(var s=0;s<i;s++)s%3===0&&s!==0&&(r=this.oLanguage.sInfoThousands+r),r=n[i-s-1]+r;return r},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(e,t,n,r){r.jqXHR=$.ajax({url:e,data:t,success:function(e){e.sError&&r.oApi._fnLog(r,0,e.sError),$(r.oInstance).trigger("xhr",[r,e]),n(e)},dataType:"json",cache:!1,type:r.sServerMethod,error:function(e,t,n){t=="parsererror"&&r.oApi._fnLog(r,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(oSettings){var sData=this.oApi._fnReadCookie(oSettings.sCookiePrefix+oSettings.sInstance),oData;try{oData=typeof $.parseJSON=="function"?$.parseJSON(sData):eval("("+sData+")")}catch(e){oData=null}return oData},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(e,t){this.oApi._fnCreateCookie(e.sCookiePrefix+e.sInstance,this.oApi._fnJsonString(t),e.iCookieDuration,e.sCookiePrefix,e.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:$.extend({},DataTable.models.oSearch),sAjaxDataProp:"aaData",sAjaxRecordTotalProp:"iTotalRecords",sAjaxRecordDisplayProp:"iTotalDisplayRecords",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"},DataTable.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},DataTable.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,sAjaxRecordTotalProp:null,sAjaxRecordDisplayProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?this.oFeatures.bPaginate===!1||this._iDisplayLength==-1?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null},DataTable.ext=$.extend(!0,{},DataTable.models.ext),$.extend(DataTable.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""}),$.extend(DataTable.ext.oJUIClasses,DataTable.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled"
,sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"}),$.extend(DataTable.ext.oPagination,{two_button:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=e.oClasses,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)},o=e.bJUI?'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUIPrev+'"></span></a>'+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button"><span class="'+e.oClasses.sPageJUINext+'"></span></a>':'<a class="'+e.oClasses.sPagePrevDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sPrevious+"</a>"+'<a class="'+e.oClasses.sPageNextDisabled+'" tabindex="'+e.iTabIndex+'" role="button">'+r.sNext+"</a>";$(t).append(o);var u=$("a",t),a=u[0],f=u[1];e.oApi._fnBindAction(a,{action:"previous"},s),e.oApi._fnBindAction(f,{action:"next"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",a.id=e.sTableId+"_previous",f.id=e.sTableId+"_next",a.setAttribute("aria-controls",e.sTableId),f.setAttribute("aria-controls",e.sTableId))},fnUpdate:function(e,t){if(!e.aanFeatures.p)return;var n=e.oClasses,r=e.aanFeatures.p;for(var i=0,s=r.length;i<s;i++)r[i].childNodes.length!==0&&(r[i].childNodes[0].className=e._iDisplayStart===0?n.sPagePrevDisabled:n.sPagePrevEnabled,r[i].childNodes[1].className=e.fnDisplayEnd()==e.fnRecordsDisplay()?n.sPageNextDisabled:n.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(e,t,n){var r=e.oLanguage.oPaginate,i=e.oClasses,s=function(t){e.oApi._fnPageChange(e,t.data.action)&&n(e)};$(t).append('<a  tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageFirst+'" title="'+r.sFirst+'"></a>'+'<a  tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPagePrevious+'" title="'+r.sPrevious+'"></a>'+"<span></span>"+'<a tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageNext+'" title="'+r.sNext+'"></a>'+'<a tabindex="'+e.iTabIndex+'" class="'+i.sPageButton+" "+i.sPageLast+'" title="'+r.sLast+'"></a>');var o=$("a",t),u=o[0],a=o[1],f=o[2],l=o[3];e.oApi._fnBindAction(u,{action:"first"},s),e.oApi._fnBindAction(a,{action:"previous"},s),e.oApi._fnBindAction(f,{action:"next"},s),e.oApi._fnBindAction(l,{action:"last"},s),e.aanFeatures.p||(t.id=e.sTableId+"_paginate",u.id=e.sTableId+"_first",a.id=e.sTableId+"_previous",f.id=e.sTableId+"_next",l.id=e.sTableId+"_last")},fnUpdate:function(e,t){if(!e.aanFeatures.p)return;var n=DataTable.ext.oPagination.iFullNumbersShowPages,r=Math.floor(n/2),i=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),s=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1,o="",u,a,f,l,c=e.oClasses,h,p,d,v=e.aanFeatures.p,m=function(n){e.oApi._fnBindAction(this,{page:n+u-1},function(n){e.oApi._fnPageChange(e,n.data.page),t(e),n.preventDefault()})};e._iDisplayLength===-1?(u=1,a=1,s=1):i<n?(u=1,a=i):s<=r?(u=1,a=n):s>=i-r?(u=i-n+1,a=i):(u=s-Math.ceil(n/2)+1,a=u+n-1);for(f=u;f<=a;f++)o+=s!==f?'<a tabindex="'+e.iTabIndex+'" class="'+c.sPageButton+'">'+e.fnFormatNumber(f)+"</a>":'<a tabindex="'+e.iTabIndex+'" class="'+c.sPageButtonActive+'">'+e.fnFormatNumber(f)+"</a>";for(f=0,l=v.length;f<l;f++){if(v[f].childNodes.length===0)continue;$("span:eq(0)",v[f]).html(o).children("a").each(m),h=v[f].getElementsByTagName("a"),p=[h[0],h[1],h[h.length-2],h[h.length-1]],$(p).removeClass(c.sPageButton+" "+c.sPageButtonActive+" "+c.sPageButtonStaticDisabled),$([p[0],p[1]]).addClass(s==1?c.sPageButtonStaticDisabled:c.sPageButton),$([p[2],p[3]]).addClass(i===0||s===i||e._iDisplayLength===-1?c.sPageButtonStaticDisabled:c.sPageButton)}}}}),$.extend(DataTable.ext.oSort,{"string-pre":function(e){return typeof e!="string"&&(e=e!==null&&e.toString?e.toString():""),e.toLowerCase()},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0},"html-pre":function(e){return e.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(e,t){return e<t?-1:e>t?1:0},"html-desc":function(e,t){return e<t?1:e>t?-1:0},"date-pre":function(e){var t=Date.parse(e);if(isNaN(t)||t==="")t=Date.parse("01/01/1970 00:00:00");return t},"date-asc":function(e,t){return e-t},"date-desc":function(e,t){return t-e},"numeric-pre":function(e){return e=="-"||e===""?0:e*1},"numeric-asc":function(e,t){return e-t},"numeric-desc":function(e,t){return t-e}}),$.extend(DataTable.ext.aTypes,[function(e){if(typeof e=="number")return"numeric";if(typeof e!="string")return null;var t="0123456789-",n="0123456789.",r,i=!1;r=e.charAt(0);if(t.indexOf(r)==-1)return null;for(var s=1;s<e.length;s++){r=e.charAt(s);if(n.indexOf(r)==-1)return null;if(r=="."){if(i)return null;i=!0}}return"numeric"},function(e){var t=Date.parse(e);return t!==null&&!isNaN(t)||typeof e=="string"&&e.length===0?"date":null},function(e){return typeof e=="string"&&e.indexOf("<")!=-1&&e.indexOf(">")!=-1?"html":null}]),$.fn.DataTable=DataTable,$.fn.dataTable=DataTable,$.fn.dataTableSettings=DataTable.settings,$.fn.dataTableExt=DataTable.ext}(jQuery,window,document,undefined),define("jquery.dataTables",function(){}),function(e){var t=e.goGrid=function(){return t.render(arguments[0])},n=2,r=64;e.extend(t,{version:"0.0.1",lang:{},defaults:{lengthMenu:[20,40,60,80],adminLengthMenu:[20,40,60,80],numbersShowPages:10,sAjaxDataProp:"data",sAjaxRecordTotalProp:"page.total",emptyMessage:"null",defaultSorting:[["4","desc"]],method:"GET",checkbox:!1,sDom:'<"tool_bar"<"critical custom_header">l>rt<"tool_bar tool_absolute"<"critical custom_bottom">lp>',sDomType:{none:"rt",admin:'<"toolbar_top header_tb"<"critical custom_header">l>rt<"tool_bar"<"critical custom_bottom">lp>'},sDomSelectFalse:'<"tool_bar"<"critical custom_header">>rt<"tool_bar"<"critical custom_bottom">p>',defaultLocale:"ko",lang:{ko:{"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.":"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":n+"\uc790 \uc774\uc0c1, "+r+"\uc790 \uc774\ud558\ub97c \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.","\ub9e8\uc55e":"\ub9e8\uc55e","\ub9e8\ub4a4":"\ub9e8\ub4a4","\ub2e4\uc74c":"\ub2e4\uc74c","\uc774\uc804":"\uc774\uc804","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."},ja:{"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.":"\u691c\u7d22\u8a9e\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":n+"\u6587\u5b57\u4ee5\u4e0a\u3001 "+r+"\u6587\u5b57\u4ee5\u4e0b\u3067\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002","\ub9e8\uc55e":"\u6700\u524d","\ub9e8\ub4a4":"\u6700\u5f8c","\ub2e4\uc74c":"\u6b21\u3078","\uc774\uc804":"\u524d\u3078","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u691c\u7d22\u7d50\u679c\u304c\u3042\u308a\u307e\u305b\u3093\u3002"},en:{"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.":"Please enter a keyword.","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":"You have to enter "+n+" character(s) or more and "+r+" character(s) or below.","\ub9e8\uc55e":"First","\ub9e8\ub4a4":"Last","\ub2e4\uc74c":"Newer","\uc774\uc804":"Older","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"No search result."},zh_CN:{"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.":"\u8bf7\u8f93\u5165\u641c\u7d22\u8bcd\u8bed\u3002","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":"\u8bf7\u8f93\u5165"+n+"\u4ee5\u4e0a\u3001"+r+"\u4ee5\u4e0b\u7684\u5b57\u7b26\u3002","\ub9e8\uc55e":"\u6700\u524d","\ub9e8\ub4a4":"\u6700\u540e","\ub2e4\uc74c":"\u4e0b\u4e00\u9875","\uc774\uc804":"\u524d\u4e00\u9875","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6ca1\u6709\u641c\u7d22\u7ed3\u679c"},zh_TW:{"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.":"\u8acb\u8f38\u5165\u641c\u7d22\u8a5e\u8a9e\u3002","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":"\u8acb\u8f38\u5165"+n+"\u4ee5\u4e0a\u3001"+r+"\u4ee5\u4e0b\u7684\u5b57\u7b26\u3002","\ub9e8\uc55e":"\u6700\u524d","\ub9e8\ub4a4":"\u6700\u5f8c","\ub2e4\uc74c":"\u4e0b\u4e00\u9801","\uc774\uc804":"\u524d\u4e00\u9801","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u6c92\u6709\u641c\u7d22\u7d50\u679c"},vi:{"\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694.":"H\u00e3y nh\u1eadp t\u1eeb kh\u00f3a t\u00ecm ki\u1ebfm.","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":"Ph\u1ea3i nh\u1eadp tr\u00ean "+n+" k\u00fd t\u1ef1, d\u01b0\u1edbi "+r+" k\u00fd t\u1ef1.","\ub9e8\uc55e":"Tr\u01b0\u1edbc ti\u00ean","\ub9e8\ub4a4":"Cu\u1ed1i c\u00f9ng","\ub2e4\uc74c":"Ti\u1ebfp theo","\uc774\uc804":"Trang tr\u01b0\u1edbc","\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"Kh\u00f4ng c\u00f3 K\u1ebft qu\u1ea3 t\u00ecm ki\u1ebfm."}}},render:function(i){var s=this,i=i||{},o=null,u={},a=null,f=null,l={};if(!i.url||!i.columns||!i.el||!e(i.el).length)return;i.locale=i.locale||e('meta[name="locale"]').attr("content"),this.lang=this.defaults.lang.hasOwnProperty(i.locale)?this.defaults.lang[i.locale]:this.defaults.lang[this.defaults.defaultLocale],i.create=!0,i.params=i.params||{},i.lengthMenu=i.lengthMenu||(i.sDomType=="admin"?this.defaults.adminLengthMenu:this.defaults.lengthMenu),i.displayLength=i.displayLength||i.lengthMenu[0],i.params.hasOwnProperty("offset")&&(i.displayLength=Number(i.params.offset||i.displayLength)),i.method=i.method||this.defaults.method,i.pageUse=i.hasOwnProperty("pageUse")?i.pageUse:!0,i.numbersShowPages=Number(i.numbersShowPages||this.defaults.numbersShowPages),i.sAjaxDataProp=i.sAjaxDataProp||this.defaults.sAjaxDataProp,i.sAjaxRecordTotalProp=i.sAjaxRecordTotalProp||this.defaults.sAjaxRecordTotalProp,i.emptyMessage=i.emptyMessage||this.defaults.emptyMessage,i.defaultSorting=i.defaultSorting||this.defaults.defaultSorting,i.checkbox=i.hasOwnProperty("checkbox")?i.checkbox:this.defaults.checkbox,i.displayLengthSelect=i.hasOwnProperty("displayLengthSelect")?i.displayLengthSelect:!0,i.fnDrawCallback=i.fnDrawCallback||null,i.fnPreDrawCallback=i.fnPreDrawCallback||null,i.bDestroy=i.bDestroy||!1,i.resize=i.resize==0?!1:!0,i.fnServerSuccess=i.fnServerSuccess||null,i.fnServerError=i.fnServerError||null,i.hasOwnProperty("sDomUse")&&!i.sDomUse?i.sDom=this.defaults.sDomType.none:i.hasOwnProperty("sDom")?i.sDom=i.sDom:this.defaults.sDomType[i.sDomType]?i.sDom=this.defaults.sDomType[i.sDomType]:i.displayLengthSelect?i.sDom=this.defaults.sDom:i.sDom=this.defaults.sDomSelectFalse,t.initDataTables(i),i.checkbox&&i.checkboxData&&(e(i.el).find('thead input[type="checkbox"]').length||e(i.el).find("thead tr").prepend('<th><input type="checkbox" id="checkedAll" /></th>'),i.columns.unshift({mData:null,sWidth:"35px",bSortable:!1,fnRender:function(e){var t=e.aData[i.checkboxData];_.isUndefined(t)&&(t=e.aData[i.folderType]);var n='<input name="'+i.checkboxData+'" type="checkbox" value="'+t+'" data-row="'+e.iDataRow+'" ';return n+=i.type=="bbs"?" data-root='"+e.aData.root+"'":"",n+="  />",n}})),l={sAjaxSource:i.url,fnServerData:function(t,n,r){var o=this,l=null,c=null,h=i.params.page||0;emptyMessage=i.emptyMessage,searchDateEl=e("#searchDate"),e(n).each(function(e,t){switch(t.name){case"iDisplayLength":l=t.value;break;case"iDisplayStart":c=t.value;break;case"iSortCol_0":a=i.columns[t.value].sortKey||i.columns[t.value].mData;break;case"sSortDir_0":f=t.value;break;case"sEcho":h&&(t.value=parseInt(Number(h)+1,10));break;default:}}),h&&i.create&&(c=l*h),i.params&&(u=e.extend(u,i.params)),u=e.extend(u,{offset:l,page:c>0?parseInt(c/l,10):0}),this.customParams&&(u=e.extend(u,this.customParams)),i.type=="bbs"&&(u.sorts=["threadRootCode desc","threadCode asc"]);if(!i.params.property||a)u=e.extend(u,{property:a,direction:f});if(u.keyword||u.nameKeyword)emptyMessage='<p class="data_null">'+s.lang["\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."]+"</p>";this.fnSettings().oLanguage.sEmptyTable=emptyMessage,e.go(t,u,{qryType:i.method,async:!0,responseFn:function(e){if(e.data.length==0&&e.page&&e.page.page!=0){u.page=u.page-1,o.setParam("page",u.page);return}typeof i.fnServerSuccess=="function"&&i.fnServerSuccess(e),r(e)},error:function(e,t,n){typeof i.fnServerError=="function"&&i.fnServerError(e),o.fnSettings().jqXHR=e,o.fnSettings().response.statusText=t,s._fnProcessingHide()}})},fnPreDrawCallback:function(e){typeof i.fnPreDrawCallback=="function"&&i.fnPreDrawCallback(e)},fnDrawCallback:function(t){this.find("th input[type='checkbox']").attr("checked",!1),setTimeout(s._fnProcessingHide,100),e("table.dataTable").css("margin-bottom",0),e(".dataTables_paginate a").attr("data-bypass",!0);if(i.create&&i.params.page){i.create=!1;var n=i.params.page*t._iDisplayLength;t._iDisplayStart!=n&&(t._iDisplayStart=n,e(t.oInstance).trigger("page",t),t.oApi._fnCalculateEnd(t),t.oApi._fnDraw(t))}typeof i.fnDrawCallback=="function"&&i.fnDrawCallback(this,t,u),i.checkbox&&e(i.el).find("tbody tr>td:first-child").addClass("align_c")},bProcessing:i.bProcessing==0?!1:!0,bDestroy:i.bDestroy,sAjaxDataProp:i.sAjaxDataProp,sAjaxRecordTotalProp:i.sAjaxRecordTotalProp,sAjaxRecordDisplayProp:i.sAjaxRecordTotalProp,sPaginationType:"full_numbers",sDom:i.sDom,oTableTools:{sSwfPath:"/resources/js/ext-lib/theme/swf/copy_csv_xls_pdf.swf",aButtons:[{sExtends:"print",sButtonClass:"btn_print"}]},aaSorting:i.defaultSorting,aoColumns:i.columns,oLanguage:{sEmptyTable:i.emptyMessage,sZeroRecords:i.emptyMessage}},i.maxHeight&&(l.sScrollY=i.maxHeight),o=e(i.el).dataTable(l),i.maxHeight&&i.resize?e(window).unbind("resize.grid").bind("resize.grid",function(){try{if(o&&e(o.selector).length){var t=o.fnSettings().bAjaxDataGet;o.fnSettings().bAjaxDataGet=!1,o.fnAdjustColumnSizing(),o.fnSettings().bAjaxDataGet=t}else e(window).unbind("resize.grid")}catch(n){}}):o.css("width","100%"),l.sScrollY&&o.parents(".dataTables_wrapper").find(".dataTables_scroll table").css("width","100%");if(i.checkbox){o.getCheckedIds=function(){return o.parents("body").length?t.getCheckedIds(o):[]};var c=null;o.parents(".dataTables_scroll").length?c=o.parents(".dataTables_scroll").find(".dataTables_scrollHead #checkedAll"):c=o.find("#checkedAll"),c.click(function(e){t.setCheckedAll(e,o)})}o.setParam=function(e,t){o.customParams=o.customParams||{},o.customParams[e]=t,o.fnDraw(o.fnSettings())},o.setSearchParam=function(e){o.customParams=e||{},o.fnDraw(o.fnSettings())},o.search=function(t,i,u,a){var u=u||null,f=a||function(){return u&&e.isFunction(u.focus)&&u.trigger("focus"),!1};return u&&e.isFunction(u.focusout)&&u.trigger("focusout").blur(),i==""?(e.goMessage(s.lang["\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694."]),f(),!1):i.length<n||i.length>r?(e.goMessage(s.lang["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."]),f(),!1):(o.customParams={searchtype:t,keyword:i},o.fnDraw(o.fnSettings()),!0)},o.isEmpty=function(){return o.find("tbody .dataTables_empty").length?!0:!1},o.reload=function(){o.fnClearTable()},o.getCheckedElements=function(){return t.getCheckedElements(o)},o.getCheckedData=function(){return t.getCheckedData(o)};var h=o.fnSettings()||{};return{tables:o,listParams:u,total:h.hasOwnProperty("_iRecordsTotal")?h._iRecordsTotal:o.find("tbody>tr").length}},_fnProcessingHide:function(){e("div.dataTables_processing").fadeOut(100,function(){e(this).css({visibility:"hidden",display:""})})},setCheckedAll:function(t,n){var r=e(t.currentTarget).is(":checked");n.find("tbody input[type=checkbox]").not("[disabled]").attr("checked",r)},getCheckedElements:function(e){return e.$("tr").find("input[type=checkbox]:checked")},getCheckedData:function(t){var n=this.getCheckedElements(t),r=[];return e(n).each(function(n,i){r.push(t.fnGetData(e(i).attr("data-row")))}),r},getCheckedIds:function(t){var n=this.getCheckedElements(t),r=e(n).map(function(t,n){return e(n).val()}).get();return r},initDataTables:function(t){e.extend(e.fn.dataTable.defaults,{aLengthMenu:t.lengthMenu,bFilter:!1,bSort:!0,bProcessing:!0,bServerSide:!0,bPaginate:!0,bJQueryUI:!1,multipleSelection:!1,iDisplayLength:Number(t.displayLength),sServerMethod:t.method,"sEmptyTable ":"","bDestroy ":t.bDestroy}),e.extend(e.fn.dataTable.defaults.oLanguage,{sLengthMenu:" _MENU_ ",sZeroRecords:"NULL.",sInfo:"",sInfoEmpty:"sInfoEmpty",sInfoFiltered:"",sProcessing:"Loading...",oPaginate:{sFirst:this.lang["\ub9e8\uc55e"],sLast:this.lang["\ub9e8\ub4a4"],sNext:this.lang["\ub2e4\uc74c"],sPrevious:this.lang["\uc774\uc804"]}}),e.extend(e.fn.dataTable.ext.oPagination,{iFullNumbersShowPages:t.numbersShowPages})},_error:function(){}}),e.goGrid.getCheckedIds=t.getCheckedIds}(jQuery),define("jquery.go-grid",function(){}),function(){define("calendar/views/preference",["backbone","app","hgn!calendar/templates/preference","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-grid","jquery.go-popup"],function(e,t,n,r,i){function a(e){return _.indexOf(["calendar","follow"],e)>-1}function f(e){$("#calendar-preference-tab > li").each(function(t,n){$(n).data("type")===e?$(n).addClass("active"):$(n).removeClass("active")}),l.call(this,e)}function l(e){this.$el.find(".calendar-config").each(function(t,n){$(n).data("type")===e?$(n).show():$(n).hide()})}var s="calendar",o={tab:{my_cal:i["\ub0b4 \uce98\ub9b0\ub354"],follow:i["\uad00\uc2ec \uce98\ub9b0\ub354"]},label:{calendar_management:i["\uce98\ub9b0\ub354 \uad00\ub9ac"],basic_preference:i["\uae30\ubcf8 \uc124\uc815"],timezone:i["\uce98\ub9b0\ub354 \uc2dc\uac04\ub300"],calendar_option:i["\ub0b4 \uce98\ub9b0\ub354 \uc5f4\ub78c\uc635\uc158"],modify:i["\ubcc0\uacbd\ud558\uae30"],"public":i["\uc5f4\ub78c \ud5c8\uc6a9"],"private":i["\uc218\ub77d\ud6c4 \ud5c8\uc6a9"],save:r["\uc800\uc7a5"],followings:i["\ub0b4\uac00 \ub4f1\ub85d\ud55c \uad00\uc2ec \uce98\ub9b0\ub354"],followers:i["\ub0b4 \uc77c\uc815\uc744 \ubcf4\uace0 \uc788\ub294 \uad00\uc2ec\ub3d9\ub8cc"],accept:i["\uc218\ub77d"],"delete":r["\uc0ad\uc81c"],deny:i["\uac70\uc808"],member:i["\uba64\ubc84"],status:i["\uc0c1\ud0dc"],updated_at:i["\uc124\uc815\uc77c"],go_to_calendar:i["\uce98\ub9b0\ub354\ub85c \ub3cc\uc544\uac00\uae30"],calendar_name:i["\uce98\ub9b0\ub354 \uc774\ub984"],calendar:r["\uce98\ub9b0\ub354"],add_calendar:r["\ucd94\uac00"],default_calendar:i["\uae30\ubcf8 \uce98\ub9b0\ub354"],visibility_state:i["\uacf5\uac1c \uc0c1\ud0dc"],reorder:r["\uc21c\uc11c\ubc14\uafb8\uae30"]},msg:{visibility:i["\ub0b4 \uc77c\uc815\uc744 \ub204\uad6c\ub098 \uc5f4\ub78c \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],private1:i["\uc2e0\uccad\uacfc \uc218\ub77d\uc744 \ud1b5\ud558\uc5ec \uc0c1\ub300\ubc29\uc774 \ub0b4 \uc77c\uc815\uc744 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"],private2:i["\ube44\uacf5\uac1c \uc77c\uc815\uc740 \uc704 \uc635\uc158\uacfc \uad00\uacc4\uc5c6\uc774 \uc77c\uc815 \ucc38\uc11d\uc790\ub9cc \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4"]}},u=e.View.extend({className:"content_page",events:{"click #calendar-preference-tab > li":"_togglePane"},initialize:function(e){e=e||{},this.calendarType=e.type,this.calendars=e.calendars,this.feeds=e.feeds},render:function(){this.$el.append(n(o)),this.calendarType=="follows"?this.selectTab("follow","follower"):this.selectTab(s,"")},selectTab:function(e,t){var n=this,r={calendar:n.calendars,follow:n.feeds}[e];if(!a(e))return;$("#"+e+"-config-pane").length?f.call(this,e):require(["calendar/views/preference/"+e],function(i){var s=new i({collection:r,type:t});n.$el.append(s.el),s.render(),f.call(n,e)})},_togglePane:function(e){var t=$(e.currentTarget);this.selectTab(t.data("type"),"")}});return u})}.call(this),function(){define("calendar/views/form",["backbone"],function(e){var t=e.View.extend({});return t})}(),define("hgn!calendar/templates/alarm_popup_layer",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<table>"),r.b("\n"+n),r.b("	<tbody>"),r.b("\n"+n),r.b("		<tr>"),r.b("\n"+n),r.b('			<td style="text-align: right;">'),r.b("\n"+n),r.s(r.f("mobile",e,t,1),e,t,0,74,144,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),r.b("\n"+n)}),e.pop()),r.b('				<span class="wrap_option">'),r.b("\n"+n),r.b('					<input id="chkbox_push" type="checkbox" value="pushNoti">'),r.b("\n"+n),r.b('					<label for="chkbox_push">'),r.b(r.v(r.d("lang.pushNoti",e,t,0))),r.b("</label>"),r.b("\n"+n),r.b("				</span>"),r.b("\n"+n),r.b("			</td>"),r.b("\n"+n),r.b('			<td style="text-align: left;">'),r.b("\n"+n),r.b("				&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"),r.b("\n"+n),r.b('				<span class="wrap_option">'),r.b("\n"+n),r.b('					<input id="chkbox_mail" type="checkbox" value="mailNoti">'),r.b("\n"+n),r.b('					<label for="chkbox_mail">'),r.b(r.v(r.d("lang.mailNoti",e,t,0))),r.b("</label>"),r.b("\n"+n),r.b("				</span>"),r.b("\n"+n),r.b("			</td>"),r.b("\n"+n),r.b("		</tr>"),r.b("\n"+n),r.b("	</tbody>"),r.b("\n"+n),r.b("</table>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("calendar/views/alarm_popup_layer",["require","jquery","underscore","backbone","hgn!calendar/templates/alarm_popup_layer","i18n!nls/commons","i18n!calendar/nls/calendar"],function(require){var e=require("jquery"),t=require("underscore"),n=require("backbone"),r=require("hgn!calendar/templates/alarm_popup_layer"),i=require("i18n!nls/commons"),s=require("i18n!calendar/nls/calendar"),o,u=Hogan.compile(r),a={pushNoti:s["\ud478\uc2dc\uc54c\ub9bc"],mailNoti:s["\uba54\uc77c\uc54c\ub9bc"]},o=n.View.extend({initialize:function(){this.callbacks={confirm:{func:function(){},context:this},cancel:{func:function(){},context:this},close:{func:function(){},context:this}}},render:function(e){return this._renderPopup(e),this._bindEvents(),this.popupEl},setConfirmCallback:function(e,t){return this._setCallback("confirm",e,t)},setCancelCallback:function(e,t){return this._setCallback("cancel",e,t)},setCloseCallback:function(e,t){return this._setCallback("close",e,t)},_confirm:function(e){var t=this._getCallback("confirm");return t.func.call(t.context,this),this},_cancel:function(){var e=this._getCallback("cancel");return e.func.call(e["context",this]),this},_close:function(){if(this.popupEl){var e=this._getCallback("close");e.func.call(e.context)}return this},_getCallback:function(e){return this.callbacks[e]||{func:function(){},context:this}},_setCallback:function(e,n,r){return t.has(this.callbacks,e)||this.callbacks[e],this.callbacks[e].func=n,this.callbacks[e].context=r||this,this},_bindEvents:function(){this.popupEl.off("click","input#chkbox_push"),this.popupEl.off("click","input#chkbox_mail"),this.popupEl.on("click","input#chkbox_push",e.proxy(this._checkNoti,this)),this.popupEl.on("click","input#chkbox_mail",e.proxy(this._checkNoti,this))},_renderPopup:function(t){var n=this,r=t.type||"web",o=undefined,u=undefined,a=undefined,f="";r=="mobile"?(o="layer_transition",f="320px",u=s["\uc77c\uc815\ub4f1\ub85d \uc54c\ub9bc \ud655\uc778"]):(o="",f="400px",a=s["\uc77c\uc815\ub4f1\ub85d \uc54c\ub9bc \ud655\uc778"]),this.popupEl=e.goPopup({pclass:o,header:u,title:a,modal:!0,width:f,contents:this._evnetAlarmTmpl(r),message:"<br/><span class='txt'>"+s["\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uc744 \ucc38\uc11d\uc790\uc5d0\uac8c \ubcf4\ub0c5\ub2c8\ub2e4."]+"</span>",closeCallback:e.proxy(this._close,this),buttons:[{btype:"confirm",btext:i["\ubcf4\ub0b4\uae30"],callback:e.proxy(this._confirm,this),autoclose:!0},{btype:"normal",btext:s["\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"],callback:e.proxy(this._cancel,this),autoclose:!0}]}),this.popupEl.find("input:checkbox[id='chkbox_push']").attr("checked",!0)},_evnetAlarmTmpl:function(e){var t=this,n=e=="mobile"?!0:!1,i=r({lang:a,mobile:n});return i},_checkNoti:function(){var e=this,t=this.popupEl.find("input:checkbox[id='chkbox_push']").is(":checked"),n=this.popupEl.find("input:checkbox[id='chkbox_mail']").is(":checked");t||n?this.popupEl.find(".btn_major_s").show():this.popupEl.find(".btn_major_s").hide()}});return o}),define("hgn!calendar/templates/attendee_schedule_item",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<!-- \ucc38\uc11d\uc790 \uc77c\uc815 -->"),r.b("\n"+n),r.b("<div data-attendees-users data-attendees-users-id-"),r.b(r.v(r.f("userId",e,t,0))),r.b(' data-user-id="'),r.b(r.v(r.f("userId",e,t,0))),r.b('" class="att_schedule_bd">'),r.b("\n"+n),r.b('    <div class="tit">'),r.b("\n"+n),r.b("        <p>"),r.b("\n"+n),r.b('            <span data-user-name="'),r.b(r.v(r.f("name",e,t,0))),r.b('" class="txt">'),r.b(r.v(r.f("name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("        </p>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b('    <div class="timeline">'),r.b("\n"+n),r.b('        <div class="tb_guide grid_layer"><!-- \ubc30\uacbd -->'),r.b("\n"+n),r.b("            <table>"),r.b("\n"+n),r.b("                <tbody>"),r.b("\n"+n),r.b("                    <tr data-attendees-tr>"),r.b("\n"),r.b("\n"+n),r.b("                    </tr>"),r.b("\n"+n),r.b("                </tbody>"),r.b("\n"+n),r.b("            </table>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!calendar/templates/attendees_schedule_layer",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("isAllDay",e,t,1),e,t,1,0,0,"")||(r.b('<div data-attendees-schedule-content class="attendees_contents">'),r.b("\n"),r.b("\n"+n),r.b('    <div data-attendees-schedule-el class="attendees_hd">'),r.b("\n"+n),r.b('        <div class="critical">'),r.b("\n"+n),r.b('            <div class="tit">'),r.b(r.v(r.d("lang.\ucc38\uc11d\uc790 \uc77c\uc815",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b('            <div class="current_date">'),r.b("\n"+n),r.b('                <span data-attendees-selected-date title="'),r.b(r.v(r.d("lang.\uc120\ud0dd\ub41c \ub0a0\uc9dc",e,t,0))),r.b('" data-value="'),r.b(r.v(r.f("selectedDate",e,t,0))),r.b('" class="date">'),r.b(r.v(r.f("displayDate",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('                <span class="prev-btn btn_ic_prev2" title="'),r.b(r.v(r.d("lang.\uc774\uc804",e,t,0))),r.b('" data-attendees-route="previous"><span class="ic ic_prev2"></span></span>'),r.b("\n"+n),r.b('                <span class="next-btn btn_ic_next2" title="'),r.b(r.v(r.d("lang.\ub2e4\uc74c",e,t,0))),r.b('" data-attendees-route="next"><span class="ic ic_next2"></span></span>'),r.b("\n"+n),r.b("            </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b('        <a data-attendees-close-btn class="btn_layer_x" title="'),r.b(r.v(r.d("lang.\ub2eb\uae30",e,t,0))),r.b('" data-bypass><span class="ic"></span><span class="txt"></span></a>'),r.b("\n"+n),r.b('        <div class="optional">'),r.b("\n"+n),r.b('            <ul class="legend">'),r.b("\n"+n),r.b("                <li>"),r.b("\n"+n),r.b('                    <span class="set_time"></span>'),r.b("\n"+n),r.b('                    <span class="txt">'),r.b(r.v(r.d("lang.\uc124\uc815\uc2dc\uac04",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("                </li>"),r.b("\n"+n),r.b("                <li>"),r.b("\n"+n),r.b('                    <span class="busy"></span>'),r.b("\n"+n),r.b('                    <span class="txt">'),r.b(r.v(r.d("lang.\uc77c\uc815\uc788\uc74c",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("                </li>"),r.b("\n"+n),r.b("            </ul>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"),r.b("\n"+n),r.b('    <div data-attendees-schedule-el class="att_schedule">'),r.b("\n"+n),r.b('        <div class="att_schedule_hd">'),r.b("\n"+n),r.b('            <div class="tit"></div>'),r.b("\n"+n),r.b('            <div class="nav">'),r.b("\n"+n),r.b('                <div class="tb_guide">'),r.b("\n"+n),r.b("                    <table>"),r.b("\n"+n),r.b("                        <tbody>"),r.b("\n"+n),r.b("                        <tr>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">00:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">01:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">02:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">03:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">04:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">05:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">06:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">07:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">08:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">09:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">10:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">11:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">12:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">13:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">14:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">15:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">16:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">17:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">18:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                            <th>"),r.b("\n"+n),r.b('                                <div class="txt">19:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">20:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">21:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">22:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">23:00</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                        </tr>"),r.b("\n"+n),r.b("                        </tbody>"),r.b("\n"+n),r.b("                    </table>"),r.b("\n"+n),r.b("                </div>"),r.b("\n"+n),r.b('                <div class="tb_info">'),r.b("\n"+n),r.b("                    <table>"),r.b("\n"+n),r.b("                        <tbody>"),r.b("\n"+n),r.b("                        <tr>"),r.b("\n"+n),r.b('                            <th class="ic_folded" data-untime-btn data-is-folding="true">'),r.b("\n"+n),r.b('                                <div data-untime-0 class="txt">0 ~</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">1</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">2</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">3</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">4</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">5</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">6</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">7</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">8</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">9</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">10</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">11</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">12</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">13</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">14</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">15</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">16</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">17</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div class="txt">18</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="">'),r.b("\n"+n),r.b('                                <div data-untime-19 class="txt">19 ~</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">20</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">21</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">22</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b('                            <th class="untime" data-untime>'),r.b("\n"+n),r.b('                                <div class="txt">23</div>'),r.b("\n"+n),r.b("                            </th>"),r.b("\n"+n),r.b("                        </tr>"),r.b("\n"+n),r.b("                        </tbody>"),r.b("\n"+n),r.b("                    </table>"),r.b("\n"+n),r.b("                </div>"),r.b("\n"+n),r.b("            </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b('        <div data-attendees-schedule-user-contents class="wrap_att_schedule_bd">'),r.b("\n"+n),r.b("            <!-- \uc124\uc815/\ucd94\ucc9c\uc2dc\uac04 -->"),r.b("\n"+n),r.b('            <div data-attendees-selected-time class="att_schedul_line" style="height: 64px"><!-- \uc778\uc6d0 \ucd94\uac00\uc2dc 32px \uc99d\uac00 -->'),r.b("\n"+n),r.b('                <div class="timeline">'),r.b("\n"+n),r.b('                    <div class="tb_guide guide_layer">'),r.b("\n"+n),r.b("                        <table>"),r.b("\n"+n),r.b("                            <tbody>"),r.b("\n"+n),r.b("                            <tr>"),r.b("\n"+n),r.b('                                <td class="">'),r.b("\n"+n),r.b("                                    <!-- \uc120\ud0dd \uc2dc\uac04 -->"),r.b("\n"+n),r.b('                                    <div data-set-time id="set-time" class="set_time" ></div>'),r.b("\n"+n),r.b("                                    <!-- \ucd94\ucc9c \uc2dc\uac04 -->"),r.b("\n"+n),r.b('                                    <div class="recm_time" style="display: none">\ube48 \uc2dc\uac04</div>'),r.b("\n"+n),r.b("                                </td>"),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b("                                <td></td>"),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b('                                <td class="untime" data-untime></td>'),r.b("\n"+n),r.b("                            </tr>"),r.b("\n"+n),r.b("                            </tbody>"),r.b("\n"+n),r.b("                        </table>"),r.b("\n"+n),r.b("                    </div>"),r.b("\n"+n),r.b("                </div>"),r.b("\n"+n),r.b("            </div>"),r.b("\n"+n),r.b("        </div>"),r.b("\n"+n),r.b("    </div>"),r.b("\n"),r.b("\n"+n),r.b('    <ul data-attendees-schedule-el class="desc">'),r.b("\n"+n),r.b("        <li>- "),r.b(r.v(r.d("lang.\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \ucd5c\ub300 \uc778\uc6d0 \uc124\uba85",e,t,0))),r.b("</li>"),r.b("\n"+n),r.b("        <li>- "),r.b(r.v(r.d("lang.\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uc0c1\uc138\uc77c\uc815 \ud655\uc778\uc5ec\ubd80 \uc124\uba85",e,t,0))),r.b("</li>"),r.b("\n"+n),r.b("    </ul>"),r.b("\n"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n)),r.b("\n"+n),r.b('<div data-attendees-notice-el class="attendees_notice" '),r.s(r.f("isAllDay",e,t,1),e,t,1,0,0,"")||r.b('style="display: none"'),r.b(">"),r.b("\n"+n),r.s(r.f("isAllDay",e,t,1),e,t,1,0,0,"")||(r.b('    <div data-attendees-schedule-show-desc class="txt">'),r.b(r.t(r.d("lang.\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc0ac\uc6a9\uac00\ub2a5 \uc54c\ub9bc",e,t,0))),r.b("</div>"),r.b("\n"+n),r.b('    <a data-attendees-schedule-show-btn class="btn_minor" data-role="button" data-bypass>'),r.b("\n"+n),r.b('        <span class="txt">'),r.b(r.v(r.d("lang.\ucc38\uc11d\uc790 \uc77c\uc815 \uc870\ud68c",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("    </a>"),r.b("\n"+n)),r.b("\n"+n),r.s(r.f("isAllDay",e,t,1),e,t,0,11651,11748,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <div data-attendees-schedule-show-desc class="txt">'),r.b(r.t(r.d("lang.\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc885\uc77c\uc77c\uc815 \uc54c\ub9bc",e,t,0))),r.b("</div>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("calendar/views/attendees_schedule_layer",["require","jquery","underscore","backbone","hgn!calendar/templates/attendee_schedule_item","hgn!calendar/templates/attendees_schedule_layer","i18n!nls/commons","i18n!calendar/nls/calendar","GO.util"],function(require){var e=require("jquery"),t=require("underscore"),n=require("backbone"),r=require("hgn!calendar/templates/attendee_schedule_item"),i=require("hgn!calendar/templates/attendees_schedule_layer"),s=require("i18n!nls/commons"),o=require("i18n!calendar/nls/calendar");require("GO.util");var u={"\uc774\uc804":s["\uc774\uc804"],"\ub2e4\uc74c":s["\ub2e4\uc74c"],"\ub2eb\uae30":s["\ub2eb\uae30"],"\ucc38\uc11d\uc790 \uc77c\uc815":o["\ucc38\uc11d\uc790 \uc77c\uc815"],"\ucc38\uc11d\uc790 \uc77c\uc815 \uc870\ud68c":o["\ucc38\uc11d\uc790 \uc77c\uc815 \uc870\ud68c"],"\uc120\ud0dd\ub41c \ub0a0\uc9dc":o["\uc120\ud0dd\ub41c \ub0a0\uc9dc"],"\uc124\uc815\uc2dc\uac04":o["\uc124\uc815\uc2dc\uac04"],"\uc77c\uc815\uc788\uc74c":o["\uc77c\uc815\uc788\uc74c"],"\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \ucd5c\ub300 \uc778\uc6d0 \uc124\uba85":o["\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \ucd5c\ub300 \uc778\uc6d0 \uc124\uba85"],"\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uc0c1\uc138\uc77c\uc815 \ud655\uc778\uc5ec\ubd80 \uc124\uba85":o["\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uc0c1\uc138\uc77c\uc815 \ud655\uc778\uc5ec\ubd80 \uc124\uba85"],"\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc0ac\uc6a9\uac00\ub2a5 \uc54c\ub9bc":o["\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc0ac\uc6a9\uac00\ub2a5 \uc54c\ub9bc"],"\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc885\uc77c\uc77c\uc815 \uc54c\ub9bc":o["\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc885\uc77c\uc77c\uc815 \uc54c\ub9bc"]},a=50,f=50,l=32,c=30,h=60,p=26;return n.View.extend({events:{"click .att_schedule .ic_fold":"_onClickFrontRowBtn","click .att_schedule .ic_folded":"_onClickFrontRowBtn","click [data-attendees-route]":"_onChangeRoute","click [data-attendees-close-btn]":"_hideAttendeesCheckView","click [data-attendees-schedule-show-btn]":"_renderAttendeesCheckView"},unbindEvent:function(){e("#all_day").off("click")},bindEvent:function(){var t=this;e("#all_day").click(function(e){t.onChangeAllDay(e)})},initialize:function(e){this.unbindEvent(),this.bindEvent(),this.options=e||{},this.isCreateMode=t.isUndefined(this.options.model),this.model=this.options.model||{},this.initAttendees=this.options.attendees||{},this.initStartDate=this.options.startDate||GO.util.now(),this.isCreateMode||(this.initStartDate=this.model.isAllday()?GO.util.dateFormatWithoutTimeZone(this.model.get("startTime")):GO.util.toMoment(this.model.get("startTime")).format("YYYY-MM-DD"),this.initAttendees=this._getAttendeesByTag()),this.isAllDay=this.isCreateMode?!1:this.model.isAllday()},render:function(t){var n=e("#startDate").val()||this.initStartDate,t=t||this.initAttendees;return this.$el.html(i({lang:u,isAllDay:this.isAllDay,selectedDate:GO.util.toMoment(n).format("YYYYMMDD"),displayDate:GO.util.toMoment(n).format("MM\uc6d4 DD\uc77c")})),this.addEventListener(t,GO.util.toMoment(n).format("YYYYMMDD")),this._renderingSelectBar(),this},_renderAttendeesCheckView:function(){this.render(this._getAttendeesByTag())},_refreshAttendeesCheckView:function(e){this.onChangeSelectedDate(e),this.refreshEventListener(GO.util.toMoment(e).format("YYYYMMDD")),this._renderingSelectBar()},_renderingSelectBar:function(){if(!GO.util.isSameDate(e("#startDate").val(),e("#endDate").val())||e("#all_day").is(":checked"))return this.$el.find("[data-set-time]").hide(),!1;this.$el.find("[data-set-time]").show();var n=e("#startTime").val(),r=e("#endTime").val(),i=n.split(":"),s=r.split(":"),o=Number(i[0].trim()),u=Number(i[1].trim()),a=0,d=0;this._isFolding()?t.contains([8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],o)?(a=(o-7)*100,30<=u&&(a+=f)):t.contains([20,21,22,23],o)&&(a=1200):(a=o*100,30<=u&&(a+=f)),this._isFolding()&&a>=1300?a=1200:!this._isFolding()&&a>=2400&&(a=2300);if(n===r)d=a-100;else{var v=Number(s[0].trim()),m=Number(s[1].trim()),g=0;if(this._isFolding()&&t.contains([0,1,2,3,4,5,6,7],o))t.contains([0,1,2,3,4,5,6,7],v)?g=h:(g=(v-7)*h,0<m&&m<=30?g+=c:30<m&&(g+=h));else if(this._isFolding()&&t.contains([20,21,22,23],v))t.contains([20,21,22,23],o)?g=h:(g=(20-o)*h,30<=u&&(g-=c));else{var y=0;m>=u?g+=m-u:(y=1,g+=h+m-u),g+=(v-o-y)*h;var b=g%c;b===0&&!t.contains([0,30],m)&&(g+=c)}var w=g>0?Math.ceil(g/c):0;d=-a,w===1?d+=f:w>2?this._isFolding()&&w>p?d-=(p-2)*f:d-=(w-2)*f:w===0&&(d+=(w+2)*f)}this.$el.find("[data-set-time]").css({left:a+"%",right:d+"%",height:this._getAttendeeCheckedCount()*l+"px"})},_updateHeightSelectBar:function(){this.$el.find("[data-set-time]").css({height:this._getAttendeeCheckedCount()*l+"px"}),this.$el.find("[data-attendees-selected-time]").css({height:this._getAttendeeCheckedCount()*l+"px"})},onChangeDate:function(){console.info("attendees_schedule_layer onChangeDate");if(!this._isShowScheduleView())return!1;(GO.util.isSameDate(e("#startDate").val(),e("#endDate").val())||!GO.util.isSameDate(e("#startDate").val(),e("[data-attendees-selected-date]").attr("data-value")))&&this._refreshAttendeesCheckView(e("#startDate").val()),this._renderingSelectBar()},onChangeTime:function(e){console.info("attendees_schedule_layer onChangeTime");if(!this._isShowScheduleView())return!1;this._renderingSelectBar()},onChangeAllDay:function(){console.info("attendees_schedule_layer onChangeAllDay isAllDay: "+e("#all_day").is(":checked")),this.isAllDay=e("#all_day").is(":checked"),this.isAllDay?(this._hideAttendeesCheckView(),this._showCheckedAllDayDescView()):this._renderAttendeesCheckView()},_onChangeRoute:function(t){console.info("attendees_schedule_layer _onChangeRoute");var n=e(t.currentTarget).attr("data-attendees-route"),r=e("[data-attendees-selected-date]").attr("data-value"),i;n==="previous"?i=GO.util.toMoment(r).add("days",-1):n==="next"&&(i=GO.util.toMoment(r).add("days",1)),this._refreshAttendeesCheckView(i)},_onClickFrontRowBtn:function(t){var n=this.$el.find("[data-untime-btn]");e(t.currentTarget).prop("class")==="ic_folded"?(e("[data-untime]").removeClass("untime"),e("[data-untime-0]").text("0"),e("[data-untime-19]").text("19"),n.removeClass("ic_folded").addClass("ic_fold"),n.attr("data-is-folding",!1)):(e("[data-untime]").addClass("untime"),e("[data-untime-0]").text("0 ~"),e("[data-untime-19]").text("19 ~"),n.removeClass("ic_fold").addClass("ic_folded"),n.attr("data-is-folding",!0)),this._renderingSelectBar()},onChangeSelectedDate:function(t){console.info("attendees_schedule_layer onChangeSelectedDate");var n=GO.util.toMoment(t||e("#startDate").val()),r=this.$el.find("[data-attendees-selected-date]");r.attr("data-value",n.format("YYYYMMDD")),r.text(n.format("MM\uc6d4 DD\uc77c"))},addEventListener:function(e){console.info("attendees_schedule_layer addEventListener");if(t.isUndefined(e)||t.isNull(e))return!1;if(t.isArray(e)&&e.length===0)return!1;t.isArray(e)||(e=[e]);var n=this.$el.find("[data-attendees-selected-date]").attr("data-value")||GO.util.toMoment(GO.util.now()).format("YYYYMMDD");this._getScheduleAndRendingRow(e,n)},refreshEventListener:function(e){console.info("attendees_schedule_layer refreshEventListener selectedDate: "+e);var t=this._getAttendeesBySchedule(),e=e||this.$el.find("[data-attendees-selected-date]").attr("data-value");this._getScheduleAndRendingRow(t,e,!0)},_getScheduleAndRendingRow:function(t,n,r){console.info("attendees_schedule_layer _getScheduleAndRendingRow selectedDate: "+n);var i=this;e.ajax({url:"/api/calendar/attendees/schedules?"+this._getParams(t,n),type:"GET",async:!0,contentType:"application/json"}).done(function(e){var n=[];e.code==="200"&&(n=e.data),r?i._refreshRowByAttendee(n):i._renderingRowByAttendee(t,n)}).fail(function(){console.info("attendees  schedules data get error")})},_getParams:function(e,n){var r=[];return t.each(e,function(e,t){t<a&&r.push("userIds="+e.id)}),"checkDate="+n+"&"+r.join("&")},removeEventListener:function(n){console.info("attendees_schedule_layer removeEventListener");var r=this.$el.find("[data-attendees-users-id-"+n+"]"),i=r.length>0||!1;if(!i)return!1;r.remove();var s=e("#attendee-list").find("#attendee-"+this.$el.find("[data-attendees-users]:last").attr("data-user-id")).next().attr("data-id");t.isUndefined(s)||this.addEventListener(this._getAttendeesByTag(s)),this._updateHeightSelectBar()},_refreshRowByAttendee:function(e){console.info("attendees_schedule_layer _refreshRowByAttendee"),t.each(e,function(e){var t=this.$el.find("[data-attendees-users-id-"+e.userId+"]");t.find("[data-attendees-tr]").empty(),t.find("[data-attendees-tr]").append(this._renderingTime(e.scheduleModels))},this),this._updateHeightSelectBar()},_renderingRowByAttendee:function(n,i){console.info("attendees_schedule_layer _renderingRowByAttendee");var s=a-this._getAttendeeCheckedCount();if(s<=0)return!1;var o=s>n.length?n.length:s,u=0;for(var f=0;u<o;f++){var l=this.$el.find("[data-attendees-users-id-"+n[f].id+"]"),c=t.find(i,function(e){return n[f].id==e.userId});l.length>0?(l.find("[data-attendees-tr]").empty(),l.find("[data-attendees-tr]").append(this._renderingTime(c.scheduleModels))):(e("[data-attendees-schedule-user-contents]").append(r({userId:n[f].id,name:n[f].name})),this.$el.find("[data-attendees-users-id-"+n[f].id+"]").find("[data-attendees-tr]").append(this._renderingTime(c.scheduleModels)),u++)}this._updateHeightSelectBar()},_renderingTime:function(e){var n=!1;for(var r in e)if(e[r].timeType==="allday"){n=!0;break}var i="";for(var s=0;s<24;s++){t.contains([1,2,3,4,5,6,7,20,21,22,23],s)?i+=this._isFolding()?'<td class="untime" data-untime>':"<td data-untime>":i+="<td>";var o=GO.util.numberPad(s,2),u=!1,a=!1;for(var f=0;f<e.length;f++){var l=GO.util.toMoment(e[f].targetStartTime).get("hour"),c=GO.util.toMoment(e[f].targetEndTime).get("hour"),h=GO.util.toMoment(e[f].targetEndTime).get("minute");this._isFolding()&&(s===0?l<=7&&(u=!0,a=!0):s===19&&19<l&&(a=!0,u=!0));if(s==l){a=!0;var p=GO.util.toMoment(e[f].targetStartTime).get("minute");p<30&&(u=!0)}else l<s&&s<c?(u=!0,a=!0):s==c&&(0<h&&(u=!0),31<h&&(a=!0))}i+='<div class="txt oclock '+(n||u?"busy":"")+'">'+o+":00"+"</div>",i+='<div class="txt halfhour '+(n||a?"busy":"")+'">'+o+":30"+"</div></td>"}return i},_showCheckedAllDayDescView:function(){this.$el.find("[data-attendees-schedule-show-desc]").text(u["\ucc38\uc11d\uc790 \uc77c\uc815\ud655\uc778 \uae30\ub2a5 \uc885\uc77c\uc77c\uc815 \uc54c\ub9bc"]),this.$el.find("[data-attendees-schedule-show-btn]").remove()},_hideAttendeesCheckView:function(e){this.$el.find("[data-attendees-schedule-content]").remove(),this.$el.find("[data-attendees-notice-el]").show()},_isShowScheduleView:function(){return this.$el.find("[data-attendees-schedule-content]").length>0},_isFolding:function(){return this.$el.find("[data-untime-btn]").attr("data-is-folding")==="true"||!1},_getAttendeesByTag:function(n){var r=e("#attendee-list").find("li:not([data-button])"),i=new Array;if(!t.isUndefined(n)){var s=e(t.find(r,function(t){var r=e(t);return r.attr("data-id")==n}));return i.push({id:s.attr("data-id"),name:s.attr("data-name")}),i}var o=this._getAttendeeTagCount();for(var u=0;u<o&&u<a;u++){var s=e(r[u]);i.push({id:s.attr("data-id"),name:s.attr("data-name")})}return i},_getAttendeesBySchedule:function(){var t=e("[data-attendees-schedule-user-contents]").find("[data-attendees-users]"),n=new Array,r=this._getAttendeeCheckedCount();for(var i=0;i<r;i++){var s=e(t[i]);n.push({id:s.attr("data-user-id"),name:s.attr("[data-user-id]")})}return n},_getAttendeeTagCount:function(){return e("#attendee-list").find("li:not([data-button])").length||0},_getAttendeeCheckedCount:function(){var t=e("[data-attendees-schedule-user-contents]").find("[data-attendees-users]").length||0;return t>a?a:t}})}),define("libs/go-recurrence-parser",["underscore","moment","app","i18n!calendar/nls/calendar"],function(e,t,n,r){function f(e,t){return n.util.parseOrdinaryNumber(e,t)}var i=n.constant("calendar","RECURRENCE_FREQ"),s={SU:r["\uc77c\uc694\uc77c"],MO:r["\uc6d4\uc694\uc77c"],TU:r["\ud654\uc694\uc77c"],WE:r["\uc218\uc694\uc77c"],TH:r["\ubaa9\uc694\uc77c"],FR:r["\uae08\uc694\uc77c"],SA:r["\ud1a0\uc694\uc77c"]},o={1:r["\uccab\uc9f8\uc8fc"],2:r["\ub458\uc9f8\uc8fc"],3:r["\uc14b\uc9f8\uc8fc"],4:r["\ub137\uc9f8\uc8fc"],5:r["\ub2e4\uc12f\uc9f8\uc8fc"],"-1":r["\ub9c8\uc9c0\ub9c9 \uc8fc"]},u=["FREQ","UNTIL","COUNT","INTERVAL","BYSECOND","BYMINUTE","BYHOUR","BYDAY","BYMONTHDAY","BYYEARDAY","BYWEEKNO","BYMONTH","BYSETPOS","WKST"],a=function(){var a=function(e){this.options=e||{},this.__recurrence__={FREQ:i.daily}};return a.prototype={set:function(t,n){return e.isObject(t)?this._setHash(t):this.__recurrence__[t]=n,this},get:function(e){return this.__recurrence__[e]},has:function(t){return e.has(this.__recurrence__,t)},parse:function(t){var n=t.split(";");return e.each(n,function(e){var t=e.split("=");this.__recurrence__[t[0]]=t[1]},this),this},toString:function(){var t=[];return this.validate()&&e.each(this.__recurrence__,function(e,n){e&&t.push(n+"="+e)}),t.join(";")},humanize:function(e,t){return n.i18n(r["{{frequecy}}\ub9c8\ub2e4 {{interval_options}}({{until_or_count}}, {{timeZone}} \uae30\uc900)"],{frequecy:this._humanizeFrequency(),interval_options:this._humanizeIntervalOption(),until_or_count:this._humanizeUntil(e,t)||this._humanizeCount()||!1,timeZone:this.timeZoneInfo(e)})},validate:function(){if(!this.__recurrence__.FREQ)throw new Error("FREQ \uac12\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.");if(!this._validateCountOrUntil(this.__recurrence__))throw new Error("UNTIL\uacfc COUNT \uac12\uc740 \uc911\ubcf5\ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return!0},isDailyOfFreq:function(){return this.get("FREQ")===i.daily},isWeeklyOfFreq:function(){return this.get("FREQ")===i.weekly},isMonthlyOfFreq:function(){return this.get("FREQ")===i.monthly},isYearlyOfFreq:function(){return this.get("FREQ")===i.yearly},timeZoneInfo:function(e){var t=e||n.util.timeZoneOffset(),i=["GMT",t,r["\uae30\uc900"]].join("");return i},_humanizeFrequency:function(){var e=this.get("INTERVAL")||1,t={};return t[i.daily]=e===1?r["\ub9e4\uc77c"]:n.i18n(r["{{monthday}}\uc77c\ub9c8\ub2e4"],"monthday",e),t[i.weekly]=e===1?r["\ub9e4\uc8fc"]:n.i18n(r["{{week}}\uc8fc\ub9c8\ub2e4"],"week",e),t[i.monthly]=e===1?r["\ub9e4\uc6d4"]:n.i18n(r["{{month}}\uac1c\uc6d4\ub9c8\ub2e4"],"month",e),t[i.yearly]=e===1?r["\ub9e4\ub144"]:n.i18n(r["{{year}}\ub144\ub9c8\ub2e4"],"year",e),t[this.get("FREQ")]},_humanizeIntervalOption:function(){var t=e.compact([this._humanizeBymonthString(),this._humanizeBymonthdayString(),this._humanizeBydayString()]);return t.length>0?t.join(" "):undefined},_humanizeUntil:function(e,i){if(!this.get("UNTIL"))return;var s=e||n.util.store.get("timeZoneOffset"),o=i||n.session().timeZone.serverTZOffset,u=s||n.util.timeZoneOffset(),a=t(this.get("UNTIL"),"YYYYMMDD"),f=n.util.dateToRFC2445(a,u,o);return n.i18n(r["{{date}} \uae4c\uc9c0"],"date",f)},_humanizeCount:function(){if(!this.get("COUNT"))return;return n.i18n(r["{{count}}\ud68c"],"count",this.get("COUNT"))},_humanizeBydayString:function(){if(!this.get("BYDAY"))return;var t=this.get("BYDAY").split(","),i=[],o=this;return e.each(t,function(e){var t=/([0-9]*)(SU|MO|TU|WE|TH|FR|SA)?$/.exec(e),u=t[1]?f(t[1],n.config("locale")):undefined,a=t[2];o.get("BYSETPOS")&&(u=o.get("BYSETPOS")),u==="-1"?i.push(r["\ub9c8\uc9c0\ub9c9"]+" "+s[t[2]]):i.push(n.i18n(r["{{nth}}\ubc88\uc9f8 {{weekday}}"],{nth:u,weekday:s[a]}))}),i.join(",")},_humanizeBymonthdayString:function(){if(!this.get("BYMONTHDAY"))return;var t=[],i=this.get("BYMONTHDAY").split(",");return e.each(i,function(e){t.push(n.i18n(r["{{monthday}}\uc77c"],"monthday",e))}),t.join(",")},_humanizeBymonthString:function(){if(!this.get("BYMONTH"))return;var t=[],i=this.get("BYMONTH").split(",");return e.each(i,function(e){t.push(n.i18n(r["{{month}}\uc6d4"],"month",e))}),t.join(",")},_setHash:function(t){var n=u.unshift(t),r=e.pick.apply(e,n);if(!this._validateCountOrUntil(r))throw new Error("UNTIL\uacfc COUNT \uac12\uc740 \uc911\ubcf5\ub420 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");return this.__recurrence__=e.extend(this.__recurrence__,r),this},_validateCountOrUntil:function(t){return!e.has(t,"COUNT")&&!e.has(t,"UNTIL")?!0:!!(e.has(t,"COUNT")&e.has(t,"UNTIL"))},_getWeekStr:function(){return o},_getDayStr:function(){return s}},a}();return a.FREQ_DAILY=i.daily,a.FREQ_WEEKLY=i.weekly,a.FREQ_MONTHLY=i.monthly,a.FREQ_YEARLY=i.yearly,a}),define("calendar/libs/recurrence_parser",["libs/go-recurrence-parser"],function(e){return e}),define("asset/collections/asset_unreserved_date_list",["backbone"],function(e){var t=e.Collection.extend({url:function(){return["/api/asset/item",this.itemId,"unreserved/dates"].join("/")},setItemId:function(e){this.itemId=e},parse:function(e){return _.map(e.content,function(e){return e.data})}});return{getCollection:function(e){var n=new t,r={};return n.setItemId(e.data.assetItem),r.recurrence=e.data.recurrence,r.startTime=e.data.startTime,r.endTime=e.data.endTime,n.fetch({data:r,async:!1}).responseJSON.data}}}),define("text!calendar/templates/_recurrence_content.html",[],function(){return'<table id="recurrence-content">\r\n    <tbody>\r\n        <tr>\r\n            <td>\r\n	            <span class="wrap_select">\r\n	                <select name="recurrence_interval" class="interval_option">\r\n	                	{{&interval_options}}\r\n	                </select>\r\n	                <label id="recurrence-interval-postfix" class="txt_day">{{interval_postfix}}</label>\r\n				</span>\r\n				<span class="tab-option week_repeat"></span>\r\n            </td>           \r\n        </tr>\r\n        <tr>\r\n            <td>{{label.start_date}} : {{start_date}}</td>\r\n        </tr>\r\n        <tr>\r\n            <td>\r\n                {{#is_calendar?}}\r\n                <span class="wrap_txt">\r\n                    <span class="wrap_option">\r\n                        <input id="repeat_end" type="radio" name="repeat_type" value="date"{{#has_end_date?}} checked="checked"{{/has_end_date?}}>\r\n                        <label for="repeat_end">{{label.end_recurrence}}</label>\r\n                    </span>\r\n                    <span class="wrap_date">\r\n                        <input class="txt wfix_small" type="text" name="repeat_date" value="{{end_date}}"{{^has_end_date?}} disabled="disabled"{{/has_end_date?}} readonly="true" />\r\n                        <span class="ic ic_calendar"></span>\r\n                    </span>\r\n                </span>\r\n                <span class="horspace1"></span>\r\n                <span class="wrap_txt">\r\n                    <input id="repeat_count" type="radio" name="repeat_type" value="count"{{#has_repeat_count?}} checked="checked"{{/has_repeat_count?}}>\r\n                    <input class="txt_mini wfix_mini" type="text" name="repeat_count" value="{{repeat_count}}"{{^has_repeat_count?}} disabled="disabled"{{/has_repeat_count?}} />\r\n                    <label for="repeat_count" class="inactive">{{label.recurence_count}}</label>\r\n                </span>\r\n                <span class="horspace1"></span>\r\n                <span class="wrap_option last">\r\n                    <input id="repeat_infinite" type="radio" name="repeat_type" value="infinite"{{#is_infinite?}} checked="checked"{{/is_infinite?}}>\r\n                    <label for="repeat_infinite">{{label.infinit_recurrence}}</label>\r\n                </span>\r\n                {{/is_calendar?}}\r\n                {{^is_calendar?}}\r\n                {{#dateOn}}\r\n                <span class="wrap_txt">\r\n                    <span class="wrap_option">\r\n                        <input id="repeat_end" type="radio" name="repeat_type" value="date"{{#dateOnAttr}} checked="checked"{{/dateOnAttr}}>\r\n                        <label for="repeat_end">{{label.end_recurrence}}</label>\r\n                    </span>\r\n                    <span class="wrap_date">\r\n                        <input class="txt wfix_small" type="text" name="repeat_date" value="{{init_date}}"{{^dateOnAttr}} disabled="disabled"{{/dateOnAttr}} readonly="true" />\r\n                        <span class="ic ic_calendar"></span>\r\n                    </span>\r\n                </span>\r\n                {{/dateOn}}\r\n                <span class="horspace1"></span>\r\n                {{#countOn}}\r\n                <span class="wrap_txt">\r\n                    <input id="repeat_count" type="radio" name="repeat_type" value="count"{{#countOnAttr}} checked="checked"{{/countOnAttr}}>\r\n                    <input class="txt_mini wfix_mini" type="text" name="repeat_count" value="{{repeat_count}}"{{^countOnAttr}} disabled="disabled"{{/countOnAttr}} />\r\n                    <label for="repeat_count" class="inactive">{{label.recurence_count}}</label>\r\n                </span>\r\n                {{/countOn}}\r\n                {{/is_calendar?}}\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class="wrap_details">\r\n                <span class="alert_box">\r\n                	<span class="recurrence-text txt">{{label.recurrence}} : {{recurrence_result}}</span>\r\n                    <div class="alert_details dsp_none" id="unreserve-dates">\r\n                        <p>{{label.dates}}</p>\r\n                        <ul id="dates">\r\n                        </ul>\r\n                    </div>\r\n                </span>\r\n            </td>               \r\n        </tr>\r\n    </tbody>\r\n</table>'}),define("text!calendar/templates/_recurrence_tab.html",[],function(){return'<ul class="tab_nav">            \r\n    <li id="recurrence-tab-daily" class="first{{#is_freq_daily?}} on{{/is_freq_daily?}}" data-freq="DAILY"><span>{{label.everyday}}</span></li>\r\n    <li id="recurrence-tab-weekly"{{#is_freq_weekly?}} class="on"{{/is_freq_weekly?}} data-freq="WEEKLY"><span>{{label.everyweek}}</span></li>\r\n    <li id="recurrence-tab-monthly"{{#is_freq_monthly?}} class="on"{{/is_freq_monthly?}} data-freq="MONTHLY"><span>{{label.everymonth}}</span></li>\r\n    <li id="recurrence-tab-yearly" class="last{{#is_freq_yearly?}} on{{/is_freq_yearly?}}" data-freq="YEARLY"><span>{{label.everyyear}}</span></li>\r\n</ul>'}),define("json!lang/ko/asset.json",function(){return{"\uccab \ud398\uc774\uc9c0\uc5d0 \ub098\uc624\ub294 \uc548\ub0b4\ubb38\uc744 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uccab \ud398\uc774\uc9c0\uc5d0 \ub098\uc624\ub294 \uc548\ub0b4\ubb38\uc744 \uc791\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ud30c\uc77c\ucca8\ubd80":"\ud30c\uc77c\ucca8\ubd80","\uc790\uc0b0\uc5d0 \ub300\ud55c \ucd94\uac00 \uc815\ubcf4\ub780":"\uc790\uc0b0\uc5d0 \ub300\ud55c \ucd94\uac00 \uc815\ubcf4\ub780\uc744 \uc0bd\uc785\ud560 \uc218 \uc788\uc73c\uba70, \ubcc0\uacbd\ub41c \ub0b4\uc6a9\uc740 \u2018\uc790\uc0b0 \uad00\ub9ac\u2019 \ud0ed\uc5d0 \uc801\uc6a9\ub429\ub2c8\ub2e4.","\ud544\ub4dc\uba85":"\ud544\ub4dc\uba85","\uc774\uc6a9\uc790\uc5d0\uac8c \ubcf4\uc774\uae30":"\uc774\uc6a9\uc790\uc5d0\uac8c \ubcf4\uc774\uae30","\ucf54\ub4dc":"\ucf54\ub4dc","\uc0ad\uc81c\ubd88\uac00":"\uc0ad\uc81c\ubd88\uac00","\ud56d\ubaa9\uba85":"\ud56d\ubaa9\uba85","\uc790\uc0b0\ucd94\uac00":"\uc790\uc0b0\ucd94\uac00","\uc774\ub984":"\uc774\ub984","\uc124\uc815":"\uc124\uc815","\uc790\uc0b0\uc774\ub984":"\uc790\uc0b0\uc774\ub984","\uc774\uc6a9\uc790\uac00 \uc790\uc0b0\uc744 \uc608\uc57d \ub610\ub294 \ub300\uc5ec\uc2dc \uc785\ub825 \ubc1b\uc744 \uc815\ubcf4\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.":"\uc774\uc6a9\uc790\uac00 \uc790\uc0b0\uc744 \uc608\uc57d \ub610\ub294 \ub300\uc5ec\uc2dc \uc785\ub825 \ubc1b\uc744 \uc815\ubcf4\ub97c \uc124\uc815\ud569\ub2c8\ub2e4.","\ucd94\uac00\ud558\uae30":"\ucd94\uac00\ud558\uae30","\uc774\uc6a9\uc790 \uc785\ub825 \uc815\ubcf4":"\uc774\uc6a9\uc790 \uc785\ub825 \uc815\ubcf4","\uc774\uc6a9\uc548\ub0b4":"\uc774\uc6a9\uc548\ub0b4","\uc790\uc0b0\uc815\ubcf4\uad00\ub9ac":"\uc790\uc0b0\uc815\ubcf4\uad00\ub9ac","\uc790\uc0b0\uad00\ub9ac":"\uc790\uc0b0\uad00\ub9ac","\uc774\uc6a9\uc815\ubcf4":"\uc774\uc6a9\uc815\ubcf4","\ud56d\ubaa9 \uc0ad\uc81c":"\ud56d\ubaa9 \uc0ad\uc81c","\ud574\ub2f9 \ud56d\ubaa9\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br>\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\ud574\ub2f9 \ud56d\ubaa9\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br>\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc608\uc57d":"\uc608\uc57d","\uc804\uccb4":"\uc804\uccb4","\ub300\uc5ec\uac00\ub2a5":"\ub300\uc5ec\uac00\ub2a5","\ub300\uc5ec\ubd88\uac00":"\ub300\uc5ec\ubd88\uac00","\ubc18\ub0a9":"\ubc18\ub0a9","\ud56d\ubaa9":"\ud56d\ubaa9","\ub300\uc5ec":"\ub300\uc5ec","\uc6b4\uc601\uc790":"\uc6b4\uc601\uc790","\uc774\uc6a9 \ubc18\ub0a9":"\uc774\uc6a9 \ubc18\ub0a9","\uc774\uc6a9\uc744 \ubc18\ub0a9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uc774\uc6a9\uc744 \ubc18\ub0a9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc608\uc57d \ucde8\uc18c":"\uc608\uc57d \ucde8\uc18c","\uc608\uc57d\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uc608\uc57d\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc608\uc57d/\ub300\uc5ec \uc911\uc778 \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc608\uc57d/\ub300\uc5ec \uc911\uc778 \ud56d\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc0ac\uc6a9\uc548\ud568":"\uc0ac\uc6a9\uc548\ud568","\uc0ac\uc6a9\uc911":"\uc0ac\uc6a9\uc911","\uc774\uc6a9\uac00\ub2a5\ud55c \uc790\uc0b0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc774\uc6a9\uac00\ub2a5\ud55c \uc790\uc0b0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc0c1\uc138\uc815\ubcf4":"\uc0c1\uc138\uc815\ubcf4","\uc790\uc138\ud788 \ubcf4\uae30":"\uc790\uc138\ud788 \ubcf4\uae30","\ub0b4 \uc608\uc57d/\ub300\uc5ec \ud604\ud669":"\ub0b4 \uc608\uc57d/\ub300\uc5ec \ud604\ud669","\uc790\uc0b0":"\uc790\uc0b0","\uc774\uc6a9 \uc2dc\uac04":"\uc608\uc57d \uc2dc\uac04 (\ub300\uc5ec \uc2dc\uc791 \uc2dc\uac04)","\uce98\ub9b0\ub354 \uc5f0\ub3d9":"\uce98\ub9b0\ub354 \uc5f0\ub3d9","\ucde8\uc18c/\ubc18\ub0a9":"\ucde8\uc18c/\ubc18\ub0a9","\ub300\uc5ec\uc77c":"\ub300\uc5ec\uc77c","\ub300\uc5ec\uc790":"\ub300\uc5ec\uc790","\ubcc0\uacbd":"\ubcc0\uacbd","\ubaa9\ub85d\uc73c\ub85c \ub3cc\uc544\uac00\uae30":"\ubaa9\ub85d\uc73c\ub85c \ub3cc\uc544\uac00\uae30","\ubc18\ub0a9\ud558\uae30":"\ubc18\ub0a9\ud558\uae30","\uc804\uc0ac\uc790\uc0b0":"\uc804\uc0ac\uc790\uc0b0","\uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.":"\uc131\uacf5\ud588\uc2b5\ub2c8\ub2e4.","\uc9c0\ub09c \uc2dc\uac04\uc740 \uc608\uc57d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc9c0\ub09c \uc2dc\uac04\uc740 \uc608\uc57d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc608\uc57d \ucde8\uc18c\ud558\uae30":"\uc608\uc57d \ucde8\uc18c\ud558\uae30","\ub4f1\ub85d\ub41c \uc608\uc57d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uc608\uc57d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc608\uc57d\uc77c":"\uc608\uc57d\uc77c","\uc608\uc57d\uc790":"\uc608\uc57d\uc790","\ud544\ub4dc\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.":"\ud544\ub4dc\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.","\ucf54\ub4dc\uc640 \uc774\ub984\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.":"\ucf54\ub4dc\uc640 \uc774\ub984\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.","\ucf54\ub4dc\ub294 \uc601\uc5b4\uc640 \uc22b\uc790\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.":"\ucf54\ub4dc\ub294 \uc601\uc5b4\uc640 \uc22b\uc790\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.","\uc774\uc6a9\uc790 \uc785\ub825\uc815\ubcf4\ub97c \uc785\ub825\ud558\uc138\uc694.":"\uc774\uc6a9\uc790 \uc785\ub825\uc815\ubcf4\ub97c \uc785\ub825\ud558\uc138\uc694.","\uc624\ub298 \uc774\uc804\uc758 \ub0a0\uc9dc\uc5d0\ub294 \uc608\uc57d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc624\ub298 \uc774\uc804\uc758 \ub0a0\uc9dc\uc5d0\ub294 \uc608\uc57d\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc608\uc57d/\ub300\uc5ec \ud604\ud669":"\uc608\uc57d/\ub300\uc5ec \ud604\ud669","\uc790\uc0b0\ubaa9\ub85d":"\uc790\uc0b0\ubaa9\ub85d","\uc790\uc0b0\uc218\uc815":"\uc790\uc0b0\uc218\uc815","\uc2dc\uc791":"\uc2dc\uc791","\uc885\ub8cc":"\uc885\ub8cc","\uc744 \uc791\uc131\ud574 \uc8fc\uc138\uc694.":"{{arg1}}\uc744(\ub97c) \uc791\uc131\ud574 \uc8fc\uc138\uc694.","\uc608\uc57d\ud560 \uc218 \uc5c6\ub294 \uc694\uc77c\uc785\ub2c8\ub2e4.":"\uc608\uc57d\ud560 \uc218 \uc5c6\ub294 \uc694\uc77c\uc785\ub2c8\ub2e4.","\uc608\uc57d \uc218\uc815\ud558\uae30":"\uc608\uc57d \uc218\uc815\ud558\uae30","\uc608\uc57d \uc2dc\uac04 \ubcc0\uacbd":"\uc608\uc57d \uc2dc\uac04 \ubcc0\uacbd","\uc608\uc57d \uc2dc\uac04 \ubcc0\uacbd \uc0c1\uc138":"\uc774 \uc608\uc57d\uc740 \uce98\ub9b0\ub354\uc5d0\uc11c \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.\uc2dc\uac04\uc744 \ubcc0\uacbd\ud558\uba74, \ud574\ub2f9 \uc77c\uc815\uc5d0\uc11c \uc0ad\uc81c\ub429\ub2c8\ub2e4.\ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc885\uc77c":"\uc885\uc77c","\uc608\uc57d\ud558\ub824\ub294 \uc2dc\uac04\ub300\uc5d0 \uc774\ubbf8 \uc608\uc57d\ub41c \uac74\uc774 \ud3ec\ud568\ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4.":"\uc608\uc57d\ud558\ub824\ub294 \uc2dc\uac04\ub300\uc5d0 \uc774\ubbf8 \uc608\uc57d\ub41c \uac74\uc774 \ud3ec\ud568\ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4.","\ud544\uc218\ub4f1\ub85d\uc815\ubcf4\ub97c \uc785\ub825\ud558\uc138\uc694.":"\ud544\uc218\ub4f1\ub85d\uc815\ubcf4\ub97c \uc785\ub825\ud558\uc138\uc694.","\uce98\ub9b0\ub354 \uc608\uc57d \uc790\uc0b0 \ucde8\uc18c \uc548\ub0b4":"\uae30\uc874\uc5d0 \uc608\uc57d\ub41c \ud56d\ubaa9\uc785\ub2c8\ub2e4. \ud56d\ubaa9\uc744 \uc0ad\uc81c\ud558\uba74 \uc608\uc57d\uc774 \uc989\uc2dc \ucde8\uc18c\ub429\ub2c8\ub2e4. \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc790\uc0b0 \uc608\uc57d \ud604\ud669":"\uc790\uc0b0 \uc608\uc57d \ud604\ud669","\uc2dc\uac04\ub300\ubcc4 \uc608\uc57d \ud604\ud669":"\uc2dc\uac04\ub300\ubcc4 \uc608\uc57d \ud604\ud669","\uc790\uc0b0\ubcc4 \uc0c1\uc138 \uc815\ubcf4":"\uc790\uc0b0\ubcc4 \uc0c1\uc138 \uc815\ubcf4","\uc775\uba85\ud5c8\uc6a9":"\uc775\uba85\ud5c8\uc6a9","\ud56d\uc0c1 \uc775\uba85\uc73c\ub85c \uc608\uc57d":"\ud56d\uc0c1 \uc775\uba85\uc73c\ub85c \uc608\uc57d","\uc775\uba85\uc608\uc57d":"\uc775\uba85\uc608\uc57d","\uc608\uc57d\ud560 \uc218 \uc5c6\ub294 \uc2dc\uac04\uc785\ub2c8\ub2e4.":"\uc608\uc57d\ud560 \uc218 \uc5c6\ub294 \uc2dc\uac04\uc785\ub2c8\ub2e4.","\ubc18\ubcf5\uc608\uc57d":"\ubc18\ubcf5\uc608\uc57d","\uc608\uc57d \uc81c\ud55c \uc0ac\ud56d \uc124\uc815":"\uc608\uc57d \uc81c\ud55c \uc0ac\ud56d \uc124\uc815","\ubc18\ubcf5 \uc608\uc57d\uc744 \ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uae30\uac04 \ubc0f \ud69f\uc218\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\ubc18\ubcf5 \uc608\uc57d\uc744 \ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uae30\uac04 \ubc0f \ud69f\uc218\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\ud68c \ubc18\ubcf5":"\ud68c \ubc18\ubcf5","\uc608\uc57d\uc0c1\uc138 \ub4f1\ub85d":"\uc608\uc57d\uc0c1\uc138 \ub4f1\ub85d","\uc774 \uc608\uc57d\ub9cc \uc218\uc815":"\uc774 \uc608\uc57d\ub9cc \uc218\uc815","\uc774 \uc608\uc57d\ubd80\ud130 \uc774\ud6c4 \uc608\uc57d \ubaa8\ub450 \uc218\uc815":"\uc774 \uc608\uc57d\ubd80\ud130 \uc774\ud6c4 \uc608\uc57d \ubaa8\ub450 \uc218\uc815","\uc608\uc57d \uc218\uc815":"\uc608\uc57d \uc218\uc815","\uc608\uc57d \uc0ad\uc81c":"\uc608\uc57d \uc0ad\uc81c","\uc608\uc57d \uc885\ub958":"\uc608\uc57d \uc885\ub958","\uc77c\ubc18\uc608\uc57d":"\uc77c\ubc18\uc608\uc57d","\ub144 \ubc18\ubcf5":"\ub144 \ubc18\ubcf5","\uc608\uc57d\ubd88\uac00 \uc77c\uc790":"\uc608\uc57d\ubd88\uac00 \uc77c\uc790","\ubc18\ubcf5 \uc608\uc57d \ucd5c\ub300 \ud69f\uc218 0\ud68c\ub97c \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4":"\ubc18\ubcf5 \uc608\uc57d \ucd5c\ub300 \ud69f\uc218 {{count}}\ud68c\ub97c \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4","\ubc18\ubcf5 \uc608\uc57d \uac00\ub2a5 \ucd5c\ub300 \uae30\uac04 0\ub144\uc744 \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4":"\ubc18\ubcf5 \uc608\uc57d \uac00\ub2a5 \ucd5c\ub300 \uae30\uac04 {{count}}\ub144\uc744 \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4","\ubc18\ubcf5 \uc608\uc57d \uc77c\uc815 \uc911\uc5d0 \uc774\ubbf8 \uc608\uc57d \uac74\uc774 \ud3ec\ud568\ub41c \uc77c\uc790\uac00 \uc788\uc2b5\ub2c8\ub2e4":"\ubc18\ubcf5 \uc608\uc57d \uc77c\uc815 \uc911\uc5d0 \uc774\ubbf8 \uc608\uc57d \uac74\uc774 \ud3ec\ud568\ub41c \uc77c\uc790\uac00 \uc788\uc2b5\ub2c8\ub2e4.<br>\uc81c\uc678\ud558\uace0 \ub4f1\ub85d\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","1\uc77c\uc744 \ucd08\uacfc\ud558\ub294 \uc608\uc57d\uc77c\uc815\uc740 \ubc18\ubcf5\uc608\uc57d\uc744 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"1\uc77c\uc744 \ucd08\uacfc\ud558\ub294 \uc608\uc57d\uc77c\uc815\uc740 \ubc18\ubcf5\uc608\uc57d\uc744 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc608\uc57d\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ucde8\uc18c\ud55c \uc608\uc57d\uc740 \ubcf5\uad6c\uac00 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4":"\uc608\uc57d\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? <br /> \ucde8\uc18c\ud55c \uc608\uc57d\uc740 \ubcf5\uad6c\uac00 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\ud604\uc7ac '\ubc18\ubcf5 \uc608\uc57d'\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.":"\ud604\uc7ac '\ubc18\ubcf5 \uc608\uc57d'\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.","\uc804\uccb4 \uc608\uc57d \uc218\uc815":"\uc804\uccb4 \uc608\uc57d \uc218\uc815","\uc774 \uc608\uc57d\ub9cc \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uc774 \uc608\uc57d\ub9cc \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}}),define("asset/nls/asset",["require","json!lang/ko/asset.json","json!lang/ko/custom.json"],function(require){var e=require("json!lang/ko/asset.json"),t=require("json!lang/ko/custom.json");return{root:_.extend(e,t.asset||{}),en:!0,ja:!0,zh_CN:!0,zh_TW:!0,vi:!0}}),function(){define("calendar/helpers/recurrence_layer",["jquery","underscore","hogan","moment","calendar/libs/recurrence_parser","asset/collections/asset_unreserved_date_list","text!calendar/templates/_recurrence_content.html","text!calendar/templates/_recurrence_tab.html","i18n!nls/commons","i18n!calendar/nls/calendar","i18n!asset/nls/asset","jquery.go-popup","jquery.ui"],function(e,t,n,r,i,s,o,u,a,f,l){function T(e){var t=[];for(var n=1;n<31;n++)t.push('<option value="'+n+'"'),n===parseInt(e)&&t.push(' selected="selected"'),t.push(">"+n+"</option>"+"\n");return t.join("")}var c={sun:f["\uc77c\uc694\uc77c"],mon:f["\uc6d4\uc694\uc77c"],tue:f["\ud654\uc694\uc77c"],wed:f["\uc218\uc694\uc77c"],thu:f["\ubaa9\uc694\uc77c"],fri:f["\uae08\uc694\uc77c"],sat:f["\ud1a0\uc694\uc77c"]},h={sun:f["\uc77c"],mon:f["\uc6d4"],tue:f["\ud654"],wed:f["\uc218"],thu:f["\ubaa9"],fri:f["\uae08"],sat:f["\ud1a0"]},p={sun:"SU",mon:"MO",tue:"TU",wed:"WE",thu:"TH",fri:"FR",sat:"SA"},d={DAILY:f["\uc77c\ub9c8\ub2e4"],WEEKLY:f["\uc8fc\ub9c8\ub2e4"],MONTHLY:f["\uc6d4\ub9c8\ub2e4"],YEARLY:f["\ub144\ub9c8\ub2e4"]},v=1,m=30,g=1,y=1e16,b='<span class="horspace1"></span>',w=n.compile(u),E=n.compile(o),S,x={everyday:f["\ub9e4\uc77c"],everyweek:f["\ub9e4\uc8fc"],everymonth:f["\ub9e4\uc6d4"],everyyear:f["\ub9e4\ub144"],per_date:f["\uc77c\ub9c8\ub2e4"],start_date:f["\uc2dc\uc791\uc77c"],recurrence:f["\ubc18\ubcf5"],end_recurrence:f["\ubc18\ubcf5\uc885\ub8cc"],recurence_count:f["\ud68c \ubc18\ubcf5"],infinit_recurrence:f["\ubb34\ud55c\ubc18\ubcf5"],dates:l["\uc608\uc57d\ubd88\uac00 \uc77c\uc790"]};return S=function(){var o=function(n,r,s,o,u){t.isEmpty(u)?this.repeatCount=m:(this.repeatCount=u.attributes.limitRecurrence==="NOT_USE"?m:u.attributes.limitRecurrenceCount,this.itemModel=u),t.isEmpty(s)&&(s="COUNT="+(this.repeatCount?this.repeatCount:m)),this.hasUnreservedDate=!1,this.popupEl=null,this.startDate=GO.util.toMoment(n),this.templates={},this.recurrenceCode=s||"",this.day=o,this.callbacks={confirm:{func:function(){},context:this},cancel:{func:function(){},context:this},close:{func:function(){},context:this}},e.datepicker.setDefaults(e.datepicker.regional[GO.config("locale")]),this.recurrenceParser=new i,this._parseFromCode(this.recurrenceCode),this._prepareTemplates(r)};return o.prototype={render:function(t){return this.popupEl=e.goPopup({width:440,pclass:"layer_normal layer_repeat_schedule go_renew",headerHtml:this.templates.header,contents:this.templates.content,closeCallback:e.proxy(this._close,this),offset:t,modal:!0,buttons:[{btype:"confirm",btext:a["\ud655\uc778"],callback:e.proxy(this._confirm,this),autoclose:!1},{btype:"cancel",btext:a["\ucde8\uc18c"],callback:e.proxy(this._cancel,this)}]}),this.undelegateEvents(),this.delegateEvents(),this._bindDatepicker(),this._setRecurrencePeriodOptions(this.recurrenceParser.get("FREQ")),this._generateRecurrenceText(),this._resetFocus(),this.popupEl},delegateEvents:function(){this.popupEl.on("click.recurrence","ul.tab_nav li",e.proxy(this._changeTab,this)),this.popupEl.on("click.recurrence","input[type=radio][name^=repeat_]",e.proxy(this._changeRepeatType,this)),this.popupEl.on("change.recurrence","input[name=repeat_date]",e.proxy(this._generateRecurrenceText,this)),this.popupEl.on("change.recurrence","input[name=repeat_date]",e.proxy(this._assetValidateYear,this)),this.popupEl.on("change.recurrence","select[name=recurrence_interval]",e.proxy(this._changeInterval,this)),this.popupEl.on("keyup.recurrence","input[name=repeat_count]",t.isEmpty(this.itemModel)?e.proxy(this._validateRepeatCount,this):e.proxy(this._assetValidateCount,this)),this.popupEl.on("blur.recurrence","input[name=repeat_count]",t.isEmpty(this.itemModel)?e.proxy(this._validateRepeatCount,this):e.proxy(this._assetValidateCount,this)),this.popupEl.on("click.recurrence","input[type=checkbox][name^=week_byday_]",e.proxy(this._generateRecurrenceText,this)),this.popupEl.on("click.recurrence","#date-of-startdate",e.proxy(this._generateRecurrenceText,this)),this.popupEl.on("click.recurrence","#weekday-of-startdate",e.proxy(this._generateRecurrenceText,this))},undelegateEvents:function(){this.popupEl.off(".recurrence")},setConfirmCallback:function(e,t){return this._setCallback("confirm",e,t)},setCancelCallback:function(e,t){return this._setCallback("cancel",e,t)},setCloseCallback:function(e,t){return this._setCallback("close",e,t)},getFreq:function(){return this.popupEl.find("ul.tab_nav li.on").attr("data-freq")},getIntervalElement:function(){return this.popupEl.find("select[name=recurrence_interval]")},getInterval:function(){var e=this.getIntervalElement().find("option:selected").val();return parseInt(e)>1?e:undefined},getRepeatCountElement:function(){return this.popupEl.find("input[type=text][name=repeat_count]")},getRepeatCount:function(){var e=this.getRepeatCountElement();return e.is(":disabled")?undefined:e.val()},getUntilDateElement:function(){return this.popupEl.find("input[type=text][name=repeat_date]")},getUntilDate:function(){var e=this.getUntilDateElement();return e.is(":disabled")||!e.val()?undefined:GO.util.toMoment(e.val()).format("YYYYMMDD")},getMonthdayPerMonth:function(){return this.popupEl.find("#date-of-startdate:checked").val()},getDayPerMonth:function(){return this.popupEl.find("#weekday-of-startdate:checked").val()},getWeekdayCheckboxElement:function(){return this.popupEl.find("input[type=checkbox][name^=week_byday_]:checked")},getWeekdayString:function(){var t=this.getWeekdayCheckboxElement(),n=[];return t.each(function(t,r){e(r).is(":checked")&&n.push(p[e(r).val()])}),n.length>0?n.join(","):undefined},getRecurrenceCode:function(){return this.recurrenceCode},_confirm:function(e){if(this._validate()){var t=this._getCallback("confirm");t.func.call(t.context,this.getRecurrenceCode(),this.recurrenceParser.humanize(),this.hasUnreservedDate),e.close()}return this},_validate:function(){return this.getFreq()==="WEEKLY"&&!this.getWeekdayCheckboxElement().length?(window.alert(f["\uc694\uc77c\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694"]),!1):!0},_cancel:function(){var e=this._getCallback("cancel");return e.func.call(e.context),this},_close:function(){var e=this._getCallback("close");return e.func.call(e.context),this},_getCallback:function(e){return this.callbacks[e]||{func:function(){},context:this}},_setCallback:function(e,n,r){return t.has(this.callbacks,e)||this.callbacks[e],this.callbacks[e].func=n,this.callbacks[e].context=r||this,this},_bindDatepicker:function(){this.getUntilDateElement().datepicker({yearSuffix:"",dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0,minDate:this.startDate.format("YYYY-MM-DD")})},_setRecurrencePeriodOptions:function(e){var n=this.popupEl.find(".tab-option"),r={WEEKLY:"_buildWeeklyPeriodOptTpl",MONTHLY:"_buildMonthlyPeriodOptTpl"}[e],i="";n.empty();if(!t.contains(["WEEKLY","MONTHLY"],e))return;return i=this[r].call(this),n.html(i),this},_isUnLimited:function(e){var t=this.itemModel.attributes.limitRecurrence;switch(e){case"COUNT":return t==="COUNT"||t==="NOT_USE";case"YEAR":return t==="YEAR"||t==="NOT_USE";case"NOT_USE":return t==="NOT_USE"||t==="NONE"}return!1},_prepareTemplates:function(e){var t=GO.constant("calendar","RECURRENCE_FREQ"),n=this.recurrenceParser.get("FREQ"),r=this.recurrenceParser.has("UNTIL"),i=this.recurrenceParser.has("COUNT"),s=e?!1:this._isUnLimited("YEAR"),o=e?!1:this._isUnLimited("COUNT"),u=e?!1:this._isUnLimited("NOT_USE"),a=new Date;return a.setFullYear(a.getFullYear()+this.repeatCount),this.templates.header=w.render({"is_freq_daily?":n===t.daily,"is_freq_weekly?":n===t.weekly,"is_freq_monthly?":n===t.monthly,"is_freq_yearly?":n===t.yearly,label:x}),this.templates.content=E.render({label:x,interval_options:T(this.recurrenceParser.has("INTERVAL")?this.recurrenceParser.get("INTERVAL"):1),interval:this.recurrenceParser.has("INTERVAL")?this.recurrenceParser.get("INTERVAL"):1,interval_postfix:d[this.recurrenceParser.get("FREQ")],start_date:this.startDate.format("YYYY-MM-DD"),"has_end_date?":r,end_date:r?GO.util.toMoment(this.recurrenceParser.get("UNTIL"),"YYYYMMDD").format("YYYY-MM-DD"):"","has_repeat_count?":i,repeat_count:i?this.recurrenceParser.get("COUNT"):"","is_infinite?":!r&&!i,"is_calendar?":e,dateOn:s,dateOnAttr:u?!1:s,countOn:o,countOnAttr:u?!0:o,init_date:u?"":GO.util.shortDate(a)}),this},_parseFromForm:function(){return console.log("[RecurrencLayer#_parseFromForm] converting...."),this.recurrenceParser.set("FREQ",this.getFreq()),this.recurrenceParser.set("INTERVAL",this.getInterval()),this.recurrenceParser.set("COUNT",this.getRepeatCount()),this.recurrenceParser.set("UNTIL",this.getUntilDate()),this.recurrenceParser.set("BYDAY",this.getWeekdayString()||this.getDayPerMonth()),this.recurrenceParser.set("BYMONTHDAY",this.getMonthdayPerMonth()),this.recurrenceCode=this.recurrenceParser.toString(),this.recurrenceCode},_parseFromCode:function(e){this.recurrenceParser.parse(e)},_changeInterval:function(t){var n=typeof t=="undefined"?e("select[name=recurrence_interval]"):e(t.target),r=n.find("option:selected").val();this._generateRecurrenceText()},_validateRepeatCount:function(t){var n=n=typeof t=="undefined"?e("input[name=repeat_count]"):e(t.target),r=n.val();r.length>0&&(!/^(\d)+$/.test(r)||parseInt(r)<g||parseInt(r)>y)&&n.val(this.repeatCount),this._generateRecurrenceText()},_generateRecurrenceText:function(){this._parseFromForm(),this.popupEl.find(".recurrence-text").html(x.recurrence+" : "+this.recurrenceParser.humanize()),this._getAssetUnreservedDates()},_assetValidateYear:function(){if(t.isEmpty(this.itemModel))return;var n=this.itemModel.attributes.limitRecurrence;if(n==="NOT_USE"||n!=="YEAR"){this._generateRecurrenceText();return}var r=new Date(e("input[name=repeat_date]").val()),i=new Date;i.setFullYear(i.getFullYear()+this.repeatCount),this._isExceedYear(r,i)&&(e("input[name=repeat_date]").val(GO.util.shortDate(i)),this._generateRecurrenceText(),e.goMessage(GO.i18n(l["\ubc18\ubcf5 \uc608\uc57d \uac00\ub2a5 \ucd5c\ub300 \uae30\uac04 0\ub144\uc744 \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4"],{count:this.repeatCount}))),this._generateRecurrenceText()},_isExceedYear:function(e,t){var n=r(e).clone(),i=r(t).clone();return i<n},_assetValidateCount:function(){if(t.isEmpty(this.itemModel))return;var n=e("input[name=repeat_count]").val();if(!this._validateCount(n)){e("input[name=repeat_count]").val(this.repeatCount),this._generateRecurrenceText();return}var r=this.itemModel.attributes.limitRecurrence;if(r==="NOT_USE"||r!=="COUNT"){this._generateRecurrenceText();return}n>this.repeatCount&&(e("input[name=repeat_count]").val(this.repeatCount),this._generateRecurrenceText(),e.goMessage(GO.i18n(l["\ubc18\ubcf5 \uc608\uc57d \ucd5c\ub300 \ud69f\uc218 0\ud68c\ub97c \ucd08\uacfc\ud558\uc600\uc2b5\ub2c8\ub2e4"],{count:this.repeatCount}))),this._generateRecurrenceText()},_validateCount:function(e){return!(e.length>0&&(!/^(\d)+$/.test(e)||parseInt(e)<g))},_getAssetUnreservedDates:function(){if(t.isEmpty(this.itemModel))return;var n=e("#startDate").val(),r=e("#startTime").val(),i=e("#endDate").val(),o=e("#endTime").val(),u="YYYY-MM-DD HH:mm",a=GO.util.toISO8601(GO.util.toMoment(n+" "+r,u)),f=GO.util.toISO8601(GO.util.toMoment(i+" "+o,u)),l=s.getCollection({data:{assetItem:this.itemModel.itemId,recurrence:this.recurrenceParser.toString(),startTime:a,endTime:f}});t.isEmpty(l)?(this.hasUnreservedDate=!1,e("#unreserve-dates").addClass("dsp_none")):(e("#unreserve-dates").removeClass("dsp_none"),e("#dates").empty(),t.each(l,function(t){e("#dates").append("<li>"+t+"</li>")}),this.hasUnreservedDate=!0)},_changeRepeatType:function(t,n){var r=n||!0,i=t instanceof e.Event?e(t.target):e(t),s=i.val(),o=this.popupEl.find("input[type=text][name^=repeat_]"),u=this.popupEl.find("input[type=text][name=repeat_"+s+"]");r&&o.val(""),o.attr("disabled",!0),u.length>0&&(u.attr("disabled",!1),this._resetRepeatInputField(s)),this._generateRecurrenceText()},_resetRepeatInputField:function(e){var t={date:"_resetRepeatEndDate",count:"_resetRepeatCount",infinite:""}[e];return t&&t in this&&this[t].call(this),this},_resetRepeatEndDate:function(){console.log("[RecurrenceLayerHelper#_resetRepeatEndDate]");var e=this.startDate,t={},n="";return t[i.FREQ_DAILY]=e.clone().add("months",2),t[i.FREQ_WEEKLY]=e.clone().add("months",2),t[i.FREQ_MONTHLY]=e.clone().add("years",1),t[i.FREQ_YEARLY]=e.clone().add("years",5),n=t[this.recurrenceParser.get("FREQ")].format("YYYY-MM-DD"),this.getUntilDateElement().val(n),this},_resetRepeatCount:function(){return console.log("[RecurrenceLayerHelper#_resetRepeatCount]"),this.getRepeatCountElement().val(this.repeatCount),this},_changeTab:function(t){var n=e(t.currentTarget),r=n.attr("data-freq");if(n.hasClass("on"))return;this._resetFocus(),this._toggleTabs(r),this._changeIntervalPostfix(r),this._setRecurrencePeriodOptions(r),this._changeInterval()},_resetFocus:function(){return this.getUntilDateElement().blur(),this.getIntervalElement().focus(),this},_changeIntervalPostfix:function(e){this.popupEl.find("#recurrence-interval-postfix").text(d[e])},_toggleTabs:function(t){var n="div.go_popup ul.tab_nav li";e(n).removeClass("on"),e(n).each(function(n,r){e(r).attr("data-freq")===t&&e(r).addClass("on")})},_buildWeeklyPeriodOptTpl:function(){var e=[],r="",i=this.startDate.day();return r=n.compile(['<span class="wrap_option">','<input id="week-byday-{{code}}" name="week_byday_{{code}}" type="checkbox" value="{{code}}"{{#checked?}} checked="checked"{{/checked?}}>','<label for="week-byday-{{code}}">{{label}}</label>',"</span>"].join("\n")),t.each(t.pairs(h),function(n,s){var o="",u=!1;if(this.recurrenceParser.get("BYDAY")){var a=new RegExp(p[n[0]]);t.isUndefined(this.day)?u=a.test(this.recurrenceParser.get("BYDAY")):s==i?u=!0:u=!1}else u=i===s;o=r.render({code:n[0],label:n[1],"checked?":u}),e.push(o)},this),e.join(b)},_buildMonthlyPeriodOptTpl:function(){var e="",r="",i=this.startDate.format("D"),s=GO.util.getNthDayOfMonth(this.startDate),o=t.values(p)[this.startDate.day()],u=t.values(c)[this.startDate.day()];return r=n.compile(['<span class="wrap_option">','<input id="date-of-startdate" name="month_byday" type="radio" value="{{dateOfstartDate}}"{{#date_checked?}} checked="checked"{{/date_checked?}}>','<label for="date-of-startdate">{{label.date_of_startdate}}</label>',"</span>",b,'<span class="wrap_option">','<input id="weekday-of-startdate" name="month_byday" type="radio" value="{{weekday_code}}"{{#weekday_checked?}} checked="checked"{{/weekday_checked?}}>','<label for="weekday-of-startdate">{{label.nth_weekday}}</label>',"</span>"].join("\n")),e=r.render({dateOfstartDate:i,"date_checked?":this.recurrenceParser.has("BYMONTHDAY"),weekday_code:s+o,"weekday_checked?":this.recurrenceParser.has("BYDAY"),label:{date_of_startdate:GO.i18n(f["{{monthday}}\uc77c"],"monthday",i),nth_weekday:GO.i18n(f["{{nth}}\ubc88\uc9f8 {{weekday}}"],{nth:s,weekday:u})}}),e}},o}(),S})}.call(),define("asset/models/asset_user_create",["backbone"],function(e){var t=e.Model.extend({url:function(){var e=["/api/asset",this.get("assetId"),"item",this.get("itemId")];switch(this.get("type")){case"reserve":e.push("reserve");break;case"return":e.push("reservation/return");break;case"current":e.push("reservation/current");break;case"title":e.push("title");break;case"reservationStatus":e.push("reservation"),e.push(this.get("reservationId"))}return e.join("/")}});return t}),define("asset/collections/asset_admin",["backbone"],function(e){var t=e.Collection.extend({model:e.Model,url:function(){return["/api/asset",this.assetId,this.urlPart].join("/")},setUrlPart:function(e){e=="info"?this.urlPart="attribute/item":e=="reservation"?this.urlPart="attribute/reservation":e=="item"&&(this.urlPart="item")},setAssetId:function(e){this.assetId=e}},{getCollection:function(e){var t=new this.prototype.constructor;return t.setUrlPart(e.type),t.setAssetId(e.assetId),t.fetch({async:!0,reset:!0}),t}});return t}),define("text!calendar/templates/_asset_base.html",[],function(){return'<div class="flexable_title">\r\n    <span class="ic ic_openbox" title="{{label.open}}"></span><span class="txt">{{asset_name}}</span>\r\n</div>\r\n<div class="flexable_info foldable" style="display:none">   \r\n    <div class="wrap_name_tag"> \r\n    </div>  \r\n</div>  \r\n<div class="dataTables_wrapper flexable_content foldable" style="display:none">\r\n</div>'}),define("text!calendar/templates/_asset_list.html",[],function(){return'<caption>\r\n    {{label.reservation}}/{{label.rental}}\r\n</caption>   \r\n<thead>\r\n    <tr>    \r\n        <th class="sorting_asc name"><span class="title_sort">{{label.item}}</span></th>\r\n        \r\n        {{#asset_option_headers}}\r\n            {{#visibility}}\r\n                <th class="sorting_disable"><span class="title">{{name}}</th>\r\n            {{/visibility}} \r\n        {{/asset_option_headers}}\r\n        \r\n        <th class="sorting_disable action"><span class="title">{{label.reservation}}</th>   \r\n    </tr>   \r\n</thead>    \r\n\r\n<tbody id="data-assetItems">\r\n    {{#asset_item_list}}\r\n        <tr data-id="{{id}}" data-name="{{name}}" data-assetid="{{assetId}}">   \r\n            <td class="name"><span class="txt">{{name}}</span></td>\r\n            \r\n            {{#properties}}\r\n                <td class="count"><span class="txt">{{content}}</span></td>\r\n            {{/properties}}\r\n            \r\n            <td class="action"><span class="btn_fn7 btn-reservation">{{label.reservation}}</span></td>  \r\n        </tr>\r\n    {{/asset_item_list}}\r\n    {{^asset_item_list}}\r\n        <tr>\r\n            <td colspan="{{column_counts}}">    \r\n                <p class="data_null">\r\n                    <span class="txt">{{emptyMessage}}</span>\r\n                </p>\r\n            </td>   \r\n        </tr>\r\n    {{/asset_item_list}}\r\n</tbody>'}),define("text!calendar/templates/_asset_alert.html",[],function(){return'<form name="form-reserv">   \r\n    <table class="table_form_mini go_renew">    \r\n        <tbody> \r\n            {{#attributes}} \r\n                <tr>    \r\n                    <th><span class="txt">{{name}}</span></th>  \r\n                    <td><input type="text" class="txt w_max" name="attr_{{id}}"></textarea>\r\n                </tr>\r\n            {{/attributes}} \r\n        </tbody>    \r\n    </table>    \r\n</form> '}),function(){define("calendar/views/asset",["jquery","underscore","app","backbone","hogan","asset/models/asset_user_create","asset/collections/asset_admin","text!calendar/templates/_asset_base.html","text!calendar/templates/_asset_list.html","text!calendar/templates/_asset_alert.html","i18n!nls/commons","i18n!asset/nls/asset","go-nametags","jquery.go-popup"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){function x(n,r,i,s,o,u){var a=new g,f=e(n);C();var l=e(n).children().length;if(l>0||!u)for(var c=0;c<l;c++)e(n).children().remove();a.fetch({success:function(n){n.length>0?(e("#asset-list-row").show(),n.each(function(n){var u=!1;assetViewList=e(e(".flexable_title").find(".txt")),t.each(assetViewList,function(t,r){n.get("name")==e(t).text()&&(u=!0)});if(!u){var a=new S({model:n,startTime:r,endTime:i,allday:s});f.append(a.el),a.render()}o&&o[n.id]&&(t.each(o[n.id],function(t){a.addNameTag(t.get("itemId"),t.get("itemName"),t.get("id"),!0);var n=!1;e.each(d,function(e){t.get("itemName")==d[0].get("itemName")&&(n=!0)}),n||d.push(t)}),a.openFolder())})):e("#asset-list-row").remove()}})}function T(){var e=[];return e.push(c["\uc774\uc6a9\uac00\ub2a5\ud55c \uc790\uc0b0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."]),e.join("\n")}function N(){var r=[],i=0;return t.each(d,function(t,i){if(t.id){var o=t.get("reservedStartTime")||n.util.toISO8601(n.util.toMoment(e("#startDate").val()+" "+e("#startTime").val(),"YYYY-MM-DD HH:mm")),u=t.get("reservedEndTime")||n.util.toISO8601(n.util.toMoment(e("#endDate").val()+" "+e("endTime").val(),"YYYY-MM-DD HH:mm")),a=new s({assetId:t.get("assetId"),itemId:t.get("itemId"),itemName:t.get("itemName"),type:"reserve",startTime:o,endTime:u});r.push(a),console.log("ReservedAssetItems complete!!!")}else r.push(t)}),r}function C(){t.each(d,function(e,t){d.splice(t,1)}),d=[]}function k(t){var r=this,i=[],s=e.Deferred();return e(".reserved-asset-item").each(function(t,n){e(n).data("user")&&i.push(e(n).data("user")),e(n).remove(),$trs=e("tbody#data-assetItems").find("tr[data-assetid]"),$trs.each(function(t,r){var i=e(r).attr("data-name");i===e(n).find("span.name").text()&&e(r).show()})}),i.length>0?s=e.ajax({url:n.config("contextRoot")+"api/asset/item/reservation/force",contentType:"application/json",dataType:"json",data:JSON.stringify({ids:i}),type:"DELETE",async:!1,success:function(){console.log("All Asset Reservation Delete : success!"),s.done()},error:function(){console.log("All Asset Reservation Delete : error!")}}):s.resolve(),s}var p={rental:c["\ub300\uc5ec"],item:c["\ud56d\ubaa9"],reservation:c["\uc608\uc57d"],no_assetitem:c["\uc774\uc6a9\uac00\ub2a5\ud55c \uc790\uc0b0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."],confirm:l["\ud655\uc778"],cancel:l["\ucde8\uc18c"],close:l["\ub2eb\uae30"],open:l["\uc5f4\uae30"],alert_length:l["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."]},d=[],v=!1,m=r.Model.extend({}),g=r.Collection.extend({model:m,url:"/api/asset/calendar"}),y=r.Model.extend({}),b=r.Collection.extend({model:y,url:function(){return"/api/asset/my/reservation/calendar/"+this.eventId},initialize:function(){this.eventId=-1},setEventId:function(e){return this.eventId=e,this}}),w=r.Collection.extend({assetId:null,params:{startTime:undefined,endTime:undefined},url:function(){return"/api/asset/"+this.assetId+"/item/reservation/availability?"+e.param(this.params)},initialize:function(){},setAssetId:function(e){return this.assetId=e,this},setAssetStartTime:function(e){return this.assetStartTime=e,this},setAssetEndTime:function(e){return this.assetEndTime=e,this},setStartTime:function(e){return this.params.startTime=e,this},setEndTime:function(e){return this.params.endTime=e,this}}),E=r.View.extend({tagName:"table",className:"type_normal tb_list_sub list_reser007",sortDirection:1,events:{"click .btn-reservation":"reserve"},initialize:function(e){this.options=e||{},this.assetId=this.options.assetId,this.startTime=n.util.toISO8601(this.options.startTime),this.endTime=n.util.toISO8601(this.options.endTime),this.availableItems=this.collection,this.sortDirection=1,this
.assetAttrs=new o,this.assetAttrs.setUrlPart("info"),this.assetAttrs.setAssetId(this.assetId),this.assetAttrs.fetch({async:!1}),this.saveFlag||this.availableItems.sortBy(function(e){return e.name})},render:function(){var e=this.assetAttrs.at(0).get("attributes"),t=i.compile(a);this.$el.empty().append(t.render({label:{rental:p.rental,item:p.item,reservation:p.reservation},asset_option_headers:e,column_counts:e.length+2,asset_item_list:this.availableItems.toJSON(),emptyMessage:T()}))},setStartTime:function(e){return this.startTime=e,this},setEndTime:function(e){return this.endTime=e,this},reload:function(e){var t=this;t.availableItems.fetch({success:function(e){}})},sortByName:function(t){var n=this,r=e(t.currentTarget),i=this.$el.find("tbody").children().get();i.sort(function(t,r){var i=e(t).find("td.name > span.txt").text(),s=e(r).find("td.name > span.txt").text(),o;return n.sortDirection===-1?o=i>s:o=i<s,o}),this.$el.find("tbody").empty().append(i),this.sortDirection*=-1,r.hasClass("sorting_asc")?r.removeClass("sorting_asc").addClass("sorting_desc"):r.removeClass("sorting_desc").addClass("sorting_asc")},reserve:function(t){t.stopPropagation();var n=this,r=e(t.currentTarget).parent().parent(),i=this.assetId,s=r.data("id"),u=r.data("name"),a=new o;a.setUrlPart("reservation"),a.setAssetId(i),a.fetch({success:function(e){e.length>0?n.showReservationLayer(s,u,e.toJSON(),r):n.reserveAssetItem(s,u,e.toJSON(),r)}})},showReservationLayer:function(r,s,o,u){function d(i){var o=e(i).find("form[name=form-reserv]").serializeArray(),u=[],a=!0;t.each(o,function(t){var r=e(i).find("input[name="+t.name+"]"),s=t.name.split("_"),o=s[1],f=t.value;if(f.length<1||f.length>255){e.goError(n.i18n(p.alert_length,{arg1:"1",arg2:"255"}),r),r.addClass("enter error"),a=!1;return}u.push({attributeId:o,content:f})},this),a&&this.reserveAssetItem(r,s,u,c).done(function(){h.close()})}var a=this,l=i.compile(f),c=u,h;h=e.goPopup({header:s,pclass:"layer_normal layer_reser",contents:l.render({attributes:o}),buttons:[{btext:p.confirm,btype:"confirm",autoclose:!1,callback:t.bind(d,this)},{btext:p.cancel,btyle:"cancel"}]}),e(h).on("submit","form[name=form-reserv]",function(e){e.preventDefault(),d.call(a,h)})},reserveAssetItem:function(t,r,i,o){var u=this,a=e.Deferred(),f=o,l=!1,c=new s({assetId:this.assetId,itemId:t,itemName:r,type:"reserve",startTime:n.util.toISO8601(this.startTime),endTime:n.util.toISO8601(this.endTime)});return typeof i!="undefined"&&c.set("properties",i),f.hide(),e.each(d,function(e){r==d[0].get("itemName")&&(l=!0)}),l||d.push(c),u.triggerReservedItem(c),a.resolve(),a},triggerReservedItem:function(e){this.$el.trigger("asset-item:reserved",[e.toJSON()])}}),S=r.View.extend({className:"flexable_box asset-reservation",assetId:0,startTime:new Date,endTime:new Date,listView:null,nameTagView:null,events:{"click .ic_openbox":"openFolder","click .ic_closebox":"closeFolder"},initialize:function(t){this.options=t||{},this.listView=null,this.nameTagView=null,this.assetId=this.model.id,this.assetStartTime=this.model.get("startTime"),this.assetEndTime=this.model.get("endTime")=="2400"?"2359":this.model.get("endTime"),this.startTime=n.util.toISO8601(this.options.startTime),this.endTime=n.util.toISO8601(this.options.endTime),this.eventId=this.options.eventId||null,this.allday=this.options.allday||!1,this.availableItems=new w,this.availableItems.setAssetId(this.assetId),this.availableItems.setAssetStartTime(this.assetStartTime),this.availableItems.setAssetEndTime(this.assetEndTime),this.setStartTime(this.startTime),this.setEndTime(this.endTime),this.$el.data("asset-id",this.model.id),this.$el.on("asset-item:reserved",e.proxy(function(e,t){this.addNameTag(t.id,t.itemName)},this))},render:function(){var t=this,n=i.compile(u),r=this.model.get("name");if(this.model.get("otherCompany")){var s=this.model.get("companyName")||"";r=s+" "+r}this.$el.append(n.render({asset_name:r,label:{close:p.close,open:p.open}})),this.nameTagView||(this.nameTagView=h.create(),this.$el.find(".wrap_name_tag").append(this.nameTagView.el),this.nameTagView.$el.on("nametag:removed",e.proxy(this.removeAssetItem,t))),this.$el.data("asset-view",this)},setStartTime:function(e){return this.allday&&(e=n.util.toISO8601(n.util.toMoment(e.split("T")[0]+" "+this.assetStartTime.substring(0,2)+":"+this.assetStartTime.substring(2,4),"YYYY-MM-DD HH:mm"))),this.startTime=e,this.availableItems.setStartTime(this.startTime),this},setEndTime:function(e){return this.allday&&(e=n.util.toISO8601(n.util.toMoment(e.split("T")[0]+" "+this.assetEndTime.substring(0,2)+":"+this.assetEndTime.substring(2,4),"YYYY-MM-DD HH:mm"))),this.endTime=e,this.availableItems.setEndTime(this.endTime),this},changeTime:function(e,t,r){r&&(e=e.split("T")[0]+"T"+this.assetStartTime.substring(0,2)+":"+this.assetStartTime.substring(2,4),t=t.split("T")[0]+"T"+this.assetEndTime.substring(0,2)+":"+this.assetEndTime.substring(2,4));var i=this.startTime!==n.util.toISO8601(e)||this.endTime!==n.util.toISO8601(t);i&&(this.setStartTime(n.util.toISO8601(e)).setEndTime(n.util.toISO8601(t)),this.loadItems(!0))},loadItems:function(n,r){var i=this;if(!this.listView||n||!1)this.availableItems.setStartTime(i.startTime),this.availableItems.setEndTime(i.endTime),this.availableItems.fetch({success:function(n){i.listView||(i.listView=new E({assetId:i.assetId,collection:n}),i.$el.find(".flexable_content").empty().append(i.listView.el)),i.listView.setStartTime(i.startTime),i.listView.setEndTime(i.endTime),t.each(n.models,function(t,n){t&&e(".reserved-asset-item").each(function(n,r){var i=t.get("name")||{};e(r).find(".name").text()==i&&t.trigger("destroy",t)})}),i.listView.render()}})},addNameTag:function(t,n,r,i){var s={removable:!0,onCreate:function(t){e(t).addClass("reserved-asset-item")},itemIsMine:i};t&&(s.onDelete=function(t,n){var r=e.Deferred();return e.goConfirm("",c["\uce98\ub9b0\ub354 \uc608\uc57d \uc790\uc0b0 \ucde8\uc18c \uc548\ub0b4"],function(){r.resolve()},function(){r.reject()}),r.promise()}),this.nameTagView.addTag(t,n,s,r)},removeAssetItem:function(t,r,i){var s=this,o=e(i).data("user"),u=e(i).find(".name").text();o&&(e.isArray(o)||(o=[o]),e.ajax({url:n.config("contextRoot")+"api/asset/item/reservation",contentType:"application/json",dataType:"json",data:JSON.stringify({ids:o}),type:"DELETE",success:function(){s.$el.trigger("asset-item:destroy",o),s.loadItems(!0)},error:function(){console.log("Asset Reservation : error!"),s.loadItems(!0)}}));for(var a=0;a<d.length;a++)d[a].get("itemName")===u&&d.splice(a,1);$trs=e("tbody#data-assetItems").find("tr[data-assetid]"),$trs.each(function(t,n){var r=e(n).attr("data-name");r===u&&e(n).show()})},getReservedItems:function(){return this.nameTagView.getNameTagList()},openFolder:function(){this.$el.find(".foldable").show(),this.$el.find(".ic_openbox").removeClass("ic_openbox").addClass("ic_closebox"),this.loadItems()},closeFolder:function(){this.$el.find(".foldable").hide(),this.$el.find(".ic_closebox").removeClass("ic_closebox").addClass("ic_openbox")}});return{load:function(t,n,r,i,s,o){var u=e(t).children().length;if(i){var a=new b;a.setEventId(i),a.fetch({success:function(e){var i=e.groupBy(function(e){return e.get("assetId")});x(t,n,r,s,i)},fail:function(e){console.log(e)}})}else(u==0||!o)&&x(t,n,r,s,null,o)},cancelReservationAll:k,resetAssetItemList:C,getForReserveAssetItems:N}})}(),define("text!calendar/templates/form.html",[],function(){return'<div class="content_page schedule_form go_renew ">\r\n\r\n    {{#detail?}}\r\n    <div class="tool_bar">\r\n        <div class="critical">\r\n            {{#editable?}}\r\n            <a id="btn-confirm" class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar check"></span>\r\n                <span class="txt">{{label.confirm}}</span>\r\n            </a>\r\n            <a id="btn-cancel"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar close"></span>\r\n                <span class="txt">{{label.cancel}}</span>\r\n            </a>\r\n            {{/editable?}}\r\n            {{^regist?}}\r\n            {{#editable?}}\r\n            <a id="btn-leave-attendee"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar member_cancel"></span>\r\n                <span class="txt">{{label.leave_attendee}}</span>\r\n            </a>\r\n            {{/editable?}}\r\n            {{#removable?}}\r\n            <a id="btn-remove-event"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar del"></span>\r\n                <span class="txt">{{label.remove_event}}</span>\r\n            </a>\r\n            {{/removable?}}\r\n            {{#editable?}}\r\n            <a id="btn-copy-event"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar copy"></span>\r\n                <span class="txt">{{label.copy_event}}</span>\r\n            </a>\r\n            {{/editable?}}\r\n            {{/regist?}}\r\n        </div>\r\n        <div class="optional">\r\n            <a class="btn_tool" url-copy>\r\n                <span class="ic_toolbar copy_url"></span>\r\n                <span class="txt">{{label.copy_url}}</span>\r\n            </a>\r\n            <a id="btn-goto-list" class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar calendar"></span>\r\n                <span class="txt">{{label.goto_list}}</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    {{/detail?}}\r\n\r\n    <div class="wrap_container" data-form-wrapper>\r\n        <section class="content_wrapper" data-schedule-wrapper>\r\n            <form id="form-event">\r\n                <fieldset>\r\n                    <table class="form_type form_add04">\r\n                        <tbody>\r\n                        {{>title_and_date}}\r\n                        </tbody>\r\n                    </table>\r\n                    <table class="form_type form_add04">\r\n                        <tbody>\r\n                        {{#show_calendar_select?}}\r\n                        <tr id="calendar-list-row">\r\n                            <th><span class="title">{{label.my_calendar}}</span></th>\r\n                            <td>\r\n								<span class="wrap_multiselect">\r\n									<span class="wrap_select"><select name="calendar_id"></select></span>\r\n								</span>\r\n                            </td>\r\n                        </tr>\r\n                        {{/show_calendar_select?}}\r\n                        {{#show_inner_attendees?}}\r\n                        <tr id="attendee-list-row">\r\n                            <th>\r\n		                    	<span class="title">\r\n		                    	{{label.attendees}}\r\n		                    	<span class="help"><span class="tool_tip">{{{msg.atendee_alarm_msg}}}<i\r\n                                        class="tail_left"></i></span></span>\r\n		                    	</span>\r\n                            </th>\r\n                            <td>\r\n                                <div class="wrap_name_tag">\r\n                                    <ul id="attendee-list" class="name_tag">\r\n                                        {{#editable?}}\r\n                                        <li class="creat" data-button="true">\r\n			                                <span class="btn_wrap" id="btn-add-attendees">\r\n			                                    <span class="ic_form ic_addlist"></span>\r\n			                                    <span class="txt">{{label.select_attendees}}</span>\r\n			                                </span>\r\n                                            {{#isCopiedNotAlone}}\r\n                                            <a id="delete_all_attendees" class="btn_rest">\r\n                                                <span class="ic16 allDel"></span>\r\n                                                <span class="txt">{{label.delete_all}}</span>\r\n                                            </a>\r\n                                            {{/isCopiedNotAlone}}\r\n                                        </li>\r\n                                        {{/editable?}}\r\n                                        <li class="add" id="moreAttendee" data-button="true" style="display:none">\r\n			                            	<span class="name">\r\n			                            		{{label.more}}\r\n			                            		<span class="ic ic_arrow_down" title=""></span>\r\n		                            		</span>\r\n                                        </li>\r\n                                    </ul>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        {{/show_inner_attendees?}}\r\n                        <tr>\r\n                            <th>\r\n								<span class="title">\r\n									{{label.external_participants}}\r\n								</span>\r\n                            </th>\r\n                            <td>\r\n                                {{#editable?}}\r\n                                <div class="s_wrap_add">\r\n                                    <input type="text" class="input wfix_large" id="externalForm">\r\n                                    <span class="btn_minor_s" id="addExternal">\r\n										<span class="txt">{{label.add}}</span>\r\n									</span>\r\n                                    <span class="alert_wrap go_error go_renew"><span class="desc caution"\r\n                                                                                     id="externalValidatiion"></span></span>\r\n                                </div>\r\n                                {{/editable?}}\r\n                                <div class="wrap_name_tag" id="externalArea" style="display:none">\r\n                                    <ul class="name_tag" id="externals">\r\n                                    </ul>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                        {{#show_location?}}\r\n                        <tr>\r\n                            <th><span class="title">{{label.location}}</span></th>\r\n                            <td\r\n                                    {{^regist?}} class="text"{{/regist?}}>\r\n                            <div class="wrap_txt">\r\n                                <input id="form-field-location" type="text" name="location"\r\n                                       class="txt w_max{{^editable?}} readonly{{/editable?}}" value="{{&location}}"\r\n                                       {{^editable?}} readonly="readonly" {{/editable?}}/>\r\n                            </div>\r\n                            </td>\r\n                        </tr>\r\n                        {{/show_location?}}\r\n                        {{#show_description?}}\r\n                        <tr>\r\n                            <th><span class="title">{{label.desc}}</span></th>\r\n                            <td\r\n                                    {{^regist?}} class="text"{{/regist?}}>\r\n                            <div class="wrap_txtarea"><textarea id="textarea-desc" name="description"\r\n                                                                class="w_max textarea{{^editable?}} readonly{{/editable?}}"\r\n                                                                rows="10" {{^editable?}} readonly="readonly" {{/editable?}}>{{&description}}</textarea>\r\n                            </div>\r\n                            </td>\r\n                        </tr>\r\n                        {{/show_description?}}\r\n                        {{#show_reminder?}}\r\n                        {{^regist?}}\r\n                        <tr>\r\n                            <td colspan="2">\r\n                                <hr/>\r\n                            </td>\r\n                        </tr>\r\n                        {{/regist?}}\r\n                        <tr>\r\n                            <th><span class="title">{{label.reminder}}</span></th>\r\n                            <td id="form-reminder-wrapper">\r\n                                <ul id="reminder-list" class="multi_select_option"></ul>\r\n                                {{#editable?}}\r\n                                <span id="btn-add-reminder" class="btn_wrap creat"><span\r\n                                        class="ic_form ic_addlist"></span><span class="txt txt_bold">{{label.add_reminder}}</span></span>\r\n                                {{/editable?}}\r\n                            </td>\r\n                        </tr>\r\n                        {{/show_reminder?}}\r\n                        {{#use_asset?}}\r\n                        <tr id="asset-list-row" style="display:none">\r\n                            <th>\r\n		                		<span class="title">\r\n		                			{{label.reserving_asset}}\r\n		                			<span class="help"><span class="tool_tip">{{{msg.asset_reservation_msg}}}<i\r\n                                            class="tail_left"></i></span></span>\r\n		                		</span>\r\n                            </th>\r\n                            <td id="asset-wrapper"></td>\r\n                        </tr>\r\n                        {{/use_asset?}}\r\n                        <tr class="line"><td colspan="2"><hr /></td></tr>\r\n                        </tbody>\r\n                    </table>\r\n                </fieldset>\r\n            </form>\r\n\r\n            {{^detail?}}\r\n            <div class="page_action_wrap">\r\n                {{#editable?}}\r\n                <a id="btn-confirm" class="btn_major btn_group_confirm" data-role="button" data-bypass{{^regist?}} style="display:none;"{{/regist?}}><span class="txt">{{label.confirm}}</span></a>\r\n                <a id="btn-cancel" class="btn_minor btn_group_confirm" data-role="button" data-bypass{{^regist?}} style="display:none;"{{/regist?}}><span class="txt">{{label.cancel}}</span></a>\r\n                {{/editable?}}\r\n                {{^regist?}}\r\n                <a id="btn-goto-list" class="btn_major btn_group_action" data-bypass><span class="text">{{label.goto_list}}</span></a>\r\n                {{#editable?}}\r\n                <a id="btn-leave-attendee" class="btn_minor btn_group_action" data-bypass style="display:none;"><span class="text">{{label.leave_attendee}}</span></a>\r\n                {{/editable?}}\r\n                {{#removable?}}\r\n                <a id="btn-remove-event" class="btn_minor btn_group_action" data-bypass style=""><span class="text">{{label.remove_event}}</span></a>\r\n                {{/removable?}}\r\n                {{#editable?}}\r\n                <a id="btn-copy-event" class="btn_minor btn_group_action" data-role="button"><span class="txt">{{label.copy_event}}</span></a>\r\n                {{/editable?}}\r\n                {{/regist?}}\r\n            </div>\r\n            {{/detail?}}\r\n        </section>\r\n\r\n        <!-- \ucc38\uc11d\uc790 \uc77c\uc815 -->\r\n        <div class="attendees" data-attendees-schedule-wrapper>\r\n\r\n\r\n\r\n        </div>\r\n        <!-- //\ucc38\uc11d\uc790 \uc77c\uc815 -->\r\n    </div>\r\n        {{^regist?}}\r\n        <section class="aside_wrapper article_reply">\r\n            <div class="reply_wrap">\r\n                <header>\r\n                    <ul class="tab_nav">\r\n                        <li id="commentTab" class="first on" data-tag="tab" data-type="comment">\r\n                            <span class="ic_classic ic_reply"></span>\r\n                            <span class="txt">{{label.comment}}</span>\r\n                            <span class="num" id="commentCount"></span>\r\n                        </li>\r\n                        <li id="logTab" class="last" data-tag="tab" data-type="log">\r\n                            <span class="txt">{{label.history}}</span>\r\n                            <span class="num" id="logCount"></span>\r\n                        </li>\r\n                    </ul>\r\n                </header>\r\n                <div data-replies-wrapper id="commentArea"></div>\r\n                <div id="logArea" style="display:none"></div>\r\n            </div>\r\n        </section>\r\n        {{/regist?}}\r\n    {{#detail?}}\r\n    <div class="tool_bar">\r\n        <div class="critical">\r\n            {{#editable?}}\r\n            <a id="bottom-btn-confirm" class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar check"></span>\r\n                <span class="txt">{{label.confirm}}</span>\r\n            </a>\r\n            <a id="bottom-btn-cancel"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar close"></span>\r\n                <span class="txt">{{label.cancel}}</span>\r\n            </a>\r\n            {{/editable?}}\r\n            {{^regist?}}\r\n            {{#editable?}}\r\n            <a id="bottom-btn-leave-attendee"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar member_cancel"></span>\r\n                <span class="txt">{{label.leave_attendee}}</span>\r\n            </a>\r\n            {{/editable?}}\r\n            {{#removable?}}\r\n            <a id="bottom-btn-remove-event"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar del"></span>\r\n                <span class="txt">{{label.remove_event}}</span>\r\n            </a>\r\n            {{/removable?}}\r\n            {{#editable?}}\r\n            <a id="bottom-btn-copy-event"class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar copy"></span>\r\n                <span class="txt">{{label.copy_event}}</span>\r\n            </a>\r\n            {{/editable?}}\r\n            {{/regist?}}\r\n        </div>\r\n        <div class="optional">\r\n            <a class="btn_tool" url-copy>\r\n                <span class="ic_toolbar copy_url"></span>\r\n                <span class="txt">{{label.copy_url}}</span>\r\n            </a>\r\n            <a id="bottom-btn-goto-list" class="btn_tool" data-role="button">\r\n                <span class="ic_toolbar calendar"></span>\r\n                <span class="txt">{{label.goto_list}}</span>\r\n            </a>\r\n        </div>\r\n    </div>\r\n    {{/detail?}}\r\n</div>'}),define("text!calendar/templates/_select_date.html",[],function(){return'<span class="wrap_date">\r\n	<input data-date-picker id="startDate" class="txt wfix_small" type="text" name="start_date" value="{{start_date}}" data-prev="{{start_date}}" readonly="readonly"{{^editable?}} disabled="disabled"{{/editable?}} />\r\n	<span class="ic ic_calendar"></span>\r\n</span>\r\n<!-- <span class="wrap_select">\r\n	<select id="start-time" name="start_time" class="wfix_small select_date" data-prev="{{start_time}}"{{#allday_event?}} style="display:none;"{{/allday_event?}}{{^editable?}} disabled="disabled"{{/editable?}}></select>\r\n</span> -->\r\n\r\n<span class="wrap_select">\r\n	<span class="wrap_select_list" {{#allday_event?}}style="display:none;"{{/allday_event?}}>\r\n		<input data-time-picker id="startTime" name="start_time" data-prev="{{start_time}}" {{^editable?}} disabled="disabled"{{/editable?}} type="text" class="txt wfix_small" data-outside="start">\r\n		<ul id="startTimeList" data-type="start" class="select_list" style="display:none" data-outside="start">\r\n		</ul>		\r\n	</span>\r\n</span>\r\n\r\n~\r\n<span class="wrap_date">\r\n	<input data-date-picker id="endDate" class="txt wfix_small" type="text" name="end_date" value="{{end_date}}" data-prev="{{end_date}}" readonly="readonly"{{^editable?}} disabled="disabled"{{/editable?}} />\r\n	<span class="ic ic_calendar"></span>\r\n</span>\r\n\r\n<span class="wrap_select">\r\n	<span class="wrap_select_list" id="sched_date" {{#allday_event?}}style="display:none;"{{/allday_event?}}>\r\n		<input data-time-picker id="endTime" name="end_time" data-prev="{{end_time}}" {{^editable?}} disabled="disabled"{{/editable?}} type="text" class="txt wfix_normal" data-outside="end">\r\n		<ul id="endTimeList" data-type="end" class="select_list" style="display:none" data-outside="end">\r\n		</ul>		\r\n	</span>	\r\n</span>\r\n\r\n<!-- <span class="wrap_select">\r\n	<select id="end-time" name="end_time" class="wfix_medium select_date" data-prev="{{end_time}}"{{#allday_event?}} style="display:none;"{{/allday_event?}}{{^editable?}} disabled="disabled"{{/editable?}}></select>\r\n</span> -->\r\n&nbsp;\r\n<span class="wrap_option{{^editable?}} disabled{{/editable?}}">\r\n    <input type="checkbox" name="timeType" value="allday" id="all_day"{{#allday_event?}} checked="checked"{{/allday_event?}}{{^editable?}} disabled="disabled"{{/editable?}}/>\r\n    <label for="all_day">{{label.allday}}</label>\r\n</span>\r\n\r\n{{#repeatable}}\r\n<span class="wrap_option{{^editable?}} disabled{{/editable?}}">\r\n    <input type="checkbox" name="is_recurrence" value="1" id="check-recurrence"{{#recurrence?}} checked="checked"{{/recurrence?}}{{^editable?}} disabled="disabled"{{/editable?}}/>\r\n    <label for="check-recurrence">{{label.recurrence}}</label>\r\n</span>\r\n{{/repeatable}}\r\n{{^repeatable}}<span class="txt" style="color: grey">{{unusual_repeat_msg}}</span>{{/repeatable}}\r\n\r\n<div id="recurrence-wrap" class="wrap_alert"{{^show_recurrence_wrap}} style="display:none"{{/show_recurrence_wrap}}>\r\n	<input type="hidden" name="recurrence" value="{{recurrence_code}}" />\r\n	<span class="alert_box">\r\n		<span id="recurrence-text" class="txt">{{current_recurrence}}</span>\r\n	    {{#editable?}}<span class="btn"><span class="ic_side ic_edit recur_edit" title="{{label.modify}}"></span></span>{{/editable?}}\r\n	    {{#editable?}}<span class="btn"><span class="ic_side ic_basket_bx recur_delete" title="{{label.remove}}"></span></span>{{/editable?}}\r\n	</span>\r\n</div>'}),define("calendar/helpers/regist_form",["require","jquery","underscore","app","hogan","moment","calendar/helpers/recurrence_layer","calendar/libs/util","calendar/views/asset","text!calendar/templates/form.html","text!calendar/templates/_select_date.html","i18n!nls/commons","i18n!calendar/nls/calendar","i18n!asset/nls/asset","go-nametags","go-calendar","jquery.go-popup","jquery.cookie"],function(require){function b(t){e(".asset-reservation").each(function(n,r){var i=e(r).data("asset-view");i.changeTime(t.startTime,t.endTime,e("#all_day").is(":checked"))})}function w(t,n){e.goError(n,t),t.addClass("enter error").focus()}var e=require("jquery"),t=require("underscore"),n=require("app"),r=require("hogan"),i=require("moment"),s=require("calendar/helpers/recurrence_layer"),o=require("calendar/libs/util"),u=require("calendar/views/asset"),a=require("text!calendar/templates/form.html"),f=require("text!calendar/templates/_select_date.html"),l=require("i18n!nls/commons"),c=require("i18n!calendar/nls/calendar"),h=require("i18n!asset/nls/asset"),p=require("go-nametags"),d=require("go-calendar");require("jquery.go-popup"),require("jquery.cookie");var v=30,m=Array.prototype.slice,g={start_time:"00:00",end_time:"00:00",recurrence_code:"","regist?":!0,"editable?":!1,"private?":!1,"recurrence?":!1,"show_visibility?":!0,"show_inner_attendees?":!0,"show_location?":!0,"show_description?":!0,"show_reminder?":!0,"allday_event?":!1,"calendar_manager?":!1,"use_asset?":!1,"use_org?":n.session("useOrg"),"show_calendar_select?":!0,repeatable:!0,label:{title:c["\uc77c\uc815\uba85"],privacy:l["\ube44\uacf5\uac1c"],datetime:c["\uc77c\uc2dc"],allday:c["\uc885\uc77c"],recurrence:c["\ubc18\ubcf5"],remove:l["\uc0ad\uc81c"],public_event:c["\uc804\uc0ac\uc77c\uc815"],attendees:c["\ucc38\uc11d\uc790"],select_attendees:c["\ucc38\uc11d\uc790 \uc120\ud0dd"],location:c["\uc7a5\uc18c"],desc:l["\ub0b4\uc6a9"],reminder:c["\uc54c\ub78c"],modify:l["\uc218\uc815"],add_reminder:c["\uc54c\ub78c \ucd94\uac00"],confirm:l["\ud655\uc778"],cancel:l["\ucde8\uc18c"],remove:l["\uc0ad\uc81c"],goto_list:c["\uce98\ub9b0\ub354\ub85c \ub3cc\uc544\uac00\uae30"],leave_attendee:c["\ucc38\uc11d\uc790\uc5d0\uc11c \ube60\uc9c0\uae30"],remove_event:c["\uc77c\uc815 \uc0ad\uc81c\ud558\uae30"],copy_event:c["\uc77c\uc815 \ubcf5\uc0ac"],reserving_asset:c["\uc608\uc57d\ud558\uae30"],my_calendar:c["\ub0b4 \uce98\ub9b0\ub354"],comment:l["\ub313\uae00"],history:l["\ubcc0\uacbd\uc774\ub825"],external_participants:c["\uc678\ubd80\ucc38\uc11d\uc790"],add:l["\ucd94\uac00"],delete_all:l["\uc804\uccb4 \uc0ad\uc81c"],more:l["\ub354\ubcf4\uae30"],copy_url:l["URL \ubcf5\uc0ac"]},msg:{private_event_info:c["\ube44\uacf5\uac1c \uc77c\uc815\uc740 \ucc38\uc11d\uc790\ub9cc \ud655\uc778 \uac00\ub2a5\ud569\ub2c8\ub2e4."],public_event_info:c["\uc804\uc0ac\uc77c\uc815\uc740 \uc0ac\uc6a9\uc790 \uc804\uccb4\uc5d0\uac8c \ubcf4\uc5ec\uc9d1\ub2c8\ub2e4."],atendee_alarm_msg:c["\ucc38\uc11d\uc790 \uc54c\ub78c \uc548\ub0b4 \uba54\uc2dc\uc9c0"],asset_reservation_msg:c["\uc124\uc815\ud55c \uc2dc\uac04\ub300\uc5d0 \uc608\uc57d \uac00\ub2a5\ud55c \ud68c\uc758\uc2e4\ub9cc \ubcf4\uc5ec\uc9d1\ub2c8\ub2e4."]}},y=function(){var p=[],v=function(t,i,s){this.el=t,this.$el=e(t),this.type=i||"regist",this.editable=typeof s=="undefined"?!0:s;if(!this._isValidType(this.type))throw new Error("Invaild form type.(regist or detail)");this.compiledForm=r.compile(a),this.variables={},this.variables=e.extend(!0,{},g,{"regist?":this.type==="regist"?!0:!1,"detail?":this.isDetailType(),"editable?":this.editable,"use_asset?":n.isAvailableApp("asset")}),this.partials={select_date:r.compile(f)}};return v.prototype={render:function(){var t=arguments[0]||{},n=this.compiledForm,i=m.call(arguments,2),s=t.summary;s&&s.length>0&&(t.summary=s.replace(/"/gi,"&quot;"));var o=t.location;return o&&o.length>0&&(t.location=o.replace(/"/gi,"&quot;")),i.unshift(e.extend(!0,this.variables,t,{show_recurrence_wrap:t["recurrence?"]&&t.repeatable}),e.extend(this.partials,arguments[1])),this.el.empty().html(r.Template.prototype.render.apply(n,i)),this.undelegateEvents(),this.delegateEvents(),this.datepickerHelper=d.init({el:this.$el.find("#selectDate"),startDate:this.variables.start_date||this.$el.find("#startDate").val(),startTime:this.variables.start_time||this.$el.find("#startTime").val(),endDate:this.variables.end_date||this.$el.find("#endDate").val(),endTime:this.variables.end_time||this.$el.find("#endTime").val(),lang:{"\ub0b4 \uce98\ub9b0\ub354":c["\ub0b4 \uce98\ub9b0\ub354"],"\uc77c\uc815 \ub4f1\ub85d":c["\uc77c\uc815 \ub4f1\ub85d"],"\uc77c\uc815\uba85":c["\uc77c\uc815\uba85"],"\uc77c\uc2dc":c["\uc77c\uc2dc"],"\uc2dc\uac04":c["\uc2dc\uac04"],"\uc885\uc77c":c["\uc885\uc77c"],"\ud655\uc778":l["\ud655\uc778"],"\ucde8\uc18c":l["\ucde8\uc18c"],"\uc77c\uc815\uc0c1\uc138 \uc785\ub825":c["\uc77c\uc815\uc0c1\uc138 \uc785\ub825"],"\uae30\ubcf8 \uce98\ub9b0\ub354 \uc774\ub984":c["\uce98\ub9b0\ub354 \uae30\ubcf8\uc774\ub984"],"\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc":c["\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc"],"\ubd84":c["\ubd84"],"\uc804\uc0ac\uc77c\uc815":c["\uc804\uc0ac\uc77c\uc815"],"\uc54c\ub9bc\uba54\uc77c \ud655\uc778":c["\uc54c\ub9bc\uba54\uc77c \ud655\uc778"],"\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":c["\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uba54\uc77c\uc744 \ubcf4\ub0b4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],"\ubcf4\ub0b4\uae30":l["\ubcf4\ub0b4\uae30"],"\ubcf4\ub0b4\uc9c0 \uc54a\uc74c":c["\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"]}}),this._afterDateChanged(),this._showHideAssetViews(),this},_afterDateChanged:function(){var t=this;if(!n.isAvailableApp("asset"))return!1;this.datepickerHelper.afterChanged(e.proxy(function(){e(".reserved-asset-item").length>0?this._removeReservedAssetItems({confirm:function(){t._showHideAssetViews()},cancel:function(){t.datepickerHelper.reset(this.datepickerHelper.options)}}):this._showHideAssetViews()},this))},loadMyCalendarOptions:function(e,r){var i=[],s=this.$el.find("select[name=calendar_id]"),o=e[0];t.each(e,function(e,t){e.get("defaultCalendar")===!0&&(o=e),i.push('<option value="',e.id,'">',e.get("defaultCalendar")?c["\uae30\ubcf8 \uce98\ub9b0\ub354 \ud45c\uc2dc"]:"",n.util.escapeHtml(e.get("name"))||n.i18n(c["\uae30\ubcf8 \uce98\ub9b0\ub354 \uc774\ub984"],{username:e.get("owner").name}),"</option>")},this),s.empty().append(i.join("")),r?s.val(r):s.val(o.id)},loadAsset:function(t){if(n.isAvailableApp("asset")){console.log("loadAsset() Call!!!");var r=this.datepickerHelper.getCurrentTimeInfo();u.load("#asset-wrapper",r.startTime,r.endTime,t,e("#all_day").is(":checked"),e("#check-recurrence").is(":checked"))}},getForReserveAssetItems:function(){return u.getForReserveAssetItems()},saveReservationAssets:function(){var r=this,i=u.getForReserveAssetItems(),s=e.Deferred(),o=this.$el.find("#startDate").val(),a=this.$el.find("#startTime").val(),f=this.$el.find("#endDate").val(),l=this.$el.find("#endTime").val(),c=this.$el.find('input[name="summary"]').val();if(c=="")return;e.isArray(i)||(i=[i]);var d="YYYY-MM-DD HH:mm",v=n.util.toISO8601(n.util.toMoment(o+" "+a,d)),m=n.util.toISO8601(n.util.toMoment(f+" "+l,d)),g=e("#all_day").is(":checked");t.each(i,function(e,t){e.get("startTime")!=v&&!g&&e.set("startTime",v),e.get("endTime")!=m&&!g&&e.set("endTime",m)});var y=i.length;for(var b=0;b<y;b++){var w=i[b],E=w.get("itemId"),S=e("li.reserved-asset-item[data-id="+E+"]").data("mine");if(S)continue;s=e.ajax({url:n.contextRoot+"api/asset/"+w.get("assetId")+"/item/"+w.get("itemId")+"/reserve",type:"POST",async:!1,data:JSON.stringify(w),dataType:"json",contentType:"application/json;",success:function(e){p.push(e.data.id)},error:function(t){e.goMessage(h["\uc608\uc57d\ud558\ub824\ub294 \uc2dc\uac04\ub300\uc5d0 \uc774\ubbf8 \uc608\uc57d\ub41c \uac74\uc774 \ud3ec\ud568\ub418\uc5b4\uc788\uc2b5\ub2c8\ub2e4."])}})}return u.resetAssetItemList(),s},delegateEvents:function(){return this.el.on("click.calendar-regist","#all_day",e.proxy(this._toggleAlldayCallback,this)),this.el.on("click.calendar-regist","#check-recurrence",e.proxy(this._showHideRecurrenceSetupLayer,this)),this.el.on("click.calendar-regist","#recurrence-wrap .recur_delete",e.proxy(this._removeRecurrence,this)),this.el.on("click.calendar-regist","#recurrence-wrap .recur_edit",e.proxy(this._editRecurrence,this)),this.el.on("click.calendar-regist","#check-company-event",e.proxy(this._checkCompanyEvent,this)),this.el.on("keyup.calendar-regist","textarea",e.proxy(this._textAreaExpand,this)),this.el.on("click.calendar-regist","#addExternal",e.proxy(this._addExternal,this)),o.bindDatepickerIcon(this.el,"calendar-regist"),this},undelegateEvents:function(){return this.el.off(".calendar-regist"),this},_textAreaExpand:function(e){n.util.textAreaExpand(e)},_showHideAssetViews:function(){var t=this.datepickerHelper.getCurrentTimeInfo();if(!n.isAvailableApp("asset"))return;if(e("#asset-wrapper").is(":empty"))return;this.isReservableAsset.call(this,t)?(b(t),e("#asset-list-row").show()):e("#asset-list-row").hide()},isReservableAsset:function(e){var t=e||this.datepickerHelper.getCurrentTimeInfo();return this.el.find("#check-recurrence").is(":checked")?!1:!0},initReservedAssetItems:function(t){var n=this;e(".reserved-asset-item").length>0?this._removeReservedAssetItems(t):t.confirm()},_removeReservedAssetItems:function(t){var n=this;typeof t.confirm!="function"&&(t.confirm=function(){}),typeof t.cancel!="function"&&(t.cancel=function(){}),e.goPopup({title:c["\uc608\uc57d \ucde8\uc18c"],message:c["\uc77c\uc815 \ubcc0\uacbd\uc2dc \uc790\uc0b0 \uc608\uc57d \ucde8\uc18c \uba54\uc2dc\uc9c0"],modal:!0,buttons:[{btext:l["\ud655\uc778"],btype:"confirm",callback:function(){u.resetAssetItemList(),u.cancelReservationAll().done(function(){console.log("_removeReservedAssetItems complete!!!"),t.confirm.call(n)})}},{btext:l["\ucde8\uc18c"],btype:"cancel",callback:function(){n.loadAsset(),e("input:checkbox[id='check-recurrence']").removeAttr("checked"),e.proxy(t.cancel,n)}}]})},serializeFormData:function(){var e={},r=this.el.find("form"),s={},o=n.util.serializeForm(r),u="visibility"in o?o.visibility:"public",a="timeType"in o?o.timeType:"timed",f={};t.each(["summary","location","description","recurrence"],function(e){var t=r.find("input[name="+e+"]:not(.edit), textarea[name="+e+"]:not(.edit)");t.length>0&&(s[e]=t.val())});var l="YYYY-MM-DD HH:mm",c=n.util.toISO8601(n.util.toMoment(o.start_date+" "+o.start_time,l)),h=n.util.toISO8601(n.util.toMoment(o.end_date+" "+o.end_time,l));return a==="allday"&&(l="YYYY-MM-DDTHH:mm:ss.SSS"+n.session().timeZone.serverTZOffset,c=i(o.start_date,"YYYY-MM-DD").clone().startOf("day").format(l),h=i(o.end_date,"YYYY-MM-DD").clone().endOf("day").format(l)),s.summary&&(s.summary=this._xssFilter(s.summary)),s.location&&(s.location=this._xssFilter(s.location)),s.description&&(s.description=this._xssFilter(s.description)),n.isAvailableApp("asset")&&(f.assetReservationIds=p,p=[]),e=t.extend({type:o.is_company_event?"company":"normal",visibility:u,startTime:c,endTime:h,timeType:a,recurrence:"",reminders:this._convertRemindersHash(o),timeZoneOffset:n.util.timeZoneOffset(),calendarId:o.is_company_event?parseInt(o.company_calendar_id):parseInt(o.calendar_id)},s,f),e},goToList:function(){o.goToCalendar()},isDetailType:function(){return this.type==="detail"},raiseError:function(t,n,r){var i=Array.prototype.slice.call(arguments,3);switch(n){case"numeric:reminder_time":case"min:reminder_time":case"max:reminder_time":var s=this.el.find('input[name^="reminder_value_"]')[i[0]];e(s).val("30");break;case"required:summary":case"max:summary":w(this.$el.find('input[name="summary"]'),r);break;case"max:location":w(this.$el.find('input[name="location"]'),r);break;case"max:description":w(this.$el.find('textarea[name="description"]'),r);break;case"required:attendees":w(this.$el.find("#attendee-list"),r);break;default:e.goSlideMessage(r,"caution")}},_xssFilter:function(e){return n.util.XSSFilter(e)},_checkCompanyEvent:function(t){var n=e(t.currentTarget),r=this.el.find("#attendee-list-row"),i=this.el.find("#calendar-list-row"),s=this.el.find("#company-calendar-list"),o=this.el.find("#check-visibility"),u=o.parent();return n.is(":checked")?(r.hide(),i.hide(),s.show(),o.attr("checked",!1),o.attr("disabled",!0),u.addClass("disabled")):(o.attr("disabled",!1),u.removeClass("disabled"),r.show(),i.show(),s.hide()),this},_addExternal:function(){var e=this.$el.find("#externalForm").val();if(!e)return;this.$el.find("#externalForm").val(""),this.$el.find("#externalArea").show(),this.$el.trigger("externalAttendee:regist",e)},_toISO8601:function(e,t){return n.util.toISO8601(n.util.toMoment(e+" "+t,"YYYY-MM-DD HH:mm"))},_convertRemindersHash:function(){var t=this,n=[],r=this.$el.find('input[name^="reminder_value_"]');return r.length>0&&r.each(function(r,i){var s=e(i).parent().data("index");n.push({time:parseInt(e(i).val()),type:t.$el.find("select[name=reminder_type_"+s+"] > option:selected").val(),method:t.$el.find("select[name=reminder_method_"+s+"] > option:selected").val()})}),n},_toggleAlldayCallback:function(t){function s(){i.is(":checked")?$selectDate.hide():(this.datepickerHelper.updateSelectedTime(n.util.now()),$selectDate.show())}console.log("CalendarRegistView#_toggleAlldayCallback");var r=this,i=e(t.target);$selectDate=this.el.find("span.wrap_select_list"),e(".reserved-asset-item").length>0?this._removeReservedAssetItems({confirm:function(){s.call(r),r._showHideAssetViews()},cancel:function(){i.prop("checked",!1)}}):(s.call(this),r._showHideAssetViews())},_isValidType:function(e){return t.contains(["regist","detail"],e)},_showHideRecurrenceSetupLayer:function(t,n){function o(e){if(this._getRecurrenceCheckbox().is(":checked")){var t=this.el.find("#startDate").val(),n=new s(t,!0,this._getRecurrenceField().val(),e),r=this._getRecurrenceCheckbox().offset();r.top=parseInt(r.top)+30;var i=parseInt(window.width),o=parseInt(jQuery(window).width());parseInt(r.left)+i>o&&(r.left=parseInt(r.left)+jQuery(window).scrollLeft()-(parseInt(r.left)+i-o)),n.setConfirmCallback(this._updateRecurrenceText,this),n.setCancelCallback(this._cancelUpdateRecurrence,this),n.setCloseCallback(this._cancelUpdateRecurrence,this),n.render(r)}else this._removeRecurrence()}var r=this,i=e("input:checkbox[id='check-recurrence']");console.log("CalendarRegistView#_showHideRecurrenceSetupLayer");if(e(".reserved-asset-item").length>0){var r=this;this._removeReservedAssetItems({confirm:function(){r._showHideAssetViews(),o.call(r,n)},cancel:function(){e(t.currentTarget).prop("checked",!1)}})}else o.call(this,n),this._showHideAssetViews(),i.prop("checked")||r.loadAsset()},_updateRecurrenceText:function(e,t){return this._getRecurrenceWrap().show(),this._getRecurrenceTextWrap().text(t),this._updateRecurrenceField(e),this},_updateRecurrenceField:function(e){return this._getRecurrenceField().val(e),this.isDetailType()&&this._getRecurrenceField().trigger("change"),this},_cancelUpdateRecurrence:function(){var e=this;return this._getRecurrenceField().val()||(this._uncheckRecurrence(),e.loadAsset()),this},_removeRecurrence:function(t){var n=this,r=e("input:checkbox[id='check-recurrence']");return this._getRecurrenceTextWrap().text(""),this._updateRecurrenceField(""),this._getRecurrenceWrap().hide(),this._uncheckRecurrence(),e(".reserved-asset-item").length==0&&(this._showHideAssetViews(),r.prop("checked")||n.loadAsset()),this},_editRecurrence:function(e){this._showHideRecurrenceSetupLayer()},_uncheckRecurrence:function(){var e=this._getRecurrenceCheckbox();e.is(":checked")&&(e.attr("checked",!1),e.trigger("change")),this._showHideAssetViews()},_getRecurrenceCheckbox:function(){return this.$el.find("#check-recurrence")},_getRecurrenceWrap:function(){return this.$el.find("#recurrence-wrap")},_getRecurrenceField:function(){return this.$el.find("#recurrence-wrap input[name=recurrence]")},_getRecurrenceTextWrap:function(){return this.$el.find("#recurrence-text")}},v}();return y}),define("hgn!calendar/templates/_regist_attendees",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b("<li "),r.s(r.f("isVisible",e,t,1),e,t,1,0,0,"")||r.b('data-more="true"'),r.b(' style="'),r.s(r.f("isVisible",e,t,1),e,t,1,0,0,"")||r.b("display:none"),r.b('" id="attendee-'),r.b(r.v(r.f("id",e,t,0))),r.b('" '),r.s(r.f("me?",e,t,1),e,t,0,127,150,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' class="default_option"')}),e.pop()),r.b(' data-id="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-name="'),r.b(r.v(r.f("username",e,t,0))),r.b('" data-email="'),r.b(r.v(r.f("email",e,t,0))),r.b('" data-position="'),r.b(r.v(r.f("position",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('    <span class="name">'),r.b(r.v(r.f("title",e,t,0))),r.b("</span>\r"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,314,430,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="btn_wrap">\r'),r.b("\n"+n),r.b('        <span class="ic_classic ic_del" title="'),r.b(r.v(r.f("remove",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.b("</li>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/helpers/form_attendees",["jquery","hogan","app","hgn!calendar/templates/_regist_attendees","i18n!nls/commons","i18n!calendar/nls/calendar"],function(e,t,n,r,i,s){var o={remove:i["\uc0ad\uc81c"]},u=function(){var t=function(t,n,r){n=n||[],this.rootElement=t,this.editable=typeof r=="undefined"?!0:r,this.delegateEvents(),this.addAttendeeCallbacks=e.Callbacks(),this.removeCallbacks=e.Callbacks(),this.addAttendee(n)};return t.prototype={delegateEvents:function(){this.undelegateEvents(),e(this.rootElement).on("click.attendee","li:not([data-button]) > span.btn_wrap",e.proxy(this.removeAttendee,this))},undelegateEvents:function(){e(this.rootElement).off(".attendee")},addAttendee:function(t){function u(r,i,s){s=s||!1;var o=n.config("contextRoot")+"api/organization/user?deptid="+t.id+(s?"&scope=subdept":"");return e.ajax(o).done(_.bind(function(e){var t=[];_.each(e,function(e){t.push(e.metadata)},this),r.resolve(this._addAttendee(t))},this)).fail(function(){console.log("error"),r.reject()})}var r=this,o=e.Deferred();return t.type==="org"?e.goPopup({pclass:"layer_confim",title:s["\ucc38\uc11d\uc790 \ucd94\uac00"],message:n.i18n(s["\ucc38\uc11d\uc790 \ucd94\uac00 \ud655\uc778 \uba54\uc2dc\uc9c0"],{dept:t.name}),modal:!0,buttons:[{btype:"confirm",btext:s["\ud604\uc7ac \ubd80\uc11c\uc6d0\ub9cc \ucd94\uac00"],callback:function(){u.call(r,o,t.id)}},{btype:"confirm",btext:s["\ud558\uc704 \ubd80\uc11c\uc6d0 \ubaa8\ub450 \ucd94\uac00"],callback:function(){u.call(r,o,t.id,!0)}},{btype:"close",btext:i["\ucde8\uc18c"]}]}):(this._addAttendee(t),t.length>20&&this.rootElement.find("#moreAttendee").show(),o.resolve([t])),o},removeAttendee:function(t){var n=this._getAttendeeLIElement(t.currentTarget),r=e(n),i=parseInt(r.attr("data-id"));return this.removeCallbacks.fire(i,n),this},getAttendees:function(t){t=t||null;var n=e(this.rootElement).find("li:not([data-button])"),r=new Array;return n.each(function(n,i){var s=e(i),o=s.attr("data-id"),u=s.attr("data-name");(!t||t!==parseInt(o))&&r.push({id:o,name:u,email:s.attr("data-email"),position:s.attr("data-position")})}),r},isMe:function(e){return n.session("id")===e},includeMe:function(e){var t=_.where(this.getAttendees(),{id:""+e});return t.length>0},isExistedAttendee:function(e){return this.includeMe(e)},addRemoveCallback:function(e){return this.removeCallbacks.add(e),this},addAttendeeCallback:function(e){return this.addAttendeeCallbacks.add(e),this},_addAttendee:function(t){var n=e(this.rootElement),i=n.find("li.creat"),s=[],u=n.find("#moreAttendee");e.isArray(t)||(t=[t]);var a=!0;for(var f=0,l=t.length;f<l;f++){var c=t[f],h=this.isMe(c.id),p="";if(!c.id)continue;if(this.isExistedAttendee(c.id))continue;c.title=[c.name,c.position].join(" "),f>19&&(a=!1),p=r(_.extend({username:c.name,"me?":h,"editable?":this.editable,isVisible:a},c,o)),n.append(p,[u,i]),s.push(c)}return this.addAttendeeCallbacks.fire(s),s},_getAttendeeLIElement:function(t){return e(t).parent()}},t}();return u})}.call(this),define("hgn!calendar/templates/_regist_reminder",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<li data-index="'),r.b(r.v(r.f("reminder_index",e,t,0))),r.b('">\r'),r.b("\n"+n),r.b('    <input class="input wfix_mini" type="text" name="reminder_value_'),r.b(r.v(r.f("reminder_index",e,t,0))),r.b('" value="'),r.b(r.v(r.f("reminder_value",e,t,0))),r.b('"'),r.s(r.f("editable?",e,t,1),e,t,1,0,0,"")||r.b(' disabled="disabled"'),r.b(' maxlength="5"/>\r'),r.b("\n"+n),r.b('    <select name="reminder_type_'),r.b(r.v(r.f("reminder_index",e,t,0))),r.b('"'),r.s(r.f("editable?",e,t,1),e,t,1,0,0,"")||r.b(' disabled="disabled"'),r.b(">\r"),r.b("\n"+n),r.b('        <option value="minute"'),r.s(r.f("type_minute?",e,t,1),e,t,0,367,387,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' selected="selected"')}),e.pop()),r.b(">"),r.b(r.v(r.d("label.type_minute",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b('        <option value="hour"'),r.s(r.f("type_hour?",e,t,1),e,t,0,480,500,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' selected="selected"')}),e.pop()),r.b(">"),r.b(r.v(r.d("label.type_hour",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b('        <option value="day"'),r.s(r.f("type_day?",e,t,1),e,t,0,587,607,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' selected="selected"')}),e.pop()),r.b(">"),r.b(r.v(r.d("label.type_day",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b('        <option value="week"'),r.s(r.f("type_week?",e,t,1),e,t,0,694,714,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' selected="selected"')}),e.pop()),r.b(">"),r.b(r.v(r.d("label.type_week",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b("    </select>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.b('	<select name="reminder_method_'),r.b(r.v(r.f("reminder_index",e,t,0))),r.b('"'),r.s(r.f("editable?",e,t,1),e,t,1,0,0,"")||r.b(' disabled="disabled"'),r.b(">\r"),r.b("\n"+n),r.b('		<option value="notification"'),r.s(r.f("method_noti?",e,t,1),e,t,0,925,945,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' selected="selected"')}),e.pop()),r.b(">"),r.b(r.v(r.d("label.method_noti",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b('		<option value="email"'),r.s(r.f("method_email?",e,t,1),e,t,0,1036,1056,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(' selected="selected"')}),e.pop()),r.b(">"),r.b(r.v(r.d("label.method_email",e,t,0))),r.b("</option>\r"),r.b("\n"+n),r.b("	</select>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n),r.s(r.f("editable?",e,t,1),e,t,0,1140,1262,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('    <span class="btn_wrap">\r'),r.b("\n"+n),r.b('        <span class="ic_classic ic_del" title="'),r.b(r.v(r.d("label.remove",e,t,0))),r.b('"></span>\r'),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n)}),e.pop()),r.b("</li>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/helpers/form_reminder",["jquery","app","hgn!calendar/templates/_regist_reminder","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-popup"],function(e,t,n,r,i){var s=5,o=30,u=1e4,a={minute:"minute",hour:"hour",day:"day",week:"week"},f={noti:"notification",email:"email"},l=Array.prototype.slice,c=function(){var c=function(t,n,r){this.reminders=n||[],this.editable=typeof r=="undefined"?!0:r,this.el=t,this.$el=e(this.el),this.count=0,this.delegateEvents(),this._initReminder(this.reminders)};return c.prototype={delegateEvents:function(){this.$el.on("click.form-reminder","li > .btn_wrap",e.proxy(this.removeReminder,this)),this.$el.on("keyup.form-reminder","input[name^=reminder_value_]",e.proxy(this._validateTime,this))},addReminder:function(o,u,l){var c="";if(this.count>=s){e.goAlert(t.i18n(i["\uc54c\ub78c \uc124\uc815\uc740 {{max}}\uac1c\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4"],"max",s));return}return c=n({reminder_index:this.count,reminder_value:o||"30","editable?":this.editable,"type_minute?":u===a.minute,"type_hour?":u===a.hour,"type_day?":u===a.day,"type_week?":u===a.week,"method_noti?":l===f.noti,"method_email?":l===f.email,label:{remove:r["\uc0ad\uc81c"],add_reminder:i["\uc54c\ub78c \ucd94\uac00"],type_minute:i["\ubd84\uc804"],type_hour:i["\uc2dc\uac04\uc804"],type_day:i["\uc77c\uc804"],type_week:i["\uc8fc\uc804"],method_noti:i["\ud478\uc2dc \uc54c\ub78c"],method_email:i["\uba54\uc77c \uc54c\ub78c"]}}),this.$el.append(c),this.calculateCount(),this.$el.find(":last-child")},calculateCount:function(){this.count=this.$el.find("li").length},getIndex:function(e){return parseInt(this._getReminderLIElement(e).attr("data-index"))},removeReminder:function(t){var n=this._getReminderLIElement(t.target);e(n).remove(),this.calculateCount(),this.$el.trigger("removed:reminder",[n,this.getIndex(t.target)])},getReminderCount:function(){return this.count},on:function(){var t=l.call(arguments);return e.fn.on.apply(this.el,t)},off:function(){var t=l.call(arguments);return e.fn.off.apply(this.el,t)},_initReminder:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t].time||"",i=e[t].type||"",s=e[t].method||"";this.addReminder(r,i,s)}},_getReminderLIElement:function(t){return e(t).parents("li")},_validateTime:function(t){var n=e(t.currentTarget),r=n.val(),i=parseInt(r);return!/^[\-\+]?[\d\,]*\.?[\d]*$/.test(r)||i<0?(n.val(o),!1):i>u?(n.val(u),!1):!0}},c.DEFAULT_VALUE=o,c.MAX_VALUE=u,c.REMINDER_MAX_LENGTH=s,c.REMINDER_TYPE=a,c.REMINDER_METHOD=f,c}();return c})}.call(this),function(){define("calendar/views/external_attendee",["underscore","backbone","app","hogan","i18n!nls/commons"],function(e,t,n,r,i){var s=r.compile('<span class="name">{{name}}</span><span class="btn_wrap"><span class="ic{{^isMobile}}_classic{{/isMobile}} ic_del" title="'+i["\uc0ad\uc81c"]+'"></span>'+"</span>"),o=t.View.extend({tagName:"li",events:{"click span.ic_del":"destroy"},initialize:function(e){this.name=e.name||e.email,this.email=e.email},render:function(){return this.$el.html(s.render({name:this.name,isMobile:n.util.isMobile()})),this.$("span.name").data("label",this.name),this.$("span.name").data("email",this.email),this},destroy:function(e){var t=$(e.currentTarget).parents("li");this.$el.siblings().length||$("#externalArea").hide(),this.$el.trigger("externalAttendee:destroy",t.find("span.name").text()),this.$el.remove()}});return o})}.call(this),define("text!calendar/templates/_regist_top.html",[],function(){return'{{! deprecated }}\r\n<tr>\r\n    <td colspan="2">\r\n    	<div class="basic_info">\r\n    		<div class="title_wrap">\r\n	            <span class="wrap_txt">\r\n	            	<input class="ipt_tit" type="text" name="summary" value="{{&summary}}" maxlength="500" />\r\n	           	</span>\r\n	            <span class="wrap_option">\r\n	                <input type="checkbox" id="check-visibility" name="visibility" value="private"{{#private?}} checked="checked"{{/private?}} />\r\n	                <label for="check-visibility">{{label.privacy}}</label>\r\n	            </span>\r\n	            <span class="wrap_ic_s">\r\n	            	<span class="help">\r\n	            		<span class="tool_tip">\r\n	            			{{msg.private_event_info}}\r\n	            			<i class="tail_left"></i>\r\n	           			</span>\r\n	        		</span>\r\n	        	</span>\r\n    		</div>\r\n	    	<div id="selectDate" class="date_wrap">\r\n	    		{{>select_date}}\r\n	    	</div>\r\n    	</div>\r\n    </td>\r\n</tr>\r\n{{#calendar_manager?}}\r\n<tr>\r\n    <th>\r\n        <span class="title">{{label.public_event}}</span>\r\n    </th>\r\n    <td>\r\n        <span class="wrap_option">\r\n            <input type="checkbox" name="is_company_event" value="1" id="check-company-event" />\r\n            <label for="check-company-event">{{label.public_event}}</label>\r\n        </span>\r\n        <div id="company-calendar-list" style="display: none">\r\n            <span class="wrap_multiselect">\r\n                <span class="wrap_select">\r\n                    <select name="company_calendar_id">\r\n                        {{#company_calendar}}\r\n                        <option value="{{id}}">{{name}}</option>\r\n                        {{/company_calendar}}\r\n                    </select>\r\n                </span>\r\n            </span>\r\n        </div>\r\n    </td>\r\n</tr>\r\n{{/calendar_manager?}}'}),define("calendar/views/regist",["require","underscore","backbone","app","hogan","calendar/views/form","calendar/collections/calendars","calendar/models/event","calendar/collections/events","calendar/views/alarm_popup_layer","calendar/views/attendees_schedule_layer","calendar/helpers/regist_form","calendar/helpers/form_attendees","calendar/helpers/form_reminder","calendar/views/external_attendee","calendar/libs/util","text!calendar/templates/_regist_top.html","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.autocomplete","jquery.ui","jquery.go-popup","jquery.go-orgslide","jquery.cookie"],function(require){var e=require("underscore"),t=require("backbone"),n=require("app"),r=require("hogan"),i=require("calendar/views/form"),s=require("calendar/collections/calendars"),o=require("calendar/models/event"),u=require("calendar/collections/events"),a=require("calendar/views/alarm_popup_layer"),f=require("calendar/views/attendees_schedule_layer"),l=require("calendar/helpers/regist_form"),c=require("calendar/helpers/form_attendees"),h=require("calendar/helpers/form_reminder"),p=require("calendar/views/external_attendee"),d=require("calendar/libs/util"),v=require("text!calendar/templates/_regist_top.html"),m=require("i18n!nls/commons"),g=require("i18n!calendar/nls/calendar");require("jquery.autocomplete"),require("jquery.ui"),require("jquery.go-popup"),require("jquery.go-orgslide"),require("jquery.cookie");var y=n.util.now(),b=i.extend({className:"content_page schedule_form go_renew",events:{"click #attendee-list #btn-add-attendees":"_showOrgSlider","click #btn-confirm":"_submit","click #btn-cancel":"_cancel","click #btn-add-reminder":"_addReminder","click #delete_all_attendees":"_deleteAll","click #moreAttendee":"_toggleAttendee","change [data-time-picker]":"_onChangeTime"},initialize:function(e){this.options=e||{},this._initSearchParam(),this.formHelper=new l(this.$el,"regist"),this.submitFlag=!1},render:function(){console.log("[CalendarRegistView#render] rendering..."),this.options.isCopied?this._prepareModel().done($.proxy(function(){this._initCopiedParam(),this._renderRegistForm(),this._renderExternalAttendees(),this._renderAttendeesSchedules(),$.goSlideMessage(g["\ubcf5\uc0ac\ub41c \uc77c\uc815\uc785\ub2c8\ub2e4."])},this)):(this._renderRegistForm(),this._renderAttendeesSchedules())},_renderExternalAttendees:function(){var t=this.options.externalAttendees;t.length&&this.$("#externalArea").show(),e.each(t,function(e){var t=new p(e);this.$("#externals").append(t.render().el)},this)},_renderRegistForm:function(){var e=s.getWritableCompanyCalendars();this.formHelper.render({start_date:this.options.startDate,start_time:this.options.startTime,end_date:this.options.endDate,end_time:this.options.endTime,summary:this.options.summary,location:this.options.location,"allday_event?":this.options.timeType==="allday","private?":this.options.private,description:this.options.description,isCopiedNotAlone:this.options.isCopied&&!this.options.isAlone,"calendar_manager?":s.isCalendarManager(),company_calendar:(new t.Collection(e)).toJSON(),attendees:this.options.attendees},this._buildPartials()),this.reminderHelper=new h(this.$el.find("ul#reminder-list"),this.options.reminders),this.attendeesHelper=new c(this.$el.find("ul#attendee-list"),this.options.attendees),this.attendeesHelper.addRemoveCallback($.proxy(this._removeEventFromAttendees,this)),this.attendeesHelper.addAttendeeCallback($.proxy(this._addEventFromAttendees,this));var n=s.getMyCalendars();e.length>0&&this.options.calendarType=="company"?(this.$el.find("input[name=is_company_event]").click(),this.$el.find("select[name=company_calendar_id]").val(this.options.calendarId),this.formHelper.loadMyCalendarOptions(n)):this.formHelper.loadMyCalendarOptions(n,this.options.calendarId),this.formHelper.loadAsset(),this.initAutoComplete();var r=this;return this.$el.on("externalAttendee:regist",function(e,t){r.makeFormatUnit($("#externalForm"),t)}),this.el},_renderAttendeesSchedules:function(){var e=this;this.attendeesScheduleLayerView=new f({attendees:this.options.attendees,startDate:this.options.startDate}),this.$el.find("[data-attendees-schedule-wrapper]").append(this.attendeesScheduleLayerView.render().el),this.$el.off("calendarDate:change"),this.$el.on("calendarDate:change",function(t){e.attendeesScheduleLayerView.onChangeDate()})},_onChangeTime:function(e){this.attendeesScheduleLayerView.onChangeTime()},_initSearchParam:function(){var t=n.router.getSearch();this.options.startDate=t.sd||y.format("YYYY-MM-DD"),this.options.startTime=t.st||n.util.getIntervalTime(y).format("HH:mm"),this.options.endDate=t.ed||this.options.startDate,this.options.endTime=t.et||n.util.getIntervalTime(y.clone().add("hours",1)).format("HH:mm"),this.options.timeType=t.tt||"timed",this.options.calendarType=t.ct||"public",this.options.summary=decodeURIComponent(t.summary||""),this.options.location=t.location||"",this.options.attendees=e.pick(n.session(),"id","name","email","position"),this.options.calendarId||(this.options.calendarId=t.calendar||s.getDefaultCalendar().id)},_initCopiedParam:function(){this.options.summary=this.model.get("summary"),this.options.private=this.model.isPrivate(),this.options.calendarType=this.model.get("type"),this.options.attendees=this.model.get("attendees"),this.options.location=this.model.get("location"),this.options.description=this.model.get("description"),this.options.reminders=this.model.get("reminders"),this.options.isAlone=this.model.isAlone(),this.options.externalAttendees=this.model.getExternalAttendees()},_prepareModel:function(){var e=$.Deferred();return this.model=new o({id:this.options.eventId,calendarId:this.options.calendarId}),this.model.fetch({success:e.resolve,error:e.reject,statusCode:{403:function(){n.util.error("403",{msgCode:"400-calendar"})},404:function(){n.util.error("404",{msgCode:"400-calendar"})},500:function(){n.util.error("500")}}}),e},_buildPartials:function(){return{title_and_date:r.compile(v)}},_submit:function(e){function r(){var e=t.formHelper.getForReserveAssetItems();e.length>0?f().always(function(){l()}):l()}function i(){return this.$("#check-company-event").is(":checked")?"company":"normal"}function s(){function t(){var t=this,r=$(t.alarmPopup.popupEl),i=r.find("input:checkbox[id='chkbox_push']").is(":checked"),s=r.find("input:checkbox[id='chkbox_mail']").is(":checked");n.set("pushNoti",i),n.set("mailNoti",s),e.resolve()}function r(){n.set("pushNoti",!1),n.set("mailNoti",!1),e.resolve()}function i(){e.reject()}var e=$.Deferred();return this.alarmPopup=new a,this.alarmPopup.setConfirmCallback(t,this),this.alarmPopup.setCancelCallback(r,this),this.alarmPopup.setCloseCallback(i,this),this.alarmPopup.render({type:"web"}),e}function f(){return t.formHelper.saveReservationAssets()}function l(){n.set(t._serializeFormData()),n.save({},{beforeSend:function(){t.submitFlag=!0},success:function(e){console.log("[CalendarRegistView#_submit] Success regist event!!!");var t=u.getInstance();t.add(e),c(e.get("calendarId")),d.goToCalendar()},error:function(){$.goSlideMessage(g["\uc77c\uc815 \ub4f1\ub85d\uc2dc \uc624\ub958\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4"],"caution")},complete:function(){t.submitFlag=!1}})}function c(e){var t=d.getSavedSelectedCalendar(),n=[];t&&(n=t.split(","),n.push(e.toString())),d.saveCheckedCalendar(n)}var t=this,n=new o;return this.submitFlag?($.goMessage(g["\uc77c\uc815 \ub4f1\ub85d \uc911 \uba54\uc2dc\uc9c0"]),!1):(e.preventDefault(),n.on("error:validate",$.proxy(this._validateErrorCallback,this)),n.set(t._setAttendantsFormData(i())),n.isAlone()?r():s().done(function(){r()}).fail(function(){t.submitFlag=!1}),!1)},_validateErrorCallback:function(e,t,n){return l.prototype.raiseError.apply(this.formHelper,arguments),this.submitFlag=!1,this},_serializeFormData:function(){var t=s.getDefaultCalendar().toJSON(),n=this.formHelper.serializeFormData();return e.extend({creator:t.owner},n)},_setAttendantsFormData:function(t){return{attendees:t==="normal"?e.union(this.attendeesHelper.getAttendees(),this.getExternalAttendees()):this.getExternalAttendees()}},_cancel:function(e){return e.preventDefault(),d.goToCalendar(),this},_showOrgSlider:function(e){return $.goOrgSlide({header:g["\ucc38\uc11d\uc790 \ucd94\uac00"],type:"node",desc:g["\uc77c\uc815\uc758 \ucc38\uc11d\uc790\ub85c \ucd94\uac00\ud560 \uc0ac\uc6a9\uc790\ub97c \uc544\ub798\uc5d0\uc11c \uc120\ud0dd\ud558\uc138\uc694"],contextRoot:n.config("contextRoot"),callback:$.proxy(this._addAttendees,this),memberTypeLabel:g["\ucc38\uc11d\uc790"],externalLang:m,isBatchAdd:!0})},_addAttendees:function(e){return this.attendeesHelper.addAttendee(e),this},_addReminder:function(){this.reminderHelper.addReminder()},_removeEventFromAttendees:function(e,t){$(t).remove(),this.attendeesScheduleLayerView.removeEventListener(e)},_addEventFromAttendees:function(e){this.attendeesScheduleLayerView.addEventListener(e)},getExternalAttendees:function(){return e.map(this.$("#externalArea").find("span.name"),function(e){return{id:"",email:$(e).data("email"),name:$(e).data("label")||"",position:""}})},initAutoComplete:function(){var e={autoResizeWidth:!0,makeFormat:!0,makeFormatFunc:$.proxy(this.makeFormatUnit,this),multiple:!1,width:"400px",matchCase:!0,notContact:"F",excSearchOption:"RIPD",isDomainSearch:"F",customLeft:!0};this.$("#externalForm").autocomplete(n.contextRoot+"api/mail/address/search/name",e)},makeFormatUnit:function(e,t){function v(e){var t=null,r=null;return $.ajax({url:n.contextRoot+"api/user/sort/list",data:{keyword:e},type:"GET",async:!1,success:function(e){hasName=e.data.length>0,hasName&&(t=e.data[0].name,r=e.data[0].email)},error:function(e){console.log(e)}}),{hasName:hasName,name:t,email:r}}var r=this;if($.trim(t)=="")return;addressArray=new Array,addressSplit=t.split(">,");for(var i=0;i<addressSplit.length;i++){tempAddressArray=addressSplit[i].split(",");for(var s=0;s<tempAddressArray.length;s++)tempAddressArray[s]=$.trim(tempAddressArray[s]);addressArray=addressArray.concat(n.util.makeFormatEmail(tempAddressArray))}for(var i=0;i<addressArray.length;i++){t=addressArray[i];var o=n.util.checkEmailFormat(t),u=null,a=o?n.util.get_name(t):t,f=o?a||n.util.get_email(t):t,l=$('<span class="name" id="nameField" evt-rol="select-field" onselectstart="return false"></span>').attr("title",f).data("email",o?n.util.get_email(t):"").data("label",a).data("select",!1).text(f),c="",h=$('<span class="ic_classic ic_del"></span>');h.attr("title","\uc0ad\uc81c").click(function(){var t=$(this).closest("li");t.find("input.edit").unautocomplete(),t.remove(),e.focus()});var p=$('<span class="btn_wrap"></span>').append(h),d=$("<li></li>");d.append(l).append(c).append(p),this.$("#externalArea").show(),this.$("#externals").append(d),e.val("")}},_deleteAll:function(){this.$el.find("#attendee-list li").not(".default_option").not(".creat").remove()},_toggleAttendee:function(e){var t=$(e.currentTarget),n=t.find("span.ic"),r=n.hasClass("ic_arrow_up");this.$("#attendee-list").find("li[data-more]").toggle(!r),n.toggleClass("ic_arrow_up"),n.toggleClass("ic_arrow_down")}});return b}),function(){var e=this,t=Array.prototype.slice,n,r="data-fspy-source",i="changed:attribute",s="restored:attribute",o="restored:all";n=function(){var e=function(e){if(!$(e).is("form"))throw new Error("Invaild Form Object");this.el=e,this.$el=$(e),this._prepareForm(),this.__changedAttributes__={}};return e.prototype={form:null,events:{"input[type=text]:not([data-fspy-bypass])":"change","input[type=text]:not([data-fspy-bypass][readonly])":"keyup paste","input[type=hidden]:not([data-fspy-bypass])":"change","textarea:not([data-fspy-bypass])":"keyup paste","select:not([data-fspy-bypass])":"change","input[type=checkbox]":"change","input[type=radio]":"click"},registry:function(e,t){var n=$(e),i=this._getSourceData(e),s=t||i;n.attr(r,s),i!==s&&this.registChangedAttr(n.attr("name"),i)},unregistry:function(e){var t=$(e);this.unregistChangedAttr(t.attr("name")),$(e).removeAttr(r)},registChangedAttr:function(e,t){return this.__changedAttributes__[e]=t,this.$el.trigger(i,[e,t,this]),this},unregistChangedAttr:function(e){return delete this.__changedAttributes__[e],this.$el.trigger(s,[e]),this.hasChangedAttrs()||this.$el.trigger(o,[e]),this},getChangedAttrs:function(e){return e?this.__changedAttributes__[e]:this.__changedAttributes__},hasChanged:function(e){return _.has(this.__changedAttributes__,e)},hasChangedAttrs:function(){return _.keys(this.__changedAttributes__).length>0},on:function(e,t,n){return this.$el.on(e,$.proxy(t,n||this))},off:function(e){var t;return typeof e=="undefined"?t=this.$el.off():t=this.$el.off(e,$.proxy(callback,context||this)),t},_prepareForm:function(){var e=this;this._findSpyElements().attr(r,function(){return e._getSourceData(this)}),this._unbindEvent()._bindEvent()},_bindEvent:function(){return _.each(this.events,function(e,t){var n=e+".formspy";this.$el.on(n,t,$.proxy(this._changeAttribute,this))},this),this},_unbindEvent:function(){return this.$el.off(".formspy"),this},_findSpyElements:function(){return this.$el.find("*:not([data-fspy-bypass])").filter(function(e){var t=$(this);return t.is("input")||t.is("textarea")||t.is("select")})},_getSourceData:function(e){var t="",n=$(e);return n.is("select")?t=n.find("option:selected").val():n.is("input[type=checkbox]")||n.is("input[type=radio]")?t=""+n.is(":checked"):t=n.val(),t},_changeAttribute:function(e){console.log("[FormSpy#_changeAttribute]");var t=$(e.currentTarget),n=t.attr("name"),r=this._getSourceData(e.currentTarget),i=t.attr("data-fspy-source")!==r||e.type=="paste";return t.is(":not([data-fspy-source])")?this:(i?this.registChangedAttr(n,r):this.unregistChangedAttr(n,r),this)}},e}(),e.FormSpy=n}.call(this),define("formspy",["jquery","underscore"],function(e){return function(){var t,n;return t||e.FormSpy}}(this)),function(){define("calendar/helpers/form_field",["jquery","underscore","hogan","i18n!nls/commons"],function(e,t,n,r){var i={input:"input",textarea:"textarea"},s="txt_form",o="w_max",u,a={view:'<span class="{{view_classnames}}"{{#editable?}} data-field="{{attr_name}}"{{/editable?}}>{{&content}}{{#editable?}}<span class="tool_tip">'+r["\uc218\uc815"]+' <i class="tail"></i></span>{{/editable?}}</span>',input:'<input{{^edit?}} id="form-field-{{attr_name}}"{{/edit?}} class="txt wfix_max{{#edit?}} edit{{/edit?}} {{fix_width_classname}}" type="text" name="{{attr_name}}" value="{{content}}"{{#maxlength}} maxlength="{{maxlength}}"{{/maxlength}} />',textarea:'<textarea name="{{attr_name}}" class="txtarea {{fix_width_classname}}{{#edit?}} edit{{/edit?}}" rows="10">{{content}}</textarea>',button:'<span class="ic_side ic_done" title="'+r["\uc218\uc815"]+'"></span>'};return u=function(){var r=function(e,r,i,s){return this.options=t.defaults(options||{},{editable:!0,required:!1,maxlength:0}),this.type=e||"input",this.name=r||"",this.content=i||"",this.editable=typeof s=="undefined"?!0:s,this.required=!1,this.maxlength=0,this.preClassnames="",this.postClassnames="",this.widthFixClassname="w_max",this.changableWidth=!0,this.__prevContent__=""+this.content,this.__isChanged__=!1,this._compiledTpl=n.compile(this.content?a.view:a[this.type]),this};return r.prototype={render:function(){return this._buildViewTemplate()},getJQueryElement:function(t){var n=[],r=[this.type,"[name=",this.name,"]"].join("");return n.push(r),typeof t!="undefined"&&n.push(t),e.apply(e,n)},getContent:function(){return this.content},setEditable:function(e){return this.editable=e,this},setRequired:function(e){return this.required=e,this},setMaxLength:function(e){return this.maxlength=e,this},setPreClassnames:function(e){return this.preClassnames=e,this},setPostClassnames:function(e){return this.preClassnames=e,this},setWidthFixClassname:function(e){return this.widthFixClassname=e,this},setChangableWidth:function(e){return this.changableWidth=e,this},getSourceContent:function(){return this.__prevContent__},isChanged:function(){return this.__isChanged__},setEditMode:function(t){var r=t instanceof e.Event?e(t.currentTarget):e(t),i=n.compile(a[this.type]+a.button);return r.empty().html(i.render({attr_name:this.name,content:this._unescapeContent(this.content),fix_width_classname:this.widthFixClassname,maxlength:this.maxlength>0?this.maxlength:null,"edit?":!0})),r.removeClass(s).addClass(this._getTypeClass()),this.changableWidth&&r.addClass(this.widthFixClassname),this},setViewMode:function(t){var n=t instanceof e.Event?e(t.currentTarget):e(t),r=n.find(this.type+'[name="'+this.name+'"]'),i=r.val();return this._validate(n)?(this.content=this._escapeContent(i),this.__isChanged__=this.__prevContent__!==this.content,n.empty().html(this._buildViewTemplate()),n.removeClass(this._getTypeClass()).addClass(s),this.changableWidth&&n.removeClass(this.widthFixClassname),!0):!1},_unescapeContent:function(e){return e=e.replace(/&lt;/gi,"<"),e=e.replace(/&gt;/gi,">"),e},_escapeContent:function(e){return e=e.replace(/</gi,"&lt;"),e=e.replace(/>/gi,"&gt;"),e},_validate:function(e){var t=e.find(this.type+'[name="'+this.name+'"]'),n=t.val();return this.required&&!n?(t.val(this.__prevContent__),e.trigger("required:"+this.name,t),!1):this.maxlength>0&&n.length>this.maxlength?(t.val(n.slice(0,this.maxlength)),e.trigger("max:"+this.name,t,this.maxlength),!1):!0},_buildViewTemplate:function(){var e=[],t=this.content;return this.preClassnames&&e.push(this.preClassnames),this.editable&&e.push("txt_form"),this.postClassnames&&e.push(this.postClassnames),this._compiledTpl.render({attr_name:this.name,content:GO.util.convertRichText(t),fix_width_classname:t?"":this.widthFixClassname,view_classnames:e.join(" "),"editable?":this.editable})},_getTypeClass:function(){return{input:"txt_edit",textarea:"textarea_edit"}[this.type]}},r}(),u})}.call(this),define("hgn!calendar/templates/_event_remove",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.s(r.f("update?",e,t,1),e,t,1,0,0,"")||(r.b('<p class="desc">\r'),r.b("\n"+n),r.b("    "),r.s(r.f("remove?",e,t,1),e,t,0,48,68,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("msg.remove_desc",e,t,0)))}),e.pop()),r.b("\r"),r.b("\n"+n),r.b("    "),r.s(r.f("leave?",e,t,1),e,t,0,97,116,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.t(n.d("msg.leave_desc",e,t,0)))}),e.pop()),r.b("\r"),r.b("\n"+n),r.b("</p>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"+n)),r.s(r.f("recurrence?",e,t,1),e,t,0,167,958,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("update?",e,t,1),e,t,1,0,0,"")||(r.b("<hr />\r"),r.b("\n"+n)),r.b('<div class="option">\r'),r.b("\n"+n),r.b("    <h3>"),r.b(r.t(r.d("msg.recurrence_notice",e,t,0))),r.b("</h3>\r"),r.b("\n"+n),r.b('    <span class="option_wrap vertical_wrap">\r'),r.b("\n"+n),r.b('        <input id="remove-option-only" type="radio" name="remove_option" value="instance" checked="checked" />\r'),r.b("\n"+n),r.b('        <label for="remove-option-only">'),r.b(r.v(r.d("label.remove_only",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n),r.b('    <span class="option_wrap vertical_wrap">\r'),r.b("\n"+n),r.b('        <input id="remove-option-after" type="radio" name="remove_option" value="after" />\r'),r.b("\n"+n),r.b('        <label for="remove-option-after">'),r.b(r.v(r.d("label.remove_after",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n),r.b('    <span class="option_wrap vertical_wrap">\r'),r.b("\n"+n),r.b('        <input id="remove-option-all" type="radio" name="remove_option" value="all" />\r'),r.b("\n"+n),r.b('        <label for="remove-option-all">'),r.b(r.v(r.d("label.remove_all",e,t,0))),r.b("</label>\r"),r.b("\n"+n),r.b("    </span>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n)}),e.pop()),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),function(){define("calendar/helpers/event_remove_confirm_layer",["jquery","underscore","calendar/libs/util","hgn!calendar/templates/_event_remove","i18n!nls/commons","i18n!calendar/nls/calendar","jquery.go-popup","jquery.go-preloader"],function(e,t,n,r,i,s){var o=function(){var o=function(e,n,i){if(!t.contains(["leave","remove","update"],n))throw new Error("\uc798\ubabb\ub41c \uc778\uc790\uc785\ub2c8\ub2e4.");this.model=e,this.isRecurrence=typeof i=="undefined"?!!this.model.get("recurrence")||!1:i,this.type=n,this.callbacks={},this.removeDescMsg=s["\uc77c\uc815\uc744 \uc0ad\uc81c\ud558\uc2dc\uba74 \ubaa8\ub4e0 \ucc38\uc11d\uc790\uc758 \uc77c\uc815\uc5d0\uc11c \uc0ac\ub77c\uc9d1\ub2c8\ub2e4. \ucc38\uc11d\uc790\uc5d0\uc11c \ube60\uc9c0\uace0 \uc2f6\ub2e4\uba74, \ucc38\uc11d\uc790 \uc815\ubcf4\ub97c \uc218\uc815\ud558\uc138\uc694"],this.model.isCompanyEvent()?this.removeDescMsg=s["\uc804\uc0ac\uc77c\uc815 \uc0ad\uc81c \uba54\uc2dc\uc9c0"]:this.model.isAlone()&&(this.removeDescMsg=s["\ub098\ud63c\uc790 \uc77c\uc815 \uc0ad\uc81c \uba54\uc2dc\uc9c0"]),this.template=r({"recurrence?":this.isRecurrence,"remove?":this.isRemoveType(),"leave?":this.isLeaveType(),"update?":this.isUpdateType(),label:{remove_only:this.isRemove?s["\uc774 \uc77c\uc815\ub9cc \uc0ad\uc81c"]:s["\uc774 \uc77c\uc815\ub9cc \uc218\uc815"],remove_after:this.isRemove?s["\uc774 \uc77c\uc815\ubd80\ud130 \uc774\ud6c4 \uc77c\uc815 \ubaa8\ub450 \uc0ad\uc81c"]:s["\uc774 \uc77c\uc815\ubd80\ud130 \uc774\ud6c4 \uc77c\uc815 \ubaa8\ub450 \uc218\uc815"],remove_all:this.isRemove?s["\uc804\uccb4 \ubc18\ubcf5 \uc77c\uc815 \uc0ad\uc81c"]:s["\uc804\uccb4 \ubc18\ubcf5 \uc77c\uc815 \uc218\uc815"]},msg:{remove_desc:this.removeDescMsg,leave_desc:s["\ucc38\uc11d\uc790\uc5d0\uc11c \ube60\uc9c0\uba74 \ub0b4 \uc77c\uc815\uc5d0\uc11c \ub178\ucd9c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud558\uc9c0\ub9cc, \ub2e4\ub978 \ucc38\uc11d\uc790\uc758 \uc77c\uc815\uc5d0\uc11c\ub294 \ud574\ub2f9 \uc77c\uc815\uc774 \uacc4\uc18d \ubcf4\uc5ec\uc9d1\ub2c8\ub2e4.\uc704 \uc77c\uc815\uc758 \ucc38\uc11d\uc790\uc5d0\uc11c \ube60\uc9c0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],recurrence_notice:s["\ud604\uc7ac '\ubc18\ubcf5\uc77c\uc815'\uc73c\ub85c \ub4f1\ub85d\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."]}})};return o.prototype={render:function(){var t={leave:"layer_entry",remove:"layer_schedule_del",update:"layer_schedule_repeat"}[this.type],n={leave:s["\ucc38\uc11d\uc790\uc5d0\uc11c \ube60\uc9c0\uae30"],remove:s["\uc77c\uc815 \uc0ad\uc81c"],update:s["\ubc18\ubcf5 \uc77c\uc815 \uc218\uc815"]}[this.type];this.popupEl=e.goPopup({pclass:"layer_normal "+t,width:-1,header:n,contents:this.template,closeCallback:e.proxy(this._close,this),buttons:[{btype:"confirm",btext:i["\ud655\uc778"],callback:e.proxy(this._confirm,this),autoclose:!1},{btype:"cancel",btext:i["\ucde8\uc18c"],callback:e.proxy(this._cancel,this)}]})},setRecurrence:function(e){return this.isRecurrence=e,this},setCallbacks:function(t){e.extend(!0,this.callbacks,t||{})},isRemoveType:function(){return this.type==="remove"},isLeaveType:function(){return this.type==="leave"},isUpdateType:function(){return this.type==="update"},_confirm:function(){var t=e.goPreloader();t.render();var r=this,i=e.extend(!0,{success:function(e,i){t.release(),r.popupEl.close(),n.goToCalendar()},error:function(){t.release()}},this.callbacks);if(this.isRecurrence){var o=e(this.popupEl).find("input[name=remove_option]:checked"),u=o.val();if(o.length<=0)return e.goError(s["\uc218\uc815(\uc0ad\uc81c) \uc635\uc158\uc744 \uc120\ud0dd\ud574 \uc8fc\uc2ed\uc2dc\uc624"]),this;this.model.setRecurChangeType(u)}return this.isRemoveType()?this.model.destroy(i):this.model.save({},i),this},_cancel:function(){this.callbacks.hasOwnProperty("complete")&&this.callbacks.complete.call(this)}},o}();return o})}.call(this),define("text!calendar/templates/_detail_top.html",[],function(){return'{{! deprecated }}\r\n<tr>\r\n    <td colspan="2">\r\n        <div class="basic_info">\r\n            <div class="title_wrap">\r\n                <span class="wrap_txt"><input class="tit{{^editable?}} readonly{{/editable?}}" type="text" name="summary" value="{{&summary}}"{{^editable?}} readonly="readonly"{{/editable?}} /></span>\r\n                {{#show_visibility?}}\r\n                <span class="wrap_option{{^editable?}} disabled{{/editable?}}">\r\n                    <input type="checkbox" id="check-visibility" name="visibility" value="private"{{#private?}} checked="checked"{{/private?}}{{^editable?}} disabled="disabled"{{/editable?}} />\r\n                    <label for="check-visibility">{{label.privacy}}</label>\r\n                </span>\r\n                <span class="wrap_ic_s"><span class="help">&nbsp;<span class="tool_tip top">{{msg.private_event_info}}<i class="tail_top"></i></span></span></span>\r\n                {{/show_visibility?}}\r\n            </div>                                      \r\n            <div class="date_wrap" id="selectDate">\r\n                {{>select_date}}\r\n            </div>                                  \r\n        </div>\r\n    </td>\r\n</tr>\r\n<tr>\r\n{{#editable?}}\r\n{{#is_company_event?}}\r\n<tr>\r\n    <th>\r\n        <span class="title">{{label.public_event}}</span>\r\n    </th>\r\n    <td>\r\n        <div id="company-calendar-list">\r\n            <span class="wrap_multiselect">\r\n                <span class="wrap_select">\r\n                    <select name="company_calendar_id">\r\n                        {{#company_calendar}}\r\n                        <option value="{{id}}" {{#is_select_company_calendar?}} selected="selected" {{/is_select_company_calendar?}}>{{name}}</option>\r\n                        {{/company_calendar}}\r\n                    </select>\r\n                </span>\r\n            </span>\r\n        </div>\r\n        <input type="hidden" name="is_company_event" value="true">\r\n    </td>\r\n</tr>\r\n{{/is_company_event?}}\r\n{{/editable?}}\r\n<td colspan="2"><hr /></td></tr>'}),define("calendar/collections/calendar_logs",["backbone"],function(e){var t=e.Model.extend({initialize:function(){},contentParser:function(){return this.get("message").split("\n")}}),n=e.Collection.extend({model:t,initialize:function(e){this.calendarId=e.calendarId,this.eventId=e.eventId,this.options.page=0,this.options.offset=5},options:{page:0,offset:5},url:function(){return GO.contextRoot+"api/calendar/"+this.calendarId+"/event/"+this.eventId+"/log?"+$.param(this.options)},setPage:function(e){this.options.page=e}});return n}),function(){define("calendar/views/calendar_log",["backbone","hogan","i18n!nls/commons","calendar/collections/calendar_logs"],function(e,t,n,r){var i={history:n["\ubcc0\uacbd\uc774\ub825"],showMore:n["\ub354\ubcf4\uae30"]},s=t.compile('<li><p class="desc">'+n["\ubcc0\uacbd\uc774\ub825\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."]+"</p>"+"</li>"),o=t.compile('<div class="reply_wrap"><div class="aside_wrapper_body"><ul id="logList" class="type_simple_list simple_list_alarm"></ul><div id="moreLog" class="bottom_action"><a class="btn_list_reload"><span class="ic"></span><span class="txt">{{lang.showMore}}</span></a></div></div></div>'),u=t.compile('<p class="photo"><img src="{{log.actor.thumbnail}}" title="{{log.actor.name}} {{#log.actor.position}}{{log.actor.position}}{{/log.actor.position}}"  alt="{{log.actor.name}} {{log.actor.position}}"></p><div class="info"><p class="name">{{log.actor.name}} </p><span class="date">{{createdAt}}</span>{{#messages}}<p class="subject">{{{.}}}</p>{{/messages}}</div>'),a=e.View.extend({tagName:"li",events:{},initialize:function(e){this.log=e},render:function(){return this.$el.html(u.render({log:this.log.toJSON(),messages:this.log.contentParser(),createdAt:GO.util.basicDate(this.log.get("createdAt"))})),this}}),f=e.View.extend({events:{"click #moreLog":"moreLog"},initialize:function(e){this.logs=new r({calendarId:e.calendarId,eventId:e.eventId})},render:function(){var e=this;return this.logs.fetch({success:function(){e.$el.html(o.render({count:e.logs.models.length,lang:i})),e.renderLogs()}}),this},renderLogs:function(){_.each(this.logs.models,function(e){var t=new a(e);$("#logList").append(t.render().el)}),$("#logCount").text(this.logs.page.total),this.isEnd()&&$("#moreLog").hide(),this.logs.length||this.$("#logList").append(s.render())},moreLog:function(){var e=this,t=this.logs.page.page;this.logs.setPage(t+1),this.logs.fetch({success:function(t){e.renderLogs()}})},isEnd:function(){return $("#logList").find("li").length==this.logs.page.total}});return f})}.call(this),define("components/comment/collections/comment",["backbone"],function(e){return e.Model.extend({initialize:function(){},url:function(){var e=GO.contextRoot+["api",this.get("typeUrl"),this.get("typeId"),"comment"].join("/"),t=this.isCalendar()?"":"/reply",n=this.get("commentId")&&!this.isCalendar()?"/"+this.get("commentId")+t:"",r=this.id?"/"+this.id:"";return e+n+r},createdAtStr:function(){return this.has("createAt")?GO.util.snsDate(this.get("createdAt")):""},hasAttach:function(){return this.has("attaches")&&this.get("attaches").length>0},hasEmoticon:function(){return this.has("emoticonPath")},getEmoticonPath:function(){return this.has("emoticonPath")?GO.config("emoticonBaseUrl")+this.get("emoticonPath"):""},getFiles:function(){return _.filter(this.getIconAttaches(),function(e){return!GO.util.isImage(e.extention)})},getImages:function(){return _.filter(this.getIconAttaches(),function(e){return GO.util.isImage(e.extention)})},getIconAttaches:function(){return _.each(this.get("attaches"),function(e){e.icon=GO.util.getFileIconStyle(e),e.formattedSize=GO.util.getHumanizedFileSize(e.size)})},isThread:function(){return this.id!=this.get("thread")},isCalendar:function(){return this.get("typeUrl").split("/")[0]=="calendar"}})}),define("components/comment/collections/comments",["backbone","components/comment/collections/comment"],function(e,t){var n=e.Collection.extend({model:t,initialize:function(e){this.typeUrl=e.typeUrl,this.typeId=e.typeId},url:function(){return GO.contextRoot+["api",this.typeUrl,this.typeId,"comment"].join("/")+"?offset=1000"}});return n}),define("hgn!components/comment/templates/comment_content",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="photo">'),r.b("\n"+n),r.b('	<a data-userid="'),r.b(r.v(r.d("data.writer.id",e,t,0))),r.b('">'),r.b("\n"+n),r.b('		<img src="'),r.b(r.v(r.f("thumbnail",e,t,0))),r.b('" alt="'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.f("position",e,t,1),e,t,0,125,137,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("position",e,t,0)))}),e.pop()),r.b('" title="'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.f("position",e,t,1),e,t,0,193,205,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("position",e,t,0)))}),e.pop()),r.b('">'),r.b("\n"+n),r.b("	</a>"),r.b("\n"+n),r.b("</span>"),r.b("\n"+n),r.b('<div class="msg_wrap">'),r.b("\n"+n),r.b('	<div class="info">'),r.b("\n"+n),r.b('		<span class="name'),r.s(r.d("data.writer.otherCompanyUser",e,t,1),e,t,0,330,341,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" multi_user")}),e.pop()),r.b('">'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.f("position",e,t,1),e,t,0,410,422,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("position",e,t,0)))}),e.pop()),r.b("</span>"),r.b("\n"+n),r.s(r.f("isReply",e,t,1),e,t,0,457,602,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('		<span class="btn_wrap" id="reply">'),r.b("\n"+n),r.b('			<span class="ic_classic ic_answer"></span> '),r.b("\n"+n),r.b('			<span class="txt_b">'),r.b(r.v(r.d("lang.comment",e,t,0))),r.b("</span> "),r.b("\n"+n),r.b("		</span>"),r.b("\n"+n)}),e.pop()),r.b('		<span class="date">'),r.b(r.v(r.f("createdAt",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n),r.b("	<p>"),r.b("\n"+n),r.b('		<span id="commentContent">'),r.b(r.t(r.f("content",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("	</p>"),r.b("\n"+n),r.b('	<div class="'),r.s(r.f("hasAttach",e,t,1),e,t,0,752,766,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("option_display")}),e.pop()),r.b('" id="attachPart">'),r.b("\n"),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n),r.s(r.f("hasEmoticon",e,t,1),e,t,0,825,930,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<div class="thumb_append" id="emoticonPart">'),r.b("\n"+n),r.b('		<img class="emoticon" src="'),r.b(r.v(r.f("emoticonPath",e,t,0))),r.b('" >'),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"+n),r.b('<div class="action_wrap" style="display:">'),r.b("\n"+n),r.s(r.f("writable",e,t,1),e,t,0,1011,1309,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.d("data.actions.updatable",e,t,1),e,t,0,1040,1132,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<span class="btn_fn4" id="edit">'),r.b("\n"+n),r.b('		<span class="ic_feed ic_edit_white"></span>'),r.b("\n"+n),r.b("	</span> "),r.b("\n"+n)}),e.pop()),r.s(r.d("data.actions.removable",e,t,1),e,t,0,1188,1280,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<span class="btn_fn4" id="delete">'),r.b("\n"+n),r.b('		<span class="ic_feed ic_del_white"></span>'),r.b("\n"+n),r.b("	</span>"),r.b("\n"+n)}),e.pop())}),e.pop()),r.b("</div>					"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("hgn!components/comment/templates/comment_print",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="photo">'),r.b("\n"+n),r.b('	<a data-userid="'),r.b(r.v(r.d("data.writer.id",e,t,0))),r.b('">'),r.b("\n"+n),r.b('		<img src="'),r.b(r.v(r.f("thumbnail",e,t,0))),r.b('" alt="'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.f("position",e,t,1),e,t,0,125,137,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("position",e,t,0)))}),e.pop()),r.b('" title="'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.f("position",e,t,1),e,t,0,193,205,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("position",e,t,0)))}),e.pop()),r.b('">'),r.b("\n"+n),r.b("	</a>"),r.b("\n"+n),r.b("</span>"),r.b("\n"+n),r.b('<div class="msg_wrap">'),r.b("\n"+n),r.b('	<div class="info">'),r.b("\n"+n),r.b('		<span class="name'),r.s(r.d("data.writer.otherCompanyUser",e,t,1),e,t,0,330,341,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(" multi_user")}),e.pop()),r.b('">'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.f("position",e,t,1),e,t,0,410,422,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.f("position",e,t,0)))}),e.pop()),r.b("</span>"),r.b("\n"+n),r.s(r.f("isReply",e,t,1),e,t,0,457,600,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('		<span class="btn_wrap" id="reply">'),r.b("\n"+n),r.b('			<span class="ic_classic ic_answer"></span>'),r.b("\n"+n),r.b('			<span class="txt_b">'),r.b(r.v(r.d("lang.comment",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("		</span>"),r.b("\n"+n)}),e.pop()),r.b('		<span class="date">'),r.b(r.v(r.f("createdAt",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n),r.b("	<p>"),r.b("\n"+n),r.b('		<span id="commentContent">'),r.b(r.t(r.f("content",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("	</p>"),r.b("\n"+n),r.b('	<div class="'),r.s(r.f("hasAttach",e,t,1),e,t,0,750,764,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("option_display")}),e.pop()),r.b('" id="attachPart">'),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n),r.s(r.f("hasEmoticon",e,t,1),e,t,0,822,926,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<div class="thumb_append" id="emoticonPart">'),r.b("\n"+n),r.b('		<img class="emoticon" src="'),r.b(r.v(r.f("emoticonPath",e,t,0))),r.b('">'),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n)}),e.pop()),r.b("</div>"),r.b("\n"+n),r.b('<div class="action_wrap" style="display:">'),r.b("\n"+n),r.s(r.f("writable",e,t,1),e,t,0,1007,1304,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.d("data.actions.updatable",e,t,1),e,t,0,1036,1127,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<span class="btn_fn4" id="edit">'),r.b("\n"+n),r.b('		<span class="ic_feed ic_edit_white"></span>'),r.b("\n"+n),r.b("	</span>"),r.b("\n"+n)}),e.pop()),r.s(r.d("data.actions.removable",e,t,1),e,t,0,1183,1275,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('	<span class="btn_fn4" id="delete">'),r.b("\n"+n),r.b('		<span class="ic_feed ic_del_white"></span>'),r.b("\n"+n),r.b("	</span>"),r.b("\n"+n)}),e.pop())}),e.pop()),r.b("</div>"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("components/comment/views/comment_content",["require","backbone","i18n!nls/commons","hgn!components/comment/templates/comment_content","hgn!components/comment/templates/comment_print"],function(require){var e=require("backbone"),t=require("i18n!nls/commons"),n=require("hgn!components/comment/templates/comment_content"),r=require("hgn!components/comment/templates/comment_print"),i={comment:t["\ub313\uae00"]},s=e.View.extend({initialize:function(e){this.isReply=e.isReply,this.writable=e.writable,this.popupPrint=e.popupPrint||!1},render:function(){var e;return this.popupPrint?e=r:e=n,this.$el.html(e({lang:i,data:this.model.toJSON(),createdAt:GO.util.snsDate(this.model.get("createdAt")),hasAttach:this.model.hasAttach(),hasEmoticon:this.model.hasEmoticon(),emoticonPath:this.model.getEmoticonPath(),isReply:this.isReply&&this.model.id==this.model.get("thread"),content:GO.util.textToHtmlWithHyperLink(this.model.get("message")),writable:this.writable,position:this.model.get("writer").position||this.model.get("writer").positionName,thumbnail:this.model.get("writer").thumbnail||this.model.get("writer").thumbSmall})),this}});return s}),define("hgn!components/comment/templates/comment_form",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<span class="photo"><img src="'),r.b(r.v(r.d("user.thumbnail",e,t,0))),r.b('"></span>								'),r.b("\n"+n),r.b('<div class="msg_wrap">'),r.b("\n"+n),r.b('	<div class="compo_reply_create">'),r.b("\n"+n),r.s(r.f("isCreate",e,t,1),e,t,1,0,0,"")||(r.b('		<div class="info">'),r.b("\n"+n),r.b('			<span class="name">'),r.b(r.v(r.d("data.writer.name",e,t,0))),r.b(" "),r.s(r.d("data.writer.position",e,t,1),e,t,0,228,252,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b(n.v(n.d("data.writer.position",e,t,0)))}),e.pop()),r.b("</span>"),r.b("\n"+n),r.s(r.f("isReply",e,t,1),e,t,0,300,423,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('			<span class="btn_wrap"><span class="ic_classic ic_answer"></span><span class="txt_b">'),r.b(r.v(r.d("lang.comment",e,t,0))),r.b("</span></span>"),r.b("\n"+n)}),e.pop()),r.b('			<span class="date">'),r.b(r.v(r.f("createdAt",e,t,0))),r.b("</span>												"),r.b("\n"+n),r.b("		</div>"),r.b("\n"+n)),r.b('		<p class="form_wrap '),r.s(r.f("isCreate",e,t,1),e,t,1,0,0,"")||r.b("edit_mode"),r.b('" style="'),r.b(r.v(r.f("style3",e,t,0))),r.b('">'),r.b("\n"+n),r.b('			<span class="textarea_edit">'),r.b("\n"+n),r.b('				<textarea type="text" class="edit w_max" placeholder="'),r.b(r.v(r.d("lang.commentPlaceholder",e,t,0))),r.b('">'),r.b(r.v(r.d("data.message",e,t,0))),r.b("</textarea>"),r.b("\n"+n),r.b("			</span>"),r.b("\n"+n),r.b("		</p>"),r.b("\n"),r.b("\n"+n),r.b('		<div data-emoticon-edit-part class="'),r.s(r.f("hasEmoticon",e,t,1),e,t,0,815,827,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("thumb_append")}),e.pop()),r.b('">'),r.b("\n"+n),r.s(r.f("hasEmoticon",e,t,1),e,t,0,865,1092,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('			<img class="emoticon" id="commentEmoticonImg" src="'),r.b(r.v(r.f("emoticonPathSrc",e,t,0))),r.b('" data-item-path="'),r.b(r.v(r.f("emoticonPath",e,t,0))),r.b('" alt="" >'),r.b("\n"+n),r.b('			<a data-bypass class="ic ic_del_circle" data-emoticon-delete-btn title="'),r.b(r.v(r.d("lang.emoticonDelete",e,t,0))),r.b('"></a>'),r.b("\n"+n)}),e.pop()),r.b("		</div>"),r.b("\n"),r.b("\n"+n),r.b('		<div data-attaches-edit-part class="'),r.s(r.f("hasAttach",e,t,1),e,t,0,1171,1182,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b("wrap_attach")}),e.pop()),r.b('" id="commentAttachPart" '),r.s(r.f("hasAttach",e,t,1),e,t,1,0,0,"")||r.b('style="display:none"'),r.b(">"),r.b("\n"+n),r.b('			<ul class="file_wrap">'),r.b("\n"+n),r.s(r.f("files",e,t,1),e,t,0,1311,1730,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('				<li data-id="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-type="attach" data-path="'),r.b(r.v(r.f("path",e,t,0))),r.b('" data-name="'),r.b(r.v(r.f("name",e,t,0))),r.b('" data-size="'),r.b(r.v(r.f("size",e,t,0))),r.b('">'),r.b("\n"+n),r.b('					<span class="item_file">'),r.b("\n"+n),r.b('						<span class="btn_wrap">'),r.b("\n"+n),r.b('							<span class="ic_classic ic_del" title="'),r.b(r.v(r.d("lang.remove",e,t,0))),r.b('"></span>'),r.b("\n"+n),r.b("						</span>"),r.b("\n"+n),r.b('						<span class="ic_file '),r.b(r.v(r.f("icon",e,t,0))),r.b('"></span>'),r.b("\n"+n),r.b('						<span class="name">'),r.b(r.v(r.f("name",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b('						<span class="size">('),r.b(r.v(r.f("formattedSize",e,t,0))),r.b(")</span>"),r.b("\n"+n),r.b("					</span>"),r.b("\n"+n),r.b("				</li>"),r.b("\n"+n)}),e.pop()),r.b("			</ul>"),r.b("\n"+n),r.b('			<ul class="img_wrap">'),r.b("\n"+n),r.s(r.f("images",e,t,1),e,t,0,1790,2108,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('				<li data-id="'),r.b(r.v(r.f("id",e,t,0))),r.b('" data-type="attach" data-path="'),r.b(r.v(r.f("path",e,t,0))),r.b('" data-name="'),r.b(r.v(r.f("name",e,t,0))),r.b('" data-size="'),r.b(r.v(r.f("size",e,t,0))),r.b('">'),r.b("\n"+n),r.b('					<span class="item_image">'),r.b("\n"+n),r.b('						<span class="thumb"><img src="'),r.b(r.v(r.f("thumbSmall",e,t,0))),r.b('"></span>'),r.b("\n"+n),r.b('						<span class="btn_wrap">'),r.b("\n"+n),r.b('							<span class="ic_classic ic_del"></span>'),r.b("\n"+n),r.b("						</span>"),r.b("\n"+n),r.b("					</span>"),r.b("\n"+n),r.b("				</li>"),r.b("\n"+n)}),e.pop()),r.b("			</ul>"),r.b("\n"+n),r.b("		</div>"),r.b("\n"),r.b("\n"+n),r.b('		<div class="func" data-func-wrapper>'),r.b("\n"+n),r.b('			<a class="btn_ic24 btn_emoticon" id="emoticonBtn" el-backdrop-link data-bypass>'),r.b("\n"+n),r.b('				<span class="ic24 ic_emoticon"></span>'),r.b("\n"+n),r.b("			</a>"),r.b("\n"),r.b("\n"+n),r.b('			<span data-upload-btn class="btn_ic24 posi1" id="uploadBtn" style="'),r.b(r.v(r.f("style2",e,t,0))),r.b('">'),r.b("\n"+n),r.b('				<span class="ic24 ic_file_upload" id="fileControl"></span>'),r.b("\n"+n),r.b("			</span>"),r.b("\n"+n),r.s(r.f("isCreate",e,t,1),e,t,1,0,0,"")||(r.b('			<div class="optional" stype="display:">'),r.b("\n"+n),r.s(r.f("anonymFlag",e,t,1),e,t,0,2549,2839,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('				<span id="publicWriterSettingPart">'),r.b("\n"+n),r.b('					<span class="btn_action action_off">'),r.b("\n"+n),r.b("						<label>"),r.b("\n"+n),r.b('							<input type="checkbox" id="isOpenWriter" disabled="disabled" '),r.s(r.f("isPublicWriter",e,t,1),e,t,0,2733,2751,"{{ }}")&&(r.rs(e,t,function(e,t,n){n.b('checked="checked" ')}),e.pop()),r.b("> "),r.b(r.v(r.d("lang.public_writer",e,t,0))),r.b("\n"+n),r.b("						</label>"),r.b("\n"+n),r.b("					</span>"),r.b("\n"+n),r.b("				</span>"),r.b("\n"+n)}),e.pop()),r.b('				<span class="btn_minor_s" id="cancel"><span class="txt">'),r.b(r.v(r.d("lang.cancel",e,t,0))),r.b("</span></span>"),r.b("\n"+n),r.b('				<span class="btn_minor_s on" id="update"><span class="txt">'),r.b(r.v(r.d("lang.upload",e,t,0))),r.b("</span></span>"),r.b("\n"+n),r.b("			</div>"),r.b("\n"+n)),r.s(r.f("isCreate",e,t,1),e,t,0,3081,3241,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b('			<div class="optional">'),r.b("\n"+n),r.b('				<span class="btn_minor_s" id="create" style="'),r.b(r.v(r.f("style1",e,t,0))),r.b('">'),r.b("\n"+n),r.b('					<span class="txt">'),r.b(r.v(r.d("lang.upload",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("				</span>"),r.b("\n"+n),r.b("			</div>"),r.b("\n"+n)}),e.pop()),r.b("		</div>"),r.b("\n"+n),r.s(r.f("isCreate",e,t,1),e,t,0,3279,3637,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("anonymFlag",e,t,1),e,t,0,3297,3619,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.s(r.f("availableAnonymousWriterOptionInPostComment",e,t,1),e,t,0,3348,3568,"{{ }}")&&(r.rs(e,t,function(e,t,r){r.b("		<div>"),r.b("\n"+n),r.b('			<span id="publicWriterSettingPart">'),r.b("\n"+n),r.b('				<span class="btn_action action_off">'),r.b("\n"+n),r.b("					<label>"),r.b("\n"+n),r.b('						<input type="checkbox" id="isOpenWriter">'),r.b(r.v(r.d("lang.public_writer",e,t,0))),r.b("\n"+n),r.b("					</label>"),r.b("\n"+n),r.b("				</span>"),r.b("\n"+n),r.b("			</span>"),r.b("\n"+n),r.b("		</div>"),r.b("\n"+n)}),e.pop())}),e.pop())}),e.pop()),r.b("\n"+n),r.b("	</div>"),r.b("\n"),r.b("\n"+n),r.b('	<div id="progressArea" style="display:none;">'),r.b("\n"+n),r.b('		<span id="progressBarWriteWrap'),r.b(r.v(r.f("cid",e,t,0))),r.b('" style="margin:0px; display:inline-block; vertical-align:top; position:relative; padding:10px 17px 0 0; line-height:110%"></span>'),r.b("\n"+n),r.b("	</div>"),r.b("\n"),r.b("\n"+n),r.b("</div>"),r.b("\n"+n),r.b('<div class="action_wrap" style="display:none">'),r.b("\n"+n),r.b('	<span class="btn_fn4"><span class="ic_feed ic_edit_white"></span></span>'),r.b("\n"+n),r.b('	<span class="btn_fn4"><span class="ic_feed ic_del_white"></span></span>'),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("json!lang/ko/board.json",function(){return{"\uacf5\uc9c0":"\uacf5\uc9c0","\uacf5\uc9c0\uae00":"\uacf5\uc9c0\uae00","\uacf5\uc9c0\uae00 \ubcf4\uae30":"\uacf5\uc9c0\uae00 \ubcf4\uae30","\uacf5\uc9c0\uae00 \ub2eb\uae30":"\uacf5\uc9c0\uae00 \ub2eb\uae30","\uacf5\uc9c0 \ud574\uc81c":"\uacf5\uc9c0 \ud574\uc81c","\uacf5\uc9c0 \ub4f1\ub85d":"\uacf5\uc9c0 \ub4f1\ub85d","\uacf5\uc9c0\ub85c \ub4f1\ub85d":"\uacf5\uc9c0\ub85c \ub4f1\ub85d","\ub367\uae00 \uc218\uc815":"\ub313\uae00 \uc218\uc815","\ub367\uae00 \uc0ad\uc81c":"\ub313\uae00 \uc0ad\uc81c","\ub313\uae00 \uc791\uc131":"\ub313\uae00 \uc791\uc131","\ub354\ubcf4\uae30":"\ub354\ubcf4\uae30","\ub313\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\ub313\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uacf5\uc9c0\uc0ac\ud56d\uc5d0\uc11c \ub0b4\ub9ac\uc2dc\uaca0\uc2b5\ub2c8\uae4c":"\uacf5\uc9c0\uc0ac\ud56d\uc5d0\uc11c \ub0b4\ub9ac\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud574\uc81c\ud558\uae30":"\ud574\uc81c\ud558\uae30"
,"\uae00\uc4f0\uae30":"\uae00\uc4f0\uae30","\uae00\uc218\uc815":"\uae00\uc218\uc815","\ubd80\uc11c\uac8c\uc2dc\ud310":"\ubd80\uc11c\uac8c\uc2dc\ud310","\ud558\uc704\ubd80\uc11c \uac8c\uc2dc\ud310 \uc870\ud68c":"\ud558\uc704\ubd80\uc11c \uac8c\uc2dc\ud310 \uc870\ud68c","\ud558\uc704\ubd80\uc11c \uc804\uccb4":"\ud558\uc704\ubd80\uc11c \uc804\uccb4","\ubd80\uc11c":"\ubd80\uc11c","\uc804\uc0ac\uac8c\uc2dc\ud310":"\uc804\uc0ac\uac8c\uc2dc\ud310","\uc0c8 \uac8c\uc2dc\ud310":"\uac8c\uc2dc\ud310 \ucd94\uac00","\ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc0c8 \uae00\uc744 \uc791\uc131\ud560 \uc218 \uc788\ub294 \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc0c8 \uae00\uc744 \uc791\uc131\ud560 \uc218 \uc788\ub294 \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc18c\uc18d\ub41c \ubd80\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. \uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.":"\uc18c\uc18d\ub41c \ubd80\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br />\uc6b4\uc601\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.","\uc18c\uc18d\ub41c \ubd80\uc11c\uc5d0\uc11c \uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uace0 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uc18c\uc18d\ub41c \ubd80\uc11c\uc5d0\uc11c \uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uace0 \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc784\uc2dc \uc800\uc7a5\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc784\uc2dc \uc800\uc7a5\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\ubcf8\ubb38 \ub0b4\uc6a9":"\ubcf8\ubb38 \ub0b4\uc6a9","\ub313\uae00 \ub0b4\uc6a9":"\ub313\uae00 \ub0b4\uc6a9","\ucca8\ubd80\ud30c\uc77c \uba85":"\ucca8\ubd80\ud30c\uc77c \uba85","\uc791\uc131\uc790":"\uc791\uc131\uc790","\uc791\uc131\uc77c":"\uc791\uc131\uc77c","\uae30\uac04":"\uae30\uac04","\uc8fc\uc77c":"\uc8fc\uc77c","\uc9c1\uc811\uc120\ud0dd":"\uc9c1\uc811\uc120\ud0dd","\ub2ec\ub825\ubcf4\uae30":"\ub2ec\ub825\ubcf4\uae30","\ucd5c\uadfc\uae00":"\ucd5c\uadfc\uae00","\ub354 \ubcf4\uae30":"\ub354 \ubcf4\uae30","\ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uac8c\uc2dc\ud310\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uc544\ub798 \ubc84\ud2bc\uc744 \ud074\ub9ad\ud558\uc5ec, \uac8c\uc2dc\ud310\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.","\uc0c8 \uae00 \uc791\uc131\ud558\uae30":"\uc0c8 \uae00 \uc791\uc131\ud558\uae30","\uc791\uc131\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc791\uc131\ub41c \uac8c\uc2dc\uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \uc791\uc131":"\uac8c\uc2dc\uae00 \uc791\uc131","\ub9c1\ud06c \ucd94\uac00":"\ub9c1\ud06c \ucd94\uac00","\uc784\uc2dc \uc800\uc7a5\ub41c \uae00":"\uc784\uc2dc \uc800\uc7a5\ub41c \uae00","\u203b \ub098\uc640 \uc6b4\uc601\uc790\ub9cc \ubcfc \uc218 \uc788\ub3c4\ub85d \ube44\uacf5\uac1c\ub85c \uae00\uc744 \ub4f1\ub85d\ud569\ub2c8\ub2e4.":"\u203b \ub098\uc640 \uc6b4\uc601\uc790\ub9cc \ubcfc \uc218 \uc788\ub3c4\ub85d \ube44\uacf5\uac1c\ub85c \uae00\uc744 \ub4f1\ub85d\ud569\ub2c8\ub2e4.","\ub4f1\ub85d":"\ub4f1\ub85d","\uc784\uc2dc\uc800\uc7a5":"\uc784\uc2dc\uc800\uc7a5","\ub9c1\ud06c\uc785\ub825":"\ub9c1\ud06c\uc785\ub825","\uacf5\uc9c0 \uae30\uac04 \uc124\uc815":"\uacf5\uc9c0 \uae30\uac04 \uc124\uc815","\uc784\uc2dc\uc800\uc7a5 \ud588\uc2b5\ub2c8\ub2e4.":"\uc784\uc2dc\uc800\uc7a5 \ud588\uc2b5\ub2c8\ub2e4.","\uc785\ub825\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc785\ub825\ub41c \ub0b4\uc6a9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc81c\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc81c\ubaa9\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.":"{{arg1}}\uc790 \uc774\uc0c1, {{arg2}}\uc790 \uc774\ud558\ub97c \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4.","\uc785\ub825\ud558\uc2e0 \uc815\ubcf4\uac00 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.":"\uc785\ub825\ud558\uc2e0 \uc815\ubcf4\uac00 \ucd08\uae30\ud654\ub429\ub2c8\ub2e4.","1\uc8fc \ub3d9\uc548":"1\uc8fc \ub3d9\uc548","2\uc8fc \ub3d9\uc548":"2\uc8fc \ub3d9\uc548","1\ub2ec \ub3d9\uc548":"1\ub2ec \ub3d9\uc548","2\ub2ec \ub3d9\uc548":"2\ub2ec \ub3d9\uc548","\ubb34\uae30\ud55c \uacf5\uc9c0":"\ubb34\uae30\ud55c \uacf5\uc9c0","\uc0ac\uc6a9\uc790 \uae30\uac04\uc124\uc815":"\uc0ac\uc6a9\uc790 \uae30\uac04\uc124\uc815","\uc120\ud0dd\uac00\ub2a5\ud55c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc120\ud0dd\uac00\ub2a5\ud55c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\ub0a0\uc9dc \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.":"\ub0a0\uc9dc \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ud0c0\uc785\uc774 \ubcc0\uacbd\ub418\uba74 ,\uae30\uc874\uc5d0 \uc785\ub825\ud588\ub358 \ub0b4\uc6a9\uc740 \ubaa8\ub450 \uc0ad\uc81c\ub429\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310 \ud0c0\uc785\uc774 \ubcc0\uacbd\ub418\uba74, \uae30\uc874\uc5d0 \uc785\ub825\ud588\ub358 \ub0b4\uc6a9\uc740 \ubaa8\ub450 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ud604\uc7ac \uc791\uc131\uc911\uc778 \ub0b4\uc6a9\uc774 \uc788\uc2b5\ub2c8\ub2e4.<br>\ud654\uba74 \uc774\ub3d9 \uc2dc \uc791\uc131 \uc911\uc778 \ub0b4\uc6a9\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.<br>\uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\ud654\uba74 \uc774\ub3d9 \uc2dc \uc791\uc131 \uc911\uc778 \ub0b4\uc6a9\uc740 \uc0ac\ub77c\uc9d1\ub2c8\ub2e4.<br>\uc774\ub3d9\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc774\uc57c\uae30 \ud558\uae30":"\uc774\uc57c\uae30 \ud558\uae30","\ud22c\ud45c":"\ud22c\ud45c","\uc815\ub82c":"\uc815\ub82c","\uae00 \ub4f1\ub85d \uae30\uc900":"\uae00 \ub4f1\ub85d \uae30\uc900","\ub313\uae00 \ub4f1\ub85d \uae30\uc900":"\ub313\uae00 \ub4f1\ub85d \uae30\uc900","\uc608\uc804 \ud53c\ub4dc \ubcf4\uae30":"\uc608\uc804 \ud53c\ub4dc \ubcf4\uae30","\uc624\ub298\ub85c":"\uc624\ub298\ub85c","\uc8fc \uc804\uc73c\ub85c":"\uc8fc \uc804\uc73c\ub85c","\ub2ec \uc804\uc73c\ub85c":"\ub2ec \uc804\uc73c\ub85c","\uc0ac\uc6a9\uc790 \uc9c0\uc815":"\uc0ac\uc6a9\uc790 \uc9c0\uc815","\uc774\uc804 \uae00":"\uc774\uc804 \uae00","\ucd08\uc0c1\ud654":"\ucd08\uc0c1\ud654","\uc0d8\ud50c\uc774\ubbf8\uc9c0":"\uc0d8\ud50c\uc774\ubbf8\uc9c0","\uac1c\uc758 \ub367\uae00":"\uac1c\uc758 \ub313\uae00","\ubaa8\ub450 \ubcf4\uae30":"\ubaa8\ub450 \ubcf4\uae30","Plus 1 \ud55c \uc0ac\ub78c\ub4e4":"Plus 1 \ud55c \uc0ac\ub78c\ub4e4","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uae00\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uae00\uc744 \ub4f1\ub85d\ud574 \uc8fc\uc138\uc694.","\ucd5c\ub300 \ucca8\ubd80 \uac2f\uc218\ub294 0\uac1c \uc785\ub2c8\ub2e4.":"\ucd5c\ub300 \ucca8\ubd80 \uac2f\uc218\ub294 {{arg1}}\uac1c \uc785\ub2c8\ub2e4.","\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 0MB \uc785\ub2c8\ub2e4.":"\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 {{arg1}}MB \uc785\ub2c8\ub2e4.","\ud655\uc7a5\uc790\uac00 \ub561\ub561\uc778 \uac83\ub4e4\uc740 \ucca8\ubd80 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud655\uc7a5\uc790\uac00 [{{arg1}}]\uc778 \ud30c\uc77c\uc740 \ucca8\ubd80\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\ubd80\uc11c\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30":"\ubd80\uc11c\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30","\uba64\ubc84\uc5d0\uac8c \uc54c\ub9ac\uae30":"\uba64\ubc84\uc5d0\uac8c \uc54c\ub9ac\uae30","\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ubd80\uc11c\uc6d0\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694.":"\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ubd80\uc11c\uc6d0\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694.","\uc798\ubabb\ub41c url\uc785\ub2c8\ub2e4.":"\uc798\ubabb\ub41c url\uc785\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ucd94\uac00":"\uac8c\uc2dc\ud310 \ucd94\uac00","\uac8c\uc2dc\ud310 \ucd94\uac00\ud558\uae30":"\uac8c\uc2dc\ud310 \ucd94\uac00\ud558\uae30","\uc704\uce58":"\uc704\uce58","\uc124\uba85":"\uc124\uba85","\uc720\ud615":"\uc720\ud615","\ud074\ub798\uc2dd":"\ud074\ub798\uc2dd","\ud53c\ub4dc":"\ud53c\ub4dc","\uc6b4\uc601\uc790":"\uc6b4\uc601\uc790","\uc6b4\uc601\uc790 \ucd94\uac00":"\uc6b4\uc601\uc790 \ucd94\uac00","\uc6b4\uc601\uc790 \uc120\ud0dd":"\uc6b4\uc601\uc790 \uc120\ud0dd","\uac8c\uc2dc\ud310 \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.":"\uac8c\uc2dc\ud310 \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694.","\uc6b4\uc601\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.":"\uc6b4\uc601\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.","\uacf5\uc720":"\uacf5\uc720","\uacf5\uc720 \uc124\uba85":"\ub2e4\ub978 \ubd80\uc11c\ub97c \uc9c0\uc815\ud558\uc5ec \uac8c\uc2dc\ud310\uc744 \uacf5\uc720 \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc0ac\uc6a9\ud568":"\uc0ac\uc6a9\ud568","\uacf5\uc720\ubd80\uc11c\uc9c0\uc815":"\u203b \uac8c\uc2dc\ud310\uc744 \uacf5\uc720\ud560 \ubd80\uc11c\ub97c \uc9c0\uc815\ud558\uc138\uc694.","\uacf5\uc720\ubd80\uc11c \uc120\ud0dd":"\uacf5\uc720\ubd80\uc11c \uc120\ud0dd","\uacf5\uc720\ud560 \ubd80\uc11c\ub97c \uc120\ud0dd\ud558\uc138\uc694.":"\uacf5\uc720\ud560 \ubd80\uc11c\ub97c \uc120\ud0dd\ud558\uc138\uc694.","\ud558\uc704 \ubd80\uc11c\uc5d0 \uacf5\uc720\ud568":"\ud558\uc704 \ubd80\uc11c\uc5d0 \uacf5\uc720\ud568","\ud558\uc704 \ubd80\uc11c \ud3ec\ud568":"\ud558\uc704 \ubd80\uc11c \ud3ec\ud568","\uc5f4\ub78c, \uc791\uc131 \ubaa8\ub450 \ud5c8\uc6a9":"\uc5f4\ub78c, \uc791\uc131 \ubaa8\ub450 \ud5c8\uc6a9","\uc5f4\ub78c\ub9cc \ud5c8\uc6a9":"\uc5f4\ub78c\ub9cc \ud5c8\uc6a9","\ud2b9\uc815 \ubd80\uc11c\uc640 \uacf5\uc720\ud568":"\ud2b9\uc815 \ubd80\uc11c\uc640 \uacf5\uc720\ud568","\uacf5\uc720 \ubd80\uc11c \ucd94\uac00":"\uacf5\uc720 \ubd80\uc11c \ucd94\uac00","\uacf5\uac1c \uc124\uc815":"\uacf5\uac1c \uc124\uc815","\ube44\uacf5\uac1c \uc124\uc815":"\ube44\uacf5\uac1c \uc124\uc815","\uc791\uc131\uad8c\ud55c":"\uc791\uc131\uad8c\ud55c","\uacf5\uac1c \uc124\uc815 \uc124\uba85":"\uc77c\ubd80 \uba64\ubc84\ub97c \uc9c0\uc815\ud558\uc5ec \uac8c\uc2dc\ud310\uc744 \uacf5\uac1c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uacf5\uac1c \uba64\ubc84 \uc9c0\uc815":"\u203b \uac8c\uc2dc\ud310\uc744 \uacf5\uac1c\ud560 \uba64\ubc84\ub97c \uc9c0\uc815\ud558\uc138\uc694.","\uacf5\uac1c \ubd80\uc11c \uba64\ubc84 \uc124\uc815":"\uacf5\uac1c\ud560 \ubd80\uc11c\uc758 \uba64\ubc84 \uc124\uc815","\ubd80\uc11c\uba85":"\ubd80\uc11c\uba85","\ubd80\uc11c \uacf5\uac1c \uc5ec\ubd80":"\ubd80\uc11c \uacf5\uac1c \uc5ec\ubd80","\ub9cc\ub4e4\uae30":"\ub9cc\ub4e4\uae30","\uc911\uc9c0":"\uc911\uc9c0","\uac8c\uc2dc\ud310 \uc911\uc9c0":"\uac8c\uc2dc\ud310 \uc911\uc9c0","\uac8c\uc2dc\ud310 \uc911\uc9c0 \uc124\uba85":"\uac8c\uc2dc\ubb3c\uc744 \uc791\uc131\ud560 \uc218 \uc5c6\uc73c\uba70, \uc5f4\ub78c\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \uc0ad\uc81c":"\uac8c\uc2dc\ud310 \uc0ad\uc81c","\uac8c\uc2dc\ud310 \uc0ad\uc81c \uc124\uc815":"\uac8c\uc2dc\ud310 \ubc0f \uac8c\uc2dc\ud310 \ub0b4 \ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \uc0ad\uc81c \ud655\uc778":"\uac8c\uc2dc\ud310 \ubc0f \uac8c\uc2dc\ud310 \ub0b4 \ubaa8\ub4e0 \ub370\uc774\ud130\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4.<br />\uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub098":"\ub098","\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.":"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694.","\ubd80\uc11c\uac00 \uc124\uc815\ub418\uc9c0 \uc54a\uc544 \uac8c\uc2dc\ud310\uc744 \ucd94\uac00 \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ubd80\uc11c\uac00 \uc124\uc815\ub418\uc9c0 \uc54a\uc544 \uac8c\uc2dc\ud310\uc744 \ucd94\uac00\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\ucd1d":"\ucd1d","\uac74":"\uac74","\ucd1d 0\uac74":"\ucd1d <strong>{{arg1}}</strong>\uac74","\uac8c\uc2dc\ud310 \uc8fc\uc18c":"\uac8c\uc2dc\ud310 \uc8fc\uc18c","\uc218\uc2e0\uc790":"\uc218\uc2e0\uc790","\uc774\uba54\uc77c \uc218\uc2e0":"\uc774\uba54\uc77c \uc218\uc2e0","\uc774\uba54\uc77c \uc218\uc2e0\uc790":"\uc774\uba54\uc77c \uc218\uc2e0\uc790","\ub4f1\ub85d\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub4f1\ub85d\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc120\ud0dd\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\ub97c \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uc120\ud0dd\ub41c \uc774\uba54\uc77c \uc218\uc2e0\uc790\ub97c \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc774\uba54\uc77c \uc218\uc2e0\uc790 \uc120\ud0dd":"\uc774\uba54\uc77c \uc218\uc2e0\uc790 \uc120\ud0dd","\uc0ad\uc81c\ud560 \uc218\uc2e0\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.":"\uc0ad\uc81c\ud560 \uc218\uc2e0\uc790\ub97c \uc120\ud0dd\ud558\uc138\uc694.","\ucd94\uac00\ud558\uae30":"\ucd94\uac00\ud558\uae30","\uacf5\uac1c/\uacf5\uc720 \ud604\ud669 \ubcf4\uae30":"\uacf5\uac1c/\uacf5\uc720 \ud604\ud669 \ubcf4\uae30","\uacf5\uac1c/\uacf5\uc720 \ud604\ud669":"\uacf5\uac1c/\uacf5\uc720 \ud604\ud669","\uacf5\uac1c/\uacf5\uc720 \ub300\uc0c1":"\uacf5\uac1c/\uacf5\uc720 \ub300\uc0c1","\uacf5\uac1c/\uacf5\uc720 \uc124\uba85":"\ud604\uc7ac \uac8c\uc2dc\ud310\uc758 \uacf5\uac1c/\uacf5\uc720 \ud604\ud669\uc744 \uc54c\ub824\ub4dc\ub9bd\ub2c8\ub2e4.","\uacf5\uac1c/\uacf5\uc720\ub41c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uacf5\uac1c/\uacf5\uc720\ub41c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uacf5\uac1c/\uacf5\uc720\ub41c \uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uacf5\uac1c/\uacf5\uc720\ub41c \uba64\ubc84\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.","\uacf5\uac1c \ud604\ud669":"\uacf5\uac1c \ud604\ud669","\uacf5\uac1c \ud604\ud669 \ubcf4\uae30":"\uacf5\uac1c \ud604\ud669 \ubcf4\uae30","\uacf5\uac1c \ub300\uc0c1":"\uacf5\uac1c \ub300\uc0c1","\uacf5\uac1c \uc124\uba85":"\ud604\uc7ac \uac8c\uc2dc\ud310\uc758 \uacf5\uac1c \ud604\ud669\uc744 \uc54c\ub824\ub4dc\ub9bd\ub2c8\ub2e4.","\uc804\uccb4\uacf5\uac1c \uac8c\uc2dc\ud310\uc785\ub2c8\ub2e4.":"\uc804\uccb4\uacf5\uac1c \uac8c\uc2dc\ud310\uc785\ub2c8\ub2e4.","\ubd80\uc11c\uacf5\uac1c\uc5ec\ubd80":"\ubd80\uc11c\uacf5\uac1c\uc5ec\ubd80","\uba64\ubc84\ud655\uc778":"\uba64\ubc84\ud655\uc778","\uc804\uccb4\uacf5\uac1c":"\uc804\uccb4\uacf5\uac1c","\uc77c\ubd80\ub9cc \uacf5\uac1c":"\uc77c\ubd80\ub9cc \uacf5\uac1c","\uac8c\uc2dc\ud310\uc8fc\uc18c\ubcf5\uc0acIE":"\uac8c\uc2dc\ud310 \uc8fc\uc18c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uc6d0\ud558\uc2dc\ub294 \uacf3\uc5d0\uc11c \ubd99\uc5ec\ub123\uae30(Ctrl+v)\ud558\uc138\uc694.","\uac8c\uc2dc\ud310\uc8fc\uc18c\ubcf5\uc0acETC":"\uac8c\uc2dc\ud310 \uc8fc\uc18c\uc785\ub2c8\ub2e4. Ctrl+C\ub97c \ub20c\ub7ec \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud558\uc138\uc694.","\uac8c\uc2dc\uae00\uc8fc\uc18c\ubcf5\uc0acIE":"\uac8c\uc2dc\uae00 \uc8fc\uc18c\uac00 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uc6d0\ud558\uc2dc\ub294 \uacf3\uc5d0\uc11c \ubd99\uc5ec\ub123\uae30(Ctrl+v)\ud558\uc138\uc694.","\uac8c\uc2dc\uae00\uc8fc\uc18c\ubcf5\uc0acETC":"\uac8c\uc2dc\uae00 \uc8fc\uc18c\uc785\ub2c8\ub2e4. Ctrl+C\ub97c \ub20c\ub7ec \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ud558\uc138\uc694.","\uc0c8\uae00\uc4f0\uae30":"\uc0c8\uae00\uc4f0\uae30","\ubc88\ud638":"\ubc88\ud638","\ub4f1\ub85d\uc790":"\ub4f1\ub85d\uc790","\ub4f1\ub85d\uc77c":"\ub4f1\ub85d\uc77c","\uc870\ud68c":"\uc870\ud68c","\ud50c\ub7ec\uc2a4":"\ud50c\ub7ec\uc2a4","\ud50c\ub7ec\uc2a4 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ud50c\ub7ec\uc2a4 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc804\uccb4\uae30\uac04":"\uc804\uccb4\uae30\uac04","\uac1c\uc6d4":"\uac1c\uc6d4","\ub144":"\ub144","\uae30\uac04\uc785\ub825":"\uae30\uac04\uc785\ub825","\uc81c\ubaa9+\ub0b4\uc6a9":"\uc81c\ubaa9+\ub0b4\uc6a9","\uc81c\ubaa9\ub9cc":"\uc81c\ubaa9\ub9cc","\uae00\uc791\uc131\uc790":"\uae00\uc791\uc131\uc790","\uc791\uc131\ub41c\uae00\uc5c6\uc74c":"\uc0c8\ub85c\uc6b4 \uc815\ubcf4, \uae30\ubd84 \uc88b\uc740 \uc18c\uc2dd\uc744 \ub3d9\ub8cc\ub4e4\uacfc \uacf5\uc720\ud558\uc138\uc694.","\uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc0ad\uc81c\ud655\uc778\uba54\uc138\uc9c0":"\uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\uac00 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br>\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub313\uae00\uc0ad\uc81c\ud655\uc778\uba54\uc138\uc9c0":"\ub313\uae00\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\uac00 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br>\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac8c\uc2dc\ud310\uc73c\ub85c \uc774\ub3d9\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc73c\ub85c \uc774\ub3d9\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c \uc774\ub3d9":"\uac8c\uc2dc\ubb3c \uc774\ub3d9","\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00":"\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00","\uac8c\uc2dc\ubb3c\uc744 \uc774\ub3d9\uc2dc\ud0ac \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\uac8c\uc2dc\ubb3c\uc744 \uc774\ub3d9\uc2dc\ud0ac \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.","\ub313\uae00\uc774 \ub4f1\ub85d\ub41c \uae00\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\ub313\uae00\uc774 \ub4f1\ub85d\ub41c \uae00\uc740 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \uc774\ub3d9\ud569\ub2c8\ub2e4.":"\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \uc774\ub3d9\ud569\ub2c8\ub2e4.","\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \uc774\ub3d9\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \uc774\ub3d9\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.","arg1\uac1c\uc758 \uae00\uc774 \uc120\ud0dd\ud574\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"{{arg1}}\uac1c\uc758 \uae00\uc774 \uc120\ud0dd\ud574\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\ub9c8\uc9c0\ub9c9 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.":"\ub9c8\uc9c0\ub9c9 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.","\uc5f4\ub78c\uad8c\ud55c\uc774 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.":"\uc5f4\ub78c\uad8c\ud55c\uc774 \uc5c6\ub294 \uac8c\uc2dc\ubb3c\uc785\ub2c8\ub2e4.","\uc774\ub3d9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc774\ub3d9\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120":"\uad6c\ubd84\uc120","\uad6c\ubd84\uc120 \ucd94\uac00":"\uad6c\ubd84\uc120 \ucd94\uac00","\uc21c\uc11c \ubc14\uafb8\uae30":"\uc21c\uc11c \ubc14\uafb8\uae30","\uc21c\uc11c\ubc14\uafb8\uae30 \uc644\ub8cc":"\uc21c\uc11c\ubc14\uafb8\uae30 \uc644\ub8cc","\uac8c\uc2dc\ud310 \uad00\ub9ac":"\uac8c\uc2dc\ud310 \uad00\ub9ac","\uac8c\uc2dc\ud310 \uad00\ub9ac \uc124\uba85":"\uc6b0\ub9ac \ubd80\uc11c\uc5d0 \uac1c\uc124\ub41c \uac8c\uc2dc\ud310 \uc21c\uc11c\ub97c \ubcc0\uacbd\ud558\uac70\ub098, \uc911\uc9c0 \ub610\ub294 \uc0ad\uc81c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uc0ac\uc6a9\uc911":"\uc0ac\uc6a9\uc911","\uac8c\uc2dc\uae00 \uc218":"\uac8c\uc2dc\uae00 \uc218","\uac1c\uc124\uc77c":"\uac1c\uc124\uc77c","\uc911\uc9c0\uc77c":"\uc911\uc9c0\uc77c","\uc0ac\uc6a9\uc911\uc778 \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc0ac\uc6a9\uc911\uc778 \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br />\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?":"\uad6c\ubd84\uc120\uc744 \uc0ad\uc81c\ud558\uba74 \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. <br />\uacc4\uc18d \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\ub2f5\uae00":"\ub2f5\uae00","\ub2f5\uae00\uc4f0\uae30":"\ub2f5\uae00\uc4f0\uae30","\ub313\uae00":"\ub313\uae00","\ucca8\ubd80\ud30c\uc77c":"\ucca8\ubd80\ud30c\uc77c","\ub313\uae00 \uc218\uc815":"\ub313\uae00 \uc218\uc815","\ub313\uae00 \uc0ad\uc81c":"\ub313\uae00 \uc0ad\uc81c","\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.":"\ub313\uae00\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.","\uac1c":"\uac1c","\uc758 \ucee4\ubba4\ub2c8\ud2f0 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uc758 \ucee4\ubba4\ub2c8\ud2f0 \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \n\uac8c\uc2dc\ud310\uc744 \uc0dd\uc131\ud558\uc5ec, \uae00\uc744 \ub4f1\ub85d \ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ub9cc\ub4e4\uae30":"\uac8c\uc2dc\ud310 \ub9cc\ub4e4\uae30","\ucee4\ubba4\ub2c8\ud2f0\uac8c\uc2dc\ud310":"\ucee4\ubba4\ub2c8\ud2f0\uac8c\uc2dc\ud310","\uc5f4\ub78c\uc790 \uc120\ud0dd":"\uc5f4\ub78c\uc790 \uc120\ud0dd","\uc5f4\ub78c\uc790 \ucd94\uac00":"\uc5f4\ub78c\uc790 \ucd94\uac00","\uac8c\uc2dc\ud310 \uc5f4\ub78c\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.":"\uac8c\uc2dc\ud310 \uc5f4\ub78c\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.","\uacf5\uac1c \uba64\ubc84 \ucd94\uac00":"\uacf5\uac1c \uba64\ubc84 \ucd94\uac00","\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.":"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694.","\ub9d0\uba38\ub9ac":"\ub9d0\uba38\ub9ac","\ub9d0\uba38\ub9ac \uc120\ud0dd":"\ub9d0\uba38\ub9ac \uc120\ud0dd","\ub9d0\uba38\ub9ac \uc804\uccb4":"\ub9d0\uba38\ub9ac \uc804\uccb4","\ub9d0\uba38\ub9ac \uc81c\ubaa9":"\ub9d0\uba38\ub9ac \uc81c\ubaa9","\ub9d0\uba38\ub9ac \ucd94\uac00":"\ub9d0\uba38\ub9ac \ucd94\uac00","\ub9d0\uba38\ub9ac\uba85 \uc785\ub825":"\ub9d0\uba38\ub9ac\uba85 \uc785\ub825","\ubaa8\ubc14\uc77c \uac8c\uc2dc\uae00 \uc218\uc815\ubd88\uac00 \uba54\uc138\uc9c0":"PC\uc5d0\uc11c \ub4f1\ub85d\ud55c \uac8c\uc2dc\ubb3c\uc740 \ubaa8\ubc14\uc77c\uc5d0\uc11c \uc218\uc815\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc774\ubbf8\uc9c0 \uc0ad\uc81c":"\uc774\ubbf8\uc9c0 \uc0ad\uc81c","\ub0b4\uc6a9 \uc0ad\uc81c":"\ub0b4\uc6a9 \uc0ad\uc81c","\uba54\ud0c0 \ub370\uc774\ud130 \uc0ad\uc81c":"\uba54\ud0c0 \ub370\uc774\ud130 \uc0ad\uc81c","\ub9c1\ud06c \uba54\ud0c0\uc815\ubcf4 \ud0c0\uc774\ud2c0":"\ub9c1\ud06c \uba54\ud0c0\uc815\ubcf4 \ud0c0\uc774\ud2c0","\uba54\ud0c0\uc815\ubcf4 \uc774\ubbf8\uc9c0":"\uba54\ud0c0\uc815\ubcf4 \uc774\ubbf8\uc9c0","\uac8c\uc2dc\ud310 \uc720\ud615\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u203b \uac8c\uc2dc\ud310 \uc720\ud615\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c \ub4f1\ub85d\uc2dc \ubc18\ub4dc\uc2dc \uc120\ud0dd\ud558\uac8c \ud568":"\uac8c\uc2dc\ubb3c \ub4f1\ub85d\uc2dc \ubc18\ub4dc\uc2dc \uc120\ud0dd\ud558\uac8c \ud568","\ub9d0\uba38\ub9ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.":"\ub9d0\uba38\ub9ac\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.","\ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694.":"\ub9c1\ud06c\ub97c \uc785\ub825\ud558\uc138\uc694.","\uac8c\uc2dc\ud310 \uc120\ud0dd":"\uac8c\uc2dc\ud310 \uc120\ud0dd","\uac8c\uc2dc\ud310 {{arg1}}\ub85c \uc774\ub3d9":"\ud574\ub2f9 \uac8c\uc2dc\ud310\uc744 {{arg1}}(\uc73c)\ub85c \uc774\uad00\ud569\ub2c8\ub2e4.</br>\uac8c\uc2dc\ud310\uc774 \uc774\uad00\ub418\ub354\ub77c\ub3c4 \uacf5\uc720 \uc124\uc815\uc740 \uadf8\ub300\ub85c \uc720\uc9c0\ub429\ub2c8\ub2e4.</br>\uc774\uad00\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.":"\uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.","\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310 \uad00\ub9ac":"\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310","\uac8c\uc2dc \uae30\uac04":"\uac8c\uc2dc \uae30\uac04","\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ud648":"\uac8c\uc2dc\ud310 \ud648","\ucd5c\uc2e0\uae00 \ubaa8\uc74c":"\ucd5c\uc2e0\uae00 \ubaa8\uc74c","\uc804\uccb4 \uac8c\uc2dc\ud310":"\uc804\uccb4 \uac8c\uc2dc\ud310","\uac8c\uc2dc\ud310 \uc911\uc9c0 \ud655\uc778":"\uac8c\uc2dc\ud310\uc744 \uc911\uc9c0\ud558\uba74 '\uc911\uc9c0\ub41c \uac8c\uc2dc\ud310'\uc5d0\uc11c<br> \uac8c\uc2dc\ud310\uc744 \uacc4\uc18d \uc5f4\ub78c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.<br> \uc911\uc9c0\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc815\uc0c1\uc73c\ub85c \ubcc0\uacbd \uc54c\ub9bc":"\uc120\ud0dd\ud55c \uac8c\uc2dc\ud310\uc758 \uc0c1\ud0dc\ub97c '\uc815\uc0c1'\uc73c\ub85c \ubcc0\uacbd\ud569\ub2c8\ub2e4. <br> \ubcc0\uacbd\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc544\uc9c1 \ub4f1\ub85d\ub41c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc990\uaca8\ucc3e\uae30 \uac8c\uc2dc\ud310 \uc5c6\uc74c":"<li class='classic'><p class='data_null'><span class='ic_data_type ic_no_contents'></span><br><span class='txt'>\uc544\uc9c1 \uc990\uaca8\ucc3e\uae30\ub85c \uc124\uc815\ud55c \uac8c\uc2dc\ud310\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.</span><br><br></p></li>","\ucd5c\uc18c 1\uac1c ~ \ucd5c\ub300 3\uac1c":"\ucd5c\uc18c 1\uac1c ~ \ucd5c\ub300 3\uac1c","\uc120\ud0dd\ub41c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4":"\uc120\ud0dd\ub41c \uac8c\uc2dc\ubb3c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4","\uac8c\uc2dc\ud310\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310\uc740 10\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc740 10\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c \ubcf5\uc0ac":"\uac8c\uc2dc\ubb3c \ubcf5\uc0ac","* \uc6d0\uae00 \ubcf5\uc0ac\uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.":"* \uc6d0\uae00 \ubcf5\uc0ac\uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.","\uac8c\uc2dc\ubb3c\uc744 \ubcf5\uc0ac\ud560 \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"\uac8c\uc2dc\ubb3c\uc744 \ubcf5\uc0ac\ud560 \uac8c\uc2dc\ud310\uc744 \uc120\ud0dd\ud558\uc138\uc694.","\uac8c\uc2dc\ud310\uc73c\ub85c \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\ud310\uc73c\ub85c \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","* \uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \ubcf5\uc0ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"* \uc6d0\uae00\uc774 \uc0ad\uc81c\ub41c \ub2f5\uae00\uc740 \ubcf5\uc0ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.":"\uc6d0\uae00 \uc774\ub3d9 \uc2dc, \ub2f5\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4.","\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \ubcf5\uc0ac\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\ub2f5\uae00\uc740 \uc6d0\uae00\uacfc \ud568\uaed8 \ubcf5\uc0ac\uc2dc\ud0ac \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ucd94\uac00 \uc120\ud0dd":"\uac8c\uc2dc\ud310 \ucd94\uac00 \uc120\ud0dd","(10\uac1c\uae4c\uc9c0 \uac00\ub2a5)":"(10\uac1c\uae4c\uc9c0 \uac00\ub2a5)","\ub3d9\uc77c\ud55c \uac8c\uc2dc\ud310\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ub3d9\uc77c\ud55c \uac8c\uc2dc\ud310\uc774 \uc120\ud0dd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uac8c\uc2dc\uae00\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc870\ud68c\ud55c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc870\ud68c\ud55c \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \ub300\ud45c\uc6b4\uc601\uc790 \ud45c\uc2dc":"{{args1}}\uc678 {{args2}}\uba85","\uac8c\uc2dc\ud310 \uadf8\ub8f9 \uc0ad\uc81c":"\uac8c\uc2dc\ud310 \uadf8\ub8f9 \uc0ad\uc81c","\uad6c\ubd84\uc120 \uc0ad\uc81c":"\uad6c\ubd84\uc120 \uc0ad\uc81c","\uac8c\uc2dc\ud310 \ub178\ub4dc \uc0ad\uc81c \uba54\uc2dc\uc9c0":"[{{args1}}] \uc744(\ub97c) \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?","\uac8c\uc2dc\ud310 \uadf8\ub8f9 \ucd94\uac00":"\uadf8\ub8f9 \ucd94\uac00","\ubaa8\ub450 \uc5f4\uae30":"\ubaa8\ub450 \uc5f4\uae30","\ubaa8\ub450 \ub2eb\uae30":"\ubaa8\ub450 \ub2eb\uae30","\uc0c8\ub85c\uc6b4 \uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":"\uc0c8\ub85c\uc6b4 \uadf8\ub8f9\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694","\uc0c8\ub85c\uc6b4 \uad6c\ubd84\uc120\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":"\uc0c8\ub85c\uc6b4 \uad6c\ubd84\uc120\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694","\uadf8\ub8f9\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uadf8\ub8f9\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uadf8\ub8f9\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uadf8\ub8f9\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uad6c\ubd84\uc120\uc774 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uad6c\ubd84\uc120\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uad6c\ubd84\uc120\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4","\uc21c\uc11c\ubcc0\uacbd\uc774 \uc801\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4":"\uc21c\uc11c\ubcc0\uacbd\uc774 \uc801\uc6a9\ub418\uc5c8\uc2b5\ub2c8\ub2e4","\uac8c\uc2dc\ud310\uc911\uc9c0 \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac8c\uc2dc\ud310\uc774 \uc911\uc9c0\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.","\ubcf5\uc218\uac1c \uac8c\uc2dc\ud310\uc911\uc9c0 \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac1c\uc758 \uac8c\uc2dc\ud310\uc774 \uc911\uc9c0\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc911\uc9c0\ub41c \uac8c\uc2dc\ud310\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.","\uac8c\uc2dc\ud310\uc0ad\uc81c \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac8c\uc2dc\ud310\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\ubcf5\uc218\uac1c \uac8c\uc2dc\ud310\uc0ad\uc81c \uc548\ub0b4\uba54\uc2dc\uc9c0":"[{{arg1}}] \uac1c\uc758 \uac8c\uc2dc\ud310\uc774 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310\uc774 \uc788\uac70\ub098 \ud558\uc704\uadf8\ub8f9\uc774 \uc788\ub294 \uacbd\uc6b0 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":"\uac8c\uc2dc\ud310\uc774 \uc788\uac70\ub098 \ud558\uc704\uadf8\ub8f9\uc774 \uc788\ub294 \uacbd\uc6b0 \uc0ad\uc81c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4","\uac8c\uc2dc\ud310\uadf8\ub8f9 \uc120\ud0dd":"\uac8c\uc2dc\ud310\uadf8\ub8f9 \uc120\ud0dd","\uac8c\uc2dc\ud310\uadf8\ub8f9\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4":"\uac8c\uc2dc\ud310\uadf8\ub8f9\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310\uadf8\ub8f9":"\uac8c\uc2dc\ud310\uadf8\ub8f9","\uc775\uba85 \uc124\uc815":"\uc775\uba85 \uc124\uc815","\u203b \uc775\uba85 \uc124\uc815\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"\u203b \uc775\uba85 \uc124\uc815\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud558\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uadf8\ub8f9\uba85\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\uadf8\ub8f9\uba85\uc774 \uc911\ubcf5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc0c1\uc704\uadf8\ub8f9\uc744 \ud558\uc704\uadf8\ub8f9\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4":"\uc0c1\uc704\uadf8\ub8f9\uc744 \ud558\uc704\uadf8\ub8f9\uc73c\ub85c \uc774\ub3d9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\ud310 \uac8c\uc2dc":"\uac8c\uc2dc\ud310 \uac8c\uc2dc","\ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d":"\ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d","\u203b \uacf5\uc9c0\uae00\uc774 \ub4f1\ub85d\ub418\uba74 \uac8c\uc2dc\ud310\uc758 \ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d\ub429\ub2c8\ub2e4.":"\u203b \uacf5\uc9c0\uae00\uc774 \ub4f1\ub85d\ub418\uba74 \uac8c\uc2dc\ud310\uc758 \ucd5c\uc0c1\ub2e8\uc5d0 \ub4f1\ub85d\ub429\ub2c8\ub2e4.","\uc804\uc0ac\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30":"\uc804\uc0ac\uc6d0\uc5d0\uac8c \uc54c\ub9ac\uae30","\uacf5\uc720\uac8c\uc2dc\ud310":"\uacf5\uc720\uac8c\uc2dc\ud310","\uba54\uc77c\uc54c\ub9bc\uc548\ub0b4":"\uac8c\uc2dc\ud310 \uc811\uadfc\uc774 \uac00\ub2a5\ud55c \uc784\uc9c1\uc6d0\uc5d0\uac8c \ud574\ub2f9 \ub0b4\uc6a9 \ubc0f \ucca8\ubd80\ud30c\uc77c\uc774 \uba54\uc77c\ub85c \ubc1c\uc1a1\ub418\ub2c8 \uc8fc\uc758\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.","\uc88b\uc544\uc694":"\uc88b\uc544\uc694","\uc88b\uc544\uc694 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc88b\uc544\uc694 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.","\uc5f4\ub78c\uad8c\ud55c \ubcf5\uc0ac \ubb38\uad6c":"* \uc6d0\uae00 \ubcf5\uc0ac \uc2dc \ub313\uae00\ub3c4 \ud568\uaed8 \ubcf5\uc0ac\ub429\ub2c8\ub2e4. <br>\ub2e8 \ube44\uacf5\uac1c \uc124\uc815 > \uc5f4\ub78c \uad8c\ud55c\uc740 \ubcf5\uc0ac\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \uc5f4\ub78c\uad8c\ud55c \ud234\ud301":"\uac8c\uc2dc\uae00 \ub2e8\uc704\ub85c \uc5f4\ub78c\uc790\ub97c \uc124\uc815\ud560 \uc218 \uc788\ub3c4\ub85d \ud5c8\uc6a9\ud569\ub2c8\ub2e4. \ud5c8\uc6a9 \uc124\uc815 \uc774\ud6c4\uc5d0\ub294 \uc218\uc815\uc774 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \ubcc4 \uc5f4\ub78c\uc790 \uc124\uc815":"\uac8c\uc2dc\uae00 \ubcc4 \uc5f4\ub78c\uc790 \uc124\uc815","\uc5f4\ub78c \uad8c\ud55c":"\uc5f4\ub78c \uad8c\ud55c","\ube44\uacf5\uac1c \ubb38\uc11c \uc81c\ubaa9 \ud45c\uc2dc":"\ube44\uacf5\uac1c \ubb38\uc11c \uc81c\ubaa9 \ud45c\uc2dc","\uc81c\ubaa9\ub9cc \ud45c\uc2dc":"\uc81c\ubaa9\ub9cc \ud45c\uc2dc","\ube44\uacf5\uac1c \ubb38\uc11c\ub85c \ud45c\uc2dc":"\ube44\uacf5\uac1c \ubb38\uc11c\ub85c \ud45c\uc2dc","\ube44\uacf5\uac1c \ubb38\uc11c \uc81c\ubaa9 \ud45c\uc2dc \uc124\uba85":"\u203b \ube44\uacf5\uac1c \ubb38\uc11c\uc758 \uc81c\ubaa9 \ud45c\uc2dc \ubc29\uc2dd\uc744 \uc124\uc815\ud569\ub2c8\ub2e4.<br>(\uc6b4\uc601\uc790 \ubc0f \ud5c8\uc6a9\ub41c \uc0ac\uc6a9\uc790\uc5d0\uac8c\ub9cc \uc81c\ubaa9\uc774 \ud45c\uc2dc\ub429\ub2c8\ub2e4.)","\ube44\uacf5\uac1c\uae00 \uc5f4\ub78c\uc790 \uc124\uc815 \uc548\ub0b4\ubb38\uad6c":"\u203b \uc774 \uac8c\uc2dc\uae00\uc744 \uacf5\uac1c\ud560 \uc0ac\uc6a9\uc790\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694. \ubbf8\uc120\ud0dd \uc2dc \uc6b4\uc601\uc790\uc5d0\uac8c\ub9cc \uacf5\uac1c\ub429\ub2c8\ub2e4.","\uac8c\uc2dc\uae00 \uc5f4\ub78c\ubd88\uac00 \uba54\uc138\uc9c0":"\ube44\uacf5\uac1c \uac8c\uc2dc\uae00\uc744 \uc5f4\ub78c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uc6b4\uc601\uc790, \uc791\uc131\uc790, \uc5f4\ub78c\uc790\ub9cc \uc5f4\ub78c\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.","\ubaa8\ubc14\uc77c URL \ubcf5\uc0ac \ubb38\uad6c":"URL\uc774 \ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4.","\uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815":"\uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815","\uc791\uc131\uc790 \uacf5\uac1c":"\uc791\uc131\uc790 \uacf5\uac1c","\uac8c\uc2dc\ubb3c \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9":"\uac8c\uc2dc\ubb3c \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9","\ub313\uae00 \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9":"\ub313\uae00 \uc791\uc131\uc790 \uacf5\uac1c \uc124\uc815 \ud5c8\uc6a9","\uc775\uba85 \uc124\uc815 \ud234\ud301":"\uc775\uba85 \uc124\uc815\uc740 \ub098\uc911\uc5d0 \ubcc0\uacbd\ud560 \uc218 \uc5c6\uc73c\uba70 '\uac8c\uc2dc\ubb3c', '\ub313\uae00' \uc791\uc131\uc790 \uacf5\uac1c \uc5ec\ubd80\ub97c \uc9c0\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.","\uacf5\uc720 \ubd80\uc11c \uc124\uc815":"\uacf5\uc720 \ubd80\uc11c \uc124\uc815","\uc0ac\uc6a9\uc790 \uc120\ud0dd":"\uc0ac\uc6a9\uc790 \uc120\ud0dd","\uc0ac\uc6a9\uc790 \ucd94\uac00":"\uc0ac\uc6a9\uc790 \ucd94\uac00","\uc775\uba85 \uc635\uc158 \uc0ac\uc6a9\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.":"\uc775\uba85 \uc635\uc158 \uc0ac\uc6a9\uc790\ub97c \ucd94\uac00\ud558\uc138\uc694.","\uc775\uba85 \uc635\uc158 \uc124\uc815 \uc5ec\ubd80":"\uc775\uba85 \uc635\uc158 \uc124\uc815 \uc5ec\ubd80","\uc0ac\uc6a9\uc790 \uc124\uc815":"\uc0ac\uc6a9\uc790 \uc124\uc815","\uc124\uc815 \ud5c8\uc6a9 \uc5ec\ubd80":"\uc124\uc815 \ud5c8\uc6a9 \uc5ec\ubd80","\uc775\uba85 \uc635\uc158 \uba64\ubc84 \uc124\uc815":"\uc775\uba85 \uc635\uc158 \uba64\ubc84 \uc124\uc815","\uba64\ubc84 \ucd94\uac00":"\uba64\ubc84 \ucd94\uac00"}}),define("board/nls/board",["require","json!lang/ko/board.json","json!lang/ko/custom.json"],function(require){var e=require("json!lang/ko/board.json"),t=require("json!lang/ko/custom.json");return{root:_.extend(e,t.board||{}),en:!0,ja:!0,zh_CN:!0,zh_TW:!0,vi:!0}}),define("components/comment/views/comment_form",["require","backbone","app","hgn!components/comment/templates/comment_form","components/comment/collections/comment","i18n!nls/commons","i18n!board/nls/board","file_upload","jquery.go-validation"],function(require){var e=require("backbone"),t=require("app"),n=require("hgn!components/comment/templates/comment_form"),r=require("components/comment/collections/comment"),i=require("i18n!nls/commons"),s=require("i18n!board/nls/board"),o=require("file_upload");require("jquery.go-validation");var u={comment:i["\ub313\uae00"],save:i["\uc800\uc7a5"],cancel:i["\ucde8\uc18c"],write:i["\ub313\uae00 \uc791\uc131"],alert_length:i["0\uc790\uc774\uc0c1 0\uc774\ud558 \uc785\ub825\ud574\uc57c\ud569\ub2c8\ub2e4."],public_writer:s["\uc791\uc131\uc790 \uacf5\uac1c"],remove:i["\uc0ad\uc81c"],upload:i["\ub4f1\ub85d"],emoticonDelete:i["\uc774\ubaa8\ud2f0\ucf58 \uc0ad\uc81c"],commentPlaceholder:i["\ub313\uae00\uc744 \ub0a8\uaca8\ubcf4\uc138\uc694"]},a=!1,f={};return e.View.extend({attributes:{"data-comment-form":""},events:{"mouseover #uploadBtn":"initUploader","click span.ic_del":"deleteAttach","click [data-emoticon-delete-btn]":"deleteEmoticon","click [data-upload-btn]":"_validClickAttaches","click #emoticonBtn":"toggleEmoticonGroup","click #create":"submit","click #update":"submit","keyup textarea":"keyCheck","keyup textarea":"expandTextArea"},initialize:function(e){this.typeUrl=e.typeUrl,this.typeId=e.typeId,this.commentId=e.commentId||null,this.uid=e.uid,this.isSaaS=GO.session().brandName=="DO_SAAS",this.totalAttachSize=0,this.totalAttachCount=0,this.anonymFlag=e.anonymFlag,this.availableAnonymousWriterOptionInPostComment=e.availableAnonymousWriterOptionInPostComment||!1,this.isPublicWriter=e.isPublicWriter||!1,this.model||this.commentModelInit(),e.emoticonView&&(f=e.emoticonView)},render:function(){var e="",t="",r="";return GO.util.isIE8()&&(e="position:absolute;right:0px;bottom:1px;background:#fff;height:20px;",t="position:absolute;right:80px;bottom:2px;padding:0;width:36px;height:26px;",r=this.model.isNew()?"margin-right: 123px !important;":""),this.$el.html(n({typeId:this.typeId,lang:u,data:this.model.toJSON(),isCreate:this.model.isNew(),createdAt:this.model.createdAtStr(),user:GO.session(),hasAttach:this.model.hasAttach(),hasEmoticon:this.model.hasEmoticon(),emoticonPath:this.model.get("emoticonPath"),emoticonPathSrc:this.model.getEmoticonPath(),files:this.model.getFiles(),images:this.model.getImages(),cid:this.cid,anonymFlag:this.anonymFlag,isPublicWriter:this.isPublicWriter,availableAnonymousWriterOptionInPostComment:this.availableAnonymousWriterOptionInPostComment,style1:e,style2:t,style3:r})),this},keyCheck:function(e){e.shiftKey&&e.keyCode==13&&this.submit()},expandTextArea:function(e){this._updateStyleCreateBtn($(e.currentTarget).parents(".form_wrap")),GO.util.textAreaExpand(e)},commentModelInit:function(){this.model=new r,this.model.set({typeUrl:this.typeUrl,typeId:this.typeId,attaches:[]})},deleteAttach:function(e){var t=$(e.currentTarget).parents("li[data-name]"),n=t.parents("#commentAttachPart");t.remove(),n.find("li").length||(n.hide(),this._updateStyleCreateBtn(n))},deleteEmoticon:function(e){var t=$(e.currentTarget).parent();t.empty(),t.removeClass(),this._updateStyleCreateBtn(t)},toggleEmoticonGroup:function(e){console.info("toggleEmoticonGroup"),e.preventDefault(),e.stopPropagation();if(f.hasAttaches($(e.currentTarget)))return!1;f.renderEmoticonGroup($(e.currentTarget))},submit:function(e){if(!this.validate())return;f.moveToMainEmoticonView($(e.currentTarget));var t=this.model.get("attaches").length,n=this;this.model.isCalendar()&&this.commentId&&this.model.set({thread:this.commentId});if(a)return;var r=this.$el.find("#isOpenWriter").is(":checked");this.model.save({commentId:this.commentId,message:this.$("textarea").val(),attaches:this.getAttaches(),emoticonPath:this.$el.find("#commentEmoticonImg").attr("data-item-path"),publicWriter:r},{beforeSend:function(){a=!0},success:function(e,r){n.$el.trigger("change:attach",e.get("attaches").length-t),n.$el.trigger("change:log"),n.$el.trigger("comment:reset"),n.$("#create").removeClass("on"),n.$("textarea").val("").removeAttr("style"),n.$("#commentAttachPart").removeClass("option_display").find("li").remove(),n.$("[data-emoticon-edit-part]").removeClass("thumb_append").empty(),n.commentModelInit()},complete:function(){a=!1},error:function(e,t){$.goError(t.responseJSON.message)}})},validate:function(){var e=!0,n=this.$("textarea").val();if(!n||!$.goValidation.isCheckLength(2,1e3,$.trim(n)))$.goMessage(t.i18n(u.alert_length,{arg1:"2",arg2:"1000"})),e=!1;return e},_validClickAttaches:function(e){if(!_.isUndefined(f)&&f.hasSelectedEmoticon($(e.currentTarget)))return!1},_updateStyleCreateBtn:function(e){var t=e.parents(".msg_wrap").find("[data-func-wrapper]").find("#create"),n=e.parents(".msg_wrap").find("#commentAttachPart"),r=e.parents(".msg_wrap").find("[data-emoticon-edit-part]"),i=e.parents(".msg_wrap").find(".form_wrap").find("textarea");n.find("li").length<1&&r.find("img").length<1&&i.val().length<1?t.removeClass("on"):t.addClass("on")},getAttaches:function(){var e=this.$("#commentAttachPart").find("li:not(.attachError)");return _.map(e,function(e){var t=$(e);return{id:t.attr("data-id"),path:t.attr("data-path"),name:t.attr("data-name"),hostId:t.attr("host-id"),size:t.attr("data-size")}})},initUploader:function(e){$(e.currentTarget).attr("id","");var t=this.initFileUpload(this.$("#fileControl"),this);t.done(function(){if(GO.util.msie()){var t=$(e.currentTarget).find("object");t.hide(),setTimeout(function(){t.show()},200)}})},initFileUpload:function(e,t){var n=this,r={el:e,context_root:GO.contextRoot,button_text:"",url:"api/file?GOSSOcookie="+$.cookie("GOSSOcookie"),mode:"COMMENT",button_width:36,progressEl:"#progressBarWriteWrap"+this.cid},s=GO.config("attachSizeLimit")?parseInt(GO.config("maxAttachSize")):parseInt(GO.config("commonAttachConfig").maxAttachSize),u=s*1024*1024,a=GO.config("attachNumberLimit")?parseInt(GO.config("maxAttachNumber")):parseInt(GO.config("commonAttachConfig").maxAttachNumber),l=(new o(r)).queue(function(e,t){}).start(function(e,t){if(!_.isUndefined(f)&&f.hasSelectedEmoticon($(e.currentTarget)))return!1;if(!GO.config("attachFileUpload"))return $.goAlert(i["\ud30c\uc77c\ucca8\ubd80\uc6a9\ub7c9\ucd08\uacfc"]),!1;if(n.isSaaS||GO.config("attachSizeLimit")){if(u<t.size)return $.goMessage(GO.i18n(i["\ucca8\ubd80\ud560 \uc218 \uc788\ub294 \ucd5c\ub300 \uc0ac\uc774\uc988\ub294 0MB \uc785\ub2c8\ub2e4."],"arg1",s)),!1;n.totalAttachSize+=t.size}if(n.isSaaS||GO.config("attachNumberLimit")){var r=$("#commentAttachPart").find("li").length+n.totalAttachCount+1;if(a<r)return $.goMessage(GO.i18n(i["\ucd5c\ub300 \ucca8\ubd80 \uac2f\uc218\ub294 0\uac1c \uc785\ub2c8\ub2e4."],"arg1",a)),!1;n.totalAttachCount++}}).progress(function(e,t){n.$("#commentAttachPart").show(),n.$("#progressArea").show()}).success(function(e,t,r){var i=GO.util.isImage(t.data.fileExt),s=n.$("#commentAttachPart");s.addClass("wrap_attach");if(GO.util.fileUploadErrorCheck(t))r.find(".item_file").append("<strong class='caution'>"+GO.util.serverMessage(t)+"</strong>"),r.addClass("attachError");else if(GO.util.isFileSizeZero(t))return s.find("li").length==0&&s.css("display","none"),$.goAlert(GO.util.serverMessage(t)),!1;r.attr("data-size",t.data.fileSize),i?s.find("ul.img_wrap").append(r):s.find("ul.file_wrap").append(r),n._updateStyleCreateBtn(s),n.resetAttachSizeAndCount()}).complete(function(e,t){}).error(function(e,t){t.jqXHR&&(t.jqXHR.statusText=="abort"?$.goAlert(i["\ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."]):$.goAlert(i["\uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4."]),n.resetAttachSizeAndCount())});return l.deferred},getViewedTotalAttachSize:function(e){var t=0;return $(e).find("li").each(function(){t+=parseInt(this.getAttribute("data-size"),0)}),t},resetAttachSizeAndCount:function(){this.isSaaS&&(this.totalAttachSize=0,this.totalAttachCount=0)}})}),function(){define("attach_file/main",["backbone","GO.util"],function(e){function n(){var e=$.Deferred();return r()?require(["components/attach_file/views/m_attach_files"],function(t){e.resolve(t)}):require(["components/attach_file/views/attach_files"],function(t){e.resolve(t)}),e}function r(){var e=GO.config("deviceType"),t=$.cookie("pcVersion"),n=!0;switch(e){case"pc":n=!1;break;case"tablet":t?t&&t==="true"&&(n=!1):n=!1;break;case"mobile":t&&t==="true"&&(n=!1)}return n}var t=e.View.extend({initialize:function(e){}},{create:function(e,t,r,i){var s=n(),o=$.Deferred();return s.done(function(n){var s=n.create(e,t,r,i);o.resolve(s)}),o},edit:function(e,t,r,i){var s=n(),o=$.Deferred();return s.done(function(n){var s=n.edit(e,t,r,i);o.resolve(s)}),o},makeTempItem:function(e,t){var r=n(),i=$.Deferred();return r.done(function(n){var r={id:e.id,name:e.fileName,extention:e.fileExt,filePath:e.filePath,size:e.fileSize,thumbSmall:e.thumbnail,preview:e.preview,hostId:e.hostId,download:!1,mode:e.mode},s=n.makeItem(r,t);i.resolve(s)}),i}});return t})}.call(this),define("attach_file",["attach_file/main"],function(e){return e}),define("components/backdrop/backdrop",["require"],function(require){return Backbone.View.extend({initialize:function(){this.$el.attr("el-backdrop",this.cid),this.backdropToggleEl=this.$el,this.bindBackdrop()},setBackdropElement:function(e){this.backdropToggleEl=e},linkBackdrop:function(e){e.attr("el-backdrop-link",this.cid),this.links||(this.links=[]),this.links.push(e)},bindBackdrop:function(){if(this.alreadyBind)return;this.alreadyBind=!0,$(document).on("backdrop."+this.cid,$.proxy(function(e){this._onBackdrop(e)},this))},unBindBackdrop:function(){$(document).off("backdrop."+this.cid)},toggle:function(e){var t=e!=this._isVisible();this.backdropToggleEl||this._setBackdropToggleEl(),this.backdropToggleEl.toggle(e),t&&(e?this.afterShow():this.afterHide())},afterShow:function(){},afterHide:function(){},remove:function(){$(document).off("backdrop."+this.cid),Backbone.View.prototype.remove.apply(this,arguments)},_onBackdrop:function(e){if($(e.relatedTarget).closest(this.backdropToggleEl).length>0){this.toggle(!0);return}var t=!1,n=!1;_.each(this.links,function(r){if(r.length==0)r=r.selector;else{if(r.attr("disabled")==="disabled")return;if(!r.is(":visible"))return}if($(e.relatedTarget).closest(r).length>0)return n=!0,typeof r=="string"?t=$(r).attr("backdrop-toggle"):t=r.attr("backdrop-toggle"),!1});if(n){t=t?!this._isVisible():!0,this.toggle(t);return}this.toggle(!1)},_isVisible:function(){return this.backdropToggleEl||this._setBackdropToggleEl(),this.backdropToggleEl.is(":visible")},_setBackdropToggleEl:function(){if(!this.backdropToggleElSelector){console.warn("backdropToggleElSelector is not specified.");return}this.backdropToggleEl=typeof this.backdropToggleElSelector=="object"?this.backdropToggleElSelector:this.$(this.backdropToggleElSelector)}})}),define("hgn!components/emoticon/templates/emoticons",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div data-emoticon-group-wrapper onselectstart="return false" >\r'),r.b("\n"+n),r.b('    <div class="container">\r'),r.b("\n"+n),r.b('        <div class="nav_emoticon" data-emoticon-tab-wrapper>\r'),r.b("\n"+n),r.b('            <div class="wrap_list_emoticon" style="">\r'),r.b("\n"+n),r.b('                <ul class="list_emoticon" data-emoticon-tab-ul style="left: 0">\r'),r.b("\n"+n),r.b("                </ul>\r"),r.b("\n"+n),r.b("            </div>\r"),r.b("\n"+n),r.b("        </div>\r"),r.b("\n"+n),r.b('        <div class="wrap_list_emoticon scroll_y">\r'),r.b("\n"+n),r.b('            <ul class="list_emoticon" data-emoticon-item-ul>\r'),r.b("\n"+n),r.b("            </ul>\r"),r.b("\n"+n),r.b("        </div>\r"),r.b("\n"+n),r.b("    </div>\r"),r.b("\n"+n),r.b("</div>\r"),r.b("\n"+n),r.b("\r"),r.b("\n"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("components/emoticon/views/emoticons",["require","backbone","i18n!nls/commons","components/backdrop/backdrop","hgn!components/emoticon/templates/emoticons"],function(require){var e=require("backbone"),t=require("i18n!nls/commons"),n=require("components/backdrop/backdrop"),r=require("hgn!components/emoticon/templates/emoticons"),i={next:t["\ub2e4\uc74c"]},s=0,o=0,u=7;return e.View.extend({attributes:{"data-emoticons-wrapper":""},initialize:function(e){this.options=e||{},this._init()},render:function(){return this.groups=GO.emoticonGroups(),this.$el.html(r({lang:i,baseImgUrl:GO.contextRoot+GO.config("emoticonBaseUrl")})),this._backdrop(),this},_init:function(){s=0,o=0},renderEmoticonGroup:function(e){$("[data-emoticon-group-wrapper]").hide();var t=e.parents("[data-replies-wrapper]").find("[data-emoticon-group-wrapper]");t.addClass("layer_normal layer_emoticon"),t.insertAfter(e),this._renderTab(t.find("[data-emoticon-tab-ul]")),this._renderLeftRightBtn(t),this._renderItem(t.find("[data-emoticon-item-ul]"),this.groups[o].groupKey),t.show()},_renderTab:function(e){e.empty();for(var t=s;t<u+s;t++){if(e.find("[data-group-key="+this.groups[t].groupKey+"]").length)continue;var n=t===o?"btn_emoticon on":"btn_emoticon",r=GO.config("emoticonBaseUrl")+"/"+this.groups[t].groupKey+"/"+this.groups[t].tabItemName;e.append('<li><button type="button" class="'+n+'" data-group-key="'+this.groups[t].groupKey+'">'+'<img class="emoticon" src="'+r+'" alt=""></button></li>')}e.find("[data-group-key]").on("click",$.proxy(this._onClickNavi,this))},_renderLeftRightBtn:function(e){var n=e.find("[data-emoticon-tab-wrapper]");n.find('[data-route="previous"]').length<1&&n.prepend('<button class="btn_arrow" title="'+t["\ub2e4\uc74c"]+'" data-route="previous"><span class="ic ic_prev2"></span></button>'),n.find('[data-route="next"]').length<1&&n.append('<button class="btn_arrow" title="'+t["\ub2e4\uc74c"]+'" data-route="next"><span class="ic ic_next2"></span></button>'),e.find("[data-route]").on("click",$.proxy(this._moveToGroup,this))},_renderItem:function(e,t){var n=_.find(this.groups,function(e){return e.groupKey===t},this),r=(n.itemCount+"").length;e.empty();for(var i=1;i<n.itemCount+1;i++){var s=GO.util.numberPad(i,r),o="/"+n.groupKey+"/"+n.namePrefix+s+"."+n.extension,u=GO.config("emoticonBaseUrl")+o;e.append('<li><button type="button" class="btn_emoticon" data-item-path="'+o+'" data-emoticon-item>'+'<img class="emoticon" src="'+u+'" alt=""> </button></li>')}e.find("[data-emoticon-item]").on("click",$.proxy(this._onClickItem,this))},_onClickNavi:function(e){var t=$(e.currentTarget);t.parents("[data-emoticon-tab-ul]").find("[data-group-key]").removeClass("on"),t.addClass("on");var n=t.attr("data-group-key");_.each(this.groups,function(e,t){e.groupKey===n&&(o=t)});var r=t.parents("[data-emoticon-tab-wrapper]").siblings(".scroll_y").find("[data-emoticon-item-ul]");this._renderItem(r,t.attr("data-group-key"))},_onClickItem:function(e){e.preventDefault(),e.stopPropagation();var n=$(e.currentTarget),r=GO.config("emoticonBaseUrl")+n.attr("data-item-path"),i=n.parents("[data-func-wrapper]").siblings("[data-emoticon-edit-part]");i.addClass("thumb_append"),i.siblings("[data-func-wrapper]").find("#create").addClass("on"),i.find("#commentEmoticonImg").length<1?i.append('<img class="emoticon" id="commentEmoticonImg" src="'+r+'" data-selected-emoticon data-item-path="'+n.attr("data-item-path")+'" alt="" >'+'<a data-bypass class="ic ic_del_circle" data-emoticon-delete-btn title="'+t["\uc774\ubaa8\ud2f0\ucf58 \uc0ad\uc81c"]+'"></a>'):(i.find("#commentEmoticonImg").attr("src",r),i.find("#commentEmoticonImg").attr("data-item-path",n.attr("data-item-path"))),$("[data-emoticon-group-wrapper]").hide()},_moveToGroup:function(e){var t=$(e.currentTarget).attr("data-route"),n=s;t==="previous"?n=s>0?s-1:0:t==="next"&&(n=s+u<this.groups.length?s+1:s);if(n!==s){s=n;var r=$(e.currentTarget).siblings(".wrap_list_emoticon").find("[data-emoticon-tab-ul]");this._renderTab(r)}},_backdrop:function(){var e=new n;e.backdropToggleEl=this.$("[data-emoticon-group-wrapper]"),e.linkBackdrop(this.$("[el-backdrop-link]")),e.bindBackdrop()},hasSelectedEmoticon:function(e){return e.parents("[data-func-wrapper]").siblings("[data-emoticon-edit-part]").find("img").length>0?($.goMessage(t["\uc120\ud0dd\ud55c \uc774\ubaa8\ud2f0\ucf58 \uc0ad\uc81c \ud6c4 \ud30c\uc77c\uc744 \ucca8\ubd80\ud574\uc8fc\uc138\uc694."]),!0):!1},hasAttaches:function(e){return e.parents("[data-func-wrapper]").siblings("[data-attaches-edit-part]").find("li:not(.attachError)").length>0?($.goMessage(t["\ucca8\ubd80 \ud30c\uc77c \uc0ad\uc81c \ud6c4 \uc774\ubaa8\ud2f0\ucf58\uc744 \uc120\ud0dd \ud574\uc8fc\uc138\uc694."]),!0):!1},getSelectedEmoticonImgSrc:function(e){var t=e.parents("[data-func-wrapper]").siblings("[data-emoticon-edit-part]").find("img");if(t.length>0)return t.attr("data-item-path")},moveToMainEmoticonView:function(e){var t=e.parents("[data-replies-wrapper]"),n=t.find("[data-emoticon-group-wrapper]"),r=t.find("[data-comment-main-edit]").siblings("[data-emoticons-wrapper]");n.insertAfter(r)}})}),define("components/comment/views/comment_item",["require","backbone","i18n!nls/commons","components/comment/views/comment_content","components/comment/views/comment_form","attach_file","components/emoticon/views/emoticons"],function(require){var e=require("backbone"),t=require("i18n!nls/commons"),n=require("components/comment/views/comment_content"),r=require("components/comment/views/comment_form"),i=require("attach_file"),s=require("components/emoticon/views/emoticons"),o=e.View.extend({tagName:"li",events:{"click #edit":"renderEditForm","click #delete":"destroy","click #cancel":"cancel","click #reply":"toggleReplyForm"},initialize:function(e){this.rootUrl=e.rootUrl,this.rootId=e.rootId,this.typeUrl=e.typeUrl,this.typeId=e.typeId,this.isWritable=e.isWritable,this.isReply=e.isReply&&this.isWritable,this.uid=e.uid,this.popupPrint=e.popupPrint||!1,this.availableAnonymousWriterOptionInPostComment=e.availableAnonymousWriterOptionInPostComment||!1,this.anonymFlag=e.anonymFlag||!1,this.isPublicWriter=e.model?e.model.get("publicWriter")||!1:!1,this.emoticon=new s,this.model.set({typeUrl:this.typeUrl,typeId:this.typeId})},render:function(){return this.commentView=new n({model:this.model,isReply:this.isReply,writable:this.isWritable,popupPrint:this.popupPrint}),this.$el.html(this.commentView.render().el),this.renderAttachView(),this.model.isThread()&&this.$el.addClass("depth_in"),this},renderEditForm:function(){this.commentForm=new r({model:this.model,uid:this.uid,anonymFlag:this.anonymFlag,availableAnonymousWriterOptionInPostComment:this.availableAnonymousWriterOptionInPostComment,isPublicWriter:this.isPublicWriter}),this.$el.html(this.commentForm.render().el),this.commentForm.$("textarea").trigger("keyup"),this.$el.addClass("reply_create reply_edit"),this.model.isThread()&&this.$el.addClass("reply_create")},destroy:function(){var e=this,n=function(){e.model.destroy({success:function(t,n){e.$el.trigger("change:attach",0-t.get("attaches").length),e.$el.trigger("change:log"),e.$el.trigger("comment:reset"),e.$el.remove()},error:function(e,t){$.goError(t.responseJSON.message)}})};$.goCaution(t["\ub313\uae00 \uc0ad\uc81c"],t["\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],n)},cancel:function(e){this.emoticon.moveToMainEmoticonView($(e.currentTarget)),this.render(),this.$el.removeClass("reply_create reply_edit")},renderAttachView:function(){var e=this,t=this.isBoard()?"/attaches/":"/download/";this.model.get("attaches").length&&i.create(this.$("#attachPart"),this.model.get("attaches"),function(n){return GO.contextRoot+"api/"+e.rootUrl+"/"+e.rootId+"/comment/"+e.model.id+t+n.id})},isBoard:function(){return this.rootUrl.split("/")[0]=="board"},toggleReplyForm:function(e){var n=this.$("#reply").find("span.txt_b");if(this.replyForm)this.emoticon.moveToMainEmoticonView($(e.currentTarget)),this.replyForm.remove(),this.replyForm=null,n.text(t["\ub313\uae00"]);else{var i=$("<li class='depth_in reply_create'></li>"),s=new r({typeUrl:this.typeUrl,typeId:this.typeId,commentId:this.model.id,uid:this.uid,availableAnonymousWriterOptionInPostComment:this.availableAnonymousWriterOptionInPostComment||!1,anonymFlag:this.anonymFlag||!1});this.replyForm=i.append(s.render().el),this.$el.after(this.replyForm),n.text(t["\ucde8\uc18c"])}}});return o}),define("hgn!components/comment/templates/comment_print_frame",["hogan"],function(e){var t=new e.Template({code:function(e,t,n){var r=this;return r.b(n=n||""),r.b('<div class="article_reply">'),r.b("\n"+n),r.b('	<div class="reply_wrap">'),r.b("\n"+n),r.b('		<ul class="reply additional" id="comment_reply">'),r.b("\n"+n),r.b('			<li class="view_option" data-role="button">'),r.b("\n"+n),r.b('				<span class="ic_classic ic_reply"></span>'),r.b("\n"+n),r.b('				<span class="txt_b">'),r.b(r.v(r.d("lang.\ub313\uae00",e,t,0))),r.b('<span id="commentCount" class="num txt_b">'),r.b(r.v(r.f("commentCount",e,t,0))),r.b("</span>"),r.b(r.v(r.d("lang.\uac1c",e,t,0))),r.b("</span>"),r.b("\n"+n),r.b("			</li>"),r.b("\n"+n),r.b("		</ul>"),r.b("\n"),r.b("\n"+n),r.b('		<div id="replyArea" class="reply_wrap">'),r.b("\n"+n),r.b('			<ul class="reply" id="comment_creat">'),r.b("\n"+n),r.b("			</ul>"),r.b("\n"+n),r.b("		</div>"),r.b("\n"+n),r.b("	</div>"),r.b("\n"+n),r.b("</div>"),r.fl()},partials:{},subs:{}},"",e);return function(){return t.render.apply(t,arguments)}}),define("comment/comment",["require","backbone","components/comment/collections/comments","components/comment/views/comment_item","components/comment/views/comment_form","hgn!components/comment/templates/comment_print_frame","components/emoticon/views/emoticons","i18n!nls/commons","jquery.go-validation"],function(require){var e=require("backbone"),t=require("components/comment/collections/comments"),n=require("components/comment/views/comment_item"),r=require("components/comment/views/comment_form"),i=require("hgn!components/comment/templates/comment_print_frame"),s=require("components/emoticon/views/emoticons"),o=require("i18n!nls/commons");require("jquery.go-validation");var u={"\ub313\uae00":o["\ub313\uae00"],"\uac1c":o["\uac1c"]},a=e.View.extend({initialize:function(e){this.typeUrl=e.typeUrl,this.typeId=e.typeId,this.rootUrl=e.rootUrl||e.typeUrl,this.rootId=e.rootId||e.typeId,this.isReply=e.hasOwnProperty("isReply")?e.isReply:!0,this.isPrintMode=e.isPrintMode,this.onAfterRender=_.bind(this.options.onAfterRender||function(){},this),this.isWritable=e.isWritable==undefined?!0:e.isWritable,this.popupPrint=e.popupPrint||!1,this.anonymFlag=e.anonymFlag,this.availableAnonymousWriterOptionInPostComment=e.availableAnonymousWriterOptionInPostComment||!1,this.emoticonView=new s({}),this.isPrintMode&&(this.isWritable=!this.isPrintMode),this.collection=new t({typeUrl:this.typeUrl,typeId:this.typeId}),this.collection.on("reset",this.renderList,this);var n=this;this.$el.on("comment:reset",function(){n.fetchComments(!0).done(function(){n.$el.trigger("comment:change",[n.typeUrl,n.collection.length])})})},render:function(){this.$el.html('<ul class="reply"></ul>');if(this.isWritable){var e=new r({typeUrl:this.typeUrl,typeId:this.typeId,uid:this.cid,anonymFlag:this.anonymFlag,availableAnonymousWriterOptionInPostComment:this.availableAnonymousWriterOptionInPostComment,emoticonView:this.emoticonView});this.$el.append(e.render().el),e.$el.addClass("reply_create"),e.$el.attr("data-comment-main-edit",!0)}return this.$el.append(this.emoticonView.render().el),this},renderList:function(){this.$("ul.reply").children().remove(),this.popupPrint&&this.$el.html(i({lang:u})),this.collection.each(function(e){this.addOne(e)},this),this.$("#commentCount").append(this.collection.length),this.$("ul.reply").find("li:last").addClass("last"),this.onAfterRender(this)},addOne:function(e){var t=new n({model:e,rootUrl:this.rootUrl,rootId:this.rootId,typeUrl:this.typeUrl,typeId:this.typeId,isReply:this.isReply,isWritable:this.isWritable,uid:this.cid,popupPrint:this.popupPrint,availableAnonymousWriterOptionInPostComment:this.availableAnonymousWriterOptionInPostComment,anonymFlag:this.anonymFlag||!1});this.popupPrint?this.$("#comment_creat").append(t.render().el):this.$("ul.reply").append(t.render().el)},fetchComments:function(e){var t=e||!1,n=this.collection.fetch({data:{offset:1e3},async:t,reset:!0});return t?n:this},setComments:function(e){this.collection.set(e)}});return{render:function(e){var t=this.init(e);return t.render().fetchComments()},init:function(e){return new a(e)}}}),define("comment",["comment/comment"],function(e){return e}),define("calendar/views/event_detail",["require","underscore","backbone","moment","hogan","app","formspy","calendar/libs/recurrence_parser","calendar/libs/util","calendar/models/event","calendar/collections/calendars","calendar/helpers/regist_form","calendar/views/alarm_popup_layer","calendar/helpers/form_attendees","calendar/helpers/form_reminder","calendar/helpers/form_field","calendar/helpers/event_remove_confirm_layer","text!calendar/templates/_detail_top.html","calendar/views/external_attendee","calendar/views/calendar_log","comment","calendar/views/attendees_schedule_layer","i18n!calendar/nls/calendar","i18n!nls/commons","jquery.autocomplete","jquery.ui","jquery.go-popup","jquery.go-orgslide"],function(require){var e=require("underscore"),t=require("backbone"),n=require("moment"),r=require("hogan"),i=require("app"),s=require("formspy"),o=require("calendar/libs/recurrence_parser"),u=require("calendar/libs/util"),a=require("calendar/models/event"),f=require("calendar/collections/calendars"),l=require("calendar/helpers/regist_form"),c=require("calendar/views/alarm_popup_layer"),h=require("calendar/helpers/form_attendees"),p=require("calendar/helpers/form_reminder"),d=require("calendar/helpers/form_field"),v=require("calendar/helpers/event_remove_confirm_layer"),m=require("text!calendar/templates/_detail_top.html"),g=require("calendar/views/external_attendee"),y=require("calendar/views/calendar_log"),b=require("comment"),w=require("calendar/views/attendees_schedule_layer"),E=require("i18n!calendar/nls/calendar"),S=require("i18n!nls/commons");require("jquery.autocomplete"),require("jquery.ui"),require("jquery.go-popup"),require("jquery.go-orgslide");var x=500,T={"public":"public","private":"private"},N={allday:"allday",timed:"timed"},C=t.View.extend({className:"content_page schedule_form go_renew",editable:!1,editableFields:{},events:{"click #attendee-list > li.creat":"_showOrgSlider","click #btn-add-reminder":"_addReminder","click #btn-confirm":"_confirm","click #btn-goto-list":"_goToList","click #btn-cancel":"_cancel","click #btn-leave-attendee":"_leaveAttendee","click #btn-remove-event":"_removeEvent","click #btn-copy-event":"_copyEvent","click #bottom-btn-confirm":"_confirm","click #bottom-btn-goto-list":"_goToList","click #bottom-btn-cancel":"_cancel","click #bottom-btn-leave-attendee":"_leaveAttendee","click #bottom-btn-remove-event":"_removeEvent","click #bottom-btn-copy-event":"_copyEvent","click li[data-tag=tab]":"_toggleTabView","click #moreAttendee":"_toggleAttendee","change [data-time-picker]":"_onChangeTime"},initialize:function(e){this.options=e||{},this.formHelper=new l(this.$el,"detail"),this.editable=!1,this.submitFlag=!1},render:function(){return this._prepareModel().done($.proxy(function(){this._setEditable(),this._setDeletable(),this._prepareTemplate(),this._initFormSpy(),this._initExtraHelpers(),this._initButtons(),this._renderCommentView(),this._renderLogView(),this._renderExternalAttendees(),this._renderAttendeesSchedules(),this.formHelper.isReservableAsset()&&this.editable&&(this.formHelper.loadAsset(this.model.id),this._bindAssetEvent());var e=this;this.$el.on("externalAttendee:destroy",function(t,n){e.formspy.unregistChangedAttr(n);var r=e.$(".btn_group_confirm"),i=e.$(".btn_group_action");r.css("display","inline-block"),i.hide()}),this.$el.off("externalAttendee:regist"),this.$el.on("externalAttendee:regist",function(t,n){e.makeFormatUnit($("#externalForm"),n),e.formspy.registChangedAttr(n);var r=e.$(".btn_group_confirm"),i=e.$(".btn_group_action");r.css("display","inline-block"),i.hide()})},this)),this.el},_bindAssetEvent:function(){var e=this;this.$el.on("asset-item:reserved",function(t,n){var r=n.id,i="asset-"+r;(!e.formspy.getChangedAttrs(i)||!e.model.isIncludedAttendee(r))&&e.formspy.registChangedAttr(i,r)}),this.$el.on("asset-item:destroy",function(t,n){var r="asset-"+n;e.formspy.getChangedAttrs(r)?e.formspy.unregistChangedAttr(r):e.formspy.registChangedAttr(r,n)})},_setEditable:function(){this.editable=this.model.get("permission").update===!0&&!this.isEhrInfo(this.model)},_setDeletable:function(){this.deletable=this.model.get("permission").delete===!0&&!this.isEhrInfo(this.model)},_confirm:function(t){function o(){i&&!r.isRecurrence()?(r.setRecurChangeType("all"),a()):i&&r.isRecurrence()?n._showConfirmLayer(r,"update",!0):a()}function u(){function n(){var e=this,n=$(e.alarmPopup.popupEl);isPushNoti=n.find("input:checkbox[id='chkbox_push']").is(":checked"),isMailNoti=n.find("input:checkbox[id='chkbox_mail']").is(":checked"),r.set("pushNoti",isPushNoti),r.set("mailNoti",isMailNoti),t.resolve()}function i(){r.set("pushNoti",!1),r.set("mailNoti",!1),t.resolve()}function s(){t.reject()}var e=this,t=$.Deferred();return this.alarmPopup=new c,this.alarmPopup.setConfirmCallback(n,this),this.alarmPopup.setCancelCallback(i,this),this.alarmPopup.setCloseCallback(s,this),this.alarmPopup.render({type:"web"}),t}function a(){r.save({},{success:function(e){n._goToList()},complete:function(){n.submitFlag=!1}})}var n=this,r=this.model.clone(),i=this.model.isRecurrence();if(this.submitFlag)return $.goMessage(E["\uc77c\uc815 \uc218\uc815 \uc911 \uba54\uc2dc\uc9c0"]),!1;this.submitFlag=!0;try{this.formHelper.saveReservationAssets(),r.on("error:validate",$.proxy(this._validateErrorCallback,this)),r.set(e.extend(this._getChangedData(),{type:r.get("type")})),r.isCompanyEvent()||r.isAlone()?o():u().done(function(){o()}).fail(function(){n.submitFlag=!1})}catch(s){this.submitFlag=!1}return this},_validateErrorCallback:function(e,t,n){return l.prototype.raiseError.apply(this.formHelper,arguments),this.submitFlag=!1,this},_getChangedData:function(){var t=e.pick(this.formspy.getChangedAttrs(),"summary","location","description"),n=this.formHelper.serializeFormData(),r={attendees:e.union(this.attendeesHelper.getAttendees(),this.getExternalAttendees())};return e.extend({},n,t,r)},_cancel:function(){return this.$el.empty(),this.render(),this},_prepareModel:function(){var e=this,t=$.Deferred();return this.model=new a({id:this.options.eventId,calendarId:this.options.calendarId}),this.model.fetch({success:t.resolve,error:t.reject,statusCode:{403:function(){i.util.error("403",{msgCode:"400-calendar"})},404:function(){i.util.error("404",{msgCode:"400-calendar"})},500:function(){i.util.error("500")}}}),this.model.on("error:validate",function(t,n,r){$.goAlert(r,"",function(){e._cancel()})}),t},_prepareTemplate:function(){var e=i.util.toMoment(this.model.get("startTime")),n=i.util.toMoment(this.model.get("endTime")),r=this.model.get("recurrence"),s=this.model.get("parentId"),u=this.model.get("summary"),a=new o,l=this.model.get("timeType")===N.allday?i.util.dateFormatWithoutTimeZone(this.model.get("startTime")):e.format("YYYY-MM-DD"),c=this.model.get("timeType")===N.allday?i.util.dateFormatWithoutTimeZone(this.model.get("endTime")):n.format("YYYY-MM-DD"),h=this.model.get("timeZoneOffset")||"";i.util.store.set("timeZoneOffset",h);var p=this.model.get("serverTZOffset")||i.session().timeZone.serverTZOffset,d=i.util.toMoment(this.model.get("basicDateOfRecurrence")).format("YYYY-MM-DD"),v=this;return this.formHelper.render({summary:v.isEhrInfo(this.model)?u+"("+this.model.get("creator").name+")":u,start_date:l,start_time:e.format("HH:mm"),end_date:c,end_time:n.format("HH:mm"),location:this.model.get("location"),description:this.model.get("description"),recurrence_code:r,current_recurrence:r?a.parse(r).humanize(h,p):"",basic_date_recurrence:d,"editable?":this.editable,"removable?":this.deletable,"private?":this.model.get("visibility")===T["private"],"allday_event?":this.model.get("timeType")===N.allday,"recurrence?":!!r,"show_visibility?":this.model.isNormalEvent(),"show_inner_attendees?":this.model.isNormalEvent(),"show_location?":this.editable||!!this.model.get("location"),"show_description?":this.editable||!!this.model.get("description"),"show_reminder?":this.editable,"show_calendar_select?":this.editable&&this.model.isNormalEvent(),"is_company_event?":this.model.isCompanyEvent(),company_calendar:(new t.Collection(f.getWritableCompanyCalendars())).toJSON(),repeatable:!s,"is_select_company_calendar?":function(){return v.model.get("calendarId")==this.id},unusual_repeat_msg:E["\ubc18\ubcf5\uc77c\uc815 \uc911 \uc218\uc815\ub41c \uc77c\uc815 \uc124\uba85"]},this._buildPartials()),this.formHelper.loadMyCalendarOptions(f.getMyCalendars(),this.model.get("calendarId")),this},_initFormSpy:function(){this.formspy=new s(this.$el.find("#form-event")),this.formspy.on("changed:attribute",$.proxy(function(e,t,n){this._showNotiRecurrenceRestrict(t,n),this._showHideConfirmButton()},this)),this.formspy.on("restored:all",$.proxy(function(){this._showHideConfirmButton()},this))},_initExtraHelpers:function(){var t=this.model.get("reminders"),n=e.sortBy(this.model.get("attendees"),function(e){return e.id===i.session("id")?1:2});return this.reminderHelper=new p(this.$el.find("ul#reminder-list"),t,this.editable),e.each(t,function(e,t){this.formspy.registry(this.$el.find("input[name=reminder_value_"+t+"]")),this.formspy.registry(this.$el.find("select[name=reminder_type_"+t+"]")),this.formspy.registry(this.$el.find("select[name=reminder_method_"+t+"]"))},this),this.reminderHelper.on("removed:reminder",$.proxy(this._removeReminderCallback,this)),this.attendeesHelper=new h(this.$el.find("ul#attendee-list"),n,this.editable),this.attendeesHelper.addRemoveCallback($.proxy(this._removeEventFromAttendees,this)),this.attendeesHelper.addAttendeeCallback($.proxy(this._addEventFromAttendees,this)),this},_initButtons:function(){return this.attendeesHelper.includeMe(i.session("id"))&&!this.model.isAlone()&&this.$el.find("#btn-leave-attendee").css("display","inline-block"),this},_buildPartials:function(){return{title_and_date:r.compile(m)}},_showOrgSlider:function(e){return $.goOrgSlide({header:E["\ucc38\uc11d\uc790 \ucd94\uac00"],type:"node",desc:E["\uc77c\uc815\uc758 \ucc38\uc11d\uc790\ub85c \ucd94\uac00\ud560 \uc0ac\uc6a9\uc790\ub97c \uc544\ub798\uc5d0\uc11c \uc120\ud0dd\ud558\uc138\uc694"],contextRoot:i.config("contextRoot"),callback:$.proxy(this._addAttendees,this)})},_addAttendees:function(t){return this.attendeesHelper.addAttendee(t).done(e.bind(function(t){e.each(t,function(e){var t=e.id,n="attendee-"+t;(!this.formspy.getChangedAttrs(n)||!this.model.isIncludedAttendee(t))&&this.formspy.registChangedAttr(n,t)},this)},this)),this},_addReminder:function(){var e=this.reminderHelper.addReminder();return this.formspy.registry(e.find("input[name^=reminder_value]"),"-1"),this.formspy.registry(e.find("select[name^=reminder_type]")),this.formspy.registry(e.find("select[name^=reminder_method]")),this},_removeReminderCallback:function(e,t,n){var r=t.find("input[name=reminder_value_"+n+"]"),i=t.find("select[name=reminder_type_"+n+"]"),s=t.find("select[name=reminder_method_"+n+"]"),o=this.formspy.getChangedAttrs(r.attr("name"))?"unregistry":"registry";return this.formspy[o].call(this.formspy,r,-1),this.formspy[o].call(this.formspy,i,-1),this.formspy[o].call(this.formspy,s,-1),this},_goToList:function(){return u.goToCalendar(),this},_showConfirmLayer:function(e,t,n){var r=this,i=new v(e,t,n);return i.setCallbacks({complete:function(){r.submitFlag=!1}}),i.render(),i},_leaveAttendee:function(){return this.model.set("attendees",this.attendeesHelper.getAttendees(i.session("id")),{silent:!0}),this._showConfirmLayer(this.model,"leave")},_removeEventFromAttendees:function(t,n){var r="attendee-"+t;if(this.attendeesHelper.isExistedAttendee(t)){var s=this.attendeesHelper.getAttendees().length;if(i.session("id")===t||s<2){var o=this.attendeesHelper.getAttendees(t),u=this.getExternalAttendees(),a=e.union(o,u);this.model.set("attendees",a,{silent:!0}),s==1?this._showConfirmLayer(this.model,"remove"):this._showConfirmLayer(this.model,"leave")}else this.formspy.getChangedAttrs(r)?this.formspy.unregistChangedAttr(r):this.formspy.registChangedAttr(r,t),$(n).remove()}else this.formspy.unregistChangedAttr(r),$(n).remove();this.attendeesScheduleLayerView.removeEventListener(t)},_addEventFromAttendees:function(e){this.attendeesScheduleLayerView.addEventListener(e)},_removeEvent:function(e){return this._showConfirmLayer(this.model,"remove")},_copyEvent:function(){var e=this;$.goPopup({title:E["\uc77c\uc815\uc744 \ubcf5\uc0ac\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"],contents:E["\uc885\uc77c, \ubc18\ubcf5 \uc124\uc815\uacfc \uc608\uc57d\ud558\uae30\ub294 \ubcf5\uc0ac \ub300\uc0c1\uc5d0\uc11c \uc81c\uc678\ub429\ub2c8\ub2e4."],buttons:[{btext:S["\ud655\uc778"],btype:"confirm",callback:function(){i.router.navigate("calendar/regist/copied/"+e.options.calendarId+"/"+e.options.eventId,!0)}},{btext:S["\ucde8\uc18c"],btype:"normal"}]})},_showNotiRecurrenceRestrict:function(e,t){var n=this,r=i.util.toMoment(this.model.get("startTime")).format("YYYY-MM-DD"),s=i.util.toMoment(this.model.get("endTime")).format("YYYY-MM-DD"),o=i.util.toMoment(this.model.get("basicDateOfRecurrence")).format("YYYY-MM-DD");this.model.isRecurrence()&&e=="start_date"&&$.goConfirm(E["\ubc18\ubcf5 \uc77c\uc815 \uc218\uc815"],E["\ubc18\ubcf5\uc77c\uc815\uc744 \uc218\uc815\ud558\uae30 \uc704\ud574\uc11c\ub294 \ubc18\ubcf5 \uc124\uc815\uc744 \ubcc0\uacbd\ud558\uc154\uc57c \ud569\ub2c8\ub2e4."],function(e){n._showRecurLayer($("input#startDate").val())},function(){e=="start_date"&&($("input#startDate").val(r),n._rejectEditStartDate(e))})},_showRecurLayer:function(e){this.formHelper._showHideRecurrenceSetupLayer(undefined,i.util.getDay(e))},_rejectEditStartDate:function(e){this.formspy.unregistChangedAttr(e)},_showHideConfirmButton:function(){if(this.editable){var e=this.$el.find(".btn_group_confirm"),t=this.$el.find(".btn_group_action"),n=e.first();!n.is(":visible")&&this.formspy.hasChangedAttrs()?(e.css("display","inline-block"),t.hide()):n.is(":visible")&&!this.formspy.hasChangedAttrs()&&(e.hide(),t.css("display","inline-block"),(this.model.isCompanyEvent()||this.model.isAlone())&&$("#btn-leave-attendee").hide())}return this},_renderCommentView:function(){var e=this;this.commentView=b.init({el:this.$("#commentArea"),typeUrl:"calendar/"+this.model.get("calendarId")+"/event",typeId:this.model.id}),this.commentView.$el.on("comment:change",function(t,n,r){e._setCommentCount(r),e.logView.render()}),this.commentView.render(),this.commentView.fetchComments(!0).done(function(){e._setCommentCount(e.commentView.collection.length)})},_setCommentCount:function(e){this.$("#commentCount").text(e)},_renderLogView:function(){this.logView=new y({calendarId:this.model.get("calendarId"),eventId:this.model.id}),this.$("#logArea").html(this.logView.el),this.logView.render()},_renderAttendeesSchedules:function(){var e=this;this.attendeesScheduleLayerView=new w({model:this.model}),this.$el.find("[data-attendees-schedule-wrapper]").append(this.attendeesScheduleLayerView.render().el),this.$el.off("calendarDate:change"),this.$el.on("calendarDate:change",function(t){e.attendeesScheduleLayerView.onChangeDate()})},_onChangeTime:function(e){this.attendeesScheduleLayerView.onChangeTime()},_toggleTabView:function(e){var t=$(e.currentTarget),n=t.hasClass("on");if(n)return;var r=t.attr("data-type"),i=r=="comment"?"log":"comment";this.$("#"+r+"Area").toggle(!n),this.$("#"+r+"Tab").toggleClass("on"),this.$("#"+i+"Area").toggle(n),this.$("#"+i+"Tab").toggleClass("on")},_toggleAttendee:function(e){var t=$(e.currentTarget),n=t.find("span.ic"),r=n.hasClass("ic_arrow_up");this.$("#attendee-list").find("li[data-more]").toggle(!r),n.toggleClass("ic_arrow_up"),n.toggleClass("ic_arrow_down")},getExternalAttendees:function(){return e.map(this.$("#externalArea").find("span.name"),function(e){return{id:"",email:$(e).data("email"),name:$(e).data("label")||"",position:""}})},_renderExternalAttendees:function(){this.formspy.unregistry(this.$("#externalForm")),this.initAutoComplete();var t=this.model.getExternalAttendees();t.length&&this.$("#externalArea").show(),e.each(t,function(e){var t=new g(e);this.$("#externals").append(t.render().el),this.formspy.__changedAttributes__[e.email]=e.email},this)},initAutoComplete:function(){var e={autoResizeWidth:!0,makeFormat:!0,makeFormatFunc:$.proxy(this.makeFormatUnit,this),multiple:!1,width:"400px",matchCase:!0,notContact:"F",excSearchOption:"RIPD",isDomainSearch:"F",customLeft:!0};this.$("#externalForm").autocomplete(i.contextRoot+"api/mail/address/search/name",e)},makeFormatUnit:function(e,t){function v(e){var t=null,n=null;return $.ajax({url:i.contextRoot+"api/user/sort/list",data:{keyword:e},type:"GET",async:!1,success:function(e){hasName=e.data.length>0,hasName&&(t=e.data[0].name,n=e.data[0].email)},error:function(e){console.log(e)}}),{hasName:hasName,name:t,email:n}}var n=this;if($.trim(t)=="")return;addressArray=new Array,addressSplit=t.split(">,");for(var r=0;r<addressSplit.length;r++){tempAddressArray=addressSplit[r].split(",");for(var s=0;s<tempAddressArray.length;s++)tempAddressArray[s]=$.trim(tempAddressArray[s]);addressArray=addressArray.concat(i.util.makeFormatEmail(tempAddressArray))}for(var r=0;r<addressArray.length;r++){t=addressArray[r];var o=i.util.checkEmailFormat(t),u=null,a=o?i.util.get_name(t):t,f=o?a||i.util.get_email(t):t,l=$('<span class="name" id="nameField" evt-rol="select-field" onselectstart="return false"></span>').attr("title",f).data("email",o?i.util.get_email(t):"").data("label",a).data("select",!1).text(f),c="",h=$('<span class="ic_classic ic_del"></span>');h.attr("title","\uc0ad\uc81c").click(function(){var t=$(this).closest("li");t.find("input.edit").unautocomplete(),t.remove(),e.focus(),n.formspy.unregistChangedAttr(t.find("span.name").text())});var p=$('<span class="btn_wrap"></span>').append(h),d=$("<li></li>");d.append(l).append(c).append(p),this.$("#externalArea").show(),this.$("#externals").append(d),this.formspy.registChangedAttr(f,f),e.val("")}},isEhrInfo:function(e){return e.get("referenceId")?!0:!1}});return C})})();