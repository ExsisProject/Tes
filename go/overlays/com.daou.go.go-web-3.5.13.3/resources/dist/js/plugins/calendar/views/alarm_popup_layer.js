define("calendar/views/alarm_popup_layer",function(require){var e=require("jquery"),t=require("underscore"),n=require("backbone"),r=require("hgn!calendar/templates/alarm_popup_layer"),i=require("i18n!nls/commons"),s=require("i18n!calendar/nls/calendar"),o,u=Hogan.compile(r),a={pushNoti:s["\ud478\uc2dc\uc54c\ub9bc"],mailNoti:s["\uba54\uc77c\uc54c\ub9bc"]},o=n.View.extend({initialize:function(){this.callbacks={confirm:{func:function(){},context:this},cancel:{func:function(){},context:this},close:{func:function(){},context:this}}},render:function(e){return this._renderPopup(e),this._bindEvents(),this.popupEl},setConfirmCallback:function(e,t){return this._setCallback("confirm",e,t)},setCancelCallback:function(e,t){return this._setCallback("cancel",e,t)},setCloseCallback:function(e,t){return this._setCallback("close",e,t)},_confirm:function(e){var t=this._getCallback("confirm");return t.func.call(t.context,this),this},_cancel:function(){var e=this._getCallback("cancel");return e.func.call(e["context",this]),this},_close:function(){if(this.popupEl){var e=this._getCallback("close");e.func.call(e.context)}return this},_getCallback:function(e){return this.callbacks[e]||{func:function(){},context:this}},_setCallback:function(e,n,r){return t.has(this.callbacks,e)||this.callbacks[e],this.callbacks[e].func=n,this.callbacks[e].context=r||this,this},_bindEvents:function(){this.popupEl.off("click","input#chkbox_push"),this.popupEl.off("click","input#chkbox_mail"),this.popupEl.on("click","input#chkbox_push",e.proxy(this._checkNoti,this)),this.popupEl.on("click","input#chkbox_mail",e.proxy(this._checkNoti,this))},_renderPopup:function(t){var n=this,r=t.type||"web",o=undefined,u=undefined,a=undefined,f="";r=="mobile"?(o="layer_transition",f="320px",u=s["\uc77c\uc815\ub4f1\ub85d \uc54c\ub9bc \ud655\uc778"]):(o="",f="400px",a=s["\uc77c\uc815\ub4f1\ub85d \uc54c\ub9bc \ud655\uc778"]),this.popupEl=e.goPopup({pclass:o,header:u,title:a,modal:!0,width:f,contents:this._evnetAlarmTmpl(r),message:"<br/><span class='txt'>"+s["\uc77c\uc815\ub4f1\ub85d\uc5d0 \ub300\ud55c \uc54c\ub9bc\uc744 \ucc38\uc11d\uc790\uc5d0\uac8c \ubcf4\ub0c5\ub2c8\ub2e4."]+"</span>",closeCallback:e.proxy(this._close,this),buttons:[{btype:"confirm",btext:i["\ubcf4\ub0b4\uae30"],callback:e.proxy(this._confirm,this),autoclose:!0},{btype:"normal",btext:s["\ubcf4\ub0b4\uc9c0 \uc54a\uc74c"],callback:e.proxy(this._cancel,this),autoclose:!0}]}),this.popupEl.find("input:checkbox[id='chkbox_push']").attr("checked",!0)},_evnetAlarmTmpl:function(e){var t=this,n=e=="mobile"?!0:!1,i=r({lang:a,mobile:n});return i},_checkNoti:function(){var e=this,t=this.popupEl.find("input:checkbox[id='chkbox_push']").is(":checked"),n=this.popupEl.find("input:checkbox[id='chkbox_mail']").is(":checked");t||n?this.popupEl.find(".btn_major_s").show():this.popupEl.find(".btn_major_s").hide()}});return o});