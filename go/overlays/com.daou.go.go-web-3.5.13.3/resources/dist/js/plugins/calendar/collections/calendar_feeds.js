(function(){define(["app","calendar/models/calendar_feed"],function(e,t){var n=e.BaseCollection.extend({model:t,url:function(){return"/api/calendar/feed?sort=sequence asc"},userId:-1,initialize:function(){this.userId=-1},comparator:function(e){return e.sequence},setUserId:function(e){return this.userId=e,this},getUserId:function(){return this.userId},isFollowing:function(e){var t=this.filter(function(t){return t.get("state")==="following"&&t.get("calendar").id===e});return t.length>0},isWaiting:function(e){var t=this.filter(function(t){return t.get("state")==="waiting"&&t.get("calendar").id===e});return t.length>0},isAccessible:function(e){var t=this.filter(function(t){return t.isAccessible(e)});return t.length>0},findByCalendarId:function(e){return this.filter(function(t){return t.get("calendar").id===parseInt(e)})}},{__instance__:null,setUserId:function(e){var t=this.getInstance();return t.setUserId(e),this}});return n})}).call(this);