define(["jquery","underscore","backbone","when","app","contact/models/contact_list_field","hgn!contact/templates/contact_field_setting_list_layout","i18n!nls/commons"],function(e,t,n,r,i,s,o,u){var a={save:u["\uc800\uc7a5"],cancel:u["\ucde8\uc18c"]},f=n.View.extend({initialize:function(e){this.options=e||{},this.model=new s({isGetFieldList:this.options.isGetFieldList})},render:function(){var e=this,t=r.defer();return this.model.fetch({dataType:"json",contentType:"application/json",success:function(n){var r=n.getContactListFields();e.$el.html(o({lang:a,data:r})),t.resolve()},error:function(){console.log("error"),t.reject()}}),t.promise},getData:function(){var t=[];return this.$("#fieldSettingTbody").find("input:checkbox:checked").each(function(n,r){t.push({fieldCode:e(this).attr("fieldCode")})}),t}});return f});