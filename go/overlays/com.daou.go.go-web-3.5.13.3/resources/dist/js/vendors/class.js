/*!
 * @author      Angelo Dini
 * @version     1.0
 * @copyright   Distributed under the BSD License.
 */

(function(){function r(e){var t=function(){};return t.prototype=e.prototype||e,new t}function i(e,t,n){if(n){var r={};for(var i in e)i!==t&&(r[i]=e[i])}else delete e[t];return r||e}function s(e,t,n){if(!e||!t)return e||t||{};e=r(e),t=r(t);for(var i in t)Object.prototype.toString.call(t[i])==="[object Object]"?s(e[i],t[i]):e[i]=n&&e[i]?e[i]:t[i];return e}function o(e){var t={};for(var n=0;n<e.length;n++){typeof e[n]=="function"&&(e[n]=e[n].prototype);var r=i(e[n],"initialize",!0);r.implement?t=o(r.implement):t=s(t,r)}return t}var e="1.0",t=window.Class,n=window.Class=function(e){e=e||{};var t=function(){return this.initialize?this.initialize.apply(this,arguments):u};if(e.implement){var u=window===this?r(t.prototype):this,a=e.implement;i(e,"implement"),e=s(e,o(a))}t.prototype=r(e),t.constructor=t,t._parent=r(e);for(var f=0,l=["extend","implement","getOptions","setOptions"];f<l.length;f++)t[l[f]]=n[l[f]];return t};n.extend=function(e){var t=this;e.implement&&(this.prototype=s(this.prototype,o(e.implement)),i(e,"implement"));for(var n in e)e[n]=typeof e[n]=="function"&&/parent/.test(e[n].toString())?function(e,n){return function(){return this.parent=t._parent[n],e.apply(this,arguments)}}(e[n],n):e[n];return this._parent=s(this._parent,e,!0),this.prototype=s(this.prototype,e),this},n.implement=function(e){return this.prototype=s(this.prototype,o(e))},n.getOptions=function(){return this.prototype.options||{}},n.setOptions=function(e){return this.prototype.options=s(this.prototype.options,e)},n.noConflict=function(){return window.Class=t,n},n.version=e})();