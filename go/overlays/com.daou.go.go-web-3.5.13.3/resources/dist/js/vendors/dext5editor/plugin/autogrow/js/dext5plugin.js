function setHeight(e,t){var n=t.ID;t=DEXTTOP.DEXT5.util._setDEXT5editor(n);if(1==t._config.ruler.use&&1==t._config.ruler.mode){var r=parseInt(document.getElementById("dext_tab_tool3_"+t.ID).style.height,10);e+=r,DEXTTOP.DEXT5.browser.ie&&7>=DEXTTOP.DEXT5.browser.ieVersion&&(e+=1)}if(void 0==n||""==n)n=t.ID;var r=DEXTTOP.DEXTDOC.getElementById("dext_frame_holder"+n),n=DEXTTOP.DEXTDOC.getElementById("dext_frame_"+n).contentWindow.document.getElementById("ue_editor_holder_"+n),i=0,i=t.baseMenuToolbarHeight;isViewMode(t)?t._defaultHeight=parseInt(e,10)-4:t._defaultHeight=parseInt(e,10)-i,-1<e.toString().indexOf("%")||-1<e.toString().indexOf("px")?r.style.height=e:r.style.height=e+"px",n.style.height=t._defaultHeight+"px",1==G_DEPlugin.autogrow.autoGrowMode&&(t._config.style.height=e+"px","1"==t._config.ruler.view&&"design"==t._currentMode&&t._FRAMEWIN.showRuler(t),"1"==t._config.autoBodyFit&&(t._BODY.style.minHeight=(t._defaultHeight-parseIntOr0(t._config.defaultBodySpace.configValue.top))/t._defaultHeight*100+"%"))}(function(){try{var e={pluginName:"autogrow"};G_DEPlugin.autogrow=e,e.onInit=function(){var e="../plugin/autogrow/js"+(DEXTTOP.DEXT5.isRelease?"":"_dev")+"/config.js",e="1"==DEXTTOP.DEXT5.config.UseConfigTimeStamp?e+("?t="+DEXTTOP.DEXT5.util.getTimeStamp()):e+("?ver="+DEXTTOP.DEXT5.ReleaseVer),t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=e,t.appendChild(n)},e.onLoaded=function(){"0"!=DEXTTOP.G_CURREDITOR._config.autoGrowMode&&(G_DEPlugin.autogrow.autoGrowMode=DEXTTOP.G_CURREDITOR._config.autoGrowMode),-1<DEXTTOP.G_CURREDITOR._config.style.height.indexOf("%")&&(DEXTTOP.G_CURREDITOR._config.autoGrowMode="0",G_DEPlugin.autogrow.autoGrowMode="0"),"2"==DEXTTOP.G_CURREDITOR._config.ruler.mode&&(DEXTTOP.G_CURREDITOR._config.autoGrowMode="0",G_DEPlugin.autogrow.autoGrowMode="0"),DEXTTOP.DEXT5.browser.ie&&9>DEXTTOP.DEXT5.browser.ieVersion&&(DEXTTOP.G_CURREDITOR._config.autoGrowMode="0",G_DEPlugin.autogrow.autoGrowMode="0"),DEXTTOP.DEXTWIN!=top&&"1"==DEXTTOP.G_CURREDITOR._config.autoGrowMode&&(DEXTTOP.G_CURREDITOR._config.autoGrowMode="0",G_DEPlugin.autogrow.autoGrowMode="0"),"0"!=G_DEPlugin.autogrow.autoGrowMode&&"0"!=DEXTTOP.G_CURREDITOR._config.autoGrowMode&&(DEXTTOP.G_CURREDITOR._config.useLineBreak="1",DEXTTOP.G_CURREDITOR._config.wordWrapType="1",DEXTTOP.G_CURREDITOR._config.resize_bar="0")},e.onChange=function(){e.autogrow(DEXTTOP.G_CURREDITOR)},e.autogrow=function(e){if("0"!=G_DEPlugin.autogrow.autoGrowMode&&void 0!=G_DEPlugin.autogrow.autoGrowMode)if("full_size"==e.FrameStatus||"design"!=e._currentMode)e._DOC.documentElement.style.overflow="auto";else{var t=e._DOC.documentElement,n=e._BODY,r=DEXTTOP.DEXTDOC.documentElement,i=DEXTTOP.DEXTDOC.body;if(void 0==G_DEPlugin.autogrow.configHeight||null==G_DEPlugin.autogrow.configHeight||""==G_DEPlugin.autogrow.configHeight)G_DEPlugin.autogrow.configHeight=0>e._defaultHeight?parseInt(e._config.style.height,10)-e._defaultHeight:parseInt(e._config.style.height,10),G_DEPlugin.autogrow.initHeight=0<=e._defaultHeight?e._defaultHeight:0,t.style.overflowY="hidden",G_DEPlugin.autogrow.initParentHeight=r.scrollHeight;else{t.style.overflowY="hidden",G_DEPlugin.autogrow.previousParentTop=Math.max(r.scrollTop,i.scrollTop),setHeight(G_DEPlugin.autogrow.configHeight,e);var s=Math.max(t.scrollHeight,n.scrollHeight),o;if(G_DEPlugin.autogrow.initHeight!=s){o=0==G_DEPlugin.autogrow.initHeight?G_DEPlugin.autogrow.configHeight+(s-e._defaultHeight):G_DEPlugin.autogrow.configHeight+(s-G_DEPlugin.autogrow.initHeight),setHeight(o,e);try{t.scrollHeight>t.clientHeight?(o+=t.scrollHeight-t.clientHeight+1,setHeight(o,e)):n.scrollHeight>n.clientHeight&&(o+=n.scrollHeight-n.clientHeight+1,setHeight(o,e))}catch(u){}}else o=G_DEPlugin.autogrow.configHeight,setHeight(o,e);G_DEPlugin.autogrow.currHeight=s-G_DEPlugin.autogrow.initHeight,G_DEPlugin.autogrow.diffHeight=G_DEPlugin.autogrow.currHeight-G_DEPlugin.autogrow.preHeight,G_DEPlugin.autogrow.preHeight=s-G_DEPlugin.autogrow.initHeight,2!=G_DEPlugin.autogrow.autoGrowMode&&(r.scrollTop=G_DEPlugin.autogrow.previousParentTop+(r.scrollHeight-G_DEPlugin.autogrow.initParentHeight),i.scrollTop=G_DEPlugin.autogrow.previousParentTop+(r.scrollHeight-G_DEPlugin.autogrow.initParentHeight),G_DEPlugin.autogrow.previousParentTop=Math.max(r.scrollTop,i.scrollTop),G_DEPlugin.autogrow.initParentHeight=r.scrollHeight);if(2==G_DEPlugin.autogrow.autoGrowMode)try{"function"==typeof DEXTTOP.DEXTWIN.dext_editor_autogrow_event&&DEXTTOP.DEXTWIN.dext_editor_autogrow_event(e,{diffHeight:G_DEPlugin.autogrow.diffHeight})}catch(a){}}}},e.onInit()}catch(t){}})();