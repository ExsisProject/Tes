(function(e){function o(e){if(!e||e===n)return n;var o=e.charAt(0)==n||e.charAt(0)==r,u=[],a,f,l,c;e.indexOf(s)>0?(l=e.split(s),f=l[0],a=l[1].split(n)):a=e.split(n);for(var h=0;h<a.length;++h)c=a[h],c===i?u.pop():c!==t&&c!==r&&u.push(c);var p=u.join(n).replace(/[\/]{2,}/g,n);return(f?f+s:"")+(o?n:t)+p}var t="",n="/",r=".",i=r.concat(r),s="://";e.normalize=o})(typeof module!="undefined"&&module.exports?module.exports:this);