/**
 * interact.js v1.2.8
 *
 * Copyright (c) 2012-2015 Taye Adeyemi <dev@taye.me>
 * Open source under the MIT License.
 * https://raw.github.com/taye/interact.js/master/LICENSE
 */

(function(e){function j(){}function F(e){if(!e||typeof e!="object")return!1;var n=ut(e)||t;return/object|function/.test(typeof n.Element)?e instanceof n.Element:e.nodeType===1&&typeof e.nodeName=="string"}function I(e){return e===t||!!e&&!!e.Window&&e instanceof e.Window}function q(e){return!!e&&e instanceof r}function R(e){return U(e)&&typeof e.length!==undefined&&z(e.splice)}function U(e){return!!e&&typeof e=="object"}function z(e){return typeof e=="function"}function W(e){return typeof e=="number"}function X(e){return typeof e=="boolean"}function V(e){return typeof e=="string"}function $(e){return V(e)?(n.querySelector(e),!0):!1}function J(e,t){for(var n in t)e[n]=t[n];return e}function Q(e,t){for(var n in t){var r=!1;for(var i in K)if(n.indexOf(i)===0&&K[i].test(n)){r=!0;break}r||(e[n]=t[n])}return e}function G(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp}function Y(e,t,n){var r=t.length>1?ct(t):t[0];nt(r,c,n),e.page.x=c.x,e.page.y=c.y,rt(r,c,n),e.client.x=c.x,e.client.y=c.y,e.timeStamp=(new Date).getTime()}function Z(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=(new Date).getTime()-t.timeStamp;var r=Math.max(e.timeStamp/1e3,.001);e.page.speed=l(e.page.x,e.page.y)/r,e.page.vx=e.page.x/r,e.page.vy=e.page.y/r,e.client.speed=l(e.client.x,e.page.y)/r,e.client.vx=e.client.x/r,e.client.vy=e.client.y/r}function et(e){return e instanceof t.Event||b&&t.Touch&&e instanceof t.Touch}function tt(e,t,n){return n=n||{},e=e||"page",n.x=t[e+"X"],n.y=t[e+"Y"],n}function nt(e,n){return n=n||{},O&&et(e)?(tt("screen",e,n),n.x+=t.scrollX,n.y+=t.scrollY):tt("page",e,n),n}function rt(e,t){return t=t||{},O&&et(e)?tt("screen",e,t):tt("client",e,t),t}function it(e){return e=e||t,{x:e.scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function st(e){return W(e.pointerId)?e.pointerId:e.identifier}function ot(e){return e instanceof o?e.correspondingUseElement:e}function ut(e){if(I(e))return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function at(e){var t=e instanceof i?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function ft(e){var t=at(e);if(!M&&t){var n=it(ut(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t}function lt(e){var t=[];return R(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function ct(e){var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n;for(var r=0;r<e.length;r++)for(n in t)t[n]+=e[r][n];for(n in t)t[n]/=e.length;return t}function ht(e){if(!e.length&&!(e.touches&&e.touches.length>1))return;var t=lt(e),n=Math.min(t[0].pageX,t[1].pageX),r=Math.min(t[0].pageY,t[1].pageY),i=Math.max(t[0].pageX,t[1].pageX),s=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:r,left:n,top:r,width:i-n,height:s-r}}function pt(e,t){t=t||g.deltaSource;var n=t+"X",r=t+"Y",i=lt(e),s=i[0][n]-i[1][n],o=i[0][r]-i[1][r];return l(s,o)}function dt(e,t,n){n=n||g.deltaSource;var r=n+"X",i=n+"Y",s=lt(e),o=s[0][r]-s[1][r],u=s[0][i]-s[1][i],a=180*Math.atan(u/o)/Math.PI;if(W(t)){var f=a-t,l=f%360;l>315?a-=360+a/360|0:l>135?a-=180+a/360|0:l<-315?a+=360+a/360|0:l<-135&&(a+=180+a/360|0)}return a}function vt(e,t){var n=e?e.options.origin:g.origin;return n==="parent"?n=Et(t):n==="self"?n=e.getRect(t):$(n)&&(n=wt(t,n)||{x:0,y:0}),z(n)&&(n=n(e&&t)),F(n)&&(n=ft(n)),n.x="x"in n?n.x:n.left,n.y="y"in n?n.y:n.top,n}function mt(e,t,n,r){var i=1-e;return i*i*t+2*i*e*n+e*e*r}function gt(e,t,n,r,i,s,o){return{x:mt(o,e,n,i),y:mt(o,t,r,s)}}function yt(e,t,n,r){return e/=r,-n*e*(e-2)+t}function bt(e,t){while(t){if(t===e)return!0;t=t.parentNode}return!1}function wt(e,t){var n=Et(e);while(F(n)){if(en(n,t))return n;n=Et(n)}return null}function Et(e){var t=e.parentNode;if(q(t)){while((t=t.host)&&q(t));return t}return t}function St(e,t){return e._context===t.ownerDocument||bt(e._context,t)}function xt(e,t,n){var r=e.options.ignoreFrom;return!r||!F(n)?!1:V(r)?tn(n,r,t):F(r)?bt(r,n):!1}function Tt(e,t,n){var r=e.options.allowFrom;return r?F(n)?V(r)?tn(n,r,t):F(r)?bt(r,n):!1:!1:!0}function Nt(e,t){if(!t)return!1;var n=t.options.drag.axis;return e==="xy"||n==="xy"||n===e}function Ct(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].snap&&n[t].snap.enabled}function kt(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].restrict&&n[t].restrict.enabled}function Lt(e,t){var n=e.options;return/^resize/.test(t)&&(t="resize"),n[t].autoScroll&&n[t].autoScroll.enabled}function At(e,t,n){var r=e.options,i=r[n.name].max,s=r[n.name].maxPerElement,o=0,u=0,a=0;for(var f=0,l=d.length;f<l;f++){var c=d[f],h=c.prepared.name,p=c.interacting();if(!p)continue;o++;if(o>=T)return!1;if(c.target!==e)continue;u+=h===n.name|0;if(u>=i)return!1;if(c.element===t){a++;if(h!==n.name||a>=s)return!1}}return T>0}function Ot(e){var t,n=e[0],r=n?0:-1,o,a=[],f=[],l,c,h;for(c=1;c<e.length;c++){t=e[c];if(!t||t===n)continue;if(!n){n=t,r=c;continue}if(t.parentNode===t.ownerDocument)continue;if(n.parentNode===t.ownerDocument){n=t,r=c;continue}if(!a.length){o=n;while(o.parentNode&&o.parentNode!==o.ownerDocument)a.unshift(o),o=o.parentNode}if(n instanceof u&&t instanceof i&&!(t instanceof s)){if(t===n.parentNode)continue;o=t.ownerSVGElement}else o=t;f=[];while(o.parentNode!==o.ownerDocument)f.unshift(o),o=o.parentNode;h=0;while(f[h]&&f[h]===a[h])h++;var p=[f[h-1],f[h],a[h]];l=p[0].lastChild;while(l){if(l===p[1]){n=t,r=c,a=[];break}if(l===p[2])break;l=l.previousSibling}}return r}function Mt(){this.target=null,this.element=null,this.dropTarget=null,this.dropElement=null,this.prevDropTarget=null,this.prevDropElement=null,this.prepared={name:null,axis:null,edges:null},this.matches=[],this.matchElements=[],this.inertiaStatus={active:!1,smoothEnd:!1,ending:!1,startEvent:null,upCoords:{},xe:0,ye:0,sx:0,sy:0,t0:0,vx0:0,vys:0,duration:0,resumeDx:0,resumeDy:0,lambda_v0:0,one_ve_v0:0,i:null};if(z(Function.prototype.bind))this.boundInertiaFrame=this.inertiaFrame.bind(this),this.boundSmoothEndFrame=this.smoothEndFrame.bind(this);else{var e=this;this.boundInertiaFrame=function(){return e.inertiaFrame()},this.boundSmoothEndFrame=function(){return e.smoothEndFrame()}}this.activeDrops={dropzones:[],elements:[],rects:[]},this.pointers=[],this.pointerIds=[],this.downTargets=[],this.downTimes=[],this.holdTimers=[],this.prevCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.curCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.startCoords={page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},this.pointerDelta={page:{x:0,y:0,vx:0,vy:0,speed:0},client:{x:0,y:0,vx:0,vy:0,speed:0},timeStamp:0},this.downEvent=null,this.downPointer={},this._eventTarget=null,this._curEventTarget=null,this.prevEvent=null,this.tapTime=0,this.prevTap=null,this.startOffset={left:0,right:0,top:0,bottom:0},this.restrictOffset={left:0,right:0,top:0,bottom:0},this.snapOffsets=[],this.gesture={start:{x:0,y:0},startDistance:0,prevDistance:0,distance:0,scale:1,startAngle:0,prevAngle:0},this.snapStatus={x:0,y:0,dx:0,dy:0,realX:0,realY:0,snappedX:0,snappedY:0,targets:[],locked:!1,changed:!1},this.restrictStatus={dx:0,dy:0,restrictedX:0,restrictedY:0,snap:null,restricted:!1,changed:!1},this.restrictStatus.snap=this.snapStatus,this.pointerIsDown=!1,this.pointerWasMoved=!1,this.gesturing=!1,this.dragging=!1,this.resizing=!1,this.resizeAxes="xy",this.mouse=!1,d.push(this)}function _t(e,t,n){var r=0,i=d.length,s=/mouse/i.test(e.pointerType||t)||e.pointerType===4,o,u=st(e);if(/down|start/i.test(t))for(r=0;r<i;r++){o=d[r];var a=n;if(o.inertiaStatus.active&&o.target.options[o.prepared.name].inertia.allowResume&&o.mouse===s)while(a){if(a===o.element)return o;a=Et(a)}}if(s||!b&&!w){for(r=0;r<i;r++)if(d[r].mouse&&!d[r].inertiaStatus.active)return d[r];for(r=0;r<i;r++)if(d[r].mouse&&(!/down/.test(t)||!d[r].inertiaStatus.active))return o;return o=new Mt,o.mouse=!0,o}for(r=0;r<i;r++)if(Zt(d[r].pointerIds,u))return d[r];if(/up|end|out/i.test(t))return null;for(r=0;r<i;r++){o=d[r];if((!o.prepared.name||o.target.options.gesture.enabled)&&!o.interacting()&&(!!s||!o.mouse))return o}return new Mt}function Dt(e){return function(t){var n,r=ot(t.path?t.path[0]:t.target),i=ot(t.currentTarget),s;if(b&&/touch/.test(t.type)){x=(new Date).getTime();for(s=0;s<t.changedTouches.length;s++){var o=t.changedTouches[s];n=_t(o,t.type,r);if(!n)continue;n._updateEventTargets(r,i),n[e](o,t,r,i)}}else{if(!w&&/mouse/.test(t.type)){for(s=0;s<d.length;s++)if(!d[s].mouse&&d[s].pointerIsDown)return;if((new Date).getTime()-x<500)return}n=_t(t,t.type,r);if(!n)return;n._updateEventTargets(r,i),n[e](t,t,r,i)}}}function Pt(e,t,n,r,i,s){var o,u,a=e.target,f=e.snapStatus,c=e.restrictStatus,h=e.pointers,p=(a&&a.options||g).deltaSource,d=p+"X",v=p+"Y",m=a?a.options:g,y=vt(a,i),b=r==="start",w=r==="end",E=b?e.startCoords:e.curCoords;i=i||e.element,u=J({},E.page),o=J({},E.client),u.x-=y.x,u.y-=y.y,o.x-=y.x,o.y-=y.y;var S=m[n].snap&&m[n].snap.relativePoints;Ct(a,n)&&!(b&&S&&S.length)&&(this.snap={range:f.range,locked:f.locked,x:f.snappedX,y:f.snappedY,realX:f.realX,realY:f.realY,dx:f.dx,dy:f.dy},f.locked&&(u.x+=f.dx,u.y+=f.dy,o.x+=f.dx,o.y+=f.dy)),kt(a,n)&&(!b||!m[n].restrict.elementRect)&&c.restricted&&(u.x+=c.dx,u.y+=c.dy,o.x+=c.dx,o.y+=c.dy,this.restrict={dx:c.dx,dy:c.dy}),this.pageX=u.x,this.pageY=u.y,this.clientX=o.x,this.clientY=o.y,this.x0=e.startCoords.page.x-y.x,this.y0=e.startCoords.page.y-y.y,this.clientX0=e.startCoords.client.x-y.x,this.clientY0=e.startCoords.client.y-y.y,this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.button=t.button,this.buttons=t.buttons,this.target=i,this.t0=e.downTimes[0],this.type=n+(r||""),this.interaction=e,this.interactable=a;var x=e.inertiaStatus;x.active&&(this.detail="inertia"),s&&(this.relatedTarget=s),w?p==="client"?(this.dx=o.x-e.startCoords.client.x,this.dy=o.y-e.startCoords.client.y):(this.dx=u.x-e.startCoords.page.x,this.dy=u.y-e.startCoords.page.y):b?(this.dx=0,this.dy=0):r==="inertiastart"?(this.dx=e.prevEvent.dx,this.dy=e.prevEvent.dy):p==="client"?(this.dx=o.x-e.prevEvent.clientX,this.dy=o.y-e.prevEvent.clientY):(this.dx=u.x-e.prevEvent.pageX,this.dy=u.y-e.prevEvent.pageY),e.prevEvent&&e.prevEvent.detail==="inertia"&&!x.active&&m[n].inertia&&m[n].inertia.zeroResumeDelta&&(x.resumeDx+=this.dx,x.resumeDy+=this.dy,this.dx=this.dy=0),n==="resize"&&e.resizeAxes?m.resize.square?(e.resizeAxes==="y"?this.dx=this.dy:this.dy=this.dx,this.axes="xy"):(this.axes=e.resizeAxes,e.resizeAxes==="x"?this.dy=0:e.resizeAxes==="y"&&(this.dx=0)):n==="gesture"&&(this.touches=[h[0],h[1]],b?(this.distance=pt(h,p),this.box=ht(h),this.scale=1,this.ds=0,this.angle=dt(h,undefined,p),this.da=0):w||t instanceof Pt?(this.distance=e.prevEvent.distance,this.box=e.prevEvent.box,this.scale=e.prevEvent.scale,this.ds=this.scale-1,this.angle=e.prevEvent.angle,this.da=this.angle-e.gesture.startAngle):(this.distance=pt(h,p),this.box=ht(h),this.scale=this.distance/e.gesture.startDistance,this.angle=dt(h,e.gesture.prevAngle,p),this.ds=this.scale-e.gesture.prevScale,this.da=this.angle-e.gesture.prevAngle));if(b)this.timeStamp=e.downTimes[0],this.dt=0,this.duration=0,this.speed=0,this.velocityX=0,this.velocityY=0;else if(r==="inertiastart")this.timeStamp=e.prevEvent.timeStamp,this.dt=e.prevEvent.dt,this.duration=e.prevEvent.duration,this.speed=e.prevEvent.speed,this.velocityX=e.prevEvent.velocityX,this.velocityY=e.prevEvent.velocityY;else{this.timeStamp=(new Date).getTime(),this.dt=this.timeStamp-e.prevEvent.timeStamp,this.duration=this.timeStamp-e.downTimes[0];if(t instanceof Pt){var T=this[d]-e.prevEvent[d],N=this[v]-e.prevEvent[v],C=this.dt/1e3;this.speed=l(T,N)/C,this.velocityX=T/C,this.velocityY=N/C}else this.speed=e.pointerDelta[p].speed,this.velocityX=e.pointerDelta[p].vx,this.velocityY=e.pointerDelta[p].vy}if((w||r==="inertiastart")&&e.prevEvent.speed>600&&this.timeStamp-e.prevEvent.timeStamp<150){var k=180*Math.atan2(e.prevEvent.velocityY,e.prevEvent.velocityX)/Math.PI,L=22.5;k<0&&(k+=360);var A=135-L<=k&&k<225+L,O=225-L<=k&&k<315+L,M=!A&&(315-L<=k||k<45+L),_=!O&&45-L<=k&&k<135+L;this.swipe={up:O,down:_,left:A,right:M,angle:k,speed:e.prevEvent.speed,velocity:{x:e.prevEvent.velocityX,y:e.prevEvent.velocityY}}}}function Ht(){this.originalEvent.preventDefault()}function Bt(e){var t="";e.name==="drag"&&(t=N.drag);if(e.name==="resize")if(e.axis)t=N[e.name+e.axis];else if(e.edges){var n="resize",r=["top","bottom","left","right"];for(var i=0;i<4;i++)e.edges[r[i]]&&(n+=r[i]);t=N[n]}return t}function jt(e,t,n,r,i,s,o){if(!t)return!1;if(t===!0){var u=W(s.width)?s.width:s.right-s.left,a=W(s.height)?s.height:s.bottom-s.top;u<0&&(e==="left"?e="right":e==="right"&&(e="left")),a<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top"));if(e==="left")return n.x<(u>=0?s.left:s.right)+o;if(e==="top")return n.y<(a>=0?s.top:s.bottom)+o;if(e==="right")return n.x>(u>=0?s.right:s.left)-o;if(e==="bottom")return n.y>(a>=0?s.bottom:s.top)-o}return F(r)?F(t)?t===r:tn(r,t,i):!1}function Ft(e,t,n){var r=this.getRect(n),i=!1,s=null,o=null,u,a=J({},t.curCoords.page),f=this.options;if(!r)return null;if(C.resize&&f.resize.enabled){var l=f.resize;u={left:!1,right:!1,top:!1,bottom:!1};if(U(l.edges)){for(var c in u)u[c]=jt(c,l.edges[c],a,t._eventTarget,n,r,l.margin||E);u.left=u.left&&!u.right,u.top=u.top&&!u.bottom,i=u.left||u.right||u.top||u.bottom}else{var h=f.resize.axis!=="y"&&a.x>r.right-E,p=f.resize.axis!=="x"&&a.y>r.bottom-E;i=h||p,o=(h?"x":"")+(p?"y":"")}}return s=i?"resize":C.drag&&f.drag.enabled?"drag":null,C.gesture&&t.pointerIds.length>=2&&!t.dragging&&!t.resizing&&(s="gesture"),s?{name:s,axis:o,edges:u}:null}function It(e,t){if(!U(e))return null;var n=e.name,r=t.options;if((n==="resize"&&r.resize.enabled||n==="drag"&&r.drag.enabled||n==="gesture"&&r.gesture.enabled)&&C[n]){if(n==="resize"||n==="resizeyx")n="resizexy";return e}return null}function Xt(e,t){var n={},r=m[e.type],i=ot(e.path?e.path[0]:e.target),s=i;t=t?!0:!1;for(var o in e)n[o]=e[o];n.originalEvent=e,n.preventDefault=Ht;while(F(s)){for(var u=0;u<r.selectors.length;u++){var a=r.selectors[u],f=r.contexts[u];if(en(s,a)&&bt(f,i)&&bt(f,s)){var l=r.listeners[u];n.currentTarget=s;for(var c=0;c<l.length;c++)l[c][1]===t&&l[c][0](n)}}s=Et(s)}}function Vt(e){return Xt.call(this,e,!0)}function $t(e,t){return p.get(e,t)||new Jt(e,t)}function Jt(e,n){this._element=e,this._iEvents=this._iEvents||{};var r;if($(e)){this.selector=e;var i=n&&n.context;r=i?ut(i):t,i&&(r.Node?i instanceof r.Node:F(i)||i===r.document)&&(this._context=i)}else r=ut(e),F(e,r)&&(w?(B.add(this._element,f.down,qt.pointerDown),B.add(this._element,f.move,qt.pointerHover)):(B.add(this._element,"mousedown",qt.pointerDown),B.add(this._element,"mousemove",qt.pointerHover),B.add(this._element,"touchstart",qt.pointerDown),B.add(this._element,"touchmove",qt.pointerHover)));this._doc=r.document,Zt(h,this._doc)||Gt(this._doc),p.push(this),this.set(n)}function Kt(e,n){var r=!1;return function(){return r||(t.console.warn(n),r=!0),e.apply(this,arguments)}}function Qt(e){for(var t=0;t<d.length;t++)d[t].pointerEnd(e,e)}function Gt(e){if(Zt(h,e))return;var t=e.defaultView||e.parentWindow;for(var n in m)B.add(e,n,Xt),B.add(e,n,Vt,!0);w?(a===t.MSPointerEvent?f={up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:f={up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"},B.add(e,f.down,qt.selectorDown),B.add(e,f.move,qt.pointerMove),B.add(e,f.over,qt.pointerOver),B.add(e,f.out,qt.pointerOut),B.add(e,f.up,qt.pointerUp),B.add(e,f.cancel,qt.pointerCancel),B.add(e,f.move,qt.autoScrollMove)):(B.add(e,"mousedown",qt.selectorDown),B.add(e,"mousemove",qt.pointerMove),B.add(e,"mouseup",qt.pointerUp),B.add(e,"mouseover",qt.pointerOver),B.add(e,"mouseout",qt.pointerOut),B.add(e,"touchstart",qt.selectorDown),B.add(e,"touchmove",qt.pointerMove),B.add(e,"touchend",qt.pointerUp),B.add(e,"touchcancel",qt.pointerCancel),B.add(e,"mousemove",qt.autoScrollMove),B.add(e,"touchmove",qt.autoScrollMove)),B.add(t,"blur",Qt);try{if(t.frameElement){var r=t.frameElement.ownerDocument,i=r.defaultView;B.add(r,"mouseup",qt.pointerEnd),B.add(r,"touchend",qt.pointerEnd),B.add(r,"touchcancel",qt.pointerEnd),B.add(r,"pointerup",qt.pointerEnd),B.add(r,"MSPointerUp",qt.pointerEnd),B.add(i,"blur",Qt)}}catch(s){$t.windowParentError=s}B.add(e,"dragstart",function(e){for(var t=0;t<d.length;t++){var n=d[t];if(n.element&&(n.element===e.target||bt(n.element,e.target))){n.checkAndPreventDefault(e,n.target,n.element);return}}}),B.useAttachEvent&&(B.add(e,"selectstart",function(e){var t=d[0];t.currentAction()&&t.checkAndPreventDefault(e)}),B.add(e,"dblclick",Dt("ie8Dblclick"))),h.push(e)}function Yt(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Zt(e,t){return Yt(e,t)!==-1}function en(n,r,i){return D?D(n,r,i):(t!==e&&(r=r.replace(/\/deep\//g," ")),n[_](r))}function tn(e,t,n){while(F(e)){if(en(e,t))return!0;e=Et(e);if(e===n)return en(e,t)}return!1}if(!e)return;var t=function(){var t=e.document.createTextNode("");return t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t?e.wrap(e):e}(),n=t.document,r=t.DocumentFragment||j,i=t.SVGElement||j,s=t.SVGSVGElement||j,o=t.SVGElementInstance||j,u=t.HTMLElement||t.Element,a=t.PointerEvent||t.MSPointerEvent,f,l=Math.hypot||function(e,t){return Math.sqrt(e*e+t*t)},c={},h=[],p=[],d=[],v=!1,m={},g={base:{accept:null,actionChecker:null,styleCursor:!0,preventDefault:"auto",origin:{x:0,y:0},deltaSource:"page",allowFrom:null,ignoreFrom:null,_context:n,dropChecker:null},drag:{enabled:!1,manualStart:!0,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,axis:"xy"},drop:{enabled:!1,accept:null,overlap:"pointer"},resize:{enabled:!1,manualStart:!1,max:Infinity,maxPerElement:1,snap:null,restrict:null,inertia:null,autoScroll:null,square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},gesture:{manualStart:!1,enabled:!1,max:Infinity,maxPerElement:1,restrict:null},perAction:{manualStart:!1,max:Infinity,maxPerElement:1,snap:{enabled:!1,endOnly:!1,range:Infinity,targets:null,offsets:null,relativePoints:null},restrict:{enabled:!1,endOnly:!1},autoScroll:{enabled:!1,container:null,margin:60,speed:300},inertia:{enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,zeroResumeDelta:!0,smoothEndDuration:300}},_holdDuration:600},y={interaction:null,i:null,x:0,y:0,scroll:function(){var e=y.interaction.target.options[y.interaction.prepared.name].autoScroll,t=e.container||ut(y.interaction.element),n=(new Date).getTime(),r=(n-y.prevTimeX)/1e3,i=(n-y.prevTimeY)/1e3,s,o,u,a;e.velocity?(s=e.velocity.x,o=e.velocity.y):s=o=e.speed,u=s*r,a=o*i;if(u>=1||a>=1)I(t)?t.scrollBy(y.x*u,y.y*a):t&&(t.scrollLeft+=y.x*u,t.scrollTop+=y.y*a),u>=1&&(y.prevTimeX=n),a>=1&&(y.prevTimeY=n);y.isScrolling&&(H(y.i),y.i=P(y.scroll))},isScrolling:!1,prevTimeX:0,prevTimeY:0,start:function(e){y.isScrolling=!0,H(y.i),y.interaction=e,y.prevTimeX=(new Date).getTime(),y.prevTimeY=(new Date).getTime(),y.i=P(y.scroll)},stop:function(){y.isScrolling=!1,H(y.i)}},b="ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch,w=a&&!/Chrome/.test(navigator.userAgent),E=b||w?20:10,S=1,x=0,T=Infinity,N=n.all&&!t.atob?{drag:"move",resizex:"e-resize",resizey:"s-resize",resizexy:"se-resize",resizetop:"n-resize",resizeleft:"w-resize",resizebottom:"s-resize",resizeright:"e-resize",resizetopleft:"se-resize",resizebottomright:"se-resize",resizetopright:"ne-resize",resizebottomleft:"ne-resize",gesture:""}:{drag:"move",resizex:"ew-resize",resizey:"ns-resize",resizexy:"nwse-resize",resizetop:"ns-resize",resizeleft:"ew-resize",resizebottom:"ns-resize",resizeright:"ew-resize",resizetopleft:"nwse-resize",resizebottomright:"nwse-resize",resizetopright:"nesw-resize",resizebottomleft:"nesw-resize",gesture:""},C={drag:!0,resize:!0,gesture:!0},k="onmousewheel"in n?"mousewheel":"wheel",L=["dragstart","dragmove","draginertiastart","dragend","dragenter","dragleave","dropactivate","dropdeactivate","dropmove","drop","resizestart","resizemove","resizeinertiastart","resizeend","gesturestart","gesturemove","gestureinertiastart","gestureend","down","move","up","cancel","tap","doubletap","hold"],A={},O=navigator.appName=="Opera"&&b&&navigator.userAgent.match("Presto"),M=/iP(hone|od|ad)/.test(navigator.platform)&&/OS 7[^\d]/.test(navigator.appVersion),_="matches"in Element.prototype?"matches":"webkitMatchesSelector"in Element.prototype?"webkitMatchesSelector":"mozMatchesSelector"in Element.prototype?"mozMatchesSelector":"oMatchesSelector"in Element.prototype?"oMatchesSelector":"msMatchesSelector",D,P=e.requestAnimationFrame,H=e.cancelAnimationFrame,B=function(){function a(t,r,a,f){var p=Yt(s,t),d=o[p];d||(d={events:{},typeCount:0},p=s.push(t)-1,o.push(d),u.push(e?{supplied:[],wrapped:[],useCount:[]}:null)),d.events[r]||(d.events[r]=[],d.typeCount++);if(!Zt(d.events[r],a)){var v;if(e){var m=u[p],g=Yt(m.supplied,a),y=m.wrapped[g]||function(e){e.immediatePropagationStopped||(e.target=e.srcElement,e.currentTarget=t,e.preventDefault=e.preventDefault||l,e.stopPropagation=e.stopPropagation||c,e.stopImmediatePropagation=e.stopImmediatePropagation||h,/mouse|click/.test(e.type)&&(e.pageX=e.clientX+ut(t).document.documentElement.scrollLeft,e.pageY=e.clientY+ut(t).document.documentElement.scrollTop),a(e))};v=t[n](i+r,y,Boolean(f)),g===-1?(m.supplied.push(a),m.wrapped.push(y),m.useCount.push(1)):m.useCount[g]++}else v=t[n](r,a,f||!1);return d.events[r].push(a),v}}function f(t,n,a,l){var c,h=Yt(s,t),p=o[h],d,v,m=a;if(!p||!p.events)return;e&&(d=u[h],v=Yt(d.supplied,a),m=d.wrapped[v]);if(n==="all"){for(n in p.events)p.events.hasOwnProperty(n)&&f(t,n,"all");return}if(p.events[n]){var g=p.events[n].length;if(a==="all"){for(c=0;c<g;c++)f(t,n,p.events[n][c],Boolean(l));return}for(c=0;c<g;c++)if(p.events[n][c]===a){t[r](i+n,m,l||!1),p.events[n].splice(c,1),e&&d&&(d.useCount[v]--,d.useCount[v]===0&&(d.supplied.splice(v,1),d.wrapped.splice(v,1),d.useCount.splice(v,1)));break}p.events[n]&&p.events[n].length===0&&(p.events[n]=null,p.typeCount--)}p.typeCount||(o.splice(h,1),s.splice(h,1),u.splice(h,1))}function l(){this.returnValue=!1}function c(){this.cancelBubble=!0}function h(){this.cancelBubble=!0,this.immediatePropagationStopped=!0}var e="attachEvent"in t&&!("addEventListener"in t),n=e?"attachEvent":"addEventListener",r=e?"detachEvent":"removeEventListener",i=e?"on":"",s=[],o=[],u=[];return{add:a,remove:f,useAttachEvent:e,_elements:s,_targets:o,_attachedListeners:u}}(),K={webkit:/(Movement[XY]|Radius[XY]|RotationAngle|Force)$/};Mt.prototype={getPageXY:function(e,t){return nt(e,t,this)},getClientXY:function(e,t){return rt(e,t,this)},setEventXY:function(e,t){return Y(e,t,this)},pointerOver:function(e,t,n){function a(e,t){e&&St(e,n)&&!xt(e,n,n)&&Tt(e,n,n)&&en(n,t)&&(r.push(e),i.push(n))}if(this.prepared.name||!this.mouse)return;var r=[],i=[],s=this.element;this.addPointer(e),this.target&&(xt(this.target,this.element,n)||!Tt(this.target,this.element,n))&&(this.target=null,this.element=null,this.matches=[],this.matchElements=[]);var o=p.get(n),u=o&&!xt(o,n,n)&&Tt(o,n,n)&&It(o.getAction(e,t,this,n),o);u&&!At(o,n,u)&&(u=null),u?(this.target=o,this.element=n,this.matches=[],this.matchElements=[]):(p.forEachSelector(a),this.validateSelector(e,t,r,i)?(this.matches=r,this.matchElements=i,this.pointerHover(e,t,this.matches,this.matchElements),B.add(n,w?f.move:"mousemove",qt.pointerHover)):this.target&&(bt(s,n)?(this.pointerHover(e,t,this.matches,this.matchElements),B.add(this.element,w?f.move:"mousemove",qt.pointerHover)):(this.target=null,this.element=null,this.matches=[],this.matchElements=[])))},pointerHover:function(e,t,n,r,i,s){var o=this.target;if(!this.prepared.name&&this.mouse){var u;this.setEventXY(this.curCoords,[e]),i?u=this.validateSelector(e,t,i,s):o&&(u=It(o.getAction(this.pointers[0],t,this,this.element),this.target)),o&&o.options.styleCursor&&(u?o._doc.documentElement.style.cursor=Bt(u):o._doc.documentElement.style.cursor="")}else this.prepared.name&&this.checkAndPreventDefault(t,o,this.element)},pointerOut:function(e,t,n){if(this.prepared.name)return;p.get(n)||B.remove(n,w?f.move:"mousemove",qt.pointerHover),this.target&&this.target.options.styleCursor&&!this.interacting()&&(this.target._doc.documentElement.style.cursor="")},selectorDown:function(e,t,n,r){function f(e,t,r){var s=D?r.querySelectorAll(t):undefined;St(e,o)&&!xt(e,o,n)&&Tt(e,o,n)&&en(o,t,s)&&(i.matches.push(e),i.matchElements.push(o))}var i=this,s=B.useAttachEvent?J({},t):t,o=n,u=this.addPointer(e),a;this.holdTimers[u]=setTimeout(function(){i.pointerHold(B.useAttachEvent?s:e,s,n,r)},g._holdDuration),this.pointerIsDown=!0;if(this.inertiaStatus.active&&this.target.selector)while(F(o)){if(o===this.element&&It(this.target.getAction(e,t,this,this.element),this.target).name===this.prepared.name){H(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.collectEventTargets(e,t,n,"down");return}o=Et(o)}if(this.interacting()){this.collectEventTargets(e,t,n,"down");return}this.setEventXY(this.curCoords,[e]),this.downEvent=t;while(F(o)&&!a)this.matches=[],this.matchElements=[],p.forEachSelector(f),a=this.validateSelector(e,t,this.matches,this.matchElements),o=Et(o);if(a)return this.prepared.name=a.name,this.prepared.axis=a.axis,this.prepared.edges=a.edges,this.collectEventTargets(e,t,n,"down"),this.pointerDown(e,t,n,r,a);this.downTimes[u]=(new Date).getTime(),this.downTargets[u]=n,Q(this.downPointer,e),G(this.prevCoords,this.curCoords),this.pointerWasMoved=!1,this.collectEventTargets(e,t,n,"down")},pointerDown:function(e,t,n,r,i){if(!i&&!this.inertiaStatus.active&&this.pointerWasMoved&&this.prepared.name){this.checkAndPreventDefault(t,this.target,this.element);return}this.pointerIsDown=!0,this.downEvent=t;var s=this.addPointer(e),o;if(this.pointerIds.length>1&&this.target._element===this.element){var u=It(i||this.target.getAction(e,t,this,this.element),this.target);At(this.target,this.element,u)&&(o=u),this.prepared.name=null}else if(!this.prepared.name){var a=p.get(r);a&&!xt(a,r,n)&&Tt(a,r,n)&&(o=It(i||a.getAction(e,t,this,r),a,n))&&At(a,r,o)&&(this.target=a,this.element=r)}var f=this.target,l=f&&f.options;if(f&&(i||!this.prepared.name)){o=o||It(i||f.getAction(e,t,this,r),f,this.element),this.setEventXY(this.startCoords,this.pointers);if(!o)return;l.styleCursor&&(f._doc.documentElement.style.cursor=Bt(o)),this.resizeAxes=o.name==="resize"?o.axis:null,o==="gesture"&&this.pointerIds.length<2&&(o=null),this.prepared.name=o.name,this.prepared.axis=o.axis,this.prepared.edges=o.edges,this.snapStatus.snappedX=this.snapStatus.snappedY=this.restrictStatus.restrictedX=this.restrictStatus.restrictedY=NaN,this.downTimes[s]=(new Date).getTime(),this.downTargets[s]=n,Q(this.downPointer,e),G(this.prevCoords,this.startCoords),this.pointerWasMoved=!1,this.checkAndPreventDefault(t,f,this.element)}else this.inertiaStatus.active&&r===this.element&&It(f.getAction(e,t,this,this.element),f).name===this.prepared.name&&(H(this.inertiaStatus.i),this.inertiaStatus.active=!1,this.checkAndPreventDefault(t,f,this.element))},setModifications:function(e,t){var n=this.target,r=!0,i=Ct(n,this.prepared.name)&&(!n.options[this.prepared.name].snap.endOnly||t),s=kt(n,this.prepared.name)&&(!n.options[this.prepared.name].restrict.endOnly||t);return i?this.setSnapping(e):this.snapStatus.locked=!1,s?this.setRestriction(e):this.restrictStatus.restricted=!1,i&&this.snapStatus.locked&&!this.snapStatus.changed?r=s&&this.restrictStatus.restricted&&this.restrictStatus.changed:s&&this.restrictStatus.restricted&&!this.restrictStatus.changed&&(r=!1),r},setStartOffsets:function(e,t,n){var r=t.getRect(n),i=vt(t,n),s=t.options[this.prepared.name].snap,o=t.options[this.prepared.name].restrict,u,a;r?(this.startOffset.left=this.startCoords.page.x-r.left,this.startOffset.top=this.startCoords.page.y-r.top,this.startOffset.right=r.right-this.startCoords.page.x,this.startOffset.bottom=r.bottom-this.startCoords.page.y,"width"in r?u=r.width:u=r.right-r.left,"height"in r?a=r.height:a=r.bottom-r.top):this.startOffset.left=this.startOffset.top=this.startOffset.right=this.startOffset.bottom=0,this.snapOffsets.splice(0);var f=s&&s.offset==="startCoords"?{x:this.startCoords.page.x-i.x,y:this.startCoords.page.y-i.y}:s&&s.offset||{x:0,y:0};if(r&&s&&s.relativePoints&&s.relativePoints.length)for(var l=0;l<s.relativePoints.length;l++)this.snapOffsets.push({x:this.startOffset.left-u*s.relativePoints[l].x+f.x,y:this.startOffset.top-a*s.relativePoints[l].y+f.y});else this.snapOffsets.push(f);r&&o.elementRect?(this.restrictOffset.left=this.startOffset.left-u*o.elementRect.left,this.restrictOffset.top=this.startOffset.top-a*o.elementRect.top,this.restrictOffset.right=this.startOffset.right-u*(1-o.elementRect.right),this.restrictOffset.bottom=this.startOffset.bottom-a*(1-o.elementRect.bottom)):this.restrictOffset.left=this.restrictOffset.top=this.restrictOffset.right=this.restrictOffset.bottom=0},start:function(e,t,n){if(this.interacting()||!this.pointerIsDown||this.pointerIds.length<(e.name==="gesture"?2:1))return;Yt(d,this)===-1&&d.push(this),this.prepared.name||this.setEventXY(this.startCoords,this.pointers),this.prepared.name=e.name,this.prepared.axis=e.axis,this.prepared.edges=e.edges,this.target=t,this.element=n,this.setStartOffsets(e.name,t,n),this.setModifications(this.startCoords.page),this.prevEvent=this[this.prepared.name+"Start"](this.downEvent)},pointerMove:function(e,t,n,r,i){if(this.inertiaStatus.active){var s=this.inertiaStatus.upCoords.page,o=this.inertiaStatus.upCoords.client,u={pageX:s.x+this.inertiaStatus.sx,pageY:s.y+this.inertiaStatus.sy,clientX:o.x+this.inertiaStatus.sx,clientY:o.y+this.inertiaStatus.sy};this.setEventXY(this.curCoords,[u])}else this.recordPointer(e),this.setEventXY(this.curCoords,this.pointers);var a=this.curCoords.page.x===this.prevCoords.page.x&&this.curCoords.page.y===this.prevCoords.page.y&&this.curCoords.client.x===this.prevCoords.client.x&&this.curCoords.client.y===this.prevCoords.client.y,f,c,h=this.mouse?0:Yt(this.pointerIds,st(e));this.pointerIsDown&&!this.pointerWasMoved&&(f=this.curCoords.client.x-this.startCoords.client.x,c=this.curCoords.client.y-this.startCoords.client.y,this.pointerWasMoved=l(f,c)>S),!a&&(!this.pointerIsDown||this.pointerWasMoved)&&(this.pointerIsDown&&clearTimeout(this.holdTimers[h]),this.collectEventTargets(e,t,n,"move"));if(!this.pointerIsDown)return;if(a&&this.pointerWasMoved&&!i){this.checkAndPreventDefault(t,this.target,this.element);return}Z(this.pointerDelta,this.prevCoords,this.curCoords);if(!this.prepared.name)return;if(this.pointerWasMoved&&(!this.inertiaStatus.active||e instanceof Pt&&/inertiastart/.test(e.type))){if(!this.interacting()){Z(this.pointerDelta,this.prevCoords,this.curCoords);if(this.prepared.name==="drag"){var d=Math.abs(f),v=Math.abs(c),m=this.target.options.drag.axis,g=d>v?"x":d<v?"y":"xy";if(g!=="xy"&&m!=="xy"&&m!==g){this.prepared.name=null;var y=n;while(F(y)){var b=p.get(y);if(b&&b!==this.target&&!b.options.drag.manualStart&&b.getAction(this.downPointer,this.downEvent,this,y).name==="drag"&&Nt(g,b)){this.prepared.name="drag",this.target=b,this.element=y;break}y=Et(y)}if(!this.prepared.name){var w=this,E=function(e,t,r){var i=D?r.querySelectorAll(t):undefined;if(e===w.target)return;if(St(e,n)&&!e.options.drag.manualStart&&!xt(e,y,n)&&Tt(e,y,n)&&en(y,t,i)&&e.getAction(w.downPointer,w.downEvent,w,y).name==="drag"&&Nt(g,e)&&At(e,y,"drag"))return e};y=n;while(F(y)){var x=p.forEachSelector(E);if(x){this.prepared.name="drag",this.target=x,this.element=y;break}y=Et(y)}}}}}var T=!!this.prepared.name&&!this.interacting();if(T&&(this.target.options[this.prepared.name].manualStart||!At(this.target,this.element,this.prepared))){this.stop(t);return}if(this.prepared.name&&this.target){T&&this.start(this.prepared,this.target,this.element);var N=this.setModifications(this.curCoords.page,i);if(N||T)this.prevEvent=this[this.prepared.name+"Move"](t);this.checkAndPreventDefault(t,this.target,this.element)}}G(this.prevCoords,this.curCoords),(this.dragging||this.resizing)&&this.autoScrollMove(e)},dragStart:function(e){var t=new Pt(this,e,"drag","start",this.element);this.dragging=!0,this.target.fire(t),this.activeDrops.dropzones=[],this.activeDrops.elements=[],this.activeDrops.rects=[],this.dynamicDrop||this.setActiveDrops(this.element);var n=this.getDropEvents(e,t);return n.activate&&this.fireActiveDrops(n.activate),t},dragMove:function(e){var t=this.target,n=new Pt(this,e,"drag","move",this.element),r=this.element,i=this.getDrop(n,e,r);this.dropTarget=i.dropzone,this.dropElement=i.element;var s=this.getDropEvents(e,n);return t.fire(n),s.leave&&this.prevDropTarget.fire(s.leave),s.enter&&this.dropTarget.fire(s.enter),s.move&&this.dropTarget.fire(s.move),this.prevDropTarget=this.dropTarget,this.prevDropElement=this.dropElement,n},resizeStart:function(e){var t=new Pt(this,e,"resize","start",this.element);if(this.prepared.edges){var n=this.target.getRect(this.element);if(this.target.options.resize.square||this.target.options.resize.preserveAspectRatio){var r=J({},this.prepared.edges);r.top=r.top||r.left&&!r.bottom,r.left=r.left||r.top&&!r.right,r.bottom=r.bottom||r.right&&!r.top,r.right=r.right||r.bottom&&!r.left,this.prepared._linkedEdges=r}else this.prepared._linkedEdges=null;this.target.options.resize.preserveAspectRatio&&(this.resizeStartAspectRatio=n.width/n.height),this.resizeRects={start:n,current:J({},n),restricted:J({},n),previous:J({},n),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},t.rect=this.resizeRects.restricted,t.deltaRect=this.resizeRects.delta}return this.target.fire(t),this.resizing=!0,t},resizeMove:function(e){var t=new Pt(this,e,"resize","move",this.element),n=this.prepared.edges,r=this.target.options.resize.invert,i=r==="reposition"||r==="negate";if(n){var s=t.dx,o=t.dy,u=this.resizeRects.start,a=this.resizeRects.current,f=this.resizeRects.restricted,l=this.resizeRects.delta,c=J(this.resizeRects.previous,f),h=n;if(this.target.options.resize.preserveAspectRatio){var p=this.resizeStartAspectRatio;n=this.prepared._linkedEdges;if(h.left&&h.bottom||h.right&&h.top)o=-s/p;else if(h.left||h.right)o=s/p;else if(h.top||h.bottom)s=o*p}else if(this.target.options.resize.square){n=this.prepared._linkedEdges;if(h.left&&h.bottom||h.right&&h.top)o=-s;else if(h.left||h.right)o=s;else if(h.top||h.bottom)s=o}n.top&&(a.top+=o),n.bottom&&(a.bottom+=o),n.left&&(a.left+=s),n.right&&(a.right+=s);if(i){J(f,a);if(r==="reposition"){var d;f.top>f.bottom&&(d=f.top,f.top=f.bottom,f.bottom=d),f.left>f.right&&(d=f.left,f.left=f.right,f.right=d)}}else f.top=Math.min(a.top,u.bottom),f.bottom=Math.max(a.bottom,u.top),f.left=Math.min(a.left,u.right),f.right=Math.max(a.right,u.left);f.width=f.right-f.left,f.height=f.bottom-f.top;for(var v in f)l[v]=f[v]-c[v];t.edges=this.prepared.edges,t.rect=f,t.deltaRect=l}return this.target.fire(t),t},gestureStart:function(e){var t=new Pt(this,e,"gesture","start",this.element);return t.ds=0,this.gesture.startDistance=this.gesture.prevDistance=t.distance,this.gesture.startAngle=this.gesture.prevAngle=t.angle,this.gesture.scale=1,this.gesturing=!0,this.target.fire(t),t},gestureMove:function(e){if(!this.pointerIds.length)return this.prevEvent;var t;return t=new Pt(this,e,"gesture","move",this.element),t.ds=t.scale-this.gesture.scale,this.target.fire(t),this.gesture.prevAngle=t.angle,this.gesture.prevDistance=t.distance,t.scale!==Infinity&&t.scale!==null&&t.scale!==undefined&&!isNaN(t.scale)&&(this.gesture.scale=t.scale),t},pointerHold:function(e,t,n){this.collectEventTargets(e,t,n,"hold")},pointerUp:function(e,t,n,r){var i=this.mouse?0:Yt(this.pointerIds,st(e));clearTimeout(this.holdTimers[i]),this.collectEventTargets(e,t,n,"up"),this.collectEventTargets(e,t,n,"tap"),this.pointerEnd(e,t,n,r),this.removePointer(e)},pointerCancel:function(e,t,n,r){var i=this.mouse?0:Yt(this.pointerIds,st(e));clearTimeout(this.holdTimers[i]),this.collectEventTargets(e,t,n,"cancel"),this.pointerEnd(e,t,n,r),this.removePointer(e)},ie8Dblclick:function(e,t,n){this.prevTap&&t.clientX===this.prevTap.clientX&&t.clientY===this.prevTap.clientY&&n===this.prevTap.target&&(this.downTargets[0]=n,this.downTimes[0]=(new Date).getTime(),this.collectEventTargets(e,t,n,"tap"))},pointerEnd:function(e,t,n,r){var i,s=this.target,o=s&&s.options,u=o&&this.prepared.name&&o[this.prepared.name].inertia,a=this.inertiaStatus;if(this.interacting()){if(a.active&&!a.ending)return;var f,l=(new Date).getTime(),c=!1,h=!1,p=!1,d=Ct(s,this.prepared.name)&&o[this.prepared.name].snap.endOnly,v=kt(s,this.prepared.name)&&o[this.prepared.name].restrict.endOnly,m=0,g=0,y;this.dragging?o.drag.axis==="x"?f=Math.abs(this.pointerDelta.client.vx):o.drag.axis==="y"?f=Math.abs(this.pointerDelta.client.vy):f=this.pointerDelta.client.speed:f=this.pointerDelta.client.speed,c=u&&u.enabled&&this.prepared.name!=="gesture"&&t!==a.startEvent,h=c&&l-this.curCoords.timeStamp<50&&f>u.minSpeed&&f>u.endSpeed;if(c&&!h&&(d||v)){var b={};b.snap=b.restrict=b,d&&(this.setSnapping(this.curCoords.page,b),b.locked&&(m+=b.dx,g+=b.dy)),v&&(this.setRestriction(this.curCoords.page,b),b.restricted&&(m+=b.dx,g+=b.dy));if(m||g)p=!0}if(h||p){G(a.upCoords,this.curCoords),this.pointers[0]=a.startEvent=y=new Pt(this,t,this.prepared.name,"inertiastart",this.element),a.t0=l,s.fire(a.startEvent);if(h){a.vx0=this.pointerDelta.client.vx,a.vy0=this.pointerDelta.client.vy,a.v0=f,this.calcInertia(a);var w=J({},this.curCoords.page),E=vt(s,this.element),S;w.x=w.x+a.xe-E.x,w.y=w.y+a.ye-E.y,S={useStatusXY:!0,x:w.x,y:w.y,dx:0,dy:0,snap:null},S.snap=S,m=g=0;if(d){var x=this.setSnapping(this.curCoords.page,S);x.locked&&(m+=x.dx,g+=x.dy)}if(v){var T=this.setRestriction(this.curCoords.page,S);T.restricted&&(m+=T.dx,g+=T.dy)}a.modifiedXe+=m,a.modifiedYe+=g,a.i=P(this.boundInertiaFrame)}else a.smoothEnd=!0,a.xe=m,a.ye=g,a.sx=a.sy=0,a.i=P(this.boundSmoothEndFrame);a.active=!0;return}(d||v)&&this.pointerMove(e,t,n,r,!0)}if(this.dragging){i=new Pt(this,t,"drag","end",this.element);var N=this.element,C=this.getDrop(i,t,N);this.dropTarget=C.dropzone,this.dropElement=C.element;var k=this.getDropEvents(t,i);k.leave&&this.prevDropTarget.fire(k.leave),k.enter&&this.dropTarget.fire(k.enter),k.drop&&this.dropTarget.fire(k.drop),k.deactivate&&this.fireActiveDrops(k.deactivate),s.fire(i)}else this.resizing?(i=new Pt(this,t,"resize","end",this.element),s.fire(i)):this.gesturing&&(i=new Pt(this,t,"gesture","end",this.element),s.fire(i));this.stop(t)},collectDrops:function(e){var t=[],n=[],r;e=e||this.element;for(r=0;r<p.length;r++){if(!p[r].options.drop.enabled)continue;var i=p[r],s=i.options.drop.accept;if(F(s)&&s!==e||V(s)&&!en(e,s))continue;var o=i.selector?i._context.querySelectorAll(i.selector):[i._element];for(var u=0,a=o.length;u<a;u++){var f=o[u];if(f===e)continue;t.push(i),n.push(f)}}return{dropzones:t,elements:n}},fireActiveDrops:function(e){var t,n,r,i;for(t=0;t<this.activeDrops.dropzones.length;t++)n=this.activeDrops.dropzones[t],r=this.activeDrops.elements[t],r!==i&&(e.target=r,n.fire(e)),i=r},setActiveDrops:function(e){var t=this.collectDrops(e,!0);this.activeDrops.dropzones=t.dropzones,this.activeDrops.elements=t.elements,this.activeDrops.rects=[];for(var n=0;n<this.activeDrops.dropzones.length;n++)this.activeDrops.rects[n]=this.activeDrops.dropzones[n].getRect(this.activeDrops.elements[n])},getDrop:function(e,t,n){var r=[];v&&this.setActiveDrops(n);for(var i=0;i<this.activeDrops.dropzones.length;i++){var s=this.activeDrops.dropzones[i],o=this.activeDrops.elements[i],u=this.activeDrops.rects[i];r.push(s.dropCheck(e,t,this.target,n,o,u)?o:null)}var a=Ot(r),f=this.activeDrops.dropzones[a]||null,l=this.activeDrops.elements[a]||null;return{dropzone:f,element:l}},getDropEvents:function(e,t){var n={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return this.dropElement!==this.prevDropElement&&(this.prevDropTarget&&(n.leave={target:this.prevDropElement,dropzone:this.prevDropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragleave"},t.dragLeave=this.prevDropElement,t.prevDropzone=this.prevDropTarget),this.dropTarget&&(n.enter={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dragenter"},t.dragEnter=this.dropElement,t.dropzone=this.dropTarget)),t.type==="dragend"&&this.dropTarget&&(n.drop={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"drop"},t.dropzone=this.dropTarget),t.type==="dragstart"&&(n.activate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropactivate"}),t.type==="dragend"&&(n.deactivate={target:null,dropzone:null,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,timeStamp:t.timeStamp,type:"dropdeactivate"}),t.type==="dragmove"&&this.dropTarget&&(n.move={target:this.dropElement,dropzone:this.dropTarget,relatedTarget:t.target,draggable:t.interactable,dragEvent:t,interaction:this,dragmove:t,timeStamp:t.timeStamp,type:"dropmove"},t.dropzone=this.dropTarget),n},currentAction:function(){return this.dragging&&"drag"||this.resizing&&"resize"||this.gesturing&&"gesture"||null},interacting:function(){return this.dragging||this.resizing||this.gesturing},clearTargets:function(){this.target=this.element=null,this.dropTarget=this.dropElement=this.prevDropTarget=this.prevDropElement=null},stop:function(e){if(this.interacting()){y.stop(),this.matches=[],this.matchElements=[];var t=this.target;t.options.styleCursor&&(t._doc.documentElement.style.cursor=""),e&&z(e.preventDefault)&&this.checkAndPreventDefault(e,t,this.element),this.dragging&&(this.activeDrops.dropzones=this.activeDrops.elements=this.activeDrops.rects=null)}this.clearTargets(),this.pointerIsDown=this.snapStatus.locked=this.dragging=this.resizing=this.gesturing=!1,this.prepared.name=this.prevEvent=null,this.inertiaStatus.resumeDx=this.inertiaStatus.resumeDy=0;for(var n=0;n<this.pointers.length;n++)Yt(this.pointerIds,st(this.pointers[n]))===-1&&this.pointers.splice(n,1)},inertiaFrame:function(){var e=this.inertiaStatus,t=this.target.options[this.prepared.name].inertia,n=t.resistance,r=(new Date).getTime()/1e3-e.t0;if(r<e.te){var i=1-(Math.exp(-n*r)-e.lambda_v0)/e.one_ve_v0;if(e.modifiedXe===e.xe&&e.modifiedYe===e.ye)e.sx=e.xe*i,e.sy=e.ye*i;else{var s=gt(0,0,e.xe,e.ye,e.modifiedXe,e.modifiedYe,i);e.sx=s.x,e.sy=s.y}this.pointerMove(e.startEvent,e.startEvent),e.i=P(this.boundInertiaFrame)}else e.ending=!0,e.sx=e.modifiedXe,e.sy=e.modifiedYe,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.active=e.ending=!1},smoothEndFrame:function(){var e=this.inertiaStatus,t=(new Date).getTime()-e.t0,n=this.target.options[this.prepared.name].inertia.smoothEndDuration;t<n?(e.sx=yt(t,0,e.xe,n),e.sy=yt(t,0,e.ye,n),this.pointerMove(e.startEvent,e.startEvent),e.i=P(this.boundSmoothEndFrame)):(e.ending=!0,e.sx=e.xe,e.sy=e.ye,this.pointerMove(e.startEvent,e.startEvent),this.pointerEnd(e.startEvent,e.startEvent),e.smoothEnd=e.active=e.ending=!1)},addPointer:function(e){var t=st(e),n=this.mouse?0:Yt(this.pointerIds,t);return n===-1&&(n=this.pointerIds.length),this.pointerIds[n]=t,this.pointers[n]=e,n},removePointer:function(e){var t=st(e),n=this.mouse?0:Yt(this.pointerIds,t);if(n===-1)return;this.pointers.splice(n,1),this.pointerIds.splice(n,1),this.downTargets.splice(n,1),this.downTimes.splice(n,1),this.holdTimers.splice(n,1)},recordPointer:function(e){var t=this.mouse?0:Yt(this.pointerIds,st(e));if(t===-1)return;this.pointers[t]=e},collectEventTargets:function(e,t,n,r){function a(e,t,i){var a=D?i.querySelectorAll(t):undefined;e._iEvents[r]&&F(u)&&St(e,u)&&!xt(e,u,n)&&Tt(e,u,n)&&en(u,t,a)&&(s.push(e),o.push(u))}var i=this.mouse?0:Yt(this.pointerIds,st(e));if(r==="tap"&&(this.pointerWasMoved||!this.downTargets[i]||this.downTargets[i]!==n))return;var s=[],o=[],u=n;while(u)$t.isSet(u)&&$t(u)._iEvents[r]&&(s.push($t(u)),o.push(u)),p.forEachSelector(a),u=Et(u);(s.length||r==="tap")&&this.firePointers(e,t,n,s,o,r)},firePointers:function(e,t,n,r,i,s){var o=this.mouse?0:Yt(this.pointerIds,st(e)),u={},a,f,l;s==="doubletap"?u=e:(Q(u,t),t!==e&&Q(u,e),u.preventDefault=Ht,u.stopPropagation=Pt.prototype.stopPropagation,u.stopImmediatePropagation=Pt.prototype.stopImmediatePropagation,u.interaction=this,u.timeStamp=(new Date).getTime(),u.originalEvent=t,u.originalPointer=e,u.type=s,u.pointerId=st(e),u.pointerType=this.mouse?"mouse":w?V(e.pointerType)?e.pointerType:[,,"touch","pen","mouse"][e.pointerType]:"touch"),s==="tap"&&(u.dt=u.timeStamp-this.downTimes[o],f=u.timeStamp-this.tapTime,l=!!(this.prevTap&&this.prevTap.type!=="doubletap"&&this.prevTap.target===u.target&&f<500),u.double=l,this.tapTime=u.timeStamp);for(a=0;a<r.length;a++){u.currentTarget=i[a],u.interactable=r[a],r[a].fire(u);if(u.immediatePropagationStopped||u.propagationStopped&&i[a+1]!==u.currentTarget)break}if(l){var c={};J(c,u),c.dt=f,c.type="doubletap",this.collectEventTargets(c,t,n,"doubletap"),this.prevTap=c}else s==="tap"&&(this.prevTap=u)},validateSelector:function(e,t,n,r){for(var i=0,s=n.length;i<s;i++){var o=n[i],u=r[i],a=It(o.getAction(e,t,this,u),o);if(a&&At(o,u,a))return this.target=o,this.element=u,a}},setSnapping:function(e,t){var n=this.target.options[this.prepared.name].snap,r=[],i,s,o;t=t||this.snapStatus;if(t.useStatusXY)s={x:t.x,y:t.y};else{var u=vt(this.target,this.element);s=J({},e),s.x-=u.x,s.y-=u.y}t.realX=s.x,t.realY=s.y,s.x=s.x-this.inertiaStatus.resumeDx,s.y=s.y-this.inertiaStatus.resumeDy;var a=n.targets?n.targets.length:0;for(var f=0;f<this.snapOffsets.length;f++){var c={x:s.x-this.snapOffsets[f].x,y:s.y-this.snapOffsets[f].y};for(o=0;o<a;o++){z(n.targets[o])?i=n.targets[o](c.x,c.y,this):i=n.targets[o];if(!i)continue;r.push({x:W(i.x)?i.x+this.snapOffsets[f].x:c.x,y:W(i.y)?i.y+this.snapOffsets[f].y:c.y,range:W(i.range)?i.range:n.range})}}var h={target:null,inRange:!1,distance:0,range:0,dx:0,dy:0};for(o=0,a=r.length;o<a;o++){i=r[o];var p=i.range,d=i.x-s.x,v=i.y-s.y,m=l(d,v),g=m<=p;p===Infinity&&h.inRange&&h.range!==Infinity&&(g=!1);if(!h.target||(g?h.inRange&&p!==Infinity?m/p<h.distance/h.range:p===Infinity&&h.range!==Infinity||m<h.distance:!h.inRange&&m<h.distance))p===Infinity&&(g=!0),h.target=i,h.distance=m,h.range=p,h.inRange=g,h.dx=d,h.dy=v,t.range=p}var y;return h.target?(y=t.snappedX!==h.target.x||t.snappedY!==h.target.y,t.snappedX=h.target.x,t.snappedY=h.target.y):(y=!0,t.snappedX=NaN,t.snappedY=NaN),t.dx=h.dx,t.dy=h.dy,t.changed=y||h.inRange&&!t.locked,t.locked=h.inRange,t},setRestriction:function(e,t){var n=this.target,r=n&&n.options[this.prepared.name].restrict,i=r&&r.restriction,s;if(!i)return t;t=t||this.restrictStatus,s=t.useStatusXY?s={x:t.x,y:t.y}:s=J({},e),t.snap&&t.snap.locked&&(s.x+=t.snap.dx||0,s.y+=t.snap.dy||0),s.x-=this.inertiaStatus.resumeDx,s.y-=this.inertiaStatus.resumeDy,t.dx=0,t.dy=0,t.restricted=!1;var o,u,a;if(V(i)){i==="parent"?i=Et(this.element):i==="self"?i=n.getRect(this.element):i=wt(this.element,i);if(!i)return t}return z(i)&&(i=i(s.x,s.y,this.element)),F(i)&&(i=ft(i)),o=i,i?"x"in i&&"y"in i?(u=Math.max(Math.min(o.x+o.width-this.restrictOffset.right,s.x),o.x+this.restrictOffset.left),a=Math.max(Math.min(o.y+o.height-this.restrictOffset.bottom,s.y),o.y+this.restrictOffset.top)):(u=Math.max(Math.min(o.right-this.restrictOffset.right,s.x),o.left+this.restrictOffset.left),a=Math.max(Math.min(o.bottom-this.restrictOffset.bottom,s.y),o.top+this.restrictOffset.top)):(u=s.x,a=s.y),t.dx=u-s.x,t.dy=a-s.y,t.changed=t.restrictedX!==u||t.restrictedY!==a,t.restricted=!!t.dx||!!t.dy,t.restrictedX=u,t.restrictedY=a,t},checkAndPreventDefault:function(e,t,n){if(!(t=t||this.target))return;var r=t.options,i=r.preventDefault;if(i==="auto"&&n&&!/^(input|select|textarea)$/i.test(e.target.nodeName)){if(/down|start/i.test(e.type)&&this.prepared.name==="drag"&&r.drag.axis!=="xy")return;if(r[this.prepared.name]&&r[this.prepared.name].manualStart&&!this.interacting())return;e.preventDefault();return}if(i==="always"){e.preventDefault();return}},calcInertia:function(e){var t=this.target.options[this.prepared.name].inertia,n=t.resistance,r=-Math.log(t.endSpeed/e.v0)/n;e.x0=this.prevEvent.pageX,e.y0=this.prevEvent.pageY,e.t0=e.startEvent.timeStamp/1e3,e.sx=e.sy=0,e.modifiedXe=e.xe=(e.vx0-r)/n,e.modifiedYe=e.ye=(e.vy0-r)/n,e.te=r,e.lambda_v0=n/e.v0,e.one_ve_v0=1-t.endSpeed/e.v0},autoScrollMove:function(e){if(!this.interacting()||!Lt(this.target,this.prepared.name))return;if(this.inertiaStatus.active){y.x=y.y=0;return}var t,n,r,i,s=this.target.options[this.prepared.name].autoScroll,o=s.container||ut(this.element);if(I(o))i=e.clientX<y.margin,t=e.clientY<y.margin,n=e.clientX>o.innerWidth-y.margin,r=e.clientY>o.innerHeight-y.margin;else{var u=at(o);i=e.clientX<u.left+y.margin,t=e.clientY<u.top+y.margin,n=e.clientX>u.right-y.margin,r=e.clientY>u.bottom-y.margin}y.x=n?1:i?-1:0,y.y=r?1:t?-1:0,y.isScrolling||(y.margin=s.margin,y.speed=s.speed,y.start(this))},_updateEventTargets:function(e,t){this._eventTarget=e,this._curEventTarget=t}},Pt.prototype={preventDefault:j,stopImmediatePropagation:function(){this.immediatePropagationStopped=this.propagationStopped=!0},stopPropagation:function(){this.propagationStopped=!0}};var qt={},Rt=["dragStart","dragMove","resizeStart","resizeMove","gestureStart","gestureMove","pointerOver","pointerOut","pointerHover","selectorDown","pointerDown","pointerMove","pointerUp","pointerCancel","pointerEnd","addPointer","removePointer","recordPointer","autoScrollMove"];for(var Ut=0,zt=Rt.length;Ut<zt;Ut++){var Wt=Rt[Ut];qt[Wt]=Dt(Wt)}p.indexOfElement=function(t,r){r=r||n;for(var i=0;i<this.length;i++){var s=this[i];if(s.selector===t&&s._context===r||!s.selector&&s._element===t)return i}return-1},p.get=function(t,n){return this[this.indexOfElement(t,n&&n.context)]},p.forEachSelector=function(e){for(var t=0;t<this.length;t++){var n=this[t];if(!n.selector)continue;var r=e(n,n.selector,n._context,t,this);if(r!==undefined)return r}},Jt.prototype={setOnEvents:function(e,t){return e==="drop"?(z(t.ondrop)&&(this.ondrop=t.ondrop),z(t.ondropactivate)&&(this.ondropactivate=t.ondropactivate),z(t.ondropdeactivate)&&(this.ondropdeactivate=t.ondropdeactivate),z(t.ondragenter)&&(this.ondragenter=t.ondragenter),z(t.ondragleave)&&(this.ondragleave=t.ondragleave),z(t.ondropmove)&&(this.ondropmove=t.ondropmove)):(e="on"+e,z(t.onstart)&&(this[e+"start"]=t.onstart),z(t.onmove)&&(this[e+"move"]=t.onmove),z(t.onend)&&(this[e+"end"]=t.onend),z(t.oninertiastart)&&(this[e+"inertiastart"]=t.oninertiastart)),this},draggable:function(e){return U(e)?(this.options.drag.enabled=e.enabled===!1?!1:!0,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.drag.axis=e.axis:e.axis===null&&delete this.options.drag.axis,this):X(e)?(this.options.drag.enabled=e,this):this.options.drag},setPerAction:function(e,t){for(var n in t)n in g[e]&&(U(t[n])?(this.options[e][n]=J(this.options[e][n]||{},t[n]),U(g.perAction[n])&&"enabled"in g.perAction[n]&&(this.options[e][n].enabled=t[n].enabled===!1?!1:!0)):X(t[n])&&U(g.perAction[n])?this.options[e][n].enabled=t[n]:t[n]!==undefined&&(this.options[e][n]=t[n]))},dropzone:function(e){return U(e)?(this.options.drop.enabled=e.enabled===!1?!1:!0,this.setOnEvents("drop",e),/^(pointer|center)$/.test(e.overlap)?this.options.drop.overlap=e.overlap:W(e.overlap)&&(this.options.drop.overlap=Math.max(Math.min(1,e.overlap),0)),"accept"in e&&(this.options.drop.accept=e.accept),"checker"in e&&(this.options.drop.checker=e.checker),this):X(e)?(this.options.drop.enabled=e,this):this.options.drop},dropCheck:function(e,t,n,r,i,s){var o=!1;if(!(s=s||this.getRect(i)))return this.options.drop.checker?this.options.drop.checker(e,t,o,this,i,n,r):!1;var u=this.options.drop.overlap;if(u==="pointer"){var a=nt(e),f=vt(n,r),l,c;a.x+=f.x,a.y+=f.y,l=a.x>s.left&&a.x<s.right,c=a.y>s.top&&a.y<s.bottom,o=l&&c}var h=n.getRect(r);if(u==="center"){var p=h.left+h.width/2,d=h.top+h.height/2;o=p>=s.left&&p<=s.right&&d>=s.top&&d<=s.bottom}if(W(u)){var v=Math.max(0,Math.min(s.right,h.right)-Math.max(s.left,h.left))*Math.max(0,Math.min(s.bottom,h.bottom)-Math.max(s.top,h.top)),m=v/(h.width*h.height);o=m>=u}return this.options.drop.checker&&(o=this.options.drop.checker(e,t,o,this,i,n,r)),o},dropChecker:function(e){return z(e)?(this.options.drop.checker=e,this):e===null?(delete this.options.getRect,this):this.options.drop.checker},accept:function(e){return F(e)?(this.options.drop.accept=e,this):$(e)?(this.options.drop.accept=e,this):e===null?(delete this.options.drop.accept,this):this.options.drop.accept},resizable:function(e){return U(e)?(this.options.resize.enabled=e.enabled===!1?!1:!0,this.setPerAction("resize",e),this.setOnEvents("resize",e),/^x$|^y$|^xy$/.test(e.axis)?this.options.resize.axis=e.axis:e.axis===null&&(this.options.resize.axis=g.resize.axis),X(e.preserveAspectRatio)?this.options.resize.preserveAspectRatio=e.preserveAspectRatio:X(e.square)&&(this.options.resize.square=e.square),this):X(e)?(this.options.resize.enabled=e,this):this.options.resize},squareResize:function(e){return X(e)?(this.options.resize.square=e,this):e===null?(delete this.options.resize.square,this):this.options.resize.square},gesturable:function(e){return U(e)?(this.options.gesture.enabled=e.enabled===!1?!1:!0,this.setPerAction("gesture",e),this.setOnEvents("gesture",e),this):X(e)?(this.options.gesture.enabled=e,this):this.options.gesture},autoScroll:function(e){return U(e)?e=J({actions:["drag","resize"]},e):X(e)&&(e={actions:["drag","resize"],enabled:e}),this.setOptions("autoScroll",e)},snap:function(e){var t=this.setOptions("snap",e);return t===this?this:t.drag},setOptions:function(e,t){var n=t&&R(t.actions)?t.actions:["drag"],r;if(U(t)||X(t)){for(r=0;r<n.length;r++){var i=/resize/.test(n[r])?"resize":n[r];if(!U(this.options[i]))continue;var s=this.options[i][e];U(t)?(J(s,t),s.enabled=t.enabled===!1?!1:!0,e==="snap"&&(s.mode==="grid"?s.targets=[$t.createSnapGrid(J({offset:s.gridOffset||{x:0,y:0}},s.grid||{}))]:s.mode==="anchor"?s.targets=s.anchors:s.mode==="path"&&(s.targets=s.paths),"elementOrigin"in t&&(s.relativePoints=[t.elementOrigin]))):X(t)&&(s.enabled=t)}return this}var o={},u=["drag","resize","gesture"];for(r=0;r<u.length;r++)e in g[u[r]]&&(o[u[r]]=this.options[u[r]][e]);return o},inertia:function(e){var t=this.setOptions("inertia",e);return t===this?this:t.drag},getAction:function(e,t,n,r){var i=this.defaultActionChecker(e,n,r);return this.options.actionChecker?this.options.actionChecker(e,t,i,this,r,n):i},defaultActionChecker:Ft,actionChecker:function(e){return z(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker},getRect:function(t){return t=t||this._element,this.selector&&!F(t)&&(t=this._context.querySelector(this.selector)),ft(t)},rectChecker:function(e){return z(e)?(this.getRect=e,this):e===null?(delete this.options.getRect,this):this.getRect},styleCursor:function(e){return X(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor},preventDefault:function(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):X(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault},origin:function(e){return $(e)?(this.options.origin=e,this):U(e)?(this.options.origin=e,this):this.options.origin},deltaSource:function(e){return e==="page"||e==="client"?(this.options.deltaSource=e,this):this.options.deltaSource},restrict:function(e){if(!U(e))return this.setOptions("restrict",e);var t=["drag","resize","gesture"],n;for(var r=0;r<t.length;r++){var i=t[r];if(i in e){var s=J({actions:[i],restriction:e[i]},e);n=this.setOptions("restrict",s)}}return n},context:function(){return this._context},_context:n,ignoreFrom:function(e){return $(e)?(this.options.ignoreFrom=e,this):F(e)?(this.options.ignoreFrom=e,this):this.options.ignoreFrom},allowFrom:function(e){return $(e)?(this.options.allowFrom=e,this):F(e)?(this.options.allowFrom=e,this):this.options.allowFrom},element:function(){return this._element},fire:function(e){if(!e||!e.type||!Zt(L,e.type))return this;var t,n,r,i="on"+e.type,s="";if(e.type in this._iEvents){t=this._iEvents[e.type];for(n=0,r=t.length;n<r&&!e.immediatePropagationStopped;n++)s=t[n].name,t[n](e)}z(this[i])&&(s=this[i].name,this[i](e));if(e.type in A&&(t=A[e.type]))for(n=0,r=t.length;n<r&&!e.immediatePropagationStopped;n++)s=t[n].name,t[n](e);return this},on:function(e,t,n){var r;V(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/));if(R(e)){for(r=0;r<e.length;r++)this.on(e[r],t,n);return this}if(U(e)){for(var i in e)this.on(i,e[i],t);return this}e==="wheel"&&(e=k),n=n?!0:!1;if(Zt(L,e))e in this._iEvents?this._iEvents[e].push(t):this._iEvents[e]=[t];else if(this.selector){if(!m[e]){m[e]={selectors:[],contexts:[],listeners:[]};for(r=0;r<h.length;r++)B.add(h[r],e,Xt),B.add(h[r],e,Vt,!0)}var s=m[e],o;for(o=s.selectors.length-1;o>=0;o--)if(s.selectors[o]===this.selector&&s.contexts[o]===this._context)break;o===-1&&(o=s.selectors.length,s.selectors.push(this.selector),s.contexts.push(this._context),s.listeners.push([])),s.listeners[o].push([t,n])}else B.add(this._element,e,t,n);return this},off:function(e,t,n){var r;V(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/));if(R(e)){for(r=0;r<e.length;r++)this.off(e[r],t,n);return this}if(U(e)){for(var i in e)this.off(i,e[i],t);return this}var s,o=-1;n=n?!0:!1,e==="wheel"&&(e=k);if(Zt(L,e))s=this._iEvents[e],s&&(o=Yt(s,t))!==-1&&this._iEvents[e].splice(o,1);else if(this.selector){var u=m[e],a=!1;if(!u)return this;for(o=u.selectors.length-1;o>=0;o--)if(u.selectors[o]===this.selector&&u.contexts[o]===this._context){var f=u.listeners[o];for(r=f.length-1;r>=0;r--){var l=f[r][0],c=f[r][1];if(l===t&&c===n){f.splice(r,1),f.length||(u.selectors.splice(o,1),u.contexts.splice(o,1),u.listeners.splice(o,1),B.remove(this._context,e,Xt),B.remove(this._context,e,Vt,!0),u.selectors.length||(m[e]=null)),a=!0;break}}if(a)break}}else B.remove(this._element,e,t,n);return this},set:function(e){U(e)||(e={}),this.options=J({},g.base);var t,n=["drag","drop","resize","gesture"],r=["draggable","dropzone","resizable","gesturable"],i=J(J({},g.perAction),e[s]||{});for(t=0;t<n.length;t++){var s=n[t];this.options[s]=J({},g[s]),this.setPerAction(s,i),this[r[t]](e[s])}var o=["accept","actionChecker","allowFrom","deltaSource","dropChecker","ignoreFrom","origin","preventDefault","rectChecker","styleCursor"];for(t=0,zt=o.length;t<zt;t++){var u=o[t];this.options[u]=g.base[u],u in e&&this[u](e[u])}return this},unset:function(){B.remove(this._element,"all");if(!V(this.selector))B.remove(this,"all"),this.options.styleCursor&&(this._element.style.cursor="");else for(var e in m){var t=m[e];for(var n=0;n<t.selectors.length;n++){t.selectors[n]===this.selector&&t.contexts[n]===this._context&&(t.selectors.splice(n,1),t.contexts.splice(n,1),t.listeners.splice(n,1),t.selectors.length||(m[e]=null)),B.remove(this._context,e,Xt),B.remove(this._context,e,Vt,!0);break}}return this.dropzone(!1),p.splice(Yt(p,this),1),$t}},Jt.prototype.snap=Kt(Jt.prototype.snap,"Interactable#snap is deprecated. See the new documentation for snapping at http://interactjs.io/docs/snapping"),Jt.prototype.restrict=Kt(Jt.prototype.restrict,"Interactable#restrict is deprecated. See the new documentation for resticting at http://interactjs.io/docs/restriction"),Jt.prototype.inertia=Kt(Jt.prototype.inertia,"Interactable#inertia is deprecated. See the new documentation for inertia at http://interactjs.io/docs/inertia"),Jt.prototype.autoScroll=Kt(Jt.prototype.autoScroll,"Interactable#autoScroll is deprecated. See the new documentation for autoScroll at http://interactjs.io/docs/#autoscroll"),Jt.prototype.squareResize=Kt(Jt.prototype.squareResize,"Interactable#squareResize is deprecated. See http://interactjs.io/docs/#resize-square"),Jt.prototype.accept=Kt(Jt.prototype.accept,"Interactable#accept is deprecated. use Interactable#dropzone({ accept: target }) instead"),Jt.prototype.dropChecker=Kt(Jt.prototype.dropChecker,"Interactable#dropChecker is deprecated. use Interactable#dropzone({ dropChecker: checkerFunction }) instead"),Jt.prototype.context=Kt(Jt.prototype.context,"Interactable#context as a method is deprecated. It will soon be a DOM Node instead"),$t.isSet=function(e,t){return p.indexOfElement(e,t&&t.context)!==-1},$t.on=function(e,t,r){V(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/));if(R(e)){for(var i=0;i<e.length;i++)$t.on(e[i],t,r);return $t}if(U(e)){for(var s in e)$t.on(s,e[s],t);return $t}return Zt(L,e)?A[e]?A[e].push(t):A[e]=[t]:B.add(n,e,t,r),$t},$t.off=function(e,t,r){V(e)&&e.search(" ")!==-1&&(e=e.trim().split(/ +/));if(R(e)){for(var i=0;i<e.length;i++)$t.off(e[i],t,r);return $t}if(U(e)){for(var s in e)$t.off(s,e[s],t);return $t}if(!Zt(L,e))B.remove(n,e,t,r);else{var o;e in A&&(o=Yt(A[e],t))!==-1&&A[e].splice(o,1)}return $t},$t.enableDragging=Kt(function(e){return e!==null&&e!==undefined?(C.drag=e,$t):C.drag},"interact.enableDragging is deprecated and will soon be removed."),$t.enableResizing=Kt(function(e){return e!==null&&e!==undefined?(C.resize=e,$t):C.resize},"interact.enableResizing is deprecated and will soon be removed."),$t.enableGesturing=Kt(function(e){return e!==null&&e!==undefined?(C.gesture=e,$t):C.gesture},"interact.enableGesturing is deprecated and will soon be removed."),$t.eventTypes=L,$t.debug=function(){var e=d[0]||new Mt;return{interactions:d,target:e.target,dragging:e.dragging,resizing:e.resizing,gesturing:e.gesturing,prepared:e.prepared,matches:e.matches,matchElements:e.matchElements,prevCoords:e.prevCoords,startCoords:e.startCoords,pointerIds:e.pointerIds,pointers:e.pointers,addPointer:qt.addPointer,removePointer:qt.removePointer,recordPointer:qt.recordPointer,snap:e.snapStatus,restrict:e.restrictStatus,inertia:e.inertiaStatus,downTime:e.downTimes[0],downEvent:e.downEvent,downPointer:e.downPointer,prevEvent:e.prevEvent,Interactable:Jt,interactables:p,pointerIsDown:e.pointerIsDown,defaultOptions:g,defaultActionChecker:Ft,actionCursors:N,dragMove:qt.dragMove,resizeMove:qt.resizeMove,gestureMove:qt.gestureMove,pointerUp:qt.pointerUp,pointerDown:qt.pointerDown,pointerMove:qt.pointerMove,pointerHover:qt.pointerHover,eventTypes:L,events:B,globalEvents:A,delegatedEvents:m,prefixedPropREs:K}},$t.getPointerAverage=ct,$t.getTouchBBox=ht,$t.getTouchDistance=pt,$t.getTouchAngle=dt,$t.getElementRect=ft,$t.getElementClientRect=at,$t.matchesSelector=en,$t.closest=wt,$t.margin=Kt(function(e){return W(e)?(E=e,$t):E},"interact.margin is deprecated. Use interact(target).resizable({ margin: number }); instead."),$t.supportsTouch=function(){return b},$t.supportsPointerEvent=function(){return w},$t.stop=function(e){for(var t=d.length-1;t>=0;t--)d[t].stop(e);return $t},$t.dynamicDrop=function(e){return X(e)?(v=e,$t):v},$t.pointerMoveTolerance=function(e){return W(e)?(S=e,this):S},$t.maxInteractions=function(e){return W(e)?(T=e,this):T},$t.createSnapGrid=function(e){return function(t,n){var r=0,i=0;U(e.offset)&&(r=e.offset.x,i=e.offset.y);var s=Math.round((t-r)/e.x),o=Math.round((n-i)/e.y),u=s*e.x+r,a=o*e.y+i;return{x:u,y:a,range:e.range}}},Gt(n);if(!(_ in Element.prototype)||!z(Element.prototype[_]))D=function(e,t,n){n=n||e.parentNode.querySelectorAll(t);for(var r=0,i=n.length;r<i;r++)if(n[r]===e)return!0;return!1};(function(){var t=0,n=["ms","moz","webkit","o"];for(var r=0;r<n.length&&!e.requestAnimationFrame;++r)P=e[n[r]+"RequestAnimationFrame"],H=e[n[r]+"CancelAnimationFrame"]||e[n[r]+"CancelRequestAnimationFrame"];P||(P=function(e){var n=(new Date).getTime(),r=Math.max(0,16-(n-t)),i=setTimeout(function(){e(n+r)},r);return t=n+r,i}),H||(H=function(e){clearTimeout(e)})})(),typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=$t),exports.interact=$t):typeof define=="function"&&define.amd?define("interact",function(){return $t}):e.interact=$t})(typeof window=="undefined"?undefined:window);