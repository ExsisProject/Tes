nhn.husky.SE2M_AttachQuickPhoto=jindo.$Class({name:"SE2M_AttachQuickPhoto",$init:function(){},$ON_MSG_APP_READY:function(){this.oApp.exec("REGISTER_UI_EVENT",["photo_attach","click","ATTACHPHOTO_OPEN_WINDOW"])},$LOCAL_BEFORE_FIRST:function(e){if(!!this.oPopupMgr)return;this.htPopupOption={oApp:this.oApp,sName:this.name,bScroll:!1,sProperties:"",sUrl:""},this.oPopupMgr=nhn.husky.PopUpManager.getInstance(this.oApp)},$ON_ATTACHPHOTO_OPEN_WINDOW:function(e){parent.inlineImgUploadLayer(this.oApp.elPlaceHolder.id);return},makePopupURL:function(){var e="/mail/editor/se2/photo_uploader/popup/photo_uploader.jsp?locale="+tmsLocale;return e},$ON_SET_PHOTO:function(e){var t,n,r;if(!e)return;try{t="";for(var i=0;i<e.length;i++)r=e[i],r.sAlign||(r.sAlign=""),n={sName:r.sFileName||"",sOriginalImageURL:r.sFileURL,bNewLine:r.bNewLine||!1},t+=this._getPhotoTag(n);this.oApp.exec("PASTE_HTML",[t])}catch(s){return!1}},_getPhotoTag:function(e){var t='<img src="{=sOriginalImageURL}" title="{=sName}" >';return e.bNewLine&&(t+='<br style="clear:both;">'),t=jindo.$Template(t).process(e),t}});