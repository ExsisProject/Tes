(function(){define(["app","views/layouts/default","hgn!templates/layouts/popup_default","GO.util"],function(e,t,n){var r=null,i=t.prototype,s=Array.prototype.slice,o,u={tpl:{overlay:'<div id="popOverlay" class="overlay"><div class="processing">Processing...</div></div>'}};return o=t.extend({el:"#main",name:"popup_default",className:"go_skin_default",initialize:function(){var e=s.call(arguments);i.initialize.apply(this,e)},render:function(){var e=$.Deferred();return this.renderLayout(),e.resolveWith(this,[this]),this.trigger("rendered:layout",[this]),e},renderLayout:function(e){e=e||!1,this.clearContent();if(!e&&this.isMe())return;this.$el.empty().append(n()),this._initPageEvents()},getContentElement:function(){return this.$el.find("#layoutContent")},_initPageEvents:function(){e.EventEmitter.on("common","layout:setOverlay",this.setOverlay,this),e.EventEmitter.on("common","layout:clearOverlay",this.clearOverlay,this)},setOverlay:function(){this.clearOverlay(),this.$el.append(u.tpl.overlay)},clearOverlay:function(){this.$el.find("#popOverlay").fadeOut(1e3,function(){$(this).remove()})},clearContent:function(e){var t=this.getContentElement(),n=this.getPopupElement();t.empty(),n.remove()}}),new o})}).call(this);