define("views/notification/side",function(require){var e=require("underscore"),t=require("backbone"),n=require("app"),r=require("hogan"),i=require("models/site_config"),s=require("views/notification/setting_alarm"),o=require("hgn!templates/notification/side"),u=require("i18n!nls/commons"),a=require("i18n!admin/nls/admin"),f=require("i18n!nls/user"),l=require("i18n!nls/notification"),c,h,p;c=function(e){return n.config("contextRoot")+"app/noti/"+e},h={all:{app:"all",title:l["\uc804\uccb4 \uc54c\ub9bc"],url:c("all"),css:"ic_type_alarm",selected:!1},unread:{app:"unread",title:l["\uc548\uc77d\uc740 \uc54c\ub9bc"],url:c("unread"),css:"ic_type_alarm_off",selected:!1},mail:{app:"mail",title:l["\uba54\uc77c"],url:c("mail"),css:"ic_type_mail",selected:!1},calendar:{app:"calendar",title:l["\uce98\ub9b0\ub354"],url:c("calendar"),css:"ic_type_cal",selected:!1},bbs:{app:"bbs",title:l["\uac8c\uc2dc\ud310"],url:c("bbs"),css:"ic_type_bbs",selected:!1},community:{app:"community",title:l["\ucee4\ubba4\ub2c8\ud2f0"],url:c("community"),css:"ic_type_comm",selected:!1},survey:{app:"survey",title:u["\uc124\ubb38"],url:c("survey"),css:"ic_type_survey",selected:!1},report:{app:"report",title:u["\ubcf4\uace0"],url:c("report"),css:"ic_type_report",selected:!1},task:{app:"task",title:u["\uc5c5\ubb34"],url:c("task"),css:"ic_type_task",selected:!1},works:{app:"works",title:u.Works,url:c("works"),css:"ic_type_works",selected:!1},todo:{app:"todo",title:u["ToDO+"],url:c("todo"),css:"ic_type_todo",selected:!1},approval:{app:"approval",title:u["\uc804\uc790\uacb0\uc7ac"],url:c("approval"),css:"ic_type_approval",selected:!1},docs:{app:"docs",title:u["\ubb38\uc11c\uad00\ub9ac"],url:c("docs"),css:"ic_type_docs",selected:!1},asset:{app:"asset",title:u["\uc608\uc57d"],url:c("asset"),css:"ic_type_asset",selected:!1},webfolder:{app:"webfolder",title:u["\uc790\ub8cc\uc2e4"],url:c("webfolder"),css:"ic_type_file",selected:!1},ehr:{app:"ehr",title:u["\uadfc\ud0dc\uad00\ub9ac"],url:c("ehr"),css:"ic_type_ehr",selected:!1},channel:{app:"channel",title:u["\uc678\ubd80 \uc2dc\uc2a4\ud15c"],url:c("channel"),css:"ic_type2_alarm",selected:!1},manager:{app:"manager",title:a["\uc6b4\uc601\uc790"],url:c("manager"),css:"ic_type_task",selected:!1},openapi:{app:"openapi",title:"OpenAPI",url:c("openapi"),css:"ic_type_task",selected:!1}},delete h.mail,n.isAvailableApp("board")||delete h.bbs,n.isAvailableApp("community")||delete h.community,n.isAvailableApp("calendar")||delete h.calendar,n.isAvailableApp("task")||delete h.task,n.isAvailableApp("works")||delete h.works,n.isAvailableApp("todo")||delete h.todo,n.isAvailableApp("report")||delete h.report,n.isAvailableApp("survey")||delete h.survey,n.isAvailableApp("approval")||delete h.approval,n.isAvailableApp("docs")||delete h.docs,n.isAvailableApp("asset")||delete h.asset,n.isAvailableApp("webfolder")||delete h.webfolder,n.isAvailableApp("ehr")||delete h.ehr;var d=t.Model.extend({url:function(){return"/api/user/push"}}),p=t.View.extend({tagName:"nav",className:"side_menu",categoriesInfo:h,events:{"click #alarm_setting":"settingAlarm"},initialize:function(e){this.options=e||{},this._setCurrentSelectedMenu(this.options.category),console.log(this.options.category),this.siteConfigModel=i.read().toJSON(),this.appModel=new d,this.settingView=new s},render:function(){return this.$el.append(o({gnbTitle:u["\uc54c\ub9bc"],categories:e.values(this.categoriesInfo)})),this.appModel.fetch().done($.proxy(function(){var t=this.appModel.attributes.notiCategory;e.each(t,function(e,t){e==0?this.$el.find("li[data-appname='"+t+"']").hide():this.$el.find("li[data-appname='"+t+"']").show()},this),document.location.pathname=="/app/noti/setting"&&this.settingPopupMenu()},this)),this.siteConfigModel.channelService!="on"&&this.$el.find("li[data-appname='channel']").remove(),this.$el},_setCurrentSelectedMenu:function(t){e.each(this.categoriesInfo,function(e,n){e.selected=n==t})},_initPushSettingTemplate:function(){var e=[];return e.push("<span id='alarm_setting' class='btn_wrap' title='"+f["\uc54c\ub9bc\uc124\uc815"]+"'>"),e.push("		<span btn-type='boardAdmin' class='ic_side ic_side_setting'></span>"),e.push("</span>"),e.join("\n")},_cautionTemplate:function(){var e=[];return e.push("<section class='form_admin'>"),e.push("<span id='alarm_caution' class='des'>"+u["\uc54c\ub9bc \uc124\uc815 \uacbd\uace0"]+"</span>"),e.push("</section>"),e.push("<br/><br/>"),e.join("\n")},settingAlarm:function(e){this.settingPopupMenu(),e.stopPropagation()},settingPopupMenu:function(){var e=$.goPopup({header:f["\uc54c\ub9bc\uc124\uc815"],pclass:"layer_normal layer_alramSet",width:304,closeIconVisible:!1,buttons:[{btext:u["\ud655\uc778"],btype:"confirm",autoclose:!1,callback:function(){console.log("pressed Confirm"),n.router.navigate("/noti/all",{trigger:!0,replace:!0})}}]},this);e.find(".content").append(this.settingView.render(this.appModel.attributes)),e.find(".btn_layer_wrap").prepend($(this._cautionTemplate()))}});return p});