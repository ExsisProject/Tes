define("views/mobile/m_search_header",function(require){var e=require("underscore"),t=require("backbone"),n=require("app"),r=require("i18n!nls/commons"),i=require("hgn!templates/mobile/m_search_header"),s=null,o={input_placeholder:r["\uac80\uc0c9 \ud0a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694."],detail:r["\uc0c1\uc138"]},u={keyupSimpleSearchCallback:function(e){$("span.searchText").text(e)},simpleSearchWrapEl:"simpleSearchWrap",detailSearchWrapEl:"detailSearchWrap",searchResultWrapEl:"searchResultWrap",useDetailSearch:!0},a=t.View.extend({el:"#searchNav",events:{"keyup #commonSearchInput":"_keyupSimpleSearchInput","vclick #searchCloseButton":"_closeSearchLayer","vclick #deleteSearchText":"_deleteSearchText","vclick #detailSearchToggle":"_detailSearchToggle","vclick #detailSearchTitle":"_detailSearchToggle"},initialize:function(e){this.$el.off(),this.keyupSimpleSearchCallback=e.keyupSimpleSearchCallback==undefined?u.keyupSimpleSearchCallback:e.keyupSimpleSearchCallback,this.enterSimpleSearchCallback=e.enterSimpleSearchCallback||"",this.simpleSearchWrapEl=e.simpleSearchWrapEl==undefined?u.simpleSearchWrapEl:e.simpleSearchWrapEl,this.detailSearchWrapEl=e.detailSearchWrapEl==undefined?u.detailSearchWrapEl:e.detailSearchWrapEl,this.searchResultWrapEl=e.searchResultWrapEl==undefined?u.searchResultWrapEl:e.searchResultWrapEl,this.useDetailSearch=e.useDetailSearch==undefined?u.useDetailSearch:e.useDetailSearch},render:function(){return this.$el.html(i({lang:o,useDetailSearch:this.useDetailSearch})),this.simpleSearchEl=$("#"+this.simpleSearchWrapEl),this.detailSearchEl=$("#"+this.detailSearchWrapEl),this.searchResultEl=$("#"+this.searchResultWrapEl),this.simpleSearchEl.show(),this.detailSearchEl.hide(),this.searchResultEl.hide(),this.el},_keyupSimpleSearchInput:function(e){if(e.keyCode==13){if(!n.util.isValidSearchText($("#commonSearchInput").val()))return;typeof this.enterSimpleSearchCallback=="function"&&(this.enterSimpleSearchCallback(e),this._showSearchResultWrap())}else typeof this.keyupSimpleSearchCallback=="function"&&this.keyupSimpleSearchCallback($("#commonSearchInput").val())},_closeSearchLayer:function(e){return e.preventDefault(),$("#goSearch input").blur(),$("#goSearch").hide().empty(),$("body").toggleClass("scroll_fix"),!1},_deleteSearchText:function(e){return e.preventDefault(),$("#commonSearchInput").val(""),$("span.searchText").text(""),!1},_detailSearchToggle:function(e){e.preventDefault();var t=$("#detailSearchToggle");t.toggleClass("on"),t.hasClass("on")?(this.detailSearchEl.show(),this.simpleSearchEl.hide(),this.searchResultEl.hide(),$("#simpleSearchTitle").hide(),$("#detailSearchTitle").show()):(this.detailSearchEl.hide(),this.simpleSearchEl.show(),this.searchResultEl.hide(),$("#simpleSearchTitle").show(),$("#detailSearchTitle").hide())},_showSearchResultWrap:function(){this.detailSearchEl.hide(),this.simpleSearchEl.hide(),this.searchResultEl.show(),$("#commonSearchInput").blur()}});return{render:function(e){return s=new a(e),s.render()}}});