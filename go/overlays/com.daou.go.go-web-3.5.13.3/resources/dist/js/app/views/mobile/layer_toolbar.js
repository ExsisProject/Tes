(function(){define(["jquery","underscore","backbone","app","hgn!templates/mobile/layer_toolbar","GO.util"],function(e,t,n,r,i){var s=null,o=n.View.extend({el:"#headerToolbar",initialize:function(){this.unbindEvent(),this.bindEvent()},unbindEvent:function(){this.$el.off("vclick","#btnClose"),this.$el.off("vclick","a[data-role]")},bindEvent:function(){this.$el.on("vclick","#btnClose",e.proxy(this.btnClose,this)),this.$el.on("vclick","a[data-role=layerConfirm]",e.proxy(this.confirm,this)),this.$el.on("vclick","a[data-role=layerConfirmOther]",e.proxy(this.confirmOther,this))},render:function(t){return this.options=t||{},this.$sideEl=e("#side"),this.$contentEl=e(".go_content"),this.title=this.options.title,this.rightButton=this.options.rightButton,this.rightButtonOther=this.options.rightButtonOther,this.btnCloseCallback=this.options.cancelButton.callback,this.btnRightCallback=this.options.rightButton.callback,this.btnRightOtherCallback=this.rightButtonOther?this.options.rightButtonOther.callback:"",this.$el=this.$el.empty(),this.$el.append(i({title:this.title,rightButton:this.rightButton,rightButtonOther:this.rightButtonOther})),this.$sideEl.css("visibility","hidden"),this.el},btnClose:function(t){var n=e(t.currentTarget);return n.blur().trigger("focusout"),t.preventDefault(),t.stopPropagation(),typeof this.btnCloseCallback=="function"&&this.btnCloseCallback(t),!1},confirm:function(t){var n=e(t.currentTarget);return n.blur().trigger("focusout"),t.preventDefault(),t.stopPropagation(),typeof this.btnRightCallback=="function"&&this.btnRightCallback(t),!1},confirmOther:function(t){var n=e(t.currentTarget);return n.blur().trigger("focusout"),t.preventDefault(),t.stopPropagation(),typeof this.btnRightOtherCallback=="function"&&this.btnRightOtherCallback(t),!1}},{render:function(e){return s==null&&(s=new o),s.render(e)}});return o})}).call(this);