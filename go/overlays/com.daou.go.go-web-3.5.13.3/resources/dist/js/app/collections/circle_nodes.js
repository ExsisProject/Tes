define(["backbone"],function(e){var t=e.Model.extend({getMemberNames:function(){return _.map(this.members(),function(e){return e.data.attr.title})},getMembers:function(){return _.map(this.members(),function(e){return e.metadata})},members:function(){return _.filter(this.get("children"),function(e){return _.contains(["MEMBER","MASTER","MODERATOR"],e.data.attr.rel)})}}),n=e.Collection.extend({model:t,initialize:function(e){this.circle=e.circle,this.type=e.type},url:function(){return GO.contextRoot+"api/org/circle/"+this.type},getCircle:function(e){return _.find(this.models,function(t){return t.get("data").id=="org_"+e})},listParser:function(){var e=_.map(this.models,function(e){return this.isMemberType()?e.get("metadata"):e.toJSON()},this);return _.flatten(e)},isMemberType:function(){return this.type=="member"}});return n});