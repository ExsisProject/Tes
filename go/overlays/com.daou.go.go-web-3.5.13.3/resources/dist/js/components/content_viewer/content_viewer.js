(function(e,t,n,r,i){var s=t(),o=typeof define=="function"&&define.amd,u=typeof module!="undefined"&&module.exports;if(o)define(s);else if(u)module.exports=s;else{var a=null,f=e.split("."),l=this;for(var c=0,h=f.length;c<h;c++){var p=f[c];a&&c==h-1?a[p]=s:typeof l[p]=="undefined"&&(l[p]={}),a=l[p]}}})("GO.ContentViewer",function(){var e=window.$||jQuery,t=17,n=function(){function n(e){this.resizeCount=0,this.resizeFlag=!1,this.css=e.css||[],this.setContent(e.content||""),this.$el=e.$el,this.elId=this.$el.attr("id")||u(),this.viewerId=this.elId+"Viewer",this.style=e.style}function r(n){var r=this,i=!1;if(!this.resizeFlag&&this.resizeCount<20)var s=setInterval(function(){if(n&&n.contentWindow){var o=e(n.contentWindow.document).height();!i&&e(n).width()<e(n.contentWindow.document).width()&&(i=!0,o+=t),e(n).height(o)}r.resizeCount++,r.resizeCount===20&&(this.resizeFlag=!0,clearInterval(s))},500)}function i(t){this.css.length&&_.each(this.css,function(t){var n=this.$el.find("iframe").contents().find("head");n.append(e("<link/>",{rel:"stylesheet",href:GO.contextRoot+t,type:"text/css"}))},this)}function s(){return e('<iframe id="'+this.viewerId+'" src="'+GO.contextRoot+'contentViewer" frameborder="0" height="1px" width="100%" el-content-viewer></iframe>')}function o(){return this.$el.find("#"+this.viewerId)}function u(){var e=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=(e+Math.random()*16)%16|0;return e=Math.floor(e/16),(t=="x"?n:n&3|8).toString(16)});return t}return n.prototype.render=function(){var t=this,n=s.call(this);this.$el.html(n),o.call(this).load(function(n,s){i.call(t);var o=this.contentWindow,u=o.document;e(u).find("body").css({clear:"both"});var a=u.getElementById("content");a||e(u).find("body").append("<div id='content'></div>"),a.innerHTML=GO.util.convertMSWordTag(t.content);if(t.style){var f=t.style,l=u.createElement("style");l.type="text/css",l.styleSheet?l.styleSheet.cssText=f:l.appendChild(u.createTextNode(f));var c=u.head||u.getElementsByTagName("head")[0];c.appendChild(l)}var h=e(u).outerHeight(!0);e(this).height(h),t.resizeFlag=!1,t.resizeCount=0,r.call(t,this)})},n.prototype.setContent=function(e){this.content=GO.util.escapeXssFromHtml(e)},n.prototype.getContent=function(){return this.content},n.prototype.hide=function(){this.$el.hide()},n.prototype.show=function(){this.$el.show()},n}();return{init:function(e){var t=new n(e);return t.render(),t}}},jQuery,_);