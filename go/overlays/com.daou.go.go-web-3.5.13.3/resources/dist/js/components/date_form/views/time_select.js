define(function(require){var e=require("i18n!calendar/nls/calendar"),t=require("components/backdrop/backdrop"),n=['<input data-time="{{type}}" type="text" class="{{className}}">','<ul class="select_list" el-time-list style="display:none;">',"</ul>"].join(""),r=30,i=t.extend({tagName:"span",className:"wrap_select_list",initialize:function(e){this.type=e.type,this.useBackdrop=e.useBackdrop===!1?!1:!0,this.backdropToggleElSelector="ul",this.useBackdrop&&this.bindBackdrop()},render:function(){var e="txt wfix_";return this.$el.html(Hogan.compile(n).render({cid:this.cid,className:e+(this.type=="end"?"normal":"small"),type:this.type})),this.renderTimeOption(),this},renderTimeOption:function(){this.$("ul").html(this._makeTimeOption()),this.$("input").val(this.model["get"+GO.util.initCap(this.type)+"Time"]())},_makeTimeOption:function(){var t=[],n=moment().startOf("days"),i=1440/r;for(var s=0;s<i;s++){var o="";if(this.type==="end"){var u=this.model.getEndDateTime(null,n.format("HH:mm")).diff(this.model.getStartDateTime(),"minutes");this.model.getStartDate()!=this.model.getEndDate()&&(u=0);var a=Math.abs(u%r);n.add("minutes",a);if(u<0){n.add("minutes",r);continue}this.model.getStartDate()!=this.model.getEndDate()?o="":u>=0&&u<60?o="("+u+e["\ubd84"]+")":o="("+u/60+e["\uc2dc\uac04"]+")"}t.push("<li><span class='txt'>"+n.format("HH:mm")+o+"</span></li>"),n.add("minutes",r)}return t}});return i});