define("components/select/views/select_list",function(require){var e=require("components/select/views/select_option");return Backbone.View.extend({className:"box_basic_inner",template:function(){return Hogan.compile(['<div class="wrap_box_small">',"{{#useSearchForm}}",'<input el-search class="txt_mini w_max" type="text">',"{{/useSearchForm}}","</div>","{{#useScroll}}",'<div class="box_basic_scroll"></div>',"{{/useScroll}}"].join(""))},initialize:function(e){this.useSearchForm=e.useSearchForm!==!1,this.valueKey=e.valueKey,this.labelKey=e.labelKey,this.iconPathKey=e.iconPathKey,this.useScroll=e.useScroll,this.useCheckbox=e.useCheckbox!==!1,this.collection.on("sync",this._onSyncCollection,this),this.collection.on("add",this._onAddOption,this)},events:{"keyup input[el-search]":"_onKeyupSearch"},render:function(){return this.$el.html(this.template().render({useScroll:this.useScroll,useSearchForm:this.useSearchForm})),this.$list=this.useScroll?this.$(".box_basic_scroll"):this.$el,this._renderSelectList(),this},_onAddOption:function(e){var t=this._addSelectItem(e);t.$("input").trigger("change")},_addSelectItem:function(t){var n=new e({useCheckbox:this.useCheckbox,labelKey:this.labelKey,valueKey:this.valueKey,iconPathKey:this.iconPathKey,model:t});return this.$list.append(n.render().el),n},_renderSelectList:function(e){var t=e&&e.length?e:this.collection.models;this.$("div[el-option]").remove(),_.each(t,function(e){this._addSelectItem(e)},this)},_onKeyupSearch:function(e){clearTimeout(this.typingTimeout),this.typingTimeout=setTimeout($.proxy(function(){var t=$.trim(this.$("input[el-search]").val()),n=this.collection.findByKeyword(t);this._renderSelectList(n),e.keyCode==13&&n.length==1&&this._directSelect()},this),100)},_directSelect:function(){var e=this.$("input[type='checkbox']");e.trigger("click"),this.$el.trigger("directSelect",{value:this.$("[data-value]").attr("data-value")}),this.$("input[el-search]").val(""),this._renderSelectList(this.collection.models)},_onSyncCollection:function(){}})});