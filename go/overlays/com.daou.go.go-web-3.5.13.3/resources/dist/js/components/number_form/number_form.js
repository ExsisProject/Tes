define(function(require){var e=require("app"),t=[16,35,36,37,38,39,46,189,190],n=require("i18n!works/nls/works"),r={"\uc22b\uc790\ub9cc \uc785\ub825\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.":n["\uc22b\uc790\ub9cc \uc785\ub825\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."],"16\uc790\ub9ac\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.":n["16\uc790\ub9ac\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."]},i=Hogan.compile("<input class='{{inputClass}}' type='text' />"),s=Backbone.View.extend({initialize:function(e){this.options=e||{},this.inputClass=this.options.inputClass||"txt w_min",this.inputSelector=this.options.inputSelector||{id:this.cid},this.model=new Backbone.Model},events:{"keyup input":"_onKeydownInput","keyup input":"_onKeyupInput"},render:function(){return this.$el.html(i.render({inputClass:this.inputClass})),this.$("input").attr(this.inputSelector),this},getValue:function(){return this.$("input").val().split(",").join("")||0},setValue:function(t){this.$("input").val(e.util.formatNumber(t))},_onKeyupInput:function(n){if(_.contains(t,n.keyCode))return;var i=$(n.currentTarget),s=i.val();if(s.split(".")[0].split(",").join("").length>16){$.goError(r["16\uc790\ub9ac\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4."],this.$("input"),!1,!0),this.setValue(this.model.get("value"));return}/[^0-9,.-]/gi.test(s)&&$.goError(r["\uc22b\uc790\ub9cc \uc785\ub825\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4."],this.$("input"),!1,!0),s=e.util.formatNumber(s),i.val(s),this.model.set("value",s)}});return s});