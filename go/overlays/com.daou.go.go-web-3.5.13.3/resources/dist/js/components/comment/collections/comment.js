define(["backbone"],function(e){return e.Model.extend({initialize:function(){},url:function(){var e=GO.contextRoot+["api",this.get("typeUrl"),this.get("typeId"),"comment"].join("/"),t=this.isCalendar()?"":"/reply",n=this.get("commentId")&&!this.isCalendar()?"/"+this.get("commentId")+t:"",r=this.id?"/"+this.id:"";return e+n+r},createdAtStr:function(){return this.has("createAt")?GO.util.snsDate(this.get("createdAt")):""},hasAttach:function(){return this.has("attaches")&&this.get("attaches").length>0},hasEmoticon:function(){return this.has("emoticonPath")},getEmoticonPath:function(){return this.has("emoticonPath")?GO.config("emoticonBaseUrl")+this.get("emoticonPath"):""},getFiles:function(){return _.filter(this.getIconAttaches(),function(e){return!GO.util.isImage(e.extention)})},getImages:function(){return _.filter(this.getIconAttaches(),function(e){return GO.util.isImage(e.extention)})},getIconAttaches:function(){return _.each(this.get("attaches"),function(e){e.icon=GO.util.getFileIconStyle(e),e.formattedSize=GO.util.getHumanizedFileSize(e.size)})},isThread:function(){return this.id!=this.get("thread")},isCalendar:function(){return this.get("typeUrl").split("/")[0]=="calendar"}})});